import{ab as c,ac as m,iR as $t,aV as bt,aU as At,ad as W,aS as de,jI as We,aT as be,cC as Qe,J as v,e3 as k,cn as C,hY as Tt,lF as N,e as T,Z as et,_ as Ae,K as _,fk as Mt,lG as St,s as ue,iT as Ft,V as Rt,g8 as Ce,gm as tt,gu as nt,ek as pe,gk as rt,b7 as Le,g7 as Dt,g as ot,g6 as he,lH as Ct,gl as Lt,lr as st,bt as at,bp as _t,i5 as It,cF as Ot,cD as Et,D as jt,ap as Te,bH as Pt,aK as xe,ae as Nt,aF as zt,ai as kt}from"./index-fb13df2f.js";import{a as Wt,e as Ut,t as it,r as ye,k as Ht,z as Vt,h as _e,_ as Ie,R as Oe,E as Ee,j as je,b as Pe,x as Gt,c as oe,d as Me,g as Se,f as Zt,i as le,L as fe}from"./georeference-a777a2a2.js";import{r as Bt}from"./imageUtils-c2d0d1ae.js";import{r as Jt}from"./earcut-61f7b102.js";import{t as lt}from"./Indices-50c09fc6.js";import{e as Ue}from"./deduplicate-cad27dd8.js";import{s as He}from"./External-ca569a47.js";import{c as Ne}from"./spatialReferenceEllipsoidUtils-77c5e826.js";import{e as Yt}from"./infoFor3D-1eaade9a.js";var J;const we=new WeakMap;let Xt=0,L=J=class extends de{constructor(e){super(e),this.wrap="repeat"}get url(){return this._get("url")||null}set url(e){this._set("url",e),e&&this._set("data",null)}get data(){return this._get("data")||null}set data(e){this._set("data",e),e&&this._set("url",null)}writeData(e,t,n,r){if(e instanceof HTMLImageElement){const o={type:"image-element",src:We(e.src,r),crossOrigin:e.crossOrigin};t[n]=o}else if(e instanceof HTMLCanvasElement){const o=e.getContext("2d").getImageData(0,0,e.width,e.height),s={type:"canvas-element",imageData:this._encodeImageData(o)};t[n]=s}else if(e instanceof HTMLVideoElement){const o={type:"video-element",src:We(e.src,r),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[n]=o}else if(e instanceof ImageData){const o={type:"image-data",imageData:this._encodeImageData(e)};t[n]=o}}readData(e){switch(e.type){case"image-element":{const t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t}case"canvas-element":{const t=this._decodeImageData(e.imageData),n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").putImageData(t,0,0),n}case"image-data":return this._decodeImageData(e.imageData);case"video-element":{const t=document.createElement("video");return t.src=e.src,t.crossOrigin=e.crossOrigin,t.autoplay=e.autoplay,t.loop=e.loop,t.muted=e.muted,t.preload=e.preload,t}default:return}}get transparent(){const e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return this._imageDataContainsTransparent(e);if(t){const n=t.substr(t.length-4,4).toLowerCase(),r=t.substr(0,15).toLocaleLowerCase();if(n===".png"||r==="data:image/png;")return!0}return!1}set transparent(e){this._overrideIfSome("transparent",e)}get contentHash(){const e=typeof this.wrap=="string"?this.wrap:typeof this.wrap=="object"?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",t=(n="")=>`d:${n},t:${this.transparent},w:${e}`;return this.url!=null?t(this.url):this.data!=null?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?t(this.data.src):(we.has(this.data)||we.set(this.data,++Xt),t(we.get(this.data))):t()}clone(){const e={url:this.url,data:this.data,wrap:this._cloneWrap()};return new J(e)}cloneWithDeduplication(e){const t=e.get(this);if(t)return t;const n=this.clone();return e.set(this,n),n}_cloneWrap(){return typeof this.wrap=="string"?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}_encodeImageData(e){let t="";for(let n=0;n<e.data.length;n++)t+=String.fromCharCode(e.data[n]);return{data:btoa(t),width:e.width,height:e.height}}_decodeImageData(e){const t=atob(e.data),n=new Uint8ClampedArray(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return Bt(n,e.width,e.height)}_imageDataContainsTransparent(e){for(let t=3;t<e.data.length;t+=4)if(e.data[t]!==255)return!0;return!1}static from(e){return typeof e=="string"?new J({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new J({data:e}):be(J,e)}};c([m({type:String,json:{write:$t}})],L.prototype,"url",null),c([m({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),m()],L.prototype,"data",null),c([bt("data")],L.prototype,"writeData",null),c([At("data")],L.prototype,"readData",null),c([m({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],L.prototype,"transparent",null),c([m({json:{write:!0}})],L.prototype,"wrap",void 0),c([m({readOnly:!0})],L.prototype,"contentHash",null),L=J=c([W("esri.geometry.support.MeshTexture")],L);const re=L;var Fe;let R=Fe=class extends de{constructor(e){super(e),this.color=null,this.colorTexture=null,this.normalTexture=null,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){const n=e!=null?e.get(this):null;if(n)return n;const r=new Fe(this.clonePropertiesWithDeduplication(t));return e!=null&&e.set(this,r),r}clonePropertiesWithDeduplication(e){return{color:this.color!=null?this.color.clone():null,colorTexture:this.colorTexture!=null?this.colorTexture.cloneWithDeduplication(e):null,normalTexture:this.normalTexture!=null?this.normalTexture.cloneWithDeduplication(e):null,alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform!=null?this.colorTextureTransform:null,normalTextureTransform:this.normalTextureTransform!=null?this.normalTextureTransform:null}}};c([m({type:Qe,json:{write:!0}})],R.prototype,"color",void 0),c([m({type:re,json:{write:!0}})],R.prototype,"colorTexture",void 0),c([m({type:re,json:{write:!0}})],R.prototype,"normalTexture",void 0),c([m({nonNullable:!0,json:{write:!0}})],R.prototype,"alphaMode",void 0),c([m({nonNullable:!0,json:{write:!0}})],R.prototype,"alphaCutoff",void 0),c([m({nonNullable:!0,json:{write:!0}})],R.prototype,"doubleSided",void 0),c([m()],R.prototype,"colorTextureTransform",void 0),c([m()],R.prototype,"normalTextureTransform",void 0),R=Fe=c([W("esri.geometry.support.MeshMaterial")],R);const ze=R;var Re;let F=Re=class extends ze{constructor(e){super(e),this.emissiveColor=null,this.emissiveTexture=null,this.occlusionTexture=null,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){const n=e!=null?e.get(this):null;if(n)return n;const r=new Re(this.clonePropertiesWithDeduplication(t));return e!=null&&e.set(this,r),r}clonePropertiesWithDeduplication(e){return{...super.clonePropertiesWithDeduplication(e),emissiveColor:this.emissiveColor!=null?this.emissiveColor.clone():null,emissiveTexture:this.emissiveTexture!=null?this.emissiveTexture.cloneWithDeduplication(e):null,occlusionTexture:this.occlusionTexture!=null?this.occlusionTexture.cloneWithDeduplication(e):null,metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture!=null?this.metallicRoughnessTexture.cloneWithDeduplication(e):null,occlusionTextureTransform:this.occlusionTextureTransform!=null?this.occlusionTextureTransform:null,emissiveTextureTransform:this.emissiveTextureTransform!=null?this.emissiveTextureTransform:null,metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform!=null?this.metallicRoughnessTextureTransform:null}}};c([m({type:Qe,json:{write:!0}})],F.prototype,"emissiveColor",void 0),c([m({type:re,json:{write:!0}})],F.prototype,"emissiveTexture",void 0),c([m({type:re,json:{write:!0}})],F.prototype,"occlusionTexture",void 0),c([m({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],F.prototype,"metallic",void 0),c([m({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],F.prototype,"roughness",void 0),c([m({type:re,json:{write:!0}})],F.prototype,"metallicRoughnessTexture",void 0),c([m()],F.prototype,"occlusionTextureTransform",void 0),c([m()],F.prototype,"emissiveTextureTransform",void 0),c([m()],F.prototype,"metallicRoughnessTextureTransform",void 0),F=Re=c([W("esri.geometry.support.MeshMaterialMetallicRoughness")],F);const Kt=F;var ce;const ct="esri.geometry.support.MeshVertexAttributes",H=v.getLogger(ct);let A=ce=class extends de{constructor(e){super(e),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(e){return Y(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},H)}castPosition(e){return e&&e instanceof Float32Array&&H.warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),Y(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},H)}castUv(e){return Y(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},H)}castNormal(e){return Y(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},H)}castTangent(e){return Y(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},H)}clone(){const e={position:C(this.position),uv:C(this.uv),normal:C(this.normal),tangent:C(this.tangent),color:C(this.color)};return new ce(e)}clonePositional(){const e={position:C(this.position),normal:C(this.normal),tangent:C(this.tangent),uv:this.uv,color:this.color};return new ce(e)}};function ve(e,t,n,r){const{loggerTag:o,stride:s}=t;return e.length%s!=0?(r.error(o,`Invalid array length, expected a multiple of ${s}`),new n([])):e}function Y(e,t,n,r,o){if(!e)return e;if(e instanceof t)return ve(e,r,t,o);for(const s of n)if(e instanceof s)return ve(new t(e),r,t,o);if(Array.isArray(e))return ve(new t(e),r,t,o);{const s=n.map(a=>`'${a.name}'`);return o.error(`Failed to set property, expected one of ${s}, but got ${e.constructor.name}`),new t([])}}function ee(e,t,n){t[n]=qt(e)}function qt(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}c([m({json:{write:ee}})],A.prototype,"color",void 0),c([k("color")],A.prototype,"castColor",null),c([m({nonNullable:!0,json:{write:ee}})],A.prototype,"position",void 0),c([k("position")],A.prototype,"castPosition",null),c([m({json:{write:ee}})],A.prototype,"uv",void 0),c([k("uv")],A.prototype,"castUv",null),c([m({json:{write:ee}})],A.prototype,"normal",void 0),c([k("normal")],A.prototype,"castNormal",null),c([m({json:{write:ee}})],A.prototype,"tangent",void 0),c([k("tangent")],A.prototype,"castTangent",null),A=ce=c([W(ct)],A);var ne;const ut="esri.geometry.support.MeshComponent",Qt=v.getLogger(ut);let I=ne=class extends de{static from(e){return be(ne,e)}constructor(e){super(e),this.faces=null,this.material=null,this.shading="source",this.trustSourceNormals=!1}castFaces(e){return Y(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},Qt)}castMaterial(e){return be(e&&typeof e=="object"&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?Kt:ze,e)}clone(){return new ne({faces:C(this.faces),shading:this.shading,material:C(this.material),trustSourceNormals:this.trustSourceNormals})}cloneWithDeduplication(e,t){const n={faces:C(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals};return new ne(n)}};c([m({json:{write:!0}})],I.prototype,"faces",void 0),c([k("faces")],I.prototype,"castFaces",null),c([m({type:ze,json:{write:!0}})],I.prototype,"material",void 0),c([k("material")],I.prototype,"castMaterial",null),c([m({type:String,json:{write:!0}})],I.prototype,"shading",void 0),c([m({type:Boolean})],I.prototype,"trustSourceNormals",void 0),I=ne=c([W(ut)],I);const Q=I;function en(e){const t=nn(e.rings,e.hasZ,ge.CCW_IS_HOLE),n=new Array;let r=0,o=0;for(const i of t.polygons){const l=i.count,u=i.index,p=Wt(t.position,3*u,3*l),h=i.holeIndices.map(g=>g-u),f=lt(Jt(p,h,3));n.push({position:p,faces:f}),r+=p.length,o+=f.length}const s=tn(n,r,o),a=Array.isArray(s.position)?Ue(s.position,3,{originalIndices:s.faces}):Ue(s.position.buffer,6,{originalIndices:s.faces});return s.position=Ut(new Float64Array(a.buffer)),s.faces=a.indices,s}function tn(e,t,n){if(e.length===1)return e[0];const r=it(t),o=new Array(n);let s=0,a=0,i=0;for(const l of e){for(let u=0;u<l.position.length;u++)r[s++]=l.position[u];for(const u of l.faces)o[a++]=u+i;i=s/3}return{position:r,faces:lt(o)}}function nn(e,t,n){const r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);let i=0,l=0,u=0,p=0;for(let g=0;g<r;++g)p+=e[g].length;const h=it(3*p);let f=0;for(let g=r-1;g>=0;g--){const d=e[g],S=n===ge.CCW_IS_HOLE&&rn(d);if(S&&r!==1)o[i++]=d;else{let w=d.length;for(let y=0;y<i;++y)w+=o[y].length;const $={index:f,pathLengths:new Array(i+1),count:w,holeIndices:new Array(i)};$.pathLengths[0]=d.length,d.length>0&&(a[u++]={index:f,count:d.length}),f=S?se(d,d.length-1,-1,h,f,d.length,t):se(d,0,1,h,f,d.length,t);for(let y=0;y<i;++y){const b=o[y];$.holeIndices[y]=f,$.pathLengths[y+1]=b.length,b.length>0&&(a[u++]={index:f,count:b.length}),f=se(b,0,1,h,f,b.length,t)}i=0,$.count>0&&(s[l++]=$)}}for(let g=0;g<i;++g){const d=o[g];d.length>0&&(a[u++]={index:f,count:d.length}),f=se(d,0,1,h,f,d.length,t)}return s.length=l,a.length=u,{position:h,polygons:s,outlines:a}}function se(e,t,n,r,o,s,a){o*=3;for(let i=0;i<s;++i){const l=e[t];r[o++]=l[0],r[o++]=l[1],r[o++]=a?l[2]:0,t+=n}return o/3}function rn(e){return!Tt(e,!1,!1)}var ge;(function(e){e[e.NONE=0]="NONE",e[e.CCW_IS_HOLE=1]="CCW_IS_HOLE"})(ge||(ge={}));const De=v.getLogger("esri.geometry.support.meshUtils.centerAt");function on(e,t,n){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const r=(n==null?void 0:n.origin)??e.origin;e.transform!=null?((n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&De.warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),sn(e.transform,t,r)):ye(e.spatialReference,n)?an(e,t,r):ln(e,t,r)}function sn(e,t,n){const r=t.x-n.x,o=t.y-n.y,s=t.hasZ&&n.hasZ?t.z-n.z:0,a=e.origin;e.origin=[a[0]+r,a[1]+o,a[2]+s]}function an(e,t,n){const r=Ht(e.vertexAttributes,n,{geographic:!0}),{position:o,normal:s,tangent:a}=Vt(r,t,{geographic:!0});e.vertexAttributes.position=o,e.vertexAttributes.normal=s,e.vertexAttributes.tangent=a,e.vertexAttributesChanged()}function ln(e,t,n){const r=pn,o=un;if(N(t,o,e.spatialReference)){if(!N(n,r,e.spatialReference)){const s=e.origin;r[0]=s.x,r[1]=s.y,r[2]=s.z,De.error(`Failed to project specified origin (wkid:${n.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}cn(e.vertexAttributes.position,o,r),e.vertexAttributesChanged()}else De.error(`Failed to project centerAt location (wkid:${t.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid})`)}function cn(e,t,n){if(e)for(let r=0;r<e.length;r+=3)for(let o=0;o<3;o++)e[r+o]+=t[o]-n[o]}const un=T(),pn=T();async function hn(e,t,n){const{source:r}=t,{loadGLTFMesh:o}=await et(Ae(()=>import("./loadGLTFMesh-6c401962.js"),["assets/loadGLTFMesh-6c401962.js","assets/index-fb13df2f.js","assets/index-d832a396.css","assets/BufferView-dec1102b.js","assets/vec32-a8b0e3a5.js","assets/DefaultMaterial_COLOR_GAMMA-70fcf63d.js","assets/enums-10aa9b05.js","assets/Version-1861d2e1.js","assets/resourceUtils-1d112ccb.js","assets/basicInterfaces-4ab7cc6a.js","assets/Indices-50c09fc6.js","assets/types-1305598a.js","assets/georeference-a777a2a2.js","assets/spatialReferenceEllipsoidUtils-77c5e826.js","assets/imageUtils-c2d0d1ae.js","assets/earcut-61f7b102.js","assets/deduplicate-cad27dd8.js","assets/External-ca569a47.js","assets/infoFor3D-1eaade9a.js"]),n),s=gn(r),a=o(new _({x:0,y:0,z:0,spatialReference:e.spatialReference}),s.url,{resolveFile:fn(s),useTransform:!0,signal:n==null?void 0:n.signal});a.then(()=>s.dispose(),()=>s.dispose());const{vertexAttributes:i,components:l}=await a;e.vertexAttributes=i,e.components=l}function fn(e){const t=Mt(e.url);return n=>{const r=St(n,t,t),o=r?r.replace(/^ *\.\//,""):null;return(o?e.files.get(o):null)??n}}function gn(e){if(Array.isArray(e)){if(!e.length)throw new ue("mesh-load-external:missing-assets","There must be at least one file to load");return e[0]instanceof File?mn(e):dn(e)}return e instanceof File?ht(e):pt(e)}function pt(e){const{assetUrl:t}=e;return new ke(t)}function ht(e){return ke.fromBlob(e)}function mn(e){return ft(e.map(t=>({name:t.name,mimeType:t.type,source:ht(t)})))}function dn(e){return ft(e.map(t=>({name:t.assetName,mimeType:t.assetMimeType,source:pt(t)})))}const yn=/^(model\/gltf\+json)|(model\/gltf-binary)$/,xn=/\.(gltf|glb)/i;function ft(e){const t=new Map;let n=null;for(const{name:r,mimeType:o,source:s}of e)(n==null||yn.test(o)||xn.test(r))&&(n=s.url),t.set(r,s.url),s.files.forEach((a,i)=>t.set(i,a));if(n==null)throw new ue("mesh-load-external:missing-files","Missing files to load external mesh source");return new ke(n,()=>e.forEach(({source:r})=>r.dispose()),t)}let ke=class gt{constructor(t,n=()=>{},r=new Map){this.url=t,this.dispose=n,this.files=r}static fromBlob(t){const n=URL.createObjectURL(t);return new gt(n,()=>URL.revokeObjectURL(n))}},j=class extends Ft{constructor(){super(),this.externalSources=new Rt,this._explicitDisplaySource=null}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(t){if(t!=null&&!He(t))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=t,t&&!this.externalSources.includes(t)&&this.externalSources.add(t)}clearSources(){this.displaySource=null,this.externalSources.removeAll()}get _implicitDisplaySource(){return this.externalSources.find(He)}};c([m()],j.prototype,"externalSources",void 0),c([m()],j.prototype,"displaySource",null),c([m()],j.prototype,"_implicitDisplaySource",null),c([m()],j.prototype,"_explicitDisplaySource",void 0),j=c([W("esri.geometry.support.meshUtils.Metadata")],j);function wn(e,t,n){e.vertexAttributes&&e.vertexAttributes.position&&(e.transform!=null?((n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&v.getLogger("esri.geometry.support.meshUtils.offset").warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),vn(e.transform,t)):ye(e.spatialReference,n)?$n(e,t):bn(e,t))}function vn(e,t){const n=e.origin;e.origin=Ce(T(),n,t)}function $n(e,t){const n=e.spatialReference,r=e.vertexAttributes.position,o=e.vertexAttributes.normal,s=e.vertexAttributes.tangent,a=new Float64Array(r.length),i=o!=null?new Float32Array(o.length):null,l=s!=null?new Float32Array(s.length):null,u=e.extent.center,p=An;tt(n,[u.x,u.y,u.z],Ve,Ne(n)),nt(Ge,Ve),pe(p,t,Ge),_e(r,n,a),o!=null&&i!=null&&Ie(o,r,a,n,i),s!=null&&l!=null&&Oe(s,r,a,n,l),mt(a,p),Ee(a,r,n),o!=null&&i!=null&&je(i,r,a,n,o),s!=null&&l!=null&&Pe(l,r,a,n,s),e.vertexAttributesChanged()}function bn(e,t){mt(e.vertexAttributes.position,t),e.vertexAttributesChanged()}function mt(e,t){if(e)for(let n=0;n<e.length;n+=3)for(let r=0;r<3;r++)e[n+r]+=t[r]}const An=T(),Ve=rt(),Ge=Le();function Tn(){const{faceDescriptions:e,faceVertexOffsets:t,uvScales:n}=_n,r=4*e.length,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(2*e.length*3);let l=0,u=0,p=0,h=0;for(let f=0;f<e.length;f++){const g=e[f],d=l/3;for(const w of t)i[h++]=d+w;const S=g.corners;for(let w=0;w<4;w++){const $=S[w];let y=0;a[p++]=.25*n[w][0]+g.uvOrigin[0],a[p++]=g.uvOrigin[1]-.25*n[w][1];for(let b=0;b<3;b++)g.axis[b]!==0?(o[l++]=.5*g.axis[b],s[u++]=g.axis[b]):(o[l++]=.5*$[y++],s[u++]=0)}}return{position:o,normal:s,uv:a,faces:i}}function Mn(e,t){const n=e.components[0],r=n.faces,o=In[t],s=6*o,a=new Array(6),i=new Array(r.length-6);let l=0,u=0;for(let p=0;p<r.length;p++)p>=s&&p<s+6?a[l++]=r[p]:i[u++]=r[p];if(e.vertexAttributes.uv!=null){const p=new Float32Array(e.vertexAttributes.uv),h=4*o*2,f=[0,1,1,1,1,0,0,0];for(let g=0;g<f.length;g++)p[h+g]=f[g];e.vertexAttributes.uv=p}return e.components=[new Q({faces:a,material:n.material}),new Q({faces:i})],e}function Sn(e=0){const t=Math.round(8*2**e),n=2*t,r=(t-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(3*((t-1)*n*2));let l=0,u=0,p=0,h=0;for(let f=0;f<=t;f++){const g=f/t*Math.PI+.5*Math.PI,d=Math.cos(g),S=Math.sin(g);x[2]=S;const w=f===0||f===t,$=w?n-1:n;for(let y=0;y<=$;y++){const b=y/$*2*Math.PI;x[0]=-Math.sin(b)*d,x[1]=Math.cos(b)*d;for(let O=0;O<3;O++)o[l]=.5*x[O],s[l]=x[O],++l;a[u++]=(y+(w?.5:0))/n,a[u++]=f/t,f!==0&&y!==n&&(f!==t&&(i[p++]=h,i[p++]=h+1,i[p++]=h-n),f!==1&&(i[p++]=h,i[p++]=h-n,i[p++]=h-n-1)),h++}}return{position:o,normal:s,uv:a,faces:i}}function Fn(e=0){const n=Math.round(16*2**e),r=(5-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(3*(4*n));let l=0,u=0,p=0,h=0,f=0;for(let g=0;g<=5;g++){const d=g===0||g===5,S=g<=1||g>=5-1,w=g===2||g===4,$=d?n-1:n;for(let y=0;y<=$;y++){const b=y/$*2*Math.PI,O=d?0:.5;x[0]=O*Math.sin(b),x[1]=O*-Math.cos(b),x[2]=g<=2?.5:-.5;for(let U=0;U<3;U++)o[l++]=x[U],s[u++]=S?U===2?g<=1?1:-1:0:U===2?0:x[U]/O;a[p++]=(y+(d?.5:0))/n,a[p++]=g<=1?1*g/3:g<=3?1*(g-2)/3+1/3:1*(g-4)/3+2/3,w||g===0||y===n||(g!==5&&(i[h++]=f,i[h++]=f+1,i[h++]=f-n),g!==1&&(i[h++]=f,i[h++]=f-n,i[h++]=f-n-1)),f++}}return{position:o,normal:s,uv:a,faces:i}}function Rn(e,t){const n=typeof t=="number"?t:t!=null?t.width:1,r=typeof t=="number"?t:t!=null?t.height:1;switch(e){case"up":case"down":return{width:n,depth:r};case"north":case"south":return{width:n,height:r};case"east":case"west":return{depth:n,height:r}}}function Dn(e){const t=te.facingAxisOrderSwap[e],n=te.position,r=te.normal,o=new Float64Array(n.length),s=new Float32Array(r.length);let a=0;for(let i=0;i<4;i++){const l=a;for(let u=0;u<3;u++){const p=t[u],h=Math.abs(p)-1,f=p>=0?1:-1;o[a]=n[l+h]*f,s[a]=r[l+h]*f,a++}}return{position:o,normal:s,uv:new Float32Array(te.uv),faces:new Uint32Array(te.faces),isPlane:!0}}const V=1,G=2,Z=3,te={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[Z,V,G],west:[-Z,-V,G],north:[-V,Z,G],south:[V,-Z,G],up:[V,G,Z],down:[V,-G,-Z]}};function ae(e,t,n){e.isPlane||Cn(e),Ln(e,n==null?void 0:n.size);const{vertexAttributes:r,transform:o}=Gt(e,t,n);return{vertexAttributes:new A({...r,uv:e.uv}),transform:o,components:[new Q({faces:e.faces,material:n&&n.material||null})],spatialReference:t.spatialReference}}function Cn(e){for(let t=0;t<e.position.length;t+=3)e.position[t+2]+=.5}function Ln(e,t){if(t==null)return;const n=typeof t=="number"?[t,t,t]:[t.width!=null?t.width:1,t.depth!=null?t.depth:1,t.height!=null?t.height:1];E[0]=n[0],E[4]=n[1],E[8]=n[2];for(let r=0;r<e.position.length;r+=3){for(let o=0;o<3;o++)x[o]=e.position[r+o];pe(x,x,E);for(let o=0;o<3;o++)e.position[r+o]=x[o]}if(n[0]!==n[1]||n[1]!==n[2]){E[0]=1/n[0],E[4]=1/n[1],E[8]=1/n[2];for(let r=0;r<e.normal.length;r+=3){for(let o=0;o<3;o++)x[o]=e.normal[r+o];pe(x,x,E),Dt(x,x);for(let o=0;o<3;o++)e.normal[r+o]=x[o]}}}const _n={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},In={south:0,east:1,north:2,west:3,up:4,down:5},x=T(),E=Le(),dt=v.getLogger("esri.geometry.support.meshUtils.rotate");function On(e,t,n){if(!e.vertexAttributes||!e.vertexAttributes.position||t[3]===0)return;const r=e.spatialReference;if(e.transform!=null){(n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&dt.warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`);const o=(n==null?void 0:n.origin)??e.transform.getOriginPoint(r);En(e.transform,t,o)}else{const o=(n==null?void 0:n.origin)??e.origin;ye(e.spatialReference,n)?jn(e,t,o):Pn(e,t,o)}}function En(e,t,n){const r=ot(X,n.x,n.y,n.z),o=he(X,r,e.origin);e.applyLocalInverse(o,Ze),e.rotation=Me(e.rotation,t,oe()),e.applyLocalInverse(o,o),he(o,o,Ze),e.translation=Ce(T(),e.translation,o)}function jn(e,t,n){const r=e.spatialReference,o=Ne(r),s=yt;N(n,s,o)||N(e.origin,s,o);const a=e.vertexAttributes.position,i=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,u=new Float64Array(a.length),p=i!=null?new Float32Array(i.length):null,h=l!=null?new Float32Array(l.length):null;tt(o,s,me,o),nt(Je,me);const f=Be;pe(Se(Be),Se(t),Je),f[3]=t[3],_e(a,r,u),i!=null&&p!=null&&Ie(i,a,u,r,p),l!=null&&h!=null&&Oe(l,a,u,r,h),q(u,f,3,s),Ee(u,a,r),i!=null&&p!=null&&(q(p,f,3),je(p,a,u,r,i)),l!=null&&h!=null&&(q(h,f,4),Pe(h,a,u,r,l)),e.vertexAttributesChanged()}function Pn(e,t,n){const r=yt;if(!N(n,r,e.spatialReference)){const o=e.origin;r[0]=o.x,r[1]=o.y,r[2]=o.z,dt.error(`Failed to project specified origin (wkid:${n.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}q(e.vertexAttributes.position,t,3,r),q(e.vertexAttributes.normal,t,3),q(e.vertexAttributes.tangent,t,4),e.vertexAttributesChanged()}function q(e,t,n,r=st){if(e!=null){Ct(me,Zt(t),Se(t));for(let o=0;o<e.length;o+=n){for(let s=0;s<3;s++)X[s]=e[o+s]-r[s];Lt(X,X,me);for(let s=0;s<3;s++)e[o+s]=X[s]+r[s]}}}const X=T(),Ze=T(),Be=oe(),me=rt(),Je=Le(),yt=T(),xt=v.getLogger("esri.geometry.support.meshUtils.scale");function Nn(e,t,n){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const r=e.spatialReference;if(e.transform!=null){(n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&xt.warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`);const o=(n==null?void 0:n.origin)??e.transform.getOriginPoint(r);zn(e.transform,t,o)}else{const o=ye(e.spatialReference,n),s=n&&n.origin||e.origin;o?kn(e,t,s):Wn(e,t,s)}}function zn(e,t,n){const r=ot(K,n.x,n.y,n.z),o=he(K,r,e.origin);e.applyLocalInverse(o,Ye);const s=at(T(),e.scale,t);e.scale=s,e.applyLocalInverse(o,o),he(o,o,Ye),e.translation=Ce(T(),e.translation,o)}function kn(e,t,n){const r=e.spatialReference,o=Ne(r),s=vt;N(n,s,o)||N(e.origin,s,o);const a=e.vertexAttributes.position,i=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,u=new Float64Array(a.length),p=i!=null?new Float32Array(i.length):null,h=l!=null?new Float32Array(l.length):null;_e(a,r,u),i!=null&&p!=null&&Ie(i,a,u,r,p),l!=null&&h!=null&&Oe(l,a,u,r,h),wt(u,t,s),Ee(u,a,r),i!=null&&p!=null&&je(p,a,u,r,i),l!=null&&h!=null&&Pe(h,a,u,r,l),e.vertexAttributesChanged()}function Wn(e,t,n){const r=vt;if(!N(n,r,e.spatialReference)){const o=e.origin;r[0]=o.x,r[1]=o.y,r[2]=o.z,xt.error(`Failed to project specified origin (wkid:${n.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}wt(e.vertexAttributes.position,t,r),e.vertexAttributesChanged()}function wt(e,t,n=st){if(e)for(let r=0;r<e.length;r+=3){for(let o=0;o<3;o++)K[o]=e[r+o]-n[o];at(K,K,t);for(let o=0;o<3;o++)e[r+o]=K[o]+n[o]}}const K=T(),Ye=T(),vt=T();var D;const z="esri.geometry.Mesh";let M=D=class extends _t(It.LoadableMixin(Ot(Et))){constructor(e){super(e),this.components=null,this.transform=null,this.metadata=new j,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new A,this.type="mesh"}initialize(){(this.metadata.externalSources.length===0||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when(()=>{this.handles.add(jt(()=>{var e;return{vertexAttributes:this.vertexAttributes,components:(e=this.components)==null?void 0:e.map(t=>t.clone())}},()=>this._clearSources(),{once:!0,sync:!0}))})}get hasExtent(){var e;return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):((e=this.metadata.displaySource)==null?void 0:e.extent)!=null}get _boundingInfo(){const e=this.vertexAttributes.position,t=this.spatialReference;if(e.length===0||this.components&&this.components.length===0)return{extent:new Te({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t}),center:new _({x:0,y:0,z:0,spatialReference:t})};const n=this.transform!=null?this.transform.project(e,t):e;let r=1/0,o=1/0,s=1/0,a=-1/0,i=-1/0,l=-1/0,u=0,p=0,h=0;const f=n.length,g=1/(f/3);let d=0;for(;d<f;){const S=n[d++],w=n[d++],$=n[d++];r=Math.min(r,S),o=Math.min(o,w),s=Math.min(s,$),a=Math.max(a,S),i=Math.max(i,w),l=Math.max(l,$),u+=g*S,p+=g*w,h+=g*$}return{extent:new Te({xmin:r,ymin:o,zmin:s,xmax:a,ymax:i,zmax:l,spatialReference:t}),center:new _({x:u,y:p,z:h,spatialReference:t})}}get anchor(){if(this.transform!=null)return this.transform.getOriginPoint(this.spatialReference);const e=this._boundingInfo;return new _({x:e.center.x,y:e.center.y,z:e.extent.zmin,spatialReference:this.spatialReference})}get origin(){return this.transform!=null?this.transform.getOriginPoint(this.spatialReference):this._boundingInfo.center}get extent(){var e,t;return this.loaded||((t=(e=this.metadata)==null?void 0:e.displaySource)==null?void 0:t.extent)==null?this._boundingInfo.extent:this.metadata.displaySource.extent.clone()}addComponent(e){this.loaded?(this.components||(this.components=[]),this.components.push(Q.from(e)),this.notifyChange("components")):v.getLogger(this.declaredClass).error("addComponent()","Mesh must be loaded before applying operations")}removeComponent(e){if(this.loaded){if(this.components){const t=this.components.indexOf(e);if(t!==-1)return this.components.splice(t,1),void this.notifyChange("components")}v.getLogger(this.declaredClass).error("removeComponent()","Provided component is not part of the list of components")}else v.getLogger(this.declaredClass).error("removeComponent()","Mesh must be loaded before applying operations")}rotate(e,t,n,r){return le($e.x,e,B),le($e.y,t,Xe),le($e.z,n,Ke),Me(B,Xe,B),Me(B,Ke,B),On(this,B,r),this}offset(e,t,n,r){return this.loaded?(ie[0]=e,ie[1]=t,ie[2]=n,wn(this,ie,r),this):(v.getLogger(this.declaredClass).error("offset()","Mesh must be loaded before applying operations"),this)}scale(e,t){return this.loaded?(Nn(this,e,t),this):(v.getLogger(this.declaredClass).error("scale()","Mesh must be loaded before applying operations"),this)}centerAt(e,t){return this.loaded?(on(this,e,t),this):(v.getLogger(this.declaredClass).error("centerAt()","Mesh must be loaded before applying operations"),this)}load(e){const{metadata:{displaySource:t}}=this;return t&&this.addResolvingPromise(hn(this,t,e)),Promise.resolve(this)}addExternalSources(e){this.metadata.externalSources.addMany(e)}updateDisplaySource(e){this.metadata.displaySource=e}clone(){let e=null;if(this.components){const n=new Map,r=new Map;e=this.components.map(o=>o.cloneWithDeduplication(n,r))}const t={components:e,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),transform:this.transform!=null?this.transform.clone():null,metadata:this.metadata.clone()};return new D(t)}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}async toBinaryGLTF(e){const t=Ae(()=>import("./gltfexport-92c032f1.js"),["assets/gltfexport-92c032f1.js","assets/index-fb13df2f.js","assets/index-d832a396.css","assets/georeference-a777a2a2.js","assets/spatialReferenceEllipsoidUtils-77c5e826.js","assets/vec32-a8b0e3a5.js","assets/BufferView-dec1102b.js","assets/enums-10aa9b05.js","assets/imageutils-ef43dce9.js","assets/resourceUtils-1d112ccb.js","assets/basicInterfaces-4ab7cc6a.js","assets/imageUtils-c2d0d1ae.js","assets/earcut-61f7b102.js","assets/Indices-50c09fc6.js","assets/deduplicate-cad27dd8.js","assets/External-ca569a47.js","assets/infoFor3D-1eaade9a.js"]),n=this.load(),r=await Promise.all([t,n]),{toBinaryGLTF:o}=r[0];return o(this,e)}_clearSources(){this.metadata.clearSources()}static createBox(e,t){if(!(e instanceof _))return v.getLogger(z).error(".createBox()","expected location to be a Point instance"),null;const n=new D(ae(Tn(),e,t));return t&&t.imageFace&&t.imageFace!=="all"?Mn(n,t.imageFace):n}static createSphere(e,t){return e instanceof _?new D(ae(Sn(t&&t.densificationFactor||0),e,t)):(v.getLogger(z).error(".createSphere()","expected location to be a Point instance"),null)}static createCylinder(e,t){return e instanceof _?new D(ae(Fn(t&&t.densificationFactor||0),e,t)):(v.getLogger(z).error(".createCylinder()","expected location to be a Point instance"),null)}static createPlane(e,t){if(!(e instanceof _))return v.getLogger(z).error(".createPlane()","expected location to be a Point instance"),null;const n=(t==null?void 0:t.facing)??"up",r=Rn(n,t==null?void 0:t.size);return new D(ae(Dn(n),e,{...t,size:r}))}static createFromPolygon(e,t){if(!(e instanceof Pt))return v.getLogger(z).error(".createFromPolygon()","expected polygon to be a Polygon instance"),null;const n=en(e);return new D({vertexAttributes:new A({position:n.position}),components:[new Q({faces:n.faces,shading:"flat",material:(t==null?void 0:t.material)??null})],spatialReference:e.spatialReference})}static async createFromGLTF(e,t,n){if(!(e instanceof _))throw v.getLogger(z).error(".createfromGLTF()","expected location to be a Point instance"),new ue("invalid-input","Expected location to be a Point instance");const{loadGLTFMesh:r}=await et(Ae(()=>import("./loadGLTFMesh-6c401962.js"),["assets/loadGLTFMesh-6c401962.js","assets/index-fb13df2f.js","assets/index-d832a396.css","assets/BufferView-dec1102b.js","assets/vec32-a8b0e3a5.js","assets/DefaultMaterial_COLOR_GAMMA-70fcf63d.js","assets/enums-10aa9b05.js","assets/Version-1861d2e1.js","assets/resourceUtils-1d112ccb.js","assets/basicInterfaces-4ab7cc6a.js","assets/Indices-50c09fc6.js","assets/types-1305598a.js","assets/georeference-a777a2a2.js","assets/spatialReferenceEllipsoidUtils-77c5e826.js","assets/imageUtils-c2d0d1ae.js","assets/earcut-61f7b102.js","assets/deduplicate-cad27dd8.js","assets/External-ca569a47.js","assets/infoFor3D-1eaade9a.js"]),n);return new D(await r(e,t,n))}static createWithExternalSource(e,t,n){var l;const r=(n==null?void 0:n.extent)??null,o=((l=n==null?void 0:n.transform)==null?void 0:l.clone())??new fe;o.origin=[e.x,e.y,e.z??0];const s=e.spatialReference,a={source:t,extent:r},i=new j;return i.externalSources.push(a),new D({metadata:i,transform:o,spatialReference:s})}static createIncomplete(e,t){var s;const n=((s=t==null?void 0:t.transform)==null?void 0:s.clone())??new fe;n.origin=[e.x,e.y,e.z??0];const r=e.spatialReference,o=new D({transform:n,spatialReference:r});return o.addResolvingPromise(Promise.reject(new ue("mesh-incomplete","Mesh resources are not complete"))),o}};c([m({type:[Q],json:{write:!0}})],M.prototype,"components",void 0),c([m({type:fe,json:{write:!0}})],M.prototype,"transform",void 0),c([m({constructOnly:!0})],M.prototype,"metadata",void 0),c([m({readOnly:!0})],M.prototype,"hasExtent",null),c([m({readOnly:!0})],M.prototype,"_boundingInfo",null),c([m({readOnly:!0})],M.prototype,"anchor",null),c([m({readOnly:!0})],M.prototype,"origin",null),c([m({readOnly:!0,json:{read:!1}})],M.prototype,"extent",null),c([m({readOnly:!0,json:{read:!1,write:!0,default:!0}})],M.prototype,"hasZ",void 0),c([m({readOnly:!0,json:{read:!1,write:!0,default:!1}})],M.prototype,"hasM",void 0),c([m({type:A,nonNullable:!0,json:{write:!0}})],M.prototype,"vertexAttributes",void 0),M=D=c([W(z)],M);const $e={x:xe(1,0,0),y:xe(0,1,0),z:xe(0,0,1)},B=oe(),Xe=oe(),Ke=oe(),ie=T(),qe=M;function Un(e,t,n){const r=n.features;n.features=[],delete n.geometryType;const o=Nt.fromJSON(n);if(o.geometryType="mesh",!n.assetMaps)return o;const s=Bn(t,n.assetMaps),a=o.spatialReference??zt.WGS84,i=n.globalIdFieldName,{outFields:l}=e,u=l!=null&&l.length>0?Hn(l.includes("*")?null:new Set(l)):()=>({});for(const p of r){const h=Vn(p,i,a,t,s);h!=null&&o.features.push(new kt({geometry:h,attributes:u(p)}))}return o}function Hn(e){return({attributes:t})=>{if(!t)return{};if(!e)return t;for(const n in t)e.has(n)||delete t[n];return t}}function Vn(e,t,n,r,o){const s=e.attributes[t],a=o.get(s);if(a==null||a.status===P.FAILED||a.url==null)return null;const i=Gn(e,n,r),l=Te.fromJSON(e.geometry);l.spatialReference=n;const u=Zn(e.attributes,r,a.projectVertices);return a.status===P.PENDING?qe.createIncomplete(i,{extent:l,transform:u}):qe.createWithExternalSource(i,Jn(a),{extent:l,transform:u})}function Gn({attributes:e},t,{transformFieldRoles:n}){return new _({x:e[n.originX],y:e[n.originY],z:e[n.originZ],spatialReference:t})}function Zn(e,{transformFieldRoles:t},n){return new fe({translation:[e[t.translationX],-e[t.translationZ],e[t.translationY]],rotation:le([e[t.rotationX],e[t.rotationZ],e[t.rotationY]],e[t.rotationDeg]),scale:[e[t.scaleX],e[t.scaleY],e[t.scaleZ]],geographic:n})}var P;function Bn(e,t){const n=new Map;for(const r of t){const o=r.parentGlobalId;if(o==null)continue;const s=r.assetName,a=r.assetType,i=r.assetHash,l=r.assetURL,u=r.conversionStatus,p=Yt(a,e.supportedFormats);if(!p){v.getLogger("esri.rest.support.meshFeatureSet").error("mesh-feature-set:unknown-format",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}let h=n.get(o);if(h==null)switch(h={name:s,type:a,mimeType:p,hash:i,status:P.FAILED,url:l,projectVertices:Yn(r.flags).projectVertices},n.set(o,h),u){case"COMPLETED":case"SUBMITTED":h.status=P.COMPLETED;break;case"INPROGRESS":h.status=P.PENDING;break;default:h.status=P.FAILED}else console.warn(`Multiple asset parts not expected. Ignoring additional parts. conflicting assetname: ${r.assetName}`)}return n}function Jn(e){return{assetUrl:e.url,assetName:e.name,assetHash:e.hash,assetMimeType:e.mimeType}}function Yn(e){return{projectVertices:e.includes("PROJECT_VERTICES")}}(function(e){e[e.FAILED=0]="FAILED",e[e.PENDING=1]="PENDING",e[e.COMPLETED=2]="COMPLETED"})(P||(P={}));const ar=Object.freeze(Object.defineProperty({__proto__:null,meshFeatureSetFromJSON:Un},Symbol.toStringTag,{value:"Module"}));export{ar as a,Q as g,re as m,A as p,Kt as u};
