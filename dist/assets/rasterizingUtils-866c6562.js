import{p as z}from"./floatRGBA-392b8860.js";import{bS as D}from"./index-37fc1c1b.js";const p=r=>r==="vertical"||r==="horizontal"||r==="cross"||r==="esriSFSCross"||r==="esriSFSVertical"||r==="esriSFSHorizontal";function b(r,a,F){const S=D(Math.ceil(F)),t=p(a)?S*8:S*16,o=S*2;r.width=t,r.height=t;const i=r.getContext("2d");i.strokeStyle="#FFFFFF",i.lineWidth=S,i.beginPath(),(a==="vertical"||a==="cross"||a==="esriSFSCross"||a==="esriSFSVertical")&&(i.moveTo(t/2,-o),i.lineTo(t/2,t+o)),(a==="horizontal"||a==="cross"||a==="esriSFSCross"||a==="esriSFSHorizontal")&&(i.moveTo(-o,t/2),i.lineTo(t+o,t/2)),(a==="forward-diagonal"||a==="diagonal-cross"||a==="esriSFSDiagonalCross"||a==="esriSFSForwardDiagonal")&&(i.moveTo(-o,-o),i.lineTo(t+o,t+o),i.moveTo(t-o,-o),i.lineTo(t+o,o),i.moveTo(-o,t-o),i.lineTo(o,t+o)),(a==="backward-diagonal"||a==="diagonal-cross"||a==="esriSFSBackwardDiagonal"||a==="esriSFSDiagonalCross")&&(i.moveTo(t+o,-o),i.lineTo(-o,t+o),i.moveTo(o,-o),i.lineTo(-o,o),i.moveTo(t+o,t-o),i.lineTo(t-o,t+o)),i.stroke();const u=i.getImageData(0,0,r.width,r.height),n=new Uint8Array(u.data);let f;for(let e=0;e<n.length;e+=4)f=n[e+3]/255,n[e]=n[e]*f,n[e+1]=n[e+1]*f,n[e+2]=n[e+2]*f;return[n,r.width,r.height]}function v(r,a){const F=a==="Butt",S=a==="Square",t=!F&&!S;r.length%2===1&&(r=[...r,...r]);const o=15.5,i=o*2;let u=0;for(const c of r)u+=c;const n=Math.round(u*o),f=n*i,e=new Float32Array(f),T=.5*o;let d=0,l=0,s=.5,w=!0;for(const c of r){for(d=l,l+=c*o;s<=l;){let m=.5;for(;m<i;){const g=(m-.5)*n+s-.5,h=t?(m-o)*(m-o):Math.abs(m-o);w?F?e[g]=Math.max(Math.max(d+T-s,h),Math.max(s-l+T,h)):e[g]=h:t?e[g]=Math.min((s-d)*(s-d)+h,(s-l)*(s-l)+h):S?e[g]=Math.min(Math.max(s-d,h),Math.max(l-s,h)):e[g]=Math.min(Math.max(s-d+T,h),Math.max(l+T-s,h)),m++}s++}w=!w}const x=e.length,M=new Uint8Array(x*4);for(let c=0;c<x;++c){const m=(t?Math.sqrt(e[c]):e[c])/o;z(m,M,4*c)}return[M,n,i]}export{v as a,b as r};
