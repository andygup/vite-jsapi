import{T as $t,a as Ho,S as Io}from"./ensureType-fa162cfc.js";import{e,y as r,n as l,l as m,s as Ne,m as It,f as Qe,q as Ro}from"./cast-daef7652.js";import{d as Rt}from"./CIMSymbol-d0e12b74.js";import{r as p,t as Ye}from"./typedArrayUtil-2bcf3cee.js";import{r as y}from"./enumeration-e46f3fd4.js";import{r as T,o as lt}from"./Extent-7f29a1bb.js";import{l as d}from"./Color-2245b966.js";import{y as n}from"./string-3d0ebcd3.js";import{o as c,e as nt}from"./screenUtils-7afeb41c.js";import{r as qo,n as Vo}from"./opacityUtils-94fd2faa.js";import{s as Ce}from"./Error-bd05b442.js";import{s as Me,o as Pe}from"./jsonMap-a9c94baf.js";import{a as S}from"./Symbol-f45dc441.js";import{a as Bo}from"./common-701a4199.js";import{u as _e}from"./aaBoundingBox-6fbd5972.js";import{a as Eo}from"./mathUtils-daf59e84.js";import{X as eo,K as Ae,F as oo,e as ro,N as Ko,G as Jo,n as Xo}from"./request-c2b0ab45.js";import{c as Te,m as so,p as io,f as Ht}from"./persistableUrlUtils-7e525def.js";import{j as R}from"./Collection-e2259e32.js";import{t as Go,n as Qo}from"./collectionUtils-09289d8f.js";import{j as qt}from"./Portal-ac0dca24.js";import{i as lo}from"./Clonable-f249bc0f.js";import{_ as Yo}from"./preload-helper-101896b7.js";import{f as Zo}from"./promiseUtils-29120e0a.js";let et=class extends m{constructor(o){super(o),this.enabled=!0,this.type=null}writeEnabled(o,s,i){o||(s[i]=o)}};e([r({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],et.prototype,"enabled",void 0),e([T("enabled")],et.prototype,"writeEnabled",null),e([r({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],et.prototype,"type",void 0),et=e([l("esri.symbols.Symbol3DLayer")],et);const M=et;function tr(t,o){const s=o.transparency!=null?qo(o.transparency):1,i=o.color;return i&&Array.isArray(i)?new d([i[0]||0,i[1]||0,i[2]||0,s]):null}function er(t,o){o.color=t.toJSON().slice(0,3);const s=Vo(t.a);s!==0&&(o.transparency=s)}const q={type:d,json:{type:[$t],default:null,read:{source:["color","transparency"],reader:tr},write:{target:{color:{type:[$t]},transparency:{type:$t}},writer:er}}},C={type:Number,cast:c,json:{write:!0}};let B=class extends m{constructor(o){super(o),this.color=new d([0,0,0,1]),this.extensionLength=0,this.size=nt(1)}clone(){}cloneProperties(){return{color:n(this.color),size:this.size,extensionLength:this.extensionLength}}};e([r({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],B.prototype,"type",void 0),e([r(q)],B.prototype,"color",void 0),e([r({...C,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],B.prototype,"extensionLength",void 0),e([r(C)],B.prototype,"size",void 0),B=e([l("esri.symbols.edges.Edges3D")],B);const Fe=B;var Gt;let Dt=Gt=class extends Fe{constructor(t){super(t),this.type="sketch"}clone(){return new Gt(this.cloneProperties())}};e([y({sketch:"sketch"},{readOnly:!0})],Dt.prototype,"type",void 0),Dt=Gt=e([l("esri.symbols.edges.SketchEdges3D")],Dt);const or=Dt;var Qt;let Nt=Qt=class extends Fe{constructor(t){super(t),this.type="solid"}clone(){return new Qt(this.cloneProperties())}};e([y({solid:"solid"},{readOnly:!0})],Nt.prototype,"type",void 0),Nt=Qt=e([l("esri.symbols.support.SolidEdges3D")],Nt);const rr=Nt,no={types:{key:"type",base:Fe,typeMap:{solid:rr,sketch:or}},json:{write:!0}};var Yt;let $=Yt=class extends m{constructor(t){super(t),this.color=null}clone(){const t={color:p(this.color)?this.color.clone():null};return new Yt(t)}};e([r(q)],$.prototype,"color",void 0),$=Yt=e([l("esri.symbols.support.Symbol3DMaterial")],$);var Zt;let F=Zt=class extends M{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Zt({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:p(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};e([y({Extrude:"extrude"},{readOnly:!0})],F.prototype,"type",void 0),e([r({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],F.prototype,"size",void 0),e([r({type:$,json:{write:!0}})],F.prototype,"material",void 0),e([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],F.prototype,"castShadows",void 0),e([r(no)],F.prototype,"edges",void 0),F=Zt=e([l("esri.symbols.ExtrudeSymbol3DLayer")],F);const ao=F;let yt=class extends S{constructor(o){super(o),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};e([y({esriSLS:"simple-line"},{readOnly:!0})],yt.prototype,"type",void 0),e([r({type:Number,cast:c,json:{write:!0}})],yt.prototype,"width",void 0),yt=e([l("esri.symbols.LineSymbol")],yt);const sr=yt,ir=["begin","end","begin-end"],po=["arrow","circle","square","diamond","cross","x"];var te;let z=te=class extends m{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,o,s,i){o[s]=(i==null?void 0:i.origin)==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t&&t[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,o,s,i){(i==null?void 0:i.origin)==="web-map"||(o[s]=t)}clone(){return new te({color:n(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};e([r({type:["begin","end","begin-end"],json:{write:!0}})],z.prototype,"placement",void 0),e([y({"line-marker":"line-marker"},{readOnly:!0}),r({json:{origins:{"web-map":{write:!1}}}})],z.prototype,"type",void 0),e([r({type:po})],z.prototype,"style",void 0),e([T("style")],z.prototype,"writeStyle",null),e([r({type:d,value:null,json:{write:{allowNull:!0}}})],z.prototype,"color",null),e([lt("color")],z.prototype,"readColor",null),e([T("color")],z.prototype,"writeColor",null),z=te=e([l("esri.symbols.LineSymbolMarker")],z);const lr=z;var ee;const Kt=new Me({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let P=ee=class extends sr{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,o,s,i,a,g){if(t&&typeof t!="string")return t;const u={};return t!=null&&(u.style=t),o!=null&&(u.color=o),s!=null&&(u.width=c(s)),i!=null&&(u.cap=i),a!=null&&(u.join=a),g!=null&&(u.miterLimit=c(g)),u}clone(){var t;return new ee({color:n(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,o;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(o=this.marker)==null?void 0:o.hash()}`}};e([y({esriSLS:"simple-line"},{readOnly:!0})],P.prototype,"type",void 0),e([r({type:Kt.apiValues,json:{read:Kt.read,write:Kt.write}})],P.prototype,"style",void 0),e([r({type:["butt","round","square"],json:{write:{overridePolicy:(t,o,s)=>({enabled:t!=="round"&&(s==null||s.origin==null)})}}})],P.prototype,"cap",void 0),e([r({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,o,s)=>({enabled:t!=="round"&&(s==null||s.origin==null)})}}})],P.prototype,"join",void 0),e([r({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":lr}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],P.prototype,"marker",void 0),e([r({type:Number,json:{read:!1,write:!1}})],P.prototype,"miterLimit",void 0),P=ee=e([l("esri.symbols.SimpleLineSymbol")],P);const at=P;let ht=class extends S{constructor(o){super(o),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};e([r({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":at}},json:{default:null,write:!0}})],ht.prototype,"outline",void 0),e([r({type:["simple-fill","picture-fill"],readOnly:!0})],ht.prototype,"type",void 0),ht=e([l("esri.symbols.FillSymbol")],ht);const yo=ht;let Ct=class extends m{constructor(o){super(o)}clone(){}};e([r({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ct.prototype,"type",void 0),Ct=e([l("esri.symbols.patterns.LinePattern3D")],Ct);const ho=Ct,nr=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var oe;const ar=Pe()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let ct=oe=class extends ho{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new oe(t)}};e([r({type:["style"]})],ct.prototype,"type",void 0),e([y(ar),r({type:nr})],ct.prototype,"style",void 0),ct=oe=e([l("esri.symbols.patterns.LineStylePattern3D")],ct);const We=ct;let Mt=class extends m{constructor(o){super(o)}clone(){}};e([r({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Mt.prototype,"type",void 0),Mt=e([l("esri.symbols.patterns.Pattern3D")],Mt);const co=Mt,pr=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var re;let dt=re=class extends co{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new re(t)}};e([r({type:["style"]})],dt.prototype,"type",void 0),e([r({type:pr,json:{read:!0,write:!0}})],dt.prototype,"style",void 0),dt=re=e([l("esri.symbols.patterns.StylePattern3D")],dt);const uo=dt,yr={types:{key:"type",base:co,typeMap:{style:uo}},json:{write:!0}},mo={types:{key:"type",base:ho,typeMap:{style:We}},json:{write:!0}},St=new d("white");new d("black");const hr=new d([255,255,255,0]);function cr(t){return t.r===0&&t.g===0&&t.b===0}var se;let jt=se=class extends ${constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:p(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new se(t)}};e([y({multiply:"multiply",replace:"replace",tint:"tint"})],jt.prototype,"colorMixMode",void 0),jt=se=e([l("esri.symbols.support.Symbol3DFillMaterial")],jt);function ys(t,{isPrimitive:o,width:s,depth:i,height:a}){const g=o?10:1;if(s==null&&a==null&&i==null)return[g*t[0],g*t[1],g*t[2]];const u=Bo(s,i,a);let V;for(let L=0;L<3;L++){const Ge=u[L];if(Ge!=null){V=Ge/t[L];break}}for(let L=0;L<3;L++)u[L]==null&&(u[L]=t[L]*V);return u}const dr=_e(-.5,-.5,-.5,.5,.5,.5),ur=_e(-.5,-.5,0,.5,.5,1),mr=_e(-.5,-.5,0,.5,.5,.5);function hs(t){switch(t){case"sphere":case"cube":case"diamond":return dr;case"cylinder":case"cone":case"inverted-cone":return ur;case"tetrahedron":return mr;default:return}}const Ue=["butt","square","round"],br=[...Ue,"none"],bo=["miter","bevel","round"];var ie;let E=ie=class extends m{constructor(t){super(t),this.color=new d([0,0,0,1]),this.size=nt(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:p(this.color)?this.color.clone():null,size:this.size,pattern:p(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new ie(t)}};e([r(q)],E.prototype,"color",void 0),e([r(C)],E.prototype,"size",void 0),e([r(mo)],E.prototype,"pattern",void 0),e([r({type:Ue,json:{default:"butt",write:{overridePolicy(){return{enabled:p(this.pattern)}}}}})],E.prototype,"patternCap",void 0),E=ie=e([l("esri.symbols.support.Symbol3DOutline")],E);var Pt;let _=Pt=class extends M{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:p(this.edges)?this.edges.clone():null,enabled:this.enabled,material:p(this.material)?this.material.clone():null,pattern:p(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:p(this.outline)?this.outline.clone():null};return new Pt(t)}static fromSimpleFillSymbol(t){var i,a,g;const o=t.outline&&t.outline.style&&t.outline.style!=="inside-frame"&&t.outline.style!=="solid"?new We({style:t.outline.style}):null,s={size:((i=t.outline)==null?void 0:i.width)??0,color:(((a=t.outline)==null?void 0:a.color)??St).clone(),pattern:o};return o&&((g=t.outline)!=null&&g.cap)&&(s.patternCap=t.outline.cap),new Pt({material:new jt({color:(t.color??hr).clone()}),pattern:t.style&&t.style!=="solid"?new uo({style:t.style}):null,outline:s})}};e([y({Fill:"fill"},{readOnly:!0})],_.prototype,"type",void 0),e([r({type:jt,json:{write:!0}})],_.prototype,"material",void 0),e([r(yr)],_.prototype,"pattern",void 0),e([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_.prototype,"castShadows",void 0),e([r({type:E,json:{write:!0}})],_.prototype,"outline",void 0),e([r(no)],_.prototype,"edges",void 0),_=Pt=e([l("esri.symbols.FillSymbol3DLayer")],_);const zt=_,fr=["none","underline","line-through"],wr=["normal","italic","oblique"],gr=["normal","lighter","bold","bolder"],fo={type:Number,cast:t=>{const o=Ho(t);return o===0?1:Eo(o,.1,4)},nonNullable:!0},vr=["left","right","center"],$r=["baseline","top","middle","bottom"],wo={type:vr,nonNullable:!0},go={type:$r,nonNullable:!0};var le;let A=le=class extends m{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return c(t)}clone(){return new le({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};e([r({type:fr,json:{default:"none",write:!0}})],A.prototype,"decoration",void 0),e([r({type:String,json:{write:!0}})],A.prototype,"family",void 0),e([r({type:Number,json:{write:{overridePolicy:(t,o,s)=>({enabled:!s||!s.textSymbol3D})}}})],A.prototype,"size",void 0),e([Ne("size")],A.prototype,"castSize",null),e([r({type:wr,json:{default:"normal",write:!0}})],A.prototype,"style",void 0),e([r({type:gr,json:{default:"normal",write:!0}})],A.prototype,"weight",void 0),A=le=e([l("esri.symbols.Font")],A);const Vt=A;var ne;const Sr=Pe()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let K=ne=class extends m{constructor(t){super(t)}readHref(t,o,s){return t?Te(t,s):o.dataURI}writeHref(t,o,s,i){t&&(eo(t)?o.dataURI=t:(o.href=so(t,i),Ae(o.href)&&(o.href=oo(o.href))))}clone(){return new ne({href:this.href,primitive:this.primitive})}};e([r({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],K.prototype,"href",void 0),e([lt("href")],K.prototype,"readHref",null),e([T("href",{href:{type:String},dataURI:{type:String}})],K.prototype,"writeHref",null),e([y(Sr)],K.prototype,"primitive",void 0),K=ne=e([l("esri.symbols.support.IconSymbol3DLayerResource")],K);var ae;let st=ae=class extends It{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new ae({x:this.x,y:this.y})}};e([r({type:Number})],st.prototype,"x",void 0),e([r({type:Number})],st.prototype,"y",void 0),st=ae=e([l("esri.symbols.support.Symbol3DAnchorPosition2D")],st);var pe;let ut=pe=class extends m{constructor(t){super(t),this.color=new d([0,0,0,1]),this.size=nt(1)}clone(){const t={color:p(this.color)?this.color.clone():null,size:this.size};return new pe(t)}};e([r(q)],ut.prototype,"color",void 0),e([r(C)],ut.prototype,"size",void 0),ut=pe=e([l("esri.symbols.support.Symbol3DIconOutline")],ut);var ot;const vo="esri.symbols.IconSymbol3DLayer";let k=ot=class extends M{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new ot({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:p(this.material)?this.material.clone():null,outline:p(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){const o=t.color||St,s=Ze(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||St).clone()}:null;return new ot({size:t.size,resource:{primitive:xr(t.style)},material:{color:o},outline:i,anchor:s?"relative":void 0,anchorPosition:s})}static fromPictureMarkerSymbol(t){const o=!t.color||cr(t.color)?St:t.color,s=Ze(t);return new ot({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:o.clone()},anchor:s?"relative":void 0,anchorPosition:s})}static fromCIMSymbol(t){return new ot({resource:{href:ro({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function Ze(t){const o="width"in t?t.width:t.size,s="height"in t?t.height:t.size,i=to(t.xoffset),a=to(t.yoffset);return(i||a)&&o&&s?{x:-i/o,y:a/s}:null}function to(t){return isFinite(t)?t:0}e([r({type:$,json:{write:!0}})],k.prototype,"material",void 0),e([r({type:K,json:{write:!0}})],k.prototype,"resource",void 0),e([y({Icon:"icon"},{readOnly:!0})],k.prototype,"type",void 0),e([r(C)],k.prototype,"size",void 0),e([y({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),r({json:{default:"center"}})],k.prototype,"anchor",void 0),e([r({type:st,json:{type:[Number],read:{reader:t=>new st({x:t[0],y:t[1]})},write:{writer:(t,o)=>{o.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],k.prototype,"anchorPosition",void 0),e([r({type:ut,json:{write:!0}})],k.prototype,"outline",void 0),k=ot=e([l(vo)],k);const jr={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function xr(t){return jr[t]||(Ce.getLogger(vo).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const tt=k;let J=class extends lo(m){constructor(o){super(o),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(o){return p(o)&&o.placement===this.placement&&o.style===this.style&&(Ye(this.color)&&Ye(o.color)||p(this.color)&&p(o.color)&&this.color.toJSON()===o.color.toJSON())}};e([r({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],J.prototype,"type",void 0),e([r({type:ir,json:{default:"begin-end",write:!0}})],J.prototype,"placement",void 0),e([r({type:po,json:{default:"arrow",write:!0}})],J.prototype,"style",void 0),e([r({type:d,json:{type:[$t],default:null,write:!0}})],J.prototype,"color",void 0),J=e([l("esri.symbols.LineStyleMarker3D")],J);const ye=J;var _t;let O=_t=class extends M{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=nt(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:p(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:p(this.pattern)?this.pattern.clone():null,marker:p(this.marker)?this.marker.clone():null};return new _t(t)}static fromSimpleLineSymbol(t){var s;const o={enabled:!0,size:t.width??nt(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&t.style!=="inside-frame"?new We({style:t.style}):null,material:new $({color:(t.color||St).clone()}),marker:t.marker?new ye({placement:t.marker.placement,style:t.marker.style,color:((s=t.marker.color)==null?void 0:s.clone())??null}):null};return new _t(o)}};e([r({type:$,json:{write:!0}})],O.prototype,"material",void 0),e([y({Line:"line"},{readOnly:!0})],O.prototype,"type",void 0),e([r({type:bo,json:{write:!0,default:"miter"}})],O.prototype,"join",void 0),e([r({type:Ue,json:{write:!0,default:"butt"}})],O.prototype,"cap",void 0),e([r(C)],O.prototype,"size",void 0),e([r(mo)],O.prototype,"pattern",void 0),e([r({types:{key:"type",base:ye,typeMap:{style:ye}},json:{write:!0}})],O.prototype,"marker",void 0),O=_t=e([l("esri.symbols.LineSymbol3DLayer")],O);const kt=O;var he;const Lr=Pe()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let mt=he=class extends m{clone(){return new he({href:this.href,primitive:this.primitive})}};e([r({type:String,json:{read:io,write:Ht}})],mt.prototype,"href",void 0),e([y(Lr)],mt.prototype,"primitive",void 0),mt=he=e([l("esri.symbols.support.ObjectSymbol3DLayerResource")],mt);var ce;let Z=ce=class extends It{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ce({x:this.x,y:this.y,z:this.z})}};e([r({type:Number})],Z.prototype,"x",void 0),e([r({type:Number})],Z.prototype,"y",void 0),e([r({type:Number})],Z.prototype,"z",void 0),Z=ce=e([l("esri.symbols.support.Symbol3DAnchorPosition3D")],Z);var de;let b=de=class extends M{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new de({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:p(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};e([r({type:$,json:{write:!0}})],b.prototype,"material",void 0),e([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0),e([r({type:mt,json:{write:!0}})],b.prototype,"resource",void 0),e([y({Object:"object"},{readOnly:!0})],b.prototype,"type",void 0),e([r({type:Number,json:{write:!0}})],b.prototype,"width",void 0),e([r({type:Number,json:{write:!0}})],b.prototype,"height",void 0),e([r({type:Number,json:{write:!0}})],b.prototype,"depth",void 0),e([y({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),r({json:{default:"origin"}})],b.prototype,"anchor",void 0),e([r({type:Z,json:{type:[Number],read:{reader:t=>new Z({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,o)=>{o.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],b.prototype,"anchorPosition",void 0),e([r({type:Number,json:{write:!0}})],b.prototype,"heading",void 0),e([r({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0),e([r({type:Number,json:{write:!0}})],b.prototype,"roll",void 0),e([r({readOnly:!0})],b.prototype,"isPrimitive",null),b=de=e([l("esri.symbols.ObjectSymbol3DLayer")],b);const He=b;var ue;let f=ue=class extends M{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,o){return t??(o.height==null&&o.size!=null?o.size:void 0)}readHeight(t,o){return t??(o.width==null&&o.size!=null?o.size:void 0)}clone(){return new ue({enabled:this.enabled,material:p(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};e([r({type:$,json:{write:!0}})],f.prototype,"material",void 0),e([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0),e([y({Path:"path"},{readOnly:!0})],f.prototype,"type",void 0),e([r({type:["circle","quad"],json:{write:!0,default:"circle"}})],f.prototype,"profile",void 0),e([r({type:bo,json:{write:!0,default:"miter"}})],f.prototype,"join",void 0),e([r({type:br,json:{write:!0,default:"butt"}})],f.prototype,"cap",void 0),e([r({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],f.prototype,"width",void 0),e([lt("width",["width","size","height"])],f.prototype,"readWidth",null),e([r({type:Number,json:{write:!0}})],f.prototype,"height",void 0),e([lt("height",["height","size","width"])],f.prototype,"readHeight",null),e([r({type:["center","bottom","top"],json:{write:!0,default:"center"}})],f.prototype,"anchor",void 0),e([r({type:["heading","all"],json:{write:!0,default:"all"}})],f.prototype,"profileRotation",void 0),f=ue=e([l("esri.symbols.PathSymbol3DLayer")],f);const Ie=f;var me;let it=me=class extends m{constructor(){super(...arguments),this.color=new d([0,0,0,1]),this.size=0}clone(){const t={color:n(this.color),size:this.size};return new me(t)}};e([r(q)],it.prototype,"color",void 0),e([r(C)],it.prototype,"size",void 0),it=me=e([l("esri.symbols.support.Symbol3DHalo")],it);let xt=class extends lo(m){constructor(o){super(o),this.color=null}};e([r(q)],xt.prototype,"color",void 0),xt=e([l("esri.symbols.support.Symbol3DTextBackground")],xt);var At;let w=At=class extends M{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){p(t)&&p(this._userSize)&&(t.size=this._userSize),this._set("font",t)}writeFont(t,o,s,i){const a={...i,textSymbol3D:!0};o.font=t.write({},a),delete o.font.size}get size(){return p(this._userSize)?this._userSize:p(this.font)&&this.font.size!=null?this.font.size:9}set size(t){this._userSize=t,p(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new At({enabled:this.enabled,font:this.font&&n(this.font),halo:this.halo&&n(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:p(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:n(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new At({font:p(t.font)?t.font.clone():new Vt,halo:zr(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new $({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new xt({color:t.backgroundColor.clone()}):null})}};function zr(t,o){return t&&o!=null&&o>0?new it({color:n(t),size:o}):null}e([r({type:Vt,json:{write:!0}})],w.prototype,"font",null),e([T("font")],w.prototype,"writeFont",null),e([r({type:it,json:{write:!0}})],w.prototype,"halo",void 0),e([r({...wo,json:{default:"center",write:!0}})],w.prototype,"horizontalAlignment",void 0),e([r({...fo,json:{default:1,write:!0}})],w.prototype,"lineHeight",void 0),e([r({type:$,json:{write:!0}})],w.prototype,"material",void 0),e([r({type:xt,json:{write:!0}})],w.prototype,"background",void 0),e([r(C)],w.prototype,"size",null),e([r({type:String,json:{write:!0}})],w.prototype,"text",void 0),e([y({Text:"text"},{readOnly:!0})],w.prototype,"type",void 0),e([r({...go,json:{default:"baseline",write:!0}})],w.prototype,"verticalAlignment",void 0),w=At=e([l("esri.symbols.TextSymbol3DLayer")],w);const pt=w;var be;let W=be=class extends M{constructor(t){super(t),this.color=fe.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new be({color:n(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};e([r({type:d,nonNullable:!0,json:{type:[$t],write:(t,o,s)=>o[s]=t.toArray(d.AlphaMode.UNLESS_OPAQUE),default:()=>fe.clone(),defaultEquals:t=>t.toCss(!0)===fe.toCss(!0)}})],W.prototype,"color",void 0),e([y({Water:"water"},{readOnly:!0})],W.prototype,"type",void 0),e([r({type:["small","medium","large"],json:{write:!0,default:"medium"}})],W.prototype,"waterbodySize",void 0),e([r({type:Number,json:{write:!0,default:null}})],W.prototype,"waveDirection",void 0),e([r({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],W.prototype,"waveStrength",void 0),W=be=e([l("esri.symbols.WaterSymbol3DLayer")],W);const fe=new d([0,119,190]),$o=W;var we;let X=we=class extends It{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new we({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};e([r({type:String})],X.prototype,"name",void 0),e([r({type:String})],X.prototype,"styleUrl",void 0),e([r({type:String})],X.prototype,"styleName",void 0),e([r({type:qt})],X.prototype,"portal",void 0),X=we=e([l("esri.symbols.support.StyleOrigin")],X);const ge=X;var ve;let Lt=ve=class extends It{constructor(){super(...arguments),this.url=""}clone(){return new ve({url:this.url})}};e([r({type:String})],Lt.prototype,"url",void 0),Lt=ve=e([l("esri.symbols.support.Thumbnail")],Lt);const So={icon:tt,object:He,line:kt,path:Ie,fill:zt,extrude:ao,text:pt,water:$o},kr=R.ofType({base:M,key:"type",typeMap:So,errorContext:"symbol-layer"});let D=class extends S{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const o=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,s=o&&o.type||R;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&Ce.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Qo(t,this._get("symbolLayers"))}readStyleOrigin(t,o,s){if(t.styleUrl&&t.name){const i=Te(t.styleUrl,s);return new ge({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new ge({portal:s&&s.portal||qt.getDefault(),styleName:t.styleName,name:t.name});s&&s.messages&&s.messages.push(new Qe("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:s,definition:t}))}writeStyleOrigin(t,o,s,i){if(t.styleUrl&&t.name){let a=so(t.styleUrl,i);Ae(a)&&(a=oo(a)),o.styleOrigin={styleUrl:a,name:t.name}}else t.styleName&&t.name&&(t.portal&&i&&i.portal&&!Ko(t.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new Qe("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):o.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof M||t&&So[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};e([r({json:{read:!1,write:!1}})],D.prototype,"color",null),e([r({type:kr,nonNullable:!0,json:{write:!0}}),Ne(Go)],D.prototype,"symbolLayers",null),e([r({type:ge})],D.prototype,"styleOrigin",void 0),e([lt("styleOrigin")],D.prototype,"readStyleOrigin",null),e([T("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],D.prototype,"writeStyleOrigin",null),e([r({type:Lt,json:{read:!1}})],D.prototype,"thumbnail",void 0),e([r({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],D.prototype,"type",void 0),D=e([l("esri.symbols.Symbol3D")],D);const Ot=D;let bt=class extends m{constructor(t){super(t),this.visible=!0}clone(){}};e([r({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],bt.prototype,"type",void 0),e([r({readOnly:!0})],bt.prototype,"visible",void 0),bt=e([l("esri.symbols.callouts.Callout3D")],bt);const jo=bt;var $e;let Tt=$e=class extends m{constructor(){super(...arguments),this.color=new d("white")}clone(){return new $e({color:n(this.color)})}};e([r(q)],Tt.prototype,"color",void 0),Tt=$e=e([l("esri.symbols.callouts.LineCallout3DBorder")],Tt);const xo=Tt;Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));var Se;let U=Se=class extends jo{constructor(t){super(t),this.type="line",this.color=new d([0,0,0,1]),this.size=nt(1),this.border=null}get visible(){return this.size>0&&p(this.color)&&this.color.a>0}clone(){return new Se({color:n(this.color),size:this.size,border:n(this.border)})}};e([y({line:"line"},{readOnly:!0})],U.prototype,"type",void 0),e([r(q)],U.prototype,"color",void 0),e([r(C)],U.prototype,"size",void 0),e([r({type:xo,json:{write:!0}})],U.prototype,"border",void 0),e([r({readOnly:!0})],U.prototype,"visible",null),U=Se=e([l("esri.symbols.callouts.LineCallout3D")],U);const Or=U;function Re(t){if(!t)return!1;const o=t.verticalOffset;return!!o&&!(o.screenLength<=0||p(o.maxWorldLength)&&o.maxWorldLength<=0)}function Lo(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const o=t.callout;return!!o&&!!o.visible&&!!Re(t)}const zo={types:{key:"type",base:jo,typeMap:{line:Or}},json:{write:!0}};var je;let rt=je=class extends m{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new je({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};e([r(C)],rt.prototype,"screenLength",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0,default:0}})],rt.prototype,"minWorldLength",void 0),e([r({type:Number,json:{write:!0}})],rt.prototype,"maxWorldLength",void 0),rt=je=e([l("esri.symbols.support.Symbol3DVerticalOffset")],rt);const ko=rt;var Ft;const Oo=R.ofType({base:null,key:"type",typeMap:{text:pt}});let H=Ft=class extends Ot{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Oo,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Lo(this)}hasVisibleVerticalOffset(){return Re(this)}clone(){return new Ft({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail),callout:n(this.callout),verticalOffset:n(this.verticalOffset)})}static fromTextSymbol(t){return new Ft({symbolLayers:[pt.fromTextSymbol(t)]})}};e([r({type:ko,json:{write:!0}})],H.prototype,"verticalOffset",void 0),e([r(zo)],H.prototype,"callout",void 0),e([r({json:{read:!1,write:!1}})],H.prototype,"styleOrigin",void 0),e([r({type:Oo})],H.prototype,"symbolLayers",void 0),e([y({LabelSymbol3D:"label-3d"},{readOnly:!0})],H.prototype,"type",void 0),H=Ft=e([l("esri.symbols.LabelSymbol3D")],H);const qe=H;var Wt;const Do=R.ofType({base:null,key:"type",typeMap:{line:kt,path:Ie}}),Dr=R.ofType({base:null,key:"type",typeMap:{line:kt,path:Ie}});let ft=Wt=class extends Ot{constructor(t){super(t),this.symbolLayers=new Do,this.type="line-3d"}clone(){return new Wt({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Wt({symbolLayers:[kt.fromSimpleLineSymbol(t)]})}};e([r({type:Do,json:{type:Dr}})],ft.prototype,"symbolLayers",void 0),e([y({LineSymbol3D:"line-3d"},{readOnly:!0})],ft.prototype,"type",void 0),ft=Wt=e([l("esri.symbols.LineSymbol3D")],ft);const Ve=ft;let I=class extends S{constructor(o){super(o),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};e([r({type:Number,json:{read:t=>t&&-1*t,write:(t,o)=>o.angle=t&&-1*t}})],I.prototype,"angle",void 0),e([r({type:["simple-marker","picture-marker"],readOnly:!0})],I.prototype,"type",void 0),e([r({type:Number,cast:c,json:{write:!0}})],I.prototype,"xoffset",void 0),e([r({type:Number,cast:c,json:{write:!0}})],I.prototype,"yoffset",void 0),e([r({type:Number,cast:t=>t==="auto"?t:c(t),json:{write:!0}})],I.prototype,"size",void 0),I=e([l("esri.symbols.MarkerSymbol")],I);const No=I;var Ut;const Co=R.ofType({base:null,key:"type",typeMap:{fill:zt}});let wt=Ut=class extends Ot{constructor(t){super(t),this.symbolLayers=new Co,this.type="mesh-3d"}clone(){return new Ut({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromSimpleFillSymbol(t){return new Ut({symbolLayers:[zt.fromSimpleFillSymbol(t)]})}};e([r({type:Co})],wt.prototype,"symbolLayers",void 0),e([y({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],wt.prototype,"type",void 0),wt=Ut=e([l("esri.symbols.MeshSymbol3D")],wt);const Be=wt;function Nr(t,o,s){return o.imageData?ro({mediaType:o.contentType||"image/png",isBase64:!0,data:o.imageData}):Mo(o.url,s)}function Mo(t,o){var s;return Mr(o)&&!Ae(t)&&((s=o==null?void 0:o.layer)!=null&&s.parsedUrl)?Jo(o.layer.parsedUrl.path,"images",t):Te(t,o)}function Cr(t,o,s,i){if(eo(t)){const a=Xo(t);if(!a)return;o.contentType=a.mediaType,o.imageData=a.data,s&&s.imageData===o.imageData&&s.url&&Ht(s.url,o,"url",i)}else Ht(t,o,"url",i)}const Po={json:{read:{source:["imageData","url"],reader:Nr},write:{writer(t,o,s,i){Cr(t,o,this.source,i)}}}},_o={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,o,s){const i={};return o.imageData&&(i.imageData=o.imageData),o.contentType&&(i.contentType=o.contentType),o.url&&(i.url=Mo(o.url,s)),i}}}};function Mr(t){var o,s;return!(t==null||t.origin!=="service"&&t.origin!=="portal-item"||((o=t.layer)==null?void 0:o.type)!=="feature"&&((s=t.layer)==null?void 0:s.type)!=="stream")}var xe;let v=xe=class extends yo{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,o,s,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const a={};return t&&(a.url=t),o&&(a.outline=o),s!=null&&(a.width=c(s)),i!=null&&(a.height=c(i)),a}clone(){const t=new xe({color:n(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",n(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};e([y({esriPFS:"picture-fill"},{readOnly:!0})],v.prototype,"type",void 0),e([r(Po)],v.prototype,"url",void 0),e([r({type:Number,json:{write:!0}})],v.prototype,"xscale",void 0),e([r({type:Number,json:{write:!0}})],v.prototype,"yscale",void 0),e([r({type:Number,cast:c,json:{write:!0}})],v.prototype,"width",void 0),e([r({type:Number,cast:c,json:{write:!0}})],v.prototype,"height",void 0),e([r({type:Number,cast:c,json:{write:!0}})],v.prototype,"xoffset",void 0),e([r({type:Number,cast:c,json:{write:!0}})],v.prototype,"yoffset",void 0),e([r(_o)],v.prototype,"source",void 0),v=xe=e([l("esri.symbols.PictureFillSymbol")],v);const Ao=v;var Le;let j=Le=class extends No{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,o,s){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),o!=null&&(i.width=c(o)),s!=null&&(i.height=c(s)),i}readHeight(t,o){return o.size||t}readWidth(t,o){return o.size||t}clone(){const t=new Le({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",n(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};e([r({json:{write:!1}})],j.prototype,"color",void 0),e([y({esriPMS:"picture-marker"},{readOnly:!0})],j.prototype,"type",void 0),e([r(Po)],j.prototype,"url",void 0),e([r(_o)],j.prototype,"source",void 0),e([r({type:Number,cast:c,json:{write:!0}})],j.prototype,"height",void 0),e([lt("height",["height","size"])],j.prototype,"readHeight",null),e([r({type:Number,cast:c,json:{write:!0}})],j.prototype,"width",void 0),e([r({json:{write:!1}})],j.prototype,"size",void 0),j=Le=e([l("esri.symbols.PictureMarkerSymbol")],j);const Ee=j;var G;const To=R.ofType({base:null,key:"type",typeMap:{icon:tt,object:He,text:pt}});let Q=G=class extends Ot{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new To,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Lo(this)}hasVisibleVerticalOffset(){return Re(this)}clone(){return new G({verticalOffset:n(this.verticalOffset),callout:n(this.callout),styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new G({symbolLayers:[tt.fromSimpleMarkerSymbol(t)]})}static fromPictureMarkerSymbol(t){return new G({symbolLayers:[tt.fromPictureMarkerSymbol(t)]})}static fromCIMSymbol(t){var i,a;if(((a=(i=t.data)==null?void 0:i.symbol)==null?void 0:a.type)!=="CIMPointSymbol")return null;const s=t.data.symbol;return new G(s!=null&&s.callout?{symbolLayers:[tt.fromCIMSymbol(t)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[tt.fromCIMSymbol(t)]})}static fromTextSymbol(t){return new G({symbolLayers:[pt.fromTextSymbol(t)]})}};e([r({type:ko,json:{write:!0}})],Q.prototype,"verticalOffset",void 0),e([r(zo)],Q.prototype,"callout",void 0),e([r({type:To,json:{origins:{"web-scene":{write:!0}}}})],Q.prototype,"symbolLayers",void 0),e([y({PointSymbol3D:"point-3d"},{readOnly:!0})],Q.prototype,"type",void 0),Q=G=e([l("esri.symbols.PointSymbol3D")],Q);const Ke=Q;var gt;const Fo=R.ofType({base:null,key:"type",typeMap:{extrude:ao,fill:zt,icon:tt,line:kt,object:He,text:pt,water:$o}});let vt=gt=class extends Ot{constructor(t){super(t),this.symbolLayers=new Fo,this.type="polygon-3d"}clone(){return new gt({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromJSON(t){const o=new gt;if(o.read(t),o.symbolLayers.length===2&&o.symbolLayers.getItemAt(0).type==="fill"&&o.symbolLayers.getItemAt(1).type==="line"){const s=o.symbolLayers.getItemAt(0),i=o.symbolLayers.getItemAt(1);!i.enabled||t.symbolLayers&&t.symbolLayers[1]&&t.symbolLayers[1].enable===!1||(s.outline={size:i.size,color:p(i.material)?i.material.color:null}),o.symbolLayers.removeAt(1)}return o}static fromSimpleFillSymbol(t){return new gt({symbolLayers:[zt.fromSimpleFillSymbol(t)]})}};e([r({type:Fo,json:{write:!0}})],vt.prototype,"symbolLayers",void 0),e([y({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],vt.prototype,"type",void 0),vt=gt=e([l("esri.symbols.PolygonSymbol3D")],vt);const Je=vt;var ze;const Jt=new Me({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Y=ze=class extends yo{constructor(...t){super(...t),this.color=new d([0,0,0,.25]),this.outline=new at,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,o,s){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),o&&(i.outline=o),s&&(i.color=s),i}clone(){return new ze({color:n(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};e([r()],Y.prototype,"color",void 0),e([r()],Y.prototype,"outline",void 0),e([y({esriSFS:"simple-fill"},{readOnly:!0})],Y.prototype,"type",void 0),e([r({type:Jt.apiValues,json:{read:Jt.read,write:Jt.write}})],Y.prototype,"style",void 0),Y=ze=e([l("esri.symbols.SimpleFillSymbol")],Y);const Wo=Y;var ke;const Xt=new Me({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let N=ke=class extends No{constructor(...t){super(...t),this.color=new d([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new at}normalizeCtorArgs(t,o,s,i){if(t&&typeof t!="string")return t;const a={};return t&&(a.style=t),o!=null&&(a.size=c(o)),s&&(a.outline=s),i&&(a.color=i),a}writeColor(t,o){t&&this.style!=="x"&&this.style!=="cross"&&(o.color=t.toJSON()),t===null&&(o.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new ke({angle:this.angle,color:n(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};e([r()],N.prototype,"color",void 0),e([T("color")],N.prototype,"writeColor",null),e([y({esriSMS:"simple-marker"},{readOnly:!0})],N.prototype,"type",void 0),e([r()],N.prototype,"size",void 0),e([r({type:Xt.apiValues,json:{read:Xt.read,write:Xt.write}})],N.prototype,"style",void 0),e([r({type:String,json:{write:!0}})],N.prototype,"path",null),e([r({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":at}},json:{default:null,write:!0}})],N.prototype,"outline",void 0),N=ke=e([l("esri.symbols.SimpleMarkerSymbol")],N);const Xe=N;var Oe;let h=Oe=class extends S{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Vt,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,o,s){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),o&&(i.font=o),s&&(i.color=s),i}writeLineWidth(t,o,s,i){i&&typeof i!="string"?i.origin:o[s]=t}castLineWidth(t){return c(t)}writeLineHeight(t,o,s,i){i&&typeof i!="string"?i.origin:o[s]=t}clone(){return new Oe({angle:this.angle,backgroundColor:n(this.backgroundColor),borderLineColor:n(this.borderLineColor),borderLineSize:this.borderLineSize,color:n(this.color),font:this.font&&this.font.clone(),haloColor:n(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};e([r({type:d,json:{write:!0}})],h.prototype,"backgroundColor",void 0),e([r({type:d,json:{write:!0}})],h.prototype,"borderLineColor",void 0),e([r({type:Number,json:{write:!0}})],h.prototype,"borderLineSize",void 0),e([r({type:Vt,json:{write:!0}})],h.prototype,"font",void 0),e([r({...wo,json:{write:!0}})],h.prototype,"horizontalAlignment",void 0),e([r({type:Boolean,json:{write:!0}})],h.prototype,"kerning",void 0),e([r({type:d,json:{write:!0}})],h.prototype,"haloColor",void 0),e([r({type:Number,cast:c,json:{write:!0}})],h.prototype,"haloSize",void 0),e([r({type:Boolean,json:{write:!0}})],h.prototype,"rightToLeft",void 0),e([r({type:Boolean,json:{write:!0}})],h.prototype,"rotated",void 0),e([r({type:String,json:{write:!0}})],h.prototype,"text",void 0),e([y({esriTS:"text"},{readOnly:!0})],h.prototype,"type",void 0),e([r({...go,json:{write:!0}})],h.prototype,"verticalAlignment",void 0),e([r({type:Number,cast:c,json:{write:!0}})],h.prototype,"xoffset",void 0),e([r({type:Number,cast:c,json:{write:!0}})],h.prototype,"yoffset",void 0),e([r({type:Number,json:{read:t=>t&&-1*t,write:(t,o)=>o.angle=t&&-1*t}})],h.prototype,"angle",void 0),e([r({type:Number,json:{write:!0}})],h.prototype,"width",void 0),e([r({type:Number})],h.prototype,"lineWidth",void 0),e([T("lineWidth")],h.prototype,"writeLineWidth",null),e([Ne("lineWidth")],h.prototype,"castLineWidth",null),e([r(fo)],h.prototype,"lineHeight",void 0),e([T("lineHeight")],h.prototype,"writeLineHeight",null),h=Oe=e([l("esri.symbols.TextSymbol")],h);const Bt=h;var De;let x=De=class extends S{constructor(t){super(t),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=p(this.portal)?this.portal:qt.getDefault(),o=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${o}:${t.url}`}read(t,o){this.portal=o?o.portal:void 0,super.read(t,o)}clone(){return new De({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,o){const s=p(o)?o.cache:null,i=s?this._fetchCacheKey:null;if(p(s)){const V=i&&s.get(i);if(V)return V.clone()}const a=await Pr();Zo(o);const g=a.resolveWebStyleSymbol(this,{portal:this.portal},t,o);g.catch(V=>{Ce.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",V)});const u=await g;return t==="webRef"&&u.type==="point-3d"||t==="cimRef"&&u.type==="cim"?(p(s)&&s.set(i,u.clone()),u):null}};function Pr(){return Yo(()=>import("./webStyleSymbolUtils-346528e6.js"),["assets/webStyleSymbolUtils-346528e6.js","assets/devEnvironmentUtils-5002a058.js","assets/Error-bd05b442.js","assets/string-3d0ebcd3.js","assets/typedArrayUtil-2bcf3cee.js","assets/request-c2b0ab45.js","assets/preload-helper-101896b7.js","assets/promiseUtils-29120e0a.js","assets/Portal-ac0dca24.js","assets/cast-daef7652.js","assets/ensureType-fa162cfc.js","assets/nextTick-3ee5a785.js","assets/Loadable-7c89bd10.js","assets/Promise-088a0e17.js","assets/Extent-7f29a1bb.js","assets/locale-30120714.js","assets/PortalGroup-f3dee6d8.js","assets/jsonMap-a9c94baf.js","assets/PortalUser-cdb4116b.js","assets/persistableUrlUtils-7e525def.js","assets/jsonUtils-f34afef9.js","assets/styleUtils-84c98663.js","assets/CIMSymbol-d0e12b74.js","assets/enumeration-e46f3fd4.js","assets/fieldUtils-021fea8a.js","assets/arcadeOnDemand-87969052.js","assets/geometry-4b789d90.js","assets/Polyline-c56eca9b.js","assets/typeUtils-d7b057b5.js","assets/Symbol-f45dc441.js","assets/Color-2245b966.js","assets/colorUtils-639f4d25.js","assets/mathUtils-daf59e84.js","assets/common-701a4199.js","assets/screenUtils-7afeb41c.js","assets/opacityUtils-94fd2faa.js","assets/aaBoundingBox-6fbd5972.js","assets/Collection-e2259e32.js","assets/Evented-d8fc77f0.js","assets/SimpleObservable-7c382d01.js","assets/collectionUtils-09289d8f.js","assets/Clonable-f249bc0f.js"])}e([r({json:{write:!1}})],x.prototype,"color",void 0),e([r({type:String,json:{write:!0}})],x.prototype,"styleName",void 0),e([r({type:qt,json:{write:!1}})],x.prototype,"portal",void 0),e([r({type:String,json:{read:io,write:Ht}})],x.prototype,"styleUrl",void 0),e([r({type:Lt,json:{read:!1}})],x.prototype,"thumbnail",void 0),e([r({type:String,json:{write:!0}})],x.prototype,"name",void 0),e([y({styleSymbolReference:"web-style"},{readOnly:!0})],x.prototype,"type",void 0),e([r()],x.prototype,"_fetchCacheKey",null),x=De=e([l("esri.symbols.WebStyleSymbol")],x);const Et=x;function ms(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function bs(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Uo={base:S,key:"type",typeMap:{"simple-fill":Wo,"picture-fill":Ao,"picture-marker":Ee,"simple-line":at,"simple-marker":Xe,text:Bt,"label-3d":qe,"line-3d":Ve,"mesh-3d":Be,"point-3d":Ke,"polygon-3d":Je,"web-style":Et,cim:Rt},errorContext:"symbol"},fs={base:S,key:"type",typeMap:{"picture-marker":Ee,"simple-marker":Xe,text:Bt,"web-style":Et,cim:Rt},errorContext:"symbol"},ws=Ro({types:Uo}),gs={base:S,key:"type",typeMap:{"simple-fill":Wo,"picture-fill":Ao,"picture-marker":Ee,"simple-line":at,"simple-marker":Xe,text:Bt,"line-3d":Ve,"mesh-3d":Be,"point-3d":Ke,"polygon-3d":Je,"web-style":Et,cim:Rt},errorContext:"symbol"},vs={base:S,key:"type",typeMap:{text:Bt,"label-3d":qe},errorContext:"symbol"},$s={base:S,key:"type",typeMap:{"line-3d":Ve,"mesh-3d":Be,"point-3d":Ke,"polygon-3d":Je,"web-style":Et,cim:Rt},errorContext:"symbol"},Ss={base:S,key:"type",typeMap:{"label-3d":qe},errorContext:"symbol"},js=Io(Uo);export{fs as D,Ss as F,gs as M,vs as P,Wo as S,Je as a,Bt as b,bs as c,Ke as d,Ve as e,Et as f,js as g,$s as h,Be as i,Uo as j,qe as k,$ as l,at as m,Ee as n,Ot as o,ws as p,Lt as q,ge as r,hs as s,ys as t,no as u,ms as x,Xe as y};
