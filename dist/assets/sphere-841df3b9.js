import{gJ as l,b as d,gp as q,gu as b,gq as v,he as y,b_ as $,D as j,gw as P,hb as R}from"./index-cc043433.js";import{O,s as w}from"./ray-c1e097ff.js";import{c as C}from"./vec4-3dd523e8.js";import{c as D}from"./vec4f64-efdcb593.js";function m(t){return t?{origin:l(t.origin),vector:l(t.vector)}:{origin:d(),vector:d()}}function A(t,s,c=m()){return q(c.origin,t),b(c.vector,s,t),c}function B(t,s,c){return h(t,s,0,1,c)}function h(t,s,c,a,r){const{vector:n,origin:i}=t,e=b(w.get(),s,i),u=v(n,e)/y(n);return $(r,n,j(u,c,a)),P(r,r,t.origin)}new O(()=>m());function k(){return D()}function E(t,s=k()){return C(s,t)}function x(t){return t[3]}function F(t){return t}function J(t,s,c){if(s==null)return!1;const{origin:a,direction:r}=s,n=M;n[0]=a[0]-t[0],n[1]=a[1]-t[1],n[2]=a[2]-t[2];const i=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(i===0)return!1;const e=2*(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]),u=n[0]*n[0]+n[1]*n[1]+n[2]*n[2]-t[3]*t[3],g=e*e-4*i*u;if(g<0)return!1;const p=Math.sqrt(g);let o=(-e-p)/(2*i);const f=(-e+p)/(2*i);return(o<0||f<o&&f>0)&&(o=f),o<0?!1:(c&&(c[0]=a[0]+r[0]*o,c[1]=a[1]+r[1]*o,c[2]=a[2]+r[2]*o),!0)}const M=d();function G(t,s){return J(t,s,null)}function H(t,s){const c=R(t,s),a=x(t),r=a*a;return c<=r}export{F as a,k as b,E as c,m as d,H as e,A as f,x as g,G as i,B as p};
