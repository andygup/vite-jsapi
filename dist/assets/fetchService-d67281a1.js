import{U as o}from"./request-c2b0ab45.js";async function c(r,e){var t,y;let a=await l(r,e);a=a||{},a.layers=((t=a.layers)==null?void 0:t.filter(i))||[];const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const s=await l(r+"/layers",e);return n.layersJSON={layers:((y=s==null?void 0:s.layers)==null?void 0:y.filter(i))||[],tables:(s==null?void 0:s.tables)||[]},n}function i(r){return!r.type||r.type==="Feature Layer"}async function l(r,e){return(await o(r,{responseType:"json",query:{f:"json",...e==null?void 0:e.customParameters,token:e==null?void 0:e.apiKey}})).data}export{l as a,c as r};
