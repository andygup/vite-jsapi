import{e as O}from"./tooltip-93f07e20.js";import"./widget-8a5f4608.js";import"./cast-daef7652.js";import"./typedArrayUtil-2bcf3cee.js";import"./string-3d0ebcd3.js";import"./Error-bd05b442.js";import"./ensureType-fa162cfc.js";import"./nextTick-3ee5a785.js";import"./promiseUtils-29120e0a.js";import"./intl-afc91037.js";import"./number-53937715.js";import"./jsonMap-a9c94baf.js";import"./locale-30120714.js";import"./messages-03a939ad.js";import"./request-c2b0ab45.js";import"./preload-helper-101896b7.js";import"./assets-4cb15247.js";import"./Evented-d8fc77f0.js";import"./Promise-088a0e17.js";import"./reactiveUtils-3c1b281e.js";import"./uuid-73213768.js";import"./guid-e49c4e43.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.97
 */function V(t){return!a(t)||u(t).position==="fixed"?null:I(t)}function I(t){let{offsetParent:o}=t,n=t,e=!1;for(;n&&n!==o;){const{assignedSlot:i}=n;if(i){let s=i.offsetParent;if(u(i).display==="contents"){const c=i.hasAttribute("style"),r=i.style.display;i.style.display=u(n).display,s=i.offsetParent,i.style.display=r,c||i.removeAttribute("style")}n=i,o!==s&&(o=s,e=!0)}else if(g(n)&&n.host&&e)break;n=g(n)&&n.host||n.parentNode}return o}function Ct(t){const{reference:o,floating:n,strategy:e}=t;return{reference:q(o,k(n),e),floating:{...F(n),x:0,y:0}}}function S(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function d(t){if(t==null)return window;if(!S(t)){const o=t.ownerDocument;return o&&o.defaultView||window}return t}function u(t){return d(t).getComputedStyle(t)}function h(t){return S(t)?"":t?(t.nodeName||"").toLowerCase():""}function B(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(o=>o.brand+"/"+o.version).join(" "):navigator.userAgent}function a(t){return t instanceof d(t).HTMLElement}function w(t){return t instanceof d(t).Element}function Y(t){return t instanceof d(t).Node}function g(t){if(typeof ShadowRoot>"u")return!1;const o=d(t).ShadowRoot;return t instanceof o||t instanceof ShadowRoot}function N(t){const{overflow:o,overflowX:n,overflowY:e,display:i}=u(t);return/auto|scroll|overlay|hidden/.test(o+e+n)&&!["inline","contents"].includes(i)}function j(t){return["table","td","th"].includes(h(t))}function $(t){const o=/firefox/i.test(B()),n=u(t);return n.transform!=="none"||n.perspective!=="none"||o&&n.willChange==="filter"||o&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(e=>n.willChange.includes(e))||["paint","layout","strict","content"].some(e=>{const i=n.contain;return i!=null?i.includes(e):!1})}function _(){return!/^((?!chrome|android).)*safari/i.test(B())}function T(t){return["html","body","#document"].includes(h(t))}const H=Math.min,b=Math.max,x=Math.round;function m(t,o,n){var e,i,s,c;o===void 0&&(o=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect();let l=1,f=1;o&&a(t)&&(l=t.offsetWidth>0&&x(r.width)/t.offsetWidth||1,f=t.offsetHeight>0&&x(r.height)/t.offsetHeight||1);const v=w(t)?d(t):window,p=!_()&&n,C=(r.left+(p&&(e=(i=v.visualViewport)==null?void 0:i.offsetLeft)!=null?e:0))/l,L=(r.top+(p&&(s=(c=v.visualViewport)==null?void 0:c.offsetTop)!=null?s:0))/f,E=r.width/l,D=r.height/f;return{width:E,height:D,top:L,right:C+E,bottom:L+D,left:C,x:C,y:L}}function y(t){return((Y(t)?t.ownerDocument:t.document)||window.document).documentElement}function A(t){return w(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function M(t){return m(y(t)).left+A(t).scrollLeft}function U(t){const o=m(t);return x(o.width)!==t.offsetWidth||x(o.height)!==t.offsetHeight}function q(t,o,n){const e=a(o),i=y(o),s=m(t,e&&U(o),n==="fixed");let c={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if(e||!e&&n!=="fixed")if((h(o)!=="body"||N(i))&&(c=A(o)),a(o)){const l=m(o,!0);r.x=l.x+o.clientLeft,r.y=l.y+o.clientTop}else i&&(r.x=M(i));return{x:s.left+c.scrollLeft-r.x,y:s.top+c.scrollTop-r.y,width:s.width,height:s.height}}function W(t){return h(t)==="html"?t:t.assignedSlot||t.parentNode||(g(t)?t.host:null)||y(t)}function z(t){let o=W(t);for(g(o)&&(o=o.host);a(o)&&!T(o);){if($(o))return o;{const n=o.parentNode;o=g(n)?n.host:n}}return null}function k(t){const o=d(t);let n=V(t);for(;n&&j(n)&&u(n).position==="static";)n=V(n);return n&&(h(n)==="html"||h(n)==="body"&&u(n).position==="static"&&!$(n))?o:n||z(t)||o}function F(t){if(a(t))return{width:t.offsetWidth,height:t.offsetHeight};const o=m(t);return{width:o.width,height:o.height}}function G(t,o){const n=d(t),e=y(t),i=n.visualViewport;let s=e.clientWidth,c=e.clientHeight,r=0,l=0;if(i){s=i.width,c=i.height;const f=_();(f||!f&&o==="fixed")&&(r=i.offsetLeft,l=i.offsetTop)}return{width:s,height:c,x:r,y:l}}function J(t){var o;const n=y(t),e=A(t),i=(o=t.ownerDocument)==null?void 0:o.body,s=b(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=b(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let r=-e.scrollLeft+M(t);const l=-e.scrollTop;return u(i||n).direction==="rtl"&&(r+=b(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:c,x:r,y:l}}function P(t){const o=W(t);return T(o)?t.ownerDocument.body:a(o)&&N(o)?o:P(o)}function X(t,o){var n;o===void 0&&(o=[]);const e=P(t),i=e===((n=t.ownerDocument)==null?void 0:n.body),s=d(e),c=i?[s].concat(s.visualViewport||[],N(e)?e:[]):e,r=o.concat(c);return i?r:r.concat(X(c))}function K(t,o){const n=o.getRootNode==null?void 0:o.getRootNode();if(t.contains(o))return!0;if(n&&g(n)){let e=o;do{if(e&&t===e)return!0;e=e.parentNode||e.host}while(e)}return!1}function Q(t,o){let n=t;for(;n&&!T(n)&&!o.includes(n)&&!(w(n)&&["absolute","fixed"].includes(u(n).position));){const e=W(n);n=g(e)?e.host:e}return n}function Z(t,o){const n=m(t,!1,o==="fixed"),e=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:e,left:i,x:i,y:e,right:i+t.clientWidth,bottom:e+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function R(t,o,n){return o==="viewport"?O(G(t,n)):w(o)?Z(o,n):O(J(y(t)))}function tt(t){const o=X(t),n=Q(t,o);let e=null;if(n&&a(n)){const i=k(n);N(n)?e=n:a(i)&&(e=i)}return w(e)?o.filter(i=>e&&w(i)&&K(i,e)&&h(i)!=="body"):[]}function Lt(t){let{element:o,boundary:n,rootBoundary:e,strategy:i}=t;const c=[...n==="clippingAncestors"?tt(o):[].concat(n),e],r=c[0],l=c.reduce((f,v)=>{const p=R(o,v,i);return f.top=b(p.top,f.top),f.right=H(p.right,f.right),f.bottom=H(p.bottom,f.bottom),f.left=b(p.left,f.left),f},R(o,r,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}export{Lt as getClippingRect,Ct as getElementRects,k as getOffsetParent};
