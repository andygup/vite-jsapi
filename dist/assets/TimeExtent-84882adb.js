import{e as o,y as d,l as Y,n as M}from"./cast-daef7652.js";import{r as u,o as w,B as c}from"./typedArrayUtil-2bcf3cee.js";import"./string-3d0ebcd3.js";import"./ensureType-fa162cfc.js";import{o as D,r as y}from"./Extent-7f29a1bb.js";const T={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},E={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function A(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function h(e,t,r){const s=new Date(e.getTime());if(t&&r){const n=E[r],{getter:g,setter:m,multiplier:i}=n;if(r==="months"){const p=A(s.getFullYear(),s.getMonth()+t);s.getDate()>p&&s.setDate(p)}s[m](s[g]()+t*i)}return s}function f(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function j(e,t,r){return e===0?0:e*T[t]/T[r]}var a;let l=a=class extends Y{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return F}static get empty(){return S}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(a.allTime)}get isEmpty(){return this.equals(a.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new a({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=u(this.start)?this.start.getTime():this.start,r=u(this.end)?this.end.getTime():this.end,s=u(e.start)?e.start.getTime():e.start,n=u(e.end)?e.end.getTime():e.end;return t===s&&r===n}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=w(this.start,s=>f(s,e)),r=w(this.end,s=>{const n=f(s,e);return s.getTime()===n.getTime()?n:h(n,1,e)});return new a({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return a.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=c(this.start,-1/0,i=>i.getTime()),r=c(this.end,1/0,i=>i.getTime()),s=c(e.start,-1/0,i=>i.getTime()),n=c(e.end,1/0,i=>i.getTime());let g,m;if(s>=t&&s<=r?g=s:t>=s&&t<=n&&(g=t),r>=s&&r<=n?m=r:n>=t&&n<=r&&(m=n),g!=null&&m!=null&&!isNaN(g)&&!isNaN(m)){const i=new a;return i.start=g===-1/0?null:new Date(g),i.end=m===1/0?null:new Date(m),i}return a.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new a,{start:s,end:n}=this;return u(s)&&(r.start=h(s,e,t)),u(n)&&(r.end=h(n,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return F.clone();const t=u(this.start)&&u(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=u(this.end)&&u(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new a({start:t,end:r})}};o([d({type:Date,json:{write:{allowNull:!0}}})],l.prototype,"end",void 0),o([D("end")],l.prototype,"readEnd",null),o([y("end")],l.prototype,"writeEnd",null),o([d({readOnly:!0,json:{read:!1}})],l.prototype,"isAllTime",null),o([d({readOnly:!0,json:{read:!1}})],l.prototype,"isEmpty",null),o([d({type:Date,json:{write:{allowNull:!0}}})],l.prototype,"start",void 0),o([D("start")],l.prototype,"readStart",null),o([y("start")],l.prototype,"writeStart",null),l=a=o([M("esri.TimeExtent")],l);const F=new l,S=new l({start:void 0,end:void 0}),k=l;export{k as T,j as g,h as n};
