import{af as c,ag as m,fm as xt,bG as wt,bF as vt,aj as U,bD as ge,eU as Pe,bE as xe,ay as Je,N as v,ah as z,cI as D,hM as $t,jf as P,e as T,Z as Ye,_ as we,s as Me,O as _,ei as bt,jg as At,a as ie,hp as Tt,dE as Mt,bX as St,hW as Rt,V as Ft,gC as Se,gN as qe,gU as Ke,fO as le,gB as Ct,g as Qe,gA as ce,hC as Dt,gM as Lt,jh as et,c1 as tt,av as _t,ew as Ot,cX as Et,cV as It,E as jt,bf as ve,cf as Pt,bt as Nt,ai as zt,aA as Ne}from"./index-6eb28d6b.js";import{a as Ut,e as Wt,t as nt,r as me,k as kt,z as Ht,h as Re,_ as Fe,R as Ce,E as De,j as Le,b as _e,x as Vt,c as Oe,g as Gt,d as $e,w as Bt,l as Zt,L as ue,U as Xt}from"./georeference-c59b8177.js";import{r as Jt}from"./imageUtils-c2d0d1ae.js";import{i as Yt}from"./earcut-258eab41.js";import{t as rt}from"./Indices-40d92002.js";import{e as ze}from"./deduplicate-f52d693c.js";import{o as Ue,h as qt,m as Kt,i as Qt,a as en}from"./External-3a9a3d83.js";import{e as Ee}from"./mat3f64-221ce671.js";import{e as ot}from"./mat4f64-1413b4a7.js";import{c as Ie}from"./spatialReferenceEllipsoidUtils-7d58ed12.js";import{e as tn}from"./infoFor3D-5881142c.js";import{g as nn}from"./FeatureSet-af928f6b.js";var B;const de=new WeakMap;let rn=0,L=B=class extends ge{constructor(e){super(e),this.wrap="repeat"}get url(){return this._get("url")||null}set url(e){this._set("url",e),e&&this._set("data",null)}get data(){return this._get("data")||null}set data(e){this._set("data",e),e&&this._set("url",null)}writeData(e,t,n,r){if(e instanceof HTMLImageElement){const o={type:"image-element",src:Pe(e.src,r),crossOrigin:e.crossOrigin};t[n]=o}else if(e instanceof HTMLCanvasElement){const o=e.getContext("2d").getImageData(0,0,e.width,e.height),s={type:"canvas-element",imageData:this._encodeImageData(o)};t[n]=s}else if(e instanceof HTMLVideoElement){const o={type:"video-element",src:Pe(e.src,r),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[n]=o}else if(e instanceof ImageData){const o={type:"image-data",imageData:this._encodeImageData(e)};t[n]=o}}readData(e){switch(e.type){case"image-element":{const t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t}case"canvas-element":{const t=this._decodeImageData(e.imageData),n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").putImageData(t,0,0),n}case"image-data":return this._decodeImageData(e.imageData);case"video-element":{const t=document.createElement("video");return t.src=e.src,t.crossOrigin=e.crossOrigin,t.autoplay=e.autoplay,t.loop=e.loop,t.muted=e.muted,t.preload=e.preload,t}default:return}}get transparent(){const e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return this._imageDataContainsTransparent(e);if(t){const n=t.substr(t.length-4,4).toLowerCase(),r=t.substr(0,15).toLocaleLowerCase();if(n===".png"||r==="data:image/png;")return!0}return!1}set transparent(e){this._overrideIfSome("transparent",e)}get contentHash(){const e=typeof this.wrap=="string"?this.wrap:typeof this.wrap=="object"?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",t=(n="")=>`d:${n},t:${this.transparent},w:${e}`;return this.url!=null?t(this.url):this.data!=null?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?t(this.data.src):(de.has(this.data)||de.set(this.data,++rn),t(de.get(this.data))):t()}clone(){const e={url:this.url,data:this.data,wrap:this._cloneWrap()};return new B(e)}cloneWithDeduplication(e){const t=e.get(this);if(t)return t;const n=this.clone();return e.set(this,n),n}_cloneWrap(){return typeof this.wrap=="string"?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}_encodeImageData(e){let t="";for(let n=0;n<e.data.length;n++)t+=String.fromCharCode(e.data[n]);return{data:btoa(t),width:e.width,height:e.height}}_decodeImageData(e){const t=atob(e.data),n=new Uint8ClampedArray(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return Jt(n,e.width,e.height)}_imageDataContainsTransparent(e){for(let t=3;t<e.data.length;t+=4)if(e.data[t]!==255)return!0;return!1}static from(e){return typeof e=="string"?new B({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new B({data:e}):xe(B,e)}};c([m({type:String,json:{write:xt}})],L.prototype,"url",null),c([m({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),m()],L.prototype,"data",null),c([wt("data")],L.prototype,"writeData",null),c([vt("data")],L.prototype,"readData",null),c([m({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],L.prototype,"transparent",null),c([m({json:{write:!0}})],L.prototype,"wrap",void 0),c([m({readOnly:!0})],L.prototype,"contentHash",null),L=B=c([U("esri.geometry.support.MeshTexture")],L);const ne=L;var be;let F=be=class extends ge{constructor(e){super(e),this.color=null,this.colorTexture=null,this.normalTexture=null,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){const n=e!=null?e.get(this):null;if(n)return n;const r=new be(this.clonePropertiesWithDeduplication(t));return e!=null&&e.set(this,r),r}clonePropertiesWithDeduplication(e){return{color:this.color!=null?this.color.clone():null,colorTexture:this.colorTexture!=null?this.colorTexture.cloneWithDeduplication(e):null,normalTexture:this.normalTexture!=null?this.normalTexture.cloneWithDeduplication(e):null,alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform!=null?this.colorTextureTransform:null,normalTextureTransform:this.normalTextureTransform!=null?this.normalTextureTransform:null}}};c([m({type:Je,json:{write:!0}})],F.prototype,"color",void 0),c([m({type:ne,json:{write:!0}})],F.prototype,"colorTexture",void 0),c([m({type:ne,json:{write:!0}})],F.prototype,"normalTexture",void 0),c([m({nonNullable:!0,json:{write:!0}})],F.prototype,"alphaMode",void 0),c([m({nonNullable:!0,json:{write:!0}})],F.prototype,"alphaCutoff",void 0),c([m({nonNullable:!0,json:{write:!0}})],F.prototype,"doubleSided",void 0),c([m()],F.prototype,"colorTextureTransform",void 0),c([m()],F.prototype,"normalTextureTransform",void 0),F=be=c([U("esri.geometry.support.MeshMaterial")],F);const je=F;var Ae;let R=Ae=class extends je{constructor(e){super(e),this.emissiveColor=null,this.emissiveTexture=null,this.occlusionTexture=null,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){const n=e!=null?e.get(this):null;if(n)return n;const r=new Ae(this.clonePropertiesWithDeduplication(t));return e!=null&&e.set(this,r),r}clonePropertiesWithDeduplication(e){return{...super.clonePropertiesWithDeduplication(e),emissiveColor:this.emissiveColor!=null?this.emissiveColor.clone():null,emissiveTexture:this.emissiveTexture!=null?this.emissiveTexture.cloneWithDeduplication(e):null,occlusionTexture:this.occlusionTexture!=null?this.occlusionTexture.cloneWithDeduplication(e):null,metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture!=null?this.metallicRoughnessTexture.cloneWithDeduplication(e):null,occlusionTextureTransform:this.occlusionTextureTransform!=null?this.occlusionTextureTransform:null,emissiveTextureTransform:this.emissiveTextureTransform!=null?this.emissiveTextureTransform:null,metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform!=null?this.metallicRoughnessTextureTransform:null}}};c([m({type:Je,json:{write:!0}})],R.prototype,"emissiveColor",void 0),c([m({type:ne,json:{write:!0}})],R.prototype,"emissiveTexture",void 0),c([m({type:ne,json:{write:!0}})],R.prototype,"occlusionTexture",void 0),c([m({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],R.prototype,"metallic",void 0),c([m({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],R.prototype,"roughness",void 0),c([m({type:ne,json:{write:!0}})],R.prototype,"metallicRoughnessTexture",void 0),c([m()],R.prototype,"occlusionTextureTransform",void 0),c([m()],R.prototype,"emissiveTextureTransform",void 0),c([m()],R.prototype,"metallicRoughnessTextureTransform",void 0),R=Ae=c([U("esri.geometry.support.MeshMaterialMetallicRoughness")],R);const on=R;var ae;const st="esri.geometry.support.MeshVertexAttributes",k=v.getLogger(st);let A=ae=class extends ge{constructor(e){super(e),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(e){return Z(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},k)}castPosition(e){return e&&e instanceof Float32Array&&k.warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),Z(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},k)}castUv(e){return Z(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},k)}castNormal(e){return Z(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},k)}castTangent(e){return Z(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},k)}clone(){const e={position:D(this.position),uv:D(this.uv),normal:D(this.normal),tangent:D(this.tangent),color:D(this.color)};return new ae(e)}clonePositional(){const e={position:D(this.position),normal:D(this.normal),tangent:D(this.tangent),uv:this.uv,color:this.color};return new ae(e)}};function ye(e,t,n,r){const{loggerTag:o,stride:s}=t;return e.length%s!=0?(r.error(o,`Invalid array length, expected a multiple of ${s}`),new n([])):e}function Z(e,t,n,r,o){if(!e)return e;if(e instanceof t)return ye(e,r,t,o);for(const s of n)if(e instanceof s)return ye(new t(e),r,t,o);if(Array.isArray(e))return ye(new t(e),r,t,o);{const s=n.map(a=>`'${a.name}'`);return o.error(`Failed to set property, expected one of ${s}, but got ${e.constructor.name}`),new t([])}}function Q(e,t,n){t[n]=sn(e)}function sn(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}c([m({json:{write:Q}})],A.prototype,"color",void 0),c([z("color")],A.prototype,"castColor",null),c([m({nonNullable:!0,json:{write:Q}})],A.prototype,"position",void 0),c([z("position")],A.prototype,"castPosition",null),c([m({json:{write:Q}})],A.prototype,"uv",void 0),c([z("uv")],A.prototype,"castUv",null),c([m({json:{write:Q}})],A.prototype,"normal",void 0),c([z("normal")],A.prototype,"castNormal",null),c([m({json:{write:Q}})],A.prototype,"tangent",void 0),c([z("tangent")],A.prototype,"castTangent",null),A=ae=c([U(st)],A);var te;const at="esri.geometry.support.MeshComponent",an=v.getLogger(at);let O=te=class extends ge{static from(e){return xe(te,e)}constructor(e){super(e),this.faces=null,this.material=null,this.shading="source",this.trustSourceNormals=!1}castFaces(e){return Z(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},an)}castMaterial(e){return xe(e&&typeof e=="object"&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?on:je,e)}clone(){return new te({faces:D(this.faces),shading:this.shading,material:D(this.material),trustSourceNormals:this.trustSourceNormals})}cloneWithDeduplication(e,t){const n={faces:D(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals};return new te(n)}};c([m({json:{write:!0}})],O.prototype,"faces",void 0),c([z("faces")],O.prototype,"castFaces",null),c([m({type:je,json:{write:!0}})],O.prototype,"material",void 0),c([z("material")],O.prototype,"castMaterial",null),c([m({type:String,json:{write:!0}})],O.prototype,"shading",void 0),c([m({type:Boolean})],O.prototype,"trustSourceNormals",void 0),O=te=c([U(at)],O);const K=O;function ln(e){const t=un(e.rings,e.hasZ,pe.CCW_IS_HOLE),n=new Array;let r=0,o=0;for(const i of t.polygons){const l=i.count,u=i.index,p=Ut(t.position,3*u,3*l),g=i.holeIndices.map(f=>f-u),h=rt(Yt(p,g,3));n.push({position:p,faces:h}),r+=p.length,o+=h.length}const s=cn(n,r,o),a=Array.isArray(s.position)?ze(s.position,3,{originalIndices:s.faces}):ze(s.position.buffer,6,{originalIndices:s.faces});return s.position=Wt(new Float64Array(a.buffer)),s.faces=a.indices,s}function cn(e,t,n){if(e.length===1)return e[0];const r=nt(t),o=new Array(n);let s=0,a=0,i=0;for(const l of e){for(let u=0;u<l.position.length;u++)r[s++]=l.position[u];for(const u of l.faces)o[a++]=u+i;i=s/3}return{position:r,faces:rt(o)}}function un(e,t,n){const r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);let i=0,l=0,u=0,p=0;for(let f=0;f<r;++f)p+=e[f].length;const g=nt(3*p);let h=0;for(let f=r-1;f>=0;f--){const d=e[f],S=n===pe.CCW_IS_HOLE&&pn(d);if(S&&r!==1)o[i++]=d;else{let w=d.length;for(let y=0;y<i;++y)w+=o[y].length;const $={index:h,pathLengths:new Array(i+1),count:w,holeIndices:new Array(i)};$.pathLengths[0]=d.length,d.length>0&&(a[u++]={index:h,count:d.length}),h=S?re(d,d.length-1,-1,g,h,d.length,t):re(d,0,1,g,h,d.length,t);for(let y=0;y<i;++y){const b=o[y];$.holeIndices[y]=h,$.pathLengths[y+1]=b.length,b.length>0&&(a[u++]={index:h,count:b.length}),h=re(b,0,1,g,h,b.length,t)}i=0,$.count>0&&(s[l++]=$)}}for(let f=0;f<i;++f){const d=o[f];d.length>0&&(a[u++]={index:h,count:d.length}),h=re(d,0,1,g,h,d.length,t)}return s.length=l,a.length=u,{position:g,polygons:s,outlines:a}}function re(e,t,n,r,o,s,a){o*=3;for(let i=0;i<s;++i){const l=e[t];r[o++]=l[0],r[o++]=l[1],r[o++]=a?l[2]:0,t+=n}return o/3}function pn(e){return!$t(e,!1,!1)}var pe;(function(e){e[e.NONE=0]="NONE",e[e.CCW_IS_HOLE=1]="CCW_IS_HOLE"})(pe||(pe={}));const Te=v.getLogger("esri.geometry.support.meshUtils.centerAt");function hn(e,t,n){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const r=(n==null?void 0:n.origin)??e.origin;e.transform!=null?((n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&Te.warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),fn(e.transform,t,r)):me(e.spatialReference,n)?gn(e,t,r):mn(e,t,r)}function fn(e,t,n){const r=t.x-n.x,o=t.y-n.y,s=t.hasZ&&n.hasZ?t.z-n.z:0,a=e.origin;e.origin=[a[0]+r,a[1]+o,a[2]+s]}function gn(e,t,n){const r=kt(e.vertexAttributes,n,{geographic:!0}),{position:o,normal:s,tangent:a}=Ht(r,t,{geographic:!0});e.vertexAttributes.position=o,e.vertexAttributes.normal=s,e.vertexAttributes.tangent=a,e.vertexAttributesChanged()}function mn(e,t,n){const r=xn,o=yn;if(P(t,o,e.spatialReference)){if(!P(n,r,e.spatialReference)){const s=e.origin;r[0]=s.x,r[1]=s.y,r[2]=s.z,Te.error(`Failed to project specified origin (wkid:${n.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}dn(e.vertexAttributes.position,o,r),e.vertexAttributesChanged()}else Te.error(`Failed to project centerAt location (wkid:${t.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid})`)}function dn(e,t,n){if(e)for(let r=0;r<e.length;r+=3)for(let o=0;o<3;o++)e[r+o]+=t[o]-n[o]}const yn=T(),xn=T();async function wn(e,t,n){const{source:r}=t,{loadGLTFMesh:o}=await Ye(we(()=>import("./loadGLTFMesh-0f359cbd.js"),["assets/loadGLTFMesh-0f359cbd.js","assets/index-6eb28d6b.js","assets/index-0492b785.css","assets/mat3f64-221ce671.js","assets/vec4f64-aa64c7e9.js","assets/BufferView-bd363d75.js","assets/vec32-259a42c6.js","assets/DefaultMaterial_COLOR_GAMMA-d19c2d61.js","assets/mat4f64-1413b4a7.js","assets/enums-b14466b3.js","assets/Version-fd75b892.js","assets/quat-f8e37ce2.js","assets/quatf64-3363c48e.js","assets/resourceUtils-1d112ccb.js","assets/basicInterfaces-4ab7cc6a.js","assets/Indices-40d92002.js","assets/types-1305598a.js","assets/georeference-c59b8177.js","assets/spatialReferenceEllipsoidUtils-7d58ed12.js","assets/imageUtils-c2d0d1ae.js","assets/earcut-258eab41.js","assets/deduplicate-f52d693c.js","assets/External-3a9a3d83.js","assets/infoFor3D-5881142c.js","assets/FeatureSet-af928f6b.js","assets/Field-3c7d8d62.js","assets/fieldType-df6f400c.js"]),n),s=await $n(r,n);Me(n);const a=o(new _({x:0,y:0,z:0,spatialReference:e.spatialReference}),s.url,{resolveFile:vn(s),useTransform:!0,signal:n==null?void 0:n.signal});a.then(()=>s.dispose(),()=>s.dispose());const{vertexAttributes:i,components:l}=await a;e.vertexAttributes=i,e.components=l}function vn(e){const t=bt(e.url);return n=>{const r=At(n,t,t),o=r?r.replace(/^ *\.\//,""):null;return(o?e.files.get(o):null)??n}}async function $n(e,t){if(Array.isArray(e)){if(!e.length)throw new ie("mesh-load-external:missing-assets","There must be at least one file to load");return e[0]instanceof File?An(e):Tn(e,t)}return it(e)}async function bn(e,t){const{parts:n}=e;if(n.length===1)return new he(n[0].partUrl);const r=await e.toBlob(t);return Me(t),he.fromBlob(r)}function it(e){return he.fromBlob(e)}function An(e){return lt(e.map(t=>({name:t.name,mimeType:t.type,source:it(t)})))}async function Tn(e,t){const n=await Tt(e.map(async r=>{const o=await bn(r);return Me(t),{name:r.assetName,mimeType:r.assetMimeType,source:o}}));if(Mt(t))throw n.forEach(r=>r.source.dispose()),St();return lt(n)}const Mn=/^(model\/gltf\+json)|(model\/gltf-binary)$/,Sn=/\.(gltf|glb)/i;function lt(e){const t=new Map;let n=null;for(const{name:r,mimeType:o,source:s}of e)(n==null||Mn.test(o)||Sn.test(r))&&(n=s.url),t.set(r,s.url),s.files.forEach((a,i)=>t.set(i,a));if(n==null)throw new ie("mesh-load-external:missing-files","Missing files to load external mesh source");return new he(n,()=>e.forEach(({source:r})=>r.dispose()),t)}let he=class ct{constructor(t,n=()=>{},r=new Map){this.url=t,this.dispose=n,this.files=r}static fromBlob(t){const n=URL.createObjectURL(t);return new ct(n,()=>URL.revokeObjectURL(n))}},j=class extends Rt{constructor(){super(),this.externalSources=new Ft,this._explicitDisplaySource=null}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(t){if(t!=null&&!Ue(t))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=t,t&&this.externalSources.every(n=>!qt(n,t))&&this.externalSources.add(t)}clearSources(){this.displaySource=null,this.externalSources.removeAll()}getExternalSourcesOnService(t){return this.externalSources.items.filter(n=>Kt(n,t))}get _implicitDisplaySource(){return this.externalSources.find(Ue)}};c([m()],j.prototype,"externalSources",void 0),c([m()],j.prototype,"displaySource",null),c([m()],j.prototype,"_implicitDisplaySource",null),c([m()],j.prototype,"_explicitDisplaySource",void 0),j=c([U("esri.geometry.support.meshUtils.Metadata")],j);function Rn(e,t,n){e.vertexAttributes&&e.vertexAttributes.position&&(e.transform!=null?((n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&v.getLogger("esri.geometry.support.meshUtils.offset").warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),Fn(e.transform,t)):me(e.spatialReference,n)?Cn(e,t):Dn(e,t))}function Fn(e,t){const n=e.origin;e.origin=Se(T(),n,t)}function Cn(e,t){const n=e.spatialReference,r=e.vertexAttributes.position,o=e.vertexAttributes.normal,s=e.vertexAttributes.tangent,a=new Float64Array(r.length),i=o!=null?new Float32Array(o.length):null,l=s!=null?new Float32Array(s.length):null,u=e.extent.center,p=Ln;qe(n,[u.x,u.y,u.z],We,Ie(n)),Ke(ke,We),le(p,t,ke),Re(r,n,a),o!=null&&i!=null&&Fe(o,r,a,n,i),s!=null&&l!=null&&Ce(s,r,a,n,l),ut(a,p),De(a,r,n),o!=null&&i!=null&&Le(i,r,a,n,o),s!=null&&l!=null&&_e(l,r,a,n,s),e.vertexAttributesChanged()}function Dn(e,t){ut(e.vertexAttributes.position,t),e.vertexAttributesChanged()}function ut(e,t){if(e)for(let n=0;n<e.length;n+=3)for(let r=0;r<3;r++)e[n+r]+=t[r]}const Ln=T(),We=ot(),ke=Ee();function _n(){const{faceDescriptions:e,faceVertexOffsets:t,uvScales:n}=Un,r=4*e.length,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(2*e.length*3);let l=0,u=0,p=0,g=0;for(let h=0;h<e.length;h++){const f=e[h],d=l/3;for(const w of t)i[g++]=d+w;const S=f.corners;for(let w=0;w<4;w++){const $=S[w];let y=0;a[p++]=.25*n[w][0]+f.uvOrigin[0],a[p++]=f.uvOrigin[1]-.25*n[w][1];for(let b=0;b<3;b++)f.axis[b]!==0?(o[l++]=.5*f.axis[b],s[u++]=f.axis[b]):(o[l++]=.5*$[y++],s[u++]=0)}}return{position:o,normal:s,uv:a,faces:i}}function On(e,t){const n=e.components[0],r=n.faces,o=Wn[t],s=6*o,a=new Array(6),i=new Array(r.length-6);let l=0,u=0;for(let p=0;p<r.length;p++)p>=s&&p<s+6?a[l++]=r[p]:i[u++]=r[p];if(e.vertexAttributes.uv!=null){const p=new Float32Array(e.vertexAttributes.uv),g=4*o*2,h=[0,1,1,1,1,0,0,0];for(let f=0;f<h.length;f++)p[g+f]=h[f];e.vertexAttributes.uv=p}return e.components=[new K({faces:a,material:n.material}),new K({faces:i})],e}function En(e=0){const t=Math.round(8*2**e),n=2*t,r=(t-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(3*((t-1)*n*2));let l=0,u=0,p=0,g=0;for(let h=0;h<=t;h++){const f=h/t*Math.PI+.5*Math.PI,d=Math.cos(f),S=Math.sin(f);x[2]=S;const w=h===0||h===t,$=w?n-1:n;for(let y=0;y<=$;y++){const b=y/$*2*Math.PI;x[0]=-Math.sin(b)*d,x[1]=Math.cos(b)*d;for(let E=0;E<3;E++)o[l]=.5*x[E],s[l]=x[E],++l;a[u++]=(y+(w?.5:0))/n,a[u++]=h/t,h!==0&&y!==n&&(h!==t&&(i[p++]=g,i[p++]=g+1,i[p++]=g-n),h!==1&&(i[p++]=g,i[p++]=g-n,i[p++]=g-n-1)),g++}}return{position:o,normal:s,uv:a,faces:i}}function In(e=0){const n=Math.round(16*2**e),r=(5-1)*(n+1)+2*n,o=new Float64Array(3*r),s=new Float32Array(3*r),a=new Float32Array(2*r),i=new Uint32Array(3*(4*n));let l=0,u=0,p=0,g=0,h=0;for(let f=0;f<=5;f++){const d=f===0||f===5,S=f<=1||f>=5-1,w=f===2||f===4,$=d?n-1:n;for(let y=0;y<=$;y++){const b=y/$*2*Math.PI,E=d?0:.5;x[0]=E*Math.sin(b),x[1]=E*-Math.cos(b),x[2]=f<=2?.5:-.5;for(let W=0;W<3;W++)o[l++]=x[W],s[u++]=S?W===2?f<=1?1:-1:0:W===2?0:x[W]/E;a[p++]=(y+(d?.5:0))/n,a[p++]=f<=1?1*f/3:f<=3?1*(f-2)/3+1/3:1*(f-4)/3+2/3,w||f===0||y===n||(f!==5&&(i[g++]=h,i[g++]=h+1,i[g++]=h-n),f!==1&&(i[g++]=h,i[g++]=h-n,i[g++]=h-n-1)),h++}}return{position:o,normal:s,uv:a,faces:i}}function jn(e,t){const n=typeof t=="number"?t:t!=null?t.width:1,r=typeof t=="number"?t:t!=null?t.height:1;switch(e){case"up":case"down":return{width:n,depth:r};case"north":case"south":return{width:n,height:r};case"east":case"west":return{depth:n,height:r}}}function Pn(e){const t=ee.facingAxisOrderSwap[e],n=ee.position,r=ee.normal,o=new Float64Array(n.length),s=new Float32Array(r.length);let a=0;for(let i=0;i<4;i++){const l=a;for(let u=0;u<3;u++){const p=t[u],g=Math.abs(p)-1,h=p>=0?1:-1;o[a]=n[l+g]*h,s[a]=r[l+g]*h,a++}}return{position:o,normal:s,uv:new Float32Array(ee.uv),faces:new Uint32Array(ee.faces),isPlane:!0}}const H=1,V=2,G=3,ee={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[G,H,V],west:[-G,-H,V],north:[-H,G,V],south:[H,-G,V],up:[H,V,G],down:[H,-V,-G]}};function oe(e,t,n){e.isPlane||Nn(e),zn(e,n==null?void 0:n.size);const{vertexAttributes:r,transform:o}=Vt(e,t,n);return{vertexAttributes:new A({...r,uv:e.uv}),transform:o,components:[new K({faces:e.faces,material:n&&n.material||null})],spatialReference:t.spatialReference}}function Nn(e){for(let t=0;t<e.position.length;t+=3)e.position[t+2]+=.5}function zn(e,t){if(t==null)return;const n=typeof t=="number"?[t,t,t]:[t.width!=null?t.width:1,t.depth!=null?t.depth:1,t.height!=null?t.height:1];I[0]=n[0],I[4]=n[1],I[8]=n[2];for(let r=0;r<e.position.length;r+=3){for(let o=0;o<3;o++)x[o]=e.position[r+o];le(x,x,I);for(let o=0;o<3;o++)e.position[r+o]=x[o]}if(n[0]!==n[1]||n[1]!==n[2]){I[0]=1/n[0],I[4]=1/n[1],I[8]=1/n[2];for(let r=0;r<e.normal.length;r+=3){for(let o=0;o<3;o++)x[o]=e.normal[r+o];le(x,x,I),Ct(x,x);for(let o=0;o<3;o++)e.normal[r+o]=x[o]}}}const Un={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},Wn={south:0,east:1,north:2,west:3,up:4,down:5},x=T(),I=Ee(),pt=v.getLogger("esri.geometry.support.meshUtils.rotate");function kn(e,t,n){if(!e.vertexAttributes||!e.vertexAttributes.position||t[3]===0)return;const r=e.spatialReference;if(e.transform!=null){(n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&pt.warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`);const o=(n==null?void 0:n.origin)??e.transform.getOriginPoint(r);Hn(e.transform,t,o)}else{const o=(n==null?void 0:n.origin)??e.origin;me(e.spatialReference,n)?Vn(e,t,o):Gn(e,t,o)}}function Hn(e,t,n){const r=Qe(X,n.x,n.y,n.z),o=ce(X,r,e.origin);e.applyLocalInverse(o,He),e.rotation=Gt(e.rotation,t,Oe()),e.applyLocalInverse(o,o),ce(o,o,He),e.translation=Se(T(),e.translation,o)}function Vn(e,t,n){const r=e.spatialReference,o=Ie(r),s=ht;P(n,s,o)||P(e.origin,s,o);const a=e.vertexAttributes.position,i=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,u=new Float64Array(a.length),p=i!=null?new Float32Array(i.length):null,g=l!=null?new Float32Array(l.length):null;qe(o,s,fe,o),Ke(Ge,fe);const h=Ve;le($e(Ve),$e(t),Ge),h[3]=t[3],Re(a,r,u),i!=null&&p!=null&&Fe(i,a,u,r,p),l!=null&&g!=null&&Ce(l,a,u,r,g),Y(u,h,3,s),De(u,a,r),i!=null&&p!=null&&(Y(p,h,3),Le(p,a,u,r,i)),l!=null&&g!=null&&(Y(g,h,4),_e(g,a,u,r,l)),e.vertexAttributesChanged()}function Gn(e,t,n){const r=ht;if(!P(n,r,e.spatialReference)){const o=e.origin;r[0]=o.x,r[1]=o.y,r[2]=o.z,pt.error(`Failed to project specified origin (wkid:${n.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}Y(e.vertexAttributes.position,t,3,r),Y(e.vertexAttributes.normal,t,3),Y(e.vertexAttributes.tangent,t,4),e.vertexAttributesChanged()}function Y(e,t,n,r=et){if(e!=null){Dt(fe,Bt(t),$e(t));for(let o=0;o<e.length;o+=n){for(let s=0;s<3;s++)X[s]=e[o+s]-r[s];Lt(X,X,fe);for(let s=0;s<3;s++)e[o+s]=X[s]+r[s]}}}const X=T(),He=T(),Ve=Oe(),fe=ot(),Ge=Ee(),ht=T(),ft=v.getLogger("esri.geometry.support.meshUtils.scale");function Bn(e,t,n){if(!e.vertexAttributes||!e.vertexAttributes.position)return;const r=e.spatialReference;if(e.transform!=null){(n==null?void 0:n.geographic)!=null&&n.geographic!==e.transform.geographic&&ft.warn(`Specifying the 'geographic' parameter (${n.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`);const o=(n==null?void 0:n.origin)??e.transform.getOriginPoint(r);Zn(e.transform,t,o)}else{const o=me(e.spatialReference,n),s=n&&n.origin||e.origin;o?Xn(e,t,s):Jn(e,t,s)}}function Zn(e,t,n){const r=Qe(J,n.x,n.y,n.z),o=ce(J,r,e.origin);e.applyLocalInverse(o,Be);const s=tt(T(),e.scale,t);e.scale=s,e.applyLocalInverse(o,o),ce(o,o,Be),e.translation=Se(T(),e.translation,o)}function Xn(e,t,n){const r=e.spatialReference,o=Ie(r),s=mt;P(n,s,o)||P(e.origin,s,o);const a=e.vertexAttributes.position,i=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,u=new Float64Array(a.length),p=i!=null?new Float32Array(i.length):null,g=l!=null?new Float32Array(l.length):null;Re(a,r,u),i!=null&&p!=null&&Fe(i,a,u,r,p),l!=null&&g!=null&&Ce(l,a,u,r,g),gt(u,t,s),De(u,a,r),i!=null&&p!=null&&Le(p,a,u,r,i),l!=null&&g!=null&&_e(g,a,u,r,l),e.vertexAttributesChanged()}function Jn(e,t,n){const r=mt;if(!P(n,r,e.spatialReference)){const o=e.origin;r[0]=o.x,r[1]=o.y,r[2]=o.z,ft.error(`Failed to project specified origin (wkid:${n.spatialReference.wkid}) to mesh spatial reference (wkid:${e.spatialReference.wkid}).`)}gt(e.vertexAttributes.position,t,r),e.vertexAttributesChanged()}function gt(e,t,n=et){if(e)for(let r=0;r<e.length;r+=3){for(let o=0;o<3;o++)J[o]=e[r+o]-n[o];tt(J,J,t);for(let o=0;o<3;o++)e[r+o]=J[o]+n[o]}}const J=T(),Be=T(),mt=T();var C;const N="esri.geometry.Mesh";let M=C=class extends _t(Ot.LoadableMixin(Et(It))){constructor(e){super(e),this.components=null,this.transform=null,this.metadata=new j,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new A,this.type="mesh"}initialize(){(this.metadata.externalSources.length===0||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when(()=>{this.handles.add(jt(()=>{var e;return{vertexAttributes:this.vertexAttributes,components:(e=this.components)==null?void 0:e.map(t=>t.clone())}},()=>this._clearSources(),{once:!0,sync:!0}))})}get hasExtent(){var e;return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):((e=this.metadata.displaySource)==null?void 0:e.extent)!=null}get _boundingInfo(){const e=this.vertexAttributes.position,t=this.spatialReference;if(e.length===0||this.components&&this.components.length===0)return{extent:new ve({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t}),center:new _({x:0,y:0,z:0,spatialReference:t})};const n=this.transform!=null?this.transform.project(e,t):e;let r=1/0,o=1/0,s=1/0,a=-1/0,i=-1/0,l=-1/0,u=0,p=0,g=0;const h=n.length,f=1/(h/3);let d=0;for(;d<h;){const S=n[d++],w=n[d++],$=n[d++];r=Math.min(r,S),o=Math.min(o,w),s=Math.min(s,$),a=Math.max(a,S),i=Math.max(i,w),l=Math.max(l,$),u+=f*S,p+=f*w,g+=f*$}return{extent:new ve({xmin:r,ymin:o,zmin:s,xmax:a,ymax:i,zmax:l,spatialReference:t}),center:new _({x:u,y:p,z:g,spatialReference:t})}}get anchor(){if(this.transform!=null)return this.transform.getOriginPoint(this.spatialReference);const e=this._boundingInfo;return new _({x:e.center.x,y:e.center.y,z:e.extent.zmin,spatialReference:this.spatialReference})}get origin(){return this.transform!=null?this.transform.getOriginPoint(this.spatialReference):this._boundingInfo.center}get extent(){var e,t;return this.loaded||((t=(e=this.metadata)==null?void 0:e.displaySource)==null?void 0:t.extent)==null?this._boundingInfo.extent:this.metadata.displaySource.extent.clone()}addComponent(e){this.loaded?(this.components||(this.components=[]),this.components.push(K.from(e)),this.notifyChange("components")):v.getLogger(this.declaredClass).error("addComponent()","Mesh must be loaded before applying operations")}removeComponent(e){if(this.loaded){if(this.components){const t=this.components.indexOf(e);if(t!==-1)return this.components.splice(t,1),void this.notifyChange("components")}v.getLogger(this.declaredClass).error("removeComponent()","Provided component is not part of the list of components")}else v.getLogger(this.declaredClass).error("removeComponent()","Mesh must be loaded before applying operations")}rotate(e,t,n,r){return Zt(e,t,n,Ze),kn(this,Ze,r),this}offset(e,t,n,r){return this.loaded?(se[0]=e,se[1]=t,se[2]=n,Rn(this,se,r),this):(v.getLogger(this.declaredClass).error("offset()","Mesh must be loaded before applying operations"),this)}scale(e,t){return this.loaded?(Bn(this,e,t),this):(v.getLogger(this.declaredClass).error("scale()","Mesh must be loaded before applying operations"),this)}centerAt(e,t){return this.loaded?(hn(this,e,t),this):(v.getLogger(this.declaredClass).error("centerAt()","Mesh must be loaded before applying operations"),this)}load(e){const{metadata:{displaySource:t}}=this;return t&&this.addResolvingPromise(wn(this,t,e)),Promise.resolve(this)}addExternalSources(e){this.metadata.externalSources.addMany(e)}updateDisplaySource(e){this.metadata.displaySource=e}clone(){let e=null;if(this.components){const n=new Map,r=new Map;e=this.components.map(o=>o.cloneWithDeduplication(n,r))}const t={components:e,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),transform:this.transform!=null?this.transform.clone():null,metadata:this.metadata.clone()};return new C(t)}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}async toBinaryGLTF(e){const t=we(()=>import("./gltfexport-aee16bc0.js"),["assets/gltfexport-aee16bc0.js","assets/index-6eb28d6b.js","assets/index-0492b785.css","assets/quat-f8e37ce2.js","assets/mat3f64-221ce671.js","assets/quatf64-3363c48e.js","assets/georeference-c59b8177.js","assets/mat4f64-1413b4a7.js","assets/spatialReferenceEllipsoidUtils-7d58ed12.js","assets/vec32-259a42c6.js","assets/BufferView-bd363d75.js","assets/enums-b14466b3.js","assets/imageutils-a842a93f.js","assets/resourceUtils-1d112ccb.js","assets/basicInterfaces-4ab7cc6a.js","assets/imageUtils-c2d0d1ae.js","assets/earcut-258eab41.js","assets/Indices-40d92002.js","assets/deduplicate-f52d693c.js","assets/External-3a9a3d83.js","assets/infoFor3D-5881142c.js","assets/FeatureSet-af928f6b.js","assets/Field-3c7d8d62.js","assets/fieldType-df6f400c.js"]),n=this.load(),r=await Promise.all([t,n]),{toBinaryGLTF:o}=r[0];return o(this,e)}_clearSources(){this.metadata.clearSources()}static createBox(e,t){if(!(e instanceof _))return v.getLogger(N).error(".createBox()","expected location to be a Point instance"),null;const n=new C(oe(_n(),e,t));return t&&t.imageFace&&t.imageFace!=="all"?On(n,t.imageFace):n}static createSphere(e,t){return e instanceof _?new C(oe(En(t&&t.densificationFactor||0),e,t)):(v.getLogger(N).error(".createSphere()","expected location to be a Point instance"),null)}static createCylinder(e,t){return e instanceof _?new C(oe(In(t&&t.densificationFactor||0),e,t)):(v.getLogger(N).error(".createCylinder()","expected location to be a Point instance"),null)}static createPlane(e,t){if(!(e instanceof _))return v.getLogger(N).error(".createPlane()","expected location to be a Point instance"),null;const n=(t==null?void 0:t.facing)??"up",r=jn(n,t==null?void 0:t.size);return new C(oe(Pn(n),e,{...t,size:r}))}static createFromPolygon(e,t){if(!(e instanceof Pt))return v.getLogger(N).error(".createFromPolygon()","expected polygon to be a Polygon instance"),null;const n=ln(e);return new C({vertexAttributes:new A({position:n.position}),components:[new K({faces:n.faces,shading:"flat",material:(t==null?void 0:t.material)??null})],spatialReference:e.spatialReference})}static async createFromGLTF(e,t,n){if(!(e instanceof _))throw v.getLogger(N).error(".createfromGLTF()","expected location to be a Point instance"),new ie("invalid-input","Expected location to be a Point instance");const{loadGLTFMesh:r}=await Ye(we(()=>import("./loadGLTFMesh-0f359cbd.js"),["assets/loadGLTFMesh-0f359cbd.js","assets/index-6eb28d6b.js","assets/index-0492b785.css","assets/mat3f64-221ce671.js","assets/vec4f64-aa64c7e9.js","assets/BufferView-bd363d75.js","assets/vec32-259a42c6.js","assets/DefaultMaterial_COLOR_GAMMA-d19c2d61.js","assets/mat4f64-1413b4a7.js","assets/enums-b14466b3.js","assets/Version-fd75b892.js","assets/quat-f8e37ce2.js","assets/quatf64-3363c48e.js","assets/resourceUtils-1d112ccb.js","assets/basicInterfaces-4ab7cc6a.js","assets/Indices-40d92002.js","assets/types-1305598a.js","assets/georeference-c59b8177.js","assets/spatialReferenceEllipsoidUtils-7d58ed12.js","assets/imageUtils-c2d0d1ae.js","assets/earcut-258eab41.js","assets/deduplicate-f52d693c.js","assets/External-3a9a3d83.js","assets/infoFor3D-5881142c.js","assets/FeatureSet-af928f6b.js","assets/Field-3c7d8d62.js","assets/fieldType-df6f400c.js"]),n);return new C(await r(e,t,n))}static createWithExternalSource(e,t,n){var l;const r=(n==null?void 0:n.extent)??null,o=((l=n==null?void 0:n.transform)==null?void 0:l.clone())??new ue;o.origin=[e.x,e.y,e.z??0];const s=e.spatialReference,a={source:t,extent:r},i=new j;return i.externalSources.push(a),new C({metadata:i,transform:o,spatialReference:s})}static createIncomplete(e,t){var s;const n=((s=t==null?void 0:t.transform)==null?void 0:s.clone())??new ue;n.origin=[e.x,e.y,e.z??0];const r=e.spatialReference,o=new C({transform:n,spatialReference:r});return o.addResolvingPromise(Promise.reject(new ie("mesh-incomplete","Mesh resources are not complete"))),o}};c([m({type:[K],json:{write:!0}})],M.prototype,"components",void 0),c([m({type:ue,json:{write:!0}})],M.prototype,"transform",void 0),c([m({constructOnly:!0})],M.prototype,"metadata",void 0),c([m({readOnly:!0})],M.prototype,"hasExtent",null),c([m({readOnly:!0})],M.prototype,"_boundingInfo",null),c([m({readOnly:!0})],M.prototype,"anchor",null),c([m({readOnly:!0})],M.prototype,"origin",null),c([m({readOnly:!0,json:{read:!1}})],M.prototype,"extent",null),c([m({readOnly:!0,json:{read:!1,write:!0,default:!0}})],M.prototype,"hasZ",void 0),c([m({readOnly:!0,json:{read:!1,write:!0,default:!1}})],M.prototype,"hasM",void 0),c([m({type:A,nonNullable:!0,json:{write:!0}})],M.prototype,"vertexAttributes",void 0),M=C=c([U(N)],M);const se=T(),Ze=Oe(),Xe=M;function Yn(e,t,n){const r=n.features;n.features=[],delete n.geometryType;const o=nn.fromJSON(n);if(o.geometryType="mesh",!n.assetMaps)return o;const s=yt(t,n.assetMaps),a=o.spatialReference??Nt.WGS84,i=n.globalIdFieldName,{outFields:l}=e,u=l!=null&&l.length>0?qn(l.includes("*")?null:new Set(l)):()=>({});for(const p of r){const g=dt(p,i,a,t,s);g!=null&&o.features.push(new zt({geometry:g,attributes:u(p)}))}return o}function qn(e){return({attributes:t})=>{if(!t)return{};if(!e)return t;for(const n in t)e.has(n)||delete t[n];return t}}function dt(e,t,n,r,o){const s=e.attributes[t],a=o.get(s);if(a==null)return null;const i=Kn(e,n,r),l=ve.fromJSON(e.geometry);l.spatialReference=n;const u=Qn(e.attributes,r,a.projectVertices),p=er(a);return p?Xe.createWithExternalSource(i,p,{extent:l,transform:u}):Xe.createIncomplete(i,{extent:l,transform:u})}function Kn({attributes:e},t,{transformFieldRoles:n}){return new _({x:e[n.originX],y:e[n.originY],z:e[n.originZ],spatialReference:t})}function Qn(e,{transformFieldRoles:t},n){return new ue({translation:[e[t.translationX],-e[t.translationZ],e[t.translationY]],rotation:Xt([e[t.rotationX],e[t.rotationZ],e[t.rotationY]],e[t.rotationDeg]),scale:[e[t.scaleX],e[t.scaleY],e[t.scaleZ]],geographic:n})}var q;function yt(e,t){const n=new Map;for(const r of t){const o=r.parentGlobalId;if(o==null)continue;const s=r.assetName,a=r.assetType,i=r.assetHash,l=r.assetURL,u=r.conversionStatus,p=r.seqNo,g=tn(a,e.supportedFormats);if(!g){v.getLogger("esri.rest.support.meshFeatureSet").error("mesh-feature-set:unknown-format",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}const h=Ne(n,o,()=>({projectVertices:nr(r.flags).projectVertices,files:new Map}));Ne(h.files,s,()=>({name:s,type:a,mimeType:g,status:tr(u),parts:[]})).parts[p]={hash:i,url:l}}return n}function er(e){const t=Array.from(e.files.values()),n=new Array;for(const r of t){if(r.status!==q.COMPLETED)return null;const o=new Array;for(const s of r.parts){if(!s)return null;o.push(new Qt(s.url,s.hash))}n.push(new en(r.name,r.mimeType,o))}return n}function tr(e){switch(e){case"COMPLETED":case"SUBMITTED":return q.COMPLETED;case"INPROGRESS":return q.PENDING;default:return q.FAILED}}function nr(e){return{projectVertices:e.includes("PROJECT_VERTICES")}}(function(e){e[e.FAILED=0]="FAILED",e[e.PENDING=1]="PENDING",e[e.COMPLETED=2]="COMPLETED"})(q||(q={}));const dr=Object.freeze(Object.defineProperty({__proto__:null,assetMapFromAssetMapsJSON:yt,extractMesh:dt,meshFeatureSetFromJSON:Yn},Symbol.toStringTag,{value:"Module"}));export{dr as a,K as g,ne as m,A as p,on as u};
