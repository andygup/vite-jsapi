var t;(function(e){e.AsyncNotEnabled="AsyncNotEnabled",e.ModulesNotSupported="ModulesNotSupported",e.CircularModules="CircularModules",e.NeverReach="NeverReach",e.UnsupportedHashType="UnsupportedHashType",e.InvalidParameter="InvalidParameter",e.UnexpectedToken="UnexpectedToken",e.Unrecognised="Unrecognised",e.UnrecognisedType="UnrecognisedType",e.MaximumCallDepth="MaximumCallDepth",e.BooleanConditionRequired="BooleanConditionRequired",e.TypeNotAllowedInFeature="TypeNotAllowedInFeature",e.KeyMustBeString="KeyMustBeString",e.WrongNumberOfParameters="WrongNumberOfParameters",e.CallNonFunction="CallNonFunction",e.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",e.NoFunctionInDictionary="NoFunctionInDictionary",e.NoFunctionInArray="NoFunctionInArray",e.AssignModuleFunction="AssignModuleFunction",e.LogicExpressionOrAnd="LogicExpressionOrAnd",e.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",e.FuncionNotFound="FunctionNotFound",e.InvalidMemberAccessKey="InvalidMemberAccessKey",e.UnsupportedUnaryOperator="UnsupportUnaryOperator",e.InvalidIdentifier="InvalidIdentifier",e.MemberOfNull="MemberOfNull",e.UnsupportedOperator="UnsupportedOperator",e.Cancelled="Cancelled",e.ModuleAccessorMustBeString="ModuleAccessorMustBeString",e.ModuleExportNotFound="ModuleExportNotFound",e.Immutable="Immutable",e.OutOfBounds="OutOfBounds",e.IllegalResult="IllegalResult",e.FieldNotFound="FieldNotFound",e.PortalRequired="PortalRequired",e.LogicError="LogicError",e.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",e.KeyAccessorMustBeString="KeyAccessorMustBeString",e.WrongSpatialReference="WrongSpatialReference"})(t||(t={}));const u={[t.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[t.LogicError]:"Logic error - {reason}",[t.NeverReach]:"Encountered unreachable logic",[t.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[t.ModuleAccessorMustBeString]:"Module accessor must be a string",[t.ModuleExportNotFound]:"Module has no export with provided identifier",[t.ModulesNotSupported]:"Current profile does not support modules",[t.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[t.FuncionNotFound]:"Function not found",[t.FieldNotFound]:"Key not found - {key}",[t.CircularModules]:"Circular module dependencies are not allowed",[t.Cancelled]:"Execution cancelled",[t.UnsupportedHashType]:"Type not supported in hash function",[t.IllegalResult]:"Value is not a supported return type",[t.PortalRequired]:"Portal is required",[t.InvalidParameter]:"Invalid parameter",[t.WrongNumberOfParameters]:"Call with wrong number of parameters",[t.Unrecognised]:"Unrecognised code structure",[t.UnrecognisedType]:"Unrecognised type",[t.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[t.BooleanConditionRequired]:"Conditions must use booleans",[t.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[t.NoFunctionInArray]:"Arrays cannot contain functions.",[t.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[t.KeyAccessorMustBeString]:"Accessor must be a string",[t.KeyMustBeString]:"Object keys must be a string",[t.Immutable]:"Object is immutable",[t.InvalidParameter]:"Invalid parameter",[t.UnexpectedToken]:"Unexpected token",[t.MemberOfNull]:"Cannot access property of null object",[t.MaximumCallDepth]:"Exceeded maximum function depth",[t.OutOfBounds]:"Out of bounds",[t.InvalidIdentifier]:"Identifier not recognised",[t.FuncionNotFound]:"Function not found",[t.CallNonFunction]:"Expression is not a function",[t.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[t.AssignModuleFunction]:"Cannot assign function to module variable",[t.UnsupportedUnaryOperator]:"Unsupported unary operator",[t.UnsupportedOperator]:"Unsupported operator",[t.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[t.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&"};class g extends Error{constructor(...n){super(...n)}}class o extends g{constructor(n,r){super(i(r)+n.message,{cause:n}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,o),r&&r.loc&&(this.loc=r.loc)}}class p extends Error{constructor(n,r,a,c){super("Execution error - "+i(a)+l(u[r],c)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,p),a&&a.loc&&(this.loc=a.loc)}}function i(e){var n,r;return!e||!e.loc?"":`Line : ${(n=e.loc.start)==null?void 0:n.line}, ${(r=e.loc.start)==null?void 0:r.column}: `}class d extends Error{constructor(n,r,a,c){super("Compilation error - "+i(a)+l(u[r],c)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,d),a&&a.loc&&(this.loc=a.loc)}}class f extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,f)}}function l(e,n){try{if(!n)return e;for(const r in n){let a=n[r];a||(a=""),e=e.replace("{"+r+"}",n[r])}}catch{}return e}function N(e,n,r){return r.declaredRootClass==="esri.arcade.arcadeexecutionerror"||r.declaredRootClass==="esri.arcade.arcadecompilationerror"?r.loc===null&&n&&n.loc?new o(r,{cause:r}):r:r.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||r.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||r.declaredRootClass==="esri.arcade.arcadedate.dateerror"?n&&n.loc?new o(r,{cause:r}):r:n&&n.loc?new o(r,{cause:r}):r}var s;(function(e){e.UnrecognisedUri="UnrecognisedUri",e.UnsupportedUriProtocol="UnsupportedUriProtocol"})(s||(s={}));const y={[s.UnrecognisedUri]:"Unrecognised uri - {uri}",[s.UnsupportedUriProtocol]:"Unrecognised uri protocol"};class m extends Error{constructor(n,r){super(l(y[n],r)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,m)}}export{p as A,t as E,m as M,d as a,f as b,s as c,l as d,N as e};
