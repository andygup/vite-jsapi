import{cp as F,cm as v,cd as w,cq as X,cn as Y}from"./index-14eace40.js";const o=(t,n,i)=>[n,i],c=(t,n,i)=>[n,i,t[2]],z=(t,n,i)=>[n,i,t[2],t[3]];function H(t){return t?{originPosition:t.originPosition==="upper-left"?"upperLeft":t.originPosition==="lower-left"?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:t.extent!=null?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function p({scale:t,translate:n},i){return Math.round((i-n[0])/t[0])}function x({scale:t,translate:n},i){return Math.round((n[1]-i)/t[1])}function h(t,n,i){const e=[];let u,l,s,r;for(let a=0;a<i.length;a++){const f=i[a];a>0?(s=p(t,f[0]),r=x(t,f[1]),(s!==u||r!==l)&&(e.push(n(f,s-u,r-l)),u=s,l=r)):(u=p(t,f[0]),l=x(t,f[1]),e.push(n(f,u,l)))}return e.length>0?e:null}function E(t,n,i,e){return h(t,i?e?z:c:e?c:o,n)}function L(t,n,i,e){const u=[],l=i?e?z:c:e?c:o;for(let s=0;s<n.length;s++){const r=h(t,l,n[s]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function R(t,n,i,e){const u=[],l=i?e?z:c:e?c:o;for(let s=0;s<n.length;s++){const r=h(t,l,n[s]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function P({scale:t,translate:n},i){return i*t[0]+n[0]}function q({scale:t,translate:n},i){return n[1]-i*t[1]}function C(t,n,i){const e=new Array(i.length);if(!i.length)return e;const[u,l]=t.scale;let s=P(t,i[0][0]),r=q(t,i[0][1]);e[0]=n(i[0],s,r);for(let a=1;a<i.length;a++){const f=i[a];s+=f[0]*u,r-=f[1]*l,e[a]=n(f,s,r)}return e}function d(t,n,i){const e=new Array(i.length);for(let u=0;u<i.length;u++)e[u]=C(t,n,i[u]);return e}function b(t,n,i,e){return C(t,i?e?z:c:e?c:o,n)}function G(t,n,i,e){return d(t,i?e?z:c:e?c:o,n)}function Q(t,n,i,e){return d(t,i?e?z:c:e?c:o,n)}function T(t,n,i,e,u){return n.xmin=p(t,i.xmin),n.ymin=x(t,i.ymin),n.xmax=p(t,i.xmax),n.ymax=x(t,i.ymax),n!==i&&(e&&(n.zmin=i.zmin,n.zmax=i.zmax),u&&(n.mmin=i.mmin,n.mmax=i.mmax)),n}function _(t,n,i,e,u){return n.points=E(t,i.points,e,u)??[],n}function j(t,n,i,e,u){return n.x=p(t,i.x),n.y=x(t,i.y),n!==i&&(e&&(n.z=i.z),u&&(n.m=i.m)),n}function k(t,n,i,e,u){const l=L(t,i.rings,e,u);return l?(n.rings=l,n):null}function B(t,n,i,e,u){const l=R(t,i.paths,e,u);return l?(n.paths=l,n):null}function I(t,n){return!t||!n?null:F(n)?j(t,{},n,!1,!1):v(n)?B(t,{},n,!1,!1):w(n)?k(t,{},n,!1,!1):X(n)?_(t,{},n,!1,!1):Y(n)?T(t,{},n,!1,!1):null}function J(t,n,i,e,u){return i!=null&&(n.points=b(t,i.points,e,u)),n}function K(t,n,i,e,u){return i==null||(n.x=P(t,i.x),n.y=q(t,i.y),n!==i&&(e&&(n.z=i.z),u&&(n.m=i.m))),n}function N(t,n,i,e,u){return i!=null&&(n.rings=Q(t,i.rings,e,u)),n}function O(t,n,i,e,u){return i!=null&&(n.paths=G(t,i.paths,e,u)),n}export{I as a,O as b,N as c,K as d,j as q,H as t,J as u};
