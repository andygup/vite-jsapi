function y(E){return window.WebGL2RenderingContext&&E instanceof window.WebGL2RenderingContext}class n{constructor(i,e,t,T,_,u,s,X,Q){this.createQuery=i,this.deleteQuery=e,this.resultAvailable=t,this.getResult=T,this.disjoint=_,this.beginTimeElapsed=u,this.endTimeElapsed=s,this.createTimestamp=X,this.timestampBits=Q}}let r=!1;function a(E,i){if(i.disjointTimerQuery)return null;let e=E.getExtension("EXT_disjoint_timer_query_webgl2");return e&&y(E)?new n(()=>E.createQuery(),t=>{E.deleteQuery(t),r=!1},t=>E.getQueryParameter(t,E.QUERY_RESULT_AVAILABLE),t=>E.getQueryParameter(t,E.QUERY_RESULT),()=>E.getParameter(e.GPU_DISJOINT_EXT),t=>{r||(r=!0,E.beginQuery(e.TIME_ELAPSED_EXT,t))},()=>{E.endQuery(e.TIME_ELAPSED_EXT),r=!1},t=>e.queryCounterEXT(t,e.TIMESTAMP_EXT),()=>E.getQuery(e.TIMESTAMP_EXT,e.QUERY_COUNTER_BITS_EXT)):(e=E.getExtension("EXT_disjoint_timer_query"),e?new n(()=>e.createQueryEXT(),t=>{e.deleteQueryEXT(t),r=!1},t=>e.getQueryObjectEXT(t,e.QUERY_RESULT_AVAILABLE_EXT),t=>e.getQueryObjectEXT(t,e.QUERY_RESULT_EXT),()=>E.getParameter(e.GPU_DISJOINT_EXT),t=>{r||(r=!0,e.beginQueryEXT(e.TIME_ELAPSED_EXT,t))},()=>{e.endQueryEXT(e.TIME_ELAPSED_EXT),r=!1},t=>e.queryCounterEXT(t,e.TIMESTAMP_EXT),()=>e.getQueryEXT(e.TIMESTAMP_EXT,e.QUERY_COUNTER_BITS_EXT)):null)}export{a as T,y as n};
