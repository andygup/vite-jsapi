function B(n){return"r"in n&&"g"in n&&"b"in n}function g(n){return"h"in n&&"s"in n&&"v"in n}function M(n){return"l"in n&&"a"in n&&"b"in n}function x(n){return"l"in n&&"c"in n&&"h"in n}function p(n){return"x"in n&&"y"in n&&"z"in n}const G=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],R=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function d(n,r){const e=[];let t,s;if(n[0].length!==r.length)throw new Error("dimensions do not match");const u=n.length,i=n[0].length;let a=0;for(t=0;t<u;t++){for(a=0,s=0;s<i;s++)a+=n[t][s]*r[s];e.push(a)}return e}function m(n){const r=[n.r/255,n.g/255,n.b/255].map(t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4),e=d(G,r);return{x:e[0]*100,y:e[1]*100,z:e[2]*100}}function c(n){const e=d(R,[n.x/100,n.y/100,n.z/100]).map(t=>{const s=t<=.0031308?t*12.92:1.055*t**.4166666666666667-.055;return Math.min(1,Math.max(s,0))});return{r:Math.round(e[0]*255),g:Math.round(e[1]*255),b:Math.round(e[2]*255)}}function y(n){const r=[n.x/95.047,n.y/100,n.z/108.883].map(u=>u>.008856451679035631?u**.3333333333333333:7.787037037037035*u+.13793103448275862),e=116*r[1]-16,t=500*(r[0]-r[1]),s=200*(r[1]-r[2]);return{l:e,a:t,b:s}}function z(n){const r=n.l,e=n.a,t=n.b,s=[(r+16)/116+e/500,(r+16)/116,(r+16)/116-t/200].map(u=>u>6/29?u**3:3*(6/29)**2*(u-4/29));return{x:s[0]*95.047,y:s[1]*100,z:s[2]*108.883}}function k(n){const r=n.l,e=n.a,t=n.b,s=Math.sqrt(e*e+t*t);let u=Math.atan2(t,e);return u=u>0?u:u+2*Math.PI,{l:r,c:s,h:u}}function v(n){const r=n.l,e=n.c,t=n.h,s=e*Math.cos(t),u=e*Math.sin(t);return{l:r,a:s,b:u}}function C(n){return y(m(n))}function H(n){return c(z(n))}function L(n){return k(y(m(n)))}function _(n){return c(z(v(n)))}function w(n){const r=n.r,e=n.g,t=n.b,s=Math.max(r,e,t),u=Math.min(r,e,t),i=s-u;let a=s,b=i===0?0:s===r?(e-t)/i%6:s===e?(t-r)/i+2:(r-e)/i+4,f=i===0?0:i/a;return b<0&&(b+=6),b*=60,f*=100,a*=100/255,{h:b,s:f,v:a}}function E(n){const r=(n.h+360)%360/60,e=n.s/100,t=n.v/100*255,s=t*e,u=s*(1-Math.abs(r%2-1));let i;switch(Math.floor(r)){case 0:i={r:s,g:u,b:0};break;case 1:i={r:u,g:s,b:0};break;case 2:i={r:0,g:s,b:u};break;case 3:i={r:0,g:u,b:s};break;case 4:i={r:u,g:0,b:s};break;case 5:case 6:i={r:s,g:0,b:u};break;default:i={r:0,g:0,b:0}}return i.r=Math.round(i.r+t-s),i.g=Math.round(i.g+t-s),i.b=Math.round(i.b+t-s),i}function h(n){return B(n)?n:x(n)?_(n):M(n)?H(n):p(n)?c(n):g(n)?E(n):n}function V(n){if(g(n))return n;{const r=h(n);return w(r)}}function X(n){return M(n)?n:C(h(n))}function Y(n){return x(n)?n:L(h(n))}export{h as a,X as b,V as c,Y as t};
