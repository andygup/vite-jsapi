(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const v of d.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&l(v)}).observe(document,{childList:!0,subtree:!0});function s(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(f){if(f.ep)return;f.ep=!0;const d=s(f);fetch(f.href,d)}})();function E(i,t,s,l){var f=arguments.length,d=f<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,t,s,l);else for(var w=i.length-1;w>=0;w--)(v=i[w])&&(d=(f<3?v(d):f>3?v(t,s,d):v(t,s))||d);return f>3&&d&&Object.defineProperty(t,s,d),d}const uS="modulepreload",cS=function(i){return"/dist-raw/"+i},h3={},pt=function(t,s,l){if(!s||s.length===0)return t();const f=document.getElementsByTagName("link");return Promise.all(s.map(d=>{if(d=cS(d),d in h3)return;h3[d]=!0;const v=d.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(!!l)for(let I=f.length-1;I>=0;I--){const N=f[I];if(N.href===d&&(!v||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${w}`))return;const M=document.createElement("link");if(M.rel=v?"stylesheet":uS,v||(M.as="script",M.crossOrigin=""),M.href=d,document.head.appendChild(M),v)return new Promise((I,N)=>{M.addEventListener("load",I),M.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>t())};function fS(i){return i&&i.release&&typeof i.release=="function"}function pS(i){return i&&i.acquire&&typeof i.acquire=="function"}class Gr{constructor(t,s,l,f=1,d=0){if(this._ctor=t,this._acquireFunction=s,this._releaseFunction=l,this.allocationSize=f,this._pool=new Array(d),this._initialSize=d,this._ctor)for(let v=0;v<d;v++)this._pool[v]=new this._ctor;this.allocationSize=Math.max(f,1)}destroy(){this.prune(0)}acquire(...t){let s;if(Gr.test.disabled)s=new this._ctor;else{if(this._pool.length===0){const l=this.allocationSize;for(let f=0;f<l;f++)this._pool[f]=new this._ctor}s=this._pool.pop()}return this._acquireFunction?this._acquireFunction(s,...t):pS(s)&&s.acquire(...t),s}release(t){!t||Gr.test.disabled||(this._releaseFunction?this._releaseFunction(t):fS(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let s=t;s<this._pool.length;++s){const l=this._pool[s];this._dispose(l)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}Gr.test={disabled:!1};function dS(i){i.length=0}class yi{constructor(t=50,s=50){this._pool=new Gr(Array,void 0,dS,s,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return A1.acquire()}static release(t){return A1.release(t)}static prune(){A1.prune()}}const A1=new yi(100);function hU(i){const t=[];return function*(){yield*t;for(const s of i)t.push(s),yield s}}function yS(i,t){for(const s of i)if(s!=null&&t(s))return s}function p0(i){return i!=null&&typeof i[Symbol.iterator]=="function"}function yo(i,t){return i!=null?t(i):null}function Oi(i,t){return Zg(i,t),i}function Zg(i,t){if(i==null)throw new Error(t??"value is None")}function be(i){return i==null||i.destroy(),null}function uU(i){return i==null||i.dispose(),null}function Me(i){return i==null||i.remove(),null}function Lh(i){return i==null||i.abort(),null}function cU(i){return i==null||i.release(),null}function fU(i,t,s){return i!=null&&t!=null?s!=null?s(i,t):i.equals(t):i===t}function mS(i){return null}function pU(i,t){const s=new Array;for(const l of i)s.push(l!=null?t(l):null);return s}function dU(i,t){for(const s of i)yo(s,t)}function yU(i){return i}class $s{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(s=>{t+=s.length}),t}add(t,s){if(p0(t)){const l=this._getOrCreateGroup(s);for(const f of t)this._isHandle(f)&&l.push(f)}else this._isHandle(t)&&this._getOrCreateGroup(s).push(t);return this}forEach(t,s){if(typeof t=="function")this._groups.forEach(l=>l.forEach(t));else{const l=this._getGroup(t);l&&s&&l.forEach(s)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&p0(t)){for(const s of t)this.remove(s);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach(t=>this._removeAllFromGroup(t)),this._groups.clear(),this}_isHandle(t){return t&&!!t.remove}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const s=[];return this._groups.set(this._ensureGroupKey(t),s),s}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){t.forEach(s=>s.remove())}}const Xg=Symbol("Accessor-beforeDestroy");function Gf(i){return Al(()=>i.forEach(t=>t!=null&&t.remove()))}function Al(i){return{remove:()=>{i&&(i(),i=void 0)}}}class zr{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*zr._m}getInt(){return this._seed=(zr._a*this._seed+zr._c)%zr._m,this._seed}getFloat(){return this.getInt()/(zr._m-1)}getIntRange(t,s){return Math.round(this.getFloatRange(t,s))}getFloatRange(t,s){const l=s-t,f=this.getInt()/zr._m;return t+f*l}}zr._m=2147483647;zr._a=48271;zr._c=0;const mU=1.5;function vU(i,t){return t?i.filter((s,l,f)=>f.findIndex(t.bind(null,s))===l):i.filter((s,l,f)=>f.indexOf(s)===l)}function Vf(i,t,s){if(i==null&&t==null)return!0;if(i==null||t==null||i.length!==t.length)return!1;if(s){for(let l=0;l<i.length;l++)if(!s(i[l],t[l]))return!1}else for(let l=0;l<i.length;l++)if(i[l]!==t[l])return!1;return!0}function wU(i,t){let s=i.length!==t.length;s&&(i.length=t.length);for(let l=0;l<t.length;++l)i[l]!==t[l]&&(i[l]=t[l],s=!0);return s}function gU(i,t,s){let l,f;return s?(l=t.filter(d=>!i.some(v=>s(v,d))),f=i.filter(d=>!t.some(v=>s(v,d)))):(l=t.filter(d=>!i.includes(d)),f=i.filter(d=>!t.includes(d))),{added:l,removed:f}}function _U(i){return i&&typeof i.length=="number"}const vS=!!Array.prototype.fill;function SU(i,t){if(vS)return new Array(i).fill(t);const s=new Array(i);for(let l=0;l<i;l++)s[l]=t;return s}function bU(i,t){t===void 0&&(t=i,i=0);const s=new Array(t-i);for(let l=i;l<t;l++)s[l-i]=l;return s}class Qg{constructor(){this.last=0}}const t9=new Qg;function Ip(i,t,s,l){l=l||t9;const f=Math.max(0,l.last-10);for(let v=f;v<s;++v)if(i[v]===t)return l.last=v,v;const d=Math.min(f,s);for(let v=0;v<d;++v)if(i[v]===t)return l.last=v,v;return-1}function wS(i,t,s,l){const f=s??i.length,d=Ip(i,t,f,l);if(d!==-1)return i[d]=i[f-1],s==null&&i.pop(),t}const sr=new Set;function gS(i,t,s=i.length,l=t.length,f,d){if(l===0||s===0)return s;sr.clear();for(let w=0;w<l;++w)sr.add(t[w]);f=f||t9;const v=Math.max(0,f.last-10);for(let w=v;w<s;++w)if(sr.has(i[w])&&(d&&d.push(i[w]),sr.delete(i[w]),i[w]=i[s-1],--s,--w,sr.size===0||s===0))return sr.clear(),s;for(let w=0;w<v;++w)if(sr.has(i[w])&&(d&&d.push(i[w]),sr.delete(i[w]),i[w]=i[s-1],--s,--w,sr.size===0||s===0))return sr.clear(),s;return sr.clear(),s}function _S(i,t){const s=i.indexOf(t);return s!==-1?(i.splice(s,1),t):null}function En(i,t){return i!=null}let vs;var Vg,Bg,Hg,Wg;(Vg=globalThis.dojoConfig)!=null&&Vg.has||(Bg=globalThis.esriConfig)!=null&&Bg.has?vs={...(Hg=globalThis.dojoConfig)==null?void 0:Hg.has,...(Wg=globalThis.esriConfig)==null?void 0:Wg.has}:vs={};function rt(i){return typeof vs[i]=="function"?vs[i]=vs[i](globalThis):vs[i]}rt.add=(i,t,s,l)=>((l||typeof vs[i]>"u")&&(vs[i]=t),s&&rt(i));rt.cache=vs;rt.add("esri-deprecation-warnings",!0);rt.add("esri-force-fullscreen-debug",!1);(()=>{var t;rt.add("host-webworker",typeof globalThis.WorkerGlobalScope<"u"&&self instanceof globalThis.WorkerGlobalScope);const i=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(rt.add("host-browser",i),rt.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),rt.add("dom",i),rt("host-browser")){const s=navigator,l=s.userAgent,f=s.appVersion,d=parseFloat(f);if(rt.add("wp",parseFloat(l.split("Windows Phone")[1])||void 0),rt.add("msapp",parseFloat(l.split("MSAppHost/")[1])||void 0),rt.add("khtml",f.includes("Konqueror")?d:void 0),rt.add("edge",parseFloat(l.split("Edge/")[1])||void 0),rt.add("opr",parseFloat(l.split("OPR/")[1])||void 0),rt.add("webkit",!rt("wp")&&!rt("edge")&&parseFloat(l.split("WebKit/")[1])||void 0),rt.add("chrome",!rt("edge")&&!rt("opr")&&parseFloat(l.split("Chrome/")[1])||void 0),rt.add("android",!rt("wp")&&parseFloat(l.split("Android ")[1])||void 0),rt.add("safari",f.includes("Safari")&&!rt("wp")&&!rt("chrome")&&!rt("android")&&!rt("edge")&&!rt("opr")?parseFloat(f.split("Version/")[1]):void 0),rt.add("mac",f.includes("Macintosh")),!rt("wp")&&l.match(/(iPhone|iPod|iPad)/)){const v=RegExp.$1.replace(/P/,"p"),w=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",T=parseFloat(w.replace(/_/,".").replace(/_/g,""));rt.add(v,T),rt.add("ios",T)}rt("webkit")||(l.includes("Gecko")&&!rt("wp")&&!rt("khtml")&&!rt("edge")&&rt.add("mozilla",d),rt("mozilla")&&rt.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){const i=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(i),s=/iPhone/i.test(i);t&&rt.add("esri-mobile",t),s&&rt.add("esri-iPhone",s),rt.add("esri-geolocation",!!navigator.geolocation)}rt.add("esri-wasm","WebAssembly"in globalThis),rt.add("esri-shared-array-buffer",()=>{const i="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return i&&!t}),rt.add("wasm-simd",()=>{const i=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(i))}),rt.add("esri-atomics","Atomics"in globalThis),rt.add("esri-workers","Worker"in globalThis),rt.add("web-feat:cache","caches"in globalThis),rt.add("esri-workers-arraybuffer-transfer",!rt("safari")||Number(rt("safari"))>=12),rt.add("workers-pool-size",8),rt.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),rt.add("featurelayer-simplify-payload-size-factors",[1,1,4]),rt.add("featurelayer-animation-enabled",!0),rt.add("featurelayer-snapshot-enabled",!0),rt.add("featurelayer-snapshot-point-min-threshold",8e4),rt.add("featurelayer-snapshot-point-max-threshold",4e5),rt.add("featurelayer-snapshot-point-coverage",.1),rt.add("featurelayer-advanced-symbols",!1),rt.add("featurelayer-pbf",!0),rt.add("featurelayer-pbf-statistics",!1),rt.add("feature-layers-workers",!0),rt.add("feature-polyline-generalization-factor",1),rt.add("mapview-transitions-duration",200),rt.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),rt.add("mapserver-pbf-version-support",10.81),rt.add("mapservice-popup-identify-max-tolerance",20),rt.add("heatmap-allow-raster-fallback",!1),rt.add("heatmap-force-raster",!1),!rt("host-webworker")&&rt("host-browser")&&(rt.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),rt.add("esri-image-decode",()=>{if("decode"in new Image){const i=new Image;i.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',i.decode().then(()=>{rt.add("esri-image-decode",!0,!0,!0)}).catch(()=>{rt.add("esri-image-decode",!1,!0,!0)});return}return!1}),rt.add("esri-url-encodes-apostrophe",()=>{const i=window.document.createElement("a");return i.href="?'",i.href.includes("?%27")}))})();function TU(i){return i instanceof ArrayBuffer}function o2(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Int8Array"}function e9(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Uint8Array"}function i9(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function a2(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Int16Array"}function r9(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Uint16Array"}function l2(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Int32Array"}function s9(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Uint32Array"}function Bf(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Float32Array"}function Hf(i){var t;return((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="Float64Array"}function SS(i){return!("buffer"in i)}function EU(i){return i!=null?SS(i)?i.length*8+12:i.byteLength+145:0}const xU=1024;function MU(i){return Hf(i)||Bf(i)||l2(i)||a2(i)||o2(i)}function AU(i){return Hf(i)||Bf(i)}function PU(i){return Hf(i)?179769e303:Bf(i)?3402823e32:s9(i)?4294967295:r9(i)?65535:e9(i)||i9(i)?255:l2(i)?2147483647:a2(i)?32767:o2(i)?127:256}function n9(i,t){let s;if(t)for(s in i)i.hasOwnProperty(s)&&(i[s]===void 0?delete i[s]:i[s]instanceof Object&&n9(i[s],!0));else for(s in i)i.hasOwnProperty(s)&&i[s]===void 0&&delete i[s];return i}function ht(i){if(!i||typeof i!="object"||typeof i=="function")return i;const t=l9(i);if(t!=null)return t;if(d0(i))return i.clone();if(o9(i))return i.map(ht);if(a9(i))return i.clone();const s={};for(const l of Object.getOwnPropertyNames(i))s[l]=ht(i[l]);return s}function Cp(i){if(!i||typeof i!="object"||typeof i=="function"||"HTMLElement"in globalThis&&i instanceof HTMLElement)return i;const t=l9(i);if(t!=null)return t;if(o9(i)){let s=!0;const l=i.map(f=>{const d=Cp(f);return f!=null&&d==null&&(s=!1),d});return s?l:null}else{if(d0(i))return i.clone();if(i instanceof File||i instanceof Blob)return i;if(!a9(i)){const s=Object.getPrototypeOf(i).constructor,l=new s;for(const f of Object.getOwnPropertyNames(i)){const d=i[f],v=Cp(d);if(d!=null&&v==null)return null;l[f]=v}return l}}return null}function d0(i){return typeof i.clone=="function"}function o9(i){return typeof i.map=="function"&&typeof i.forEach=="function"}function a9(i){return typeof i.notifyChange=="function"&&typeof i.watch=="function"}function u3(i){if(Object.prototype.toString.call(i)!=="[object Object]")return!1;const t=Object.getPrototypeOf(i);return t===null||t===Object.prototype}function l9(i){if(o2(i)||e9(i)||i9(i)||a2(i)||r9(i)||l2(i)||s9(i)||Bf(i)||Hf(i))return i.slice();if(i instanceof Date)return new Date(i.getTime());if(i instanceof ArrayBuffer)return i.slice(0,i.byteLength);if(i instanceof Map){const t=new Map;for(const[s,l]of i)t.set(s,ht(l));return t}if(i instanceof Set){const t=new Set;for(const s of i)t.add(ht(s));return t}return null}function h2(i,t){return i===t||typeof i=="number"&&isNaN(i)&&typeof t=="number"&&isNaN(t)||typeof(i||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&i.getTime()===t.getTime()||!1}function h9(i,t){return i===t?!0:i==null||typeof i=="string"?i===t:typeof i=="number"?i===t||typeof t=="number"&&isNaN(i)&&isNaN(t):i instanceof Date?t instanceof Date&&i.getTime()===t.getTime():Array.isArray(i)?Array.isArray(t)&&Vf(i,t):i instanceof Set?t instanceof Set&&TS(i,t):i instanceof Map?t instanceof Map&&ES(i,t):u3(i)?u3(t)&&bS(i,t):!1}function bS(i,t){if(i===null||t===null)return!1;const s=Object.keys(i);if(t===null||Object.keys(t).length!==s.length)return!1;for(const l of s)if(i[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1;return!0}function TS(i,t){if(i.size!==t.size)return!1;for(const s of i)if(!t.has(s))return!1;return!0}function ES(i,t){if(i.size!==t.size)return!1;for(const[s,l]of i){const f=t.get(s);if(f!==l||f===void 0&&!t.has(s))return!1}return!0}function bs(i){return i.__accessor__??null}function xS(i,t){return i!=null&&i.metadatas&&i.metadatas[t]!=null}function Bc(i,t,s){return s?y0(i,t,{policy:s,path:""}):y0(i,t,null)}function y0(i,t,s){return t?Object.keys(t).reduce((l,f)=>{const d=f;let v=null,w="merge";if(s&&(v=s.path?`${s.path}.${f}`:f,w=s.policy(v)),w==="replace")return l[d]=t[d],l;if(w==="replace-arrays"&&Array.isArray(l[d]))return l[d]=t[d],l;if(l[d]===void 0)return l[d]=ht(t[d]),l;let T=l[d],M=t[d];if(T===M)return l;if(Array.isArray(M)||Array.isArray(l))T?Array.isArray(T)?T=l[d]=T.concat():T=l[d]=[T]:T=l[d]=[],M&&(Array.isArray(M)||(M=[M]),M.forEach(I=>{T.includes(I)||T.push(I)}));else if(M&&typeof M=="object")if(s){const I=s.path;s.path=v,l[d]=y0(T,M,s),s.path=I}else l[d]=y0(T,M,null);else(!l.hasOwnProperty(f)||t.hasOwnProperty(f))&&(l[d]=M);return l},i||{}):i}function u9(i){return Array.isArray(i)?i:i.split(".")}function c3(i){return i.includes(",")?i.split(",").map(t=>t.trim()):[i.trim()]}function MS(i){if(Array.isArray(i)){const t=[];for(const s of i)t.push(...c3(s));return t}return c3(i)}function c9(i,t,s,l){const f=MS(t);if(f.length!==1){const d=f.map(v=>l(i,v,s));return Gf(d)}return l(i,f[0],s)}function f9(i){let t=!1;return()=>{t||(t=!0,i())}}function p9(i,t){const s=i[i.length-1]==="?"?i.slice(0,-1):i;if(t.getItemAt!=null||Array.isArray(t)){const f=parseInt(s,10);if(!isNaN(f))return Array.isArray(t)?t[f]:t.getItemAt(f)}const l=bs(t);return xS(l,s)?l.get(s):t[s]}function d9(i,t,s){if(i==null)return i;const l=t[s],f=p9(l,i);if(!(!f&&s<t.length-1))return s===t.length-1?f:d9(f,t,s+1)}function Du(i,t,s=0){return typeof t=="string"&&!t.includes(".")?p9(t,i):d9(i,u9(t),s)}function m0(i,t){return Du(i,t)}function f3(i,t){return Du(t,i)!==void 0}function ju(i){let t=i.constructor.__accessorMetadata__;const s=Object.prototype.hasOwnProperty.call(i.constructor,"__accessorMetadata__");if(!t)t={},Object.defineProperty(i.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});else if(!s){t=Object.create(t);for(const l in t)t[l]=ht(t[l]);Object.defineProperty(i.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}return i.constructor.__accessorMetadata__}function Wf(i,t){const s=ju(i);let l=s[t];return l||(l=s[t]={}),l}function AS(i,t){return Bc(i,t,IS)}const PS=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function IS(i){return PS.test(i)?"replace":"merge"}function CS(i,t,s=!1){return m9(i,t,s)}function ku(i,t){if(t!=null)return t[i]||y9(i.split("."),!1,t)}function Pl(i,t,s){const l=i.split("."),f=l.pop(),d=y9(l,!0,s);d&&f&&(d[f]=t)}function y9(i,t,s){let l=s;for(const f of i){if(l==null)return;if(!(f in l))if(t)l[f]={};else return;l=l[f]}return l}function m9(i,t,s){return t?Object.keys(t).reduce((l,f)=>{let d=l[f],v=t[f];return d===v?l:d===void 0?(l[f]=ht(v),l):(Array.isArray(v)||Array.isArray(l)?(d?Array.isArray(d)?d=l[f]=d.concat():d=l[f]=[d]:d=l[f]=[],v&&(Array.isArray(v)||(v=[v]),s?v.forEach(w=>{d.includes(w)||d.push(w)}):l[f]=v.concat())):v&&typeof v=="object"?l[f]=m9(d,v,s):(!l.hasOwnProperty(f)||t.hasOwnProperty(f))&&(l[f]=v),l)},i||{}):i}const Jf="20230419",v9="4bea29a36abdfcb1723c9d188c9983f788b22a1f";var Jg;const Wt={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:(Jg=globalThis.location)==null?void 0:Jg.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(CS(Wt,globalThis.esriConfig,!0),delete Wt.has);if(!Wt.assetsPath){{const i="4.27.0";Wt.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${i}-next.${Jf}/assets`}Wt.defaultAssetsPath=Wt.assetsPath}const OS=/\{([^\}]+)\}/g;function p3(i){return i??""}function u2(i,t){return i.replace(OS,typeof t=="object"?(s,l)=>p3(ku(l,t)):(s,l)=>p3(t(l)))}function IU(i,t){return i.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,s=>t&&t.includes(s)?s:`\\${s}`)}function w9(i){let t=0;for(let s=0;s<i.length;s++)t=(t<<5)-t+i.charCodeAt(s),t|=0;return t}function CU(i){return new DOMParser().parseFromString(i||"","text/html").body.innerText||""}const d3={info:0,warn:1,error:2,none:3};class ct{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ct._loggers[this.module]=this;const s=this.module.lastIndexOf(".");s!==-1&&(this._parent=ct.getLogger(this.module.slice(0,s)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings(){return t._loggedMessages.warn.clear()}}}static get testSingleton(){return{resetLoggers(t={}){const s=ct._loggers;return ct._loggers=t,s},set throttlingDisabled(t){ct._throttlingDisabled=t}}}static getLogger(t){let s=ct._loggers[t];return s||(s=new ct({module:t})),s}_log(t,s,...l){if(!this._matchLevel(t))return;if(s!=="always"&&!ct._throttlingDisabled){const d=this._argsToKey(l),v=this._loggedMessages[t].get(d);if(s==="once"&&v!=null||s==="oncePerTick"&&v&&v>=ct._tickCounter)return;this._loggedMessages[t].set(d,ct._tickCounter),ct._scheduleTickCounterIncrement()}for(const d of Wt.log.interceptors)if(d(t,this.module,...l))return;this._inheritedWriter()(t,this.module,...l)}_parentWithMember(t,s){let l=this;for(;l!=null;){const f=l[t];if(f!=null)return f;l=l.parent}return s}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,s,...l){console[t](`[${s}]`,...l)}_matchLevel(t){const s=Wt.log.level||"warn";return d3[this._parentWithMember("level",s)]<=d3[t]}_argsToKey(...t){return w9(JSON.stringify(t,(l,f)=>typeof f!="object"||Array.isArray(f)?f:"[Object]"))}static _scheduleTickCounterIncrement(){ct._tickCounterScheduled||(ct._tickCounterScheduled=!0,Promise.resolve().then(()=>{ct._tickCounter++,ct._tickCounterScheduled=!1}))}}ct._loggers={};ct._tickCounter=0;ct._tickCounterScheduled=!1;ct._throttlingDisabled=!1;var ms;(function(i){i[i.INITIALIZING=0]="INITIALIZING",i[i.CONSTRUCTING=1]="CONSTRUCTING",i[i.CONSTRUCTED=2]="CONSTRUCTED"})(ms||(ms={}));class NS{constructor(t,s){this._observers=t,this._observer=s}remove(){_S(this._observers,this._observer)}}class g9{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return LS;this._observers==null&&(this._observers=[]);const s=this._observers;let l=!1,f=!1;const d=s.length;for(let v=0;v<d;++v){const w=s[v];if(w.destroyed)f=!0;else if(w===t){l=!0;break}}return l||(s.push(t),f&&this._removeDestroyedObservers()),new NS(s,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const s=t.length;let l=0;for(let f=0;f<s;++f){for(;f+l<s&&t[f+l].destroyed;)++l;if(l>0)if(f+l<s)t[f]=t[f+l];else break}t.length=s-l}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const s of t)s.onCommitted();this._observers=null}}}const LS={remove:()=>{}};var Xt;(function(i){i[i.DEFAULTS=0]="DEFAULTS",i[i.COMPUTED=1]="COMPUTED",i[i.SERVICE=2]="SERVICE",i[i.PORTAL_ITEM=3]="PORTAL_ITEM",i[i.WEB_SCENE=4]="WEB_SCENE",i[i.WEB_MAP=5]="WEB_MAP",i[i.USER=6]="USER"})(Xt||(Xt={}));const OU=Xt.USER+1;function _9(i){switch(i){case"defaults":return Xt.DEFAULTS;case"service":return Xt.SERVICE;case"portal-item":return Xt.PORTAL_ITEM;case"web-scene":return Xt.WEB_SCENE;case"web-map":return Xt.WEB_MAP;case"user":return Xt.USER;default:return null}}function Op(i){switch(i){case Xt.DEFAULTS:return"defaults";case Xt.SERVICE:return"service";case Xt.PORTAL_ITEM:return"portal-item";case Xt.WEB_SCENE:return"web-scene";case Xt.WEB_MAP:return"web-map";case Xt.USER:return"user"}return void 0}function RS(i){return Op(i)}var re;(function(i){i[i.Dirty=1]="Dirty",i[i.Overriden=2]="Overriden",i[i.Computing=4]="Computing",i[i.NonNullable=8]="NonNullable",i[i.HasDefaultValue=16]="HasDefaultValue",i[i.DepTrackingInitialized=32]="DepTrackingInitialized",i[i.AutoTracked=64]="AutoTracked",i[i.ExplicitlyTracking=128]="ExplicitlyTracking"})(re||(re={}));const v0={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},lh=[];let gh=v0;function It(i){gh.onObservableAccessed(i)}let Hc=!1,Wc=!1;function Ts(i,t,s){if(Hc)return c2(i,t,s);S9(i);const l=t.call(s);return b9(),l}function DS(i,t){return Ts(v0,i,t)}function c2(i,t,s){const l=Hc;Hc=!0,S9(i);let f=null;try{f=t.call(s)}catch(d){Wc&&ct.getLogger("esri.core.accessorSupport.tracking").error(d)}return b9(),Hc=l,f}function S9(i){gh=i,lh.push(i)}function b9(){const i=lh.length;if(i>1){const t=lh.pop();gh=lh[i-2],t.onTrackingEnd()}else if(i===1){const t=lh.pop();gh=v0,t.onTrackingEnd()}else gh=v0}function T9(i,t){const s=t.observerObject;if(s.flags&re.DepTrackingInitialized)return;const l=Wc;Wc=!1,s.flags&re.AutoTracked?c2(t,t.metadata.get,i):E9(i,t),Wc=l}const jS=[];function E9(i,t){const s=t.observerObject;s.flags&re.ExplicitlyTracking||(s.flags|=re.ExplicitlyTracking,c2(t,()=>{const l=t.metadata.dependsOn||jS;for(const f of l)if(typeof f=="string"&&!f.includes("."))y3(i,f,!1);else{const d=u9(f);for(let v=0,w=i;v<d.length&&w!=null&&typeof w=="object";++v)w=y3(w,d[v],v!==d.length-1)}}),s.flags&=~re.ExplicitlyTracking)}function y3(i,t,s){const l=t[t.length-1]==="?"?t.slice(0,-1):t;if(i.getItemAt!=null||Array.isArray(i)){const d=parseInt(l,10);if(!isNaN(d))return Array.isArray(i)?i[d]:i.getItemAt(d)}const f=bs(i);if(f){const d=f.properties.get(l);d&&(It(d.observerObject),T9(i,d))}return s?i[l]:void 0}class m3{constructor(t,s,l){this.properties=t,this.propertyName=s,this.metadata=l,this.observerObject=new kS,this._accessed=null,this._handles=null,this.observerObject.flags=re.Dirty|(l.nonNullable?re.NonNullable:0)|(l.hasOwnProperty("value")?re.HasDefaultValue:0)|(l.get===void 0?re.DepTrackingInitialized:0)|(l.dependsOn===void 0?re.AutoTracked:0),v3.register(this,new WeakRef(this.observerObject),this)}destroy(){v3.unregister(this),this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(){const t=this.observerObject;It(t);const s=this.properties.store,l=this.propertyName,f=t.flags,d=s.get(l);if(f&re.Computing||~f&re.Dirty&&s.has(l))return d;t.flags|=re.Computing;const v=this.properties.host;let w;f&re.AutoTracked?w=Ts(this,this.metadata.get,v):(E9(v,this),w=this.metadata.get.call(v)),s.set(l,w,Xt.COMPUTED);const T=s.get(l);return T===d?t.flags&=~re.Dirty:DS(this.commit,this),t.flags&=~re.Computing,T}onObservableAccessed(t){if(t===this.observerObject)return;let s=this._accessed;if(s==null)s=[],this._accessed=s;else if(s.includes(t))return;s.push(t)}onTrackingEnd(){this._clearObservationHandles();const t=this.observerObject;t.flags|=re.DepTrackingInitialized;const s=this._accessed;if(s==null||s.length===0)return;let l=this._handles;l==null&&(l=[],this._handles=l);for(let f=0;f<s.length;++f)l.push(s[f].observe(t));s.length=0}notifyChange(){const t=this.observerObject;t.onInvalidated(),t.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const t=this.observerObject;t.flags&=~re.Dirty,t.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let s=0;s<t.length;++s)t[s].remove();t.length=0}}}class kS extends g9{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&re.Overriden&&(this.flags|=re.Dirty);const t=this._observers;if(t&&t.length>0)for(const s of t)s.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const s=t.slice();for(const l of s)l.onCommitted()}}destroy(){this.flags&re.Dirty&&this.onCommitted(),super.destroy()}}const v3=new FinalizationRegistry(i=>{var t;(t=i.deref())==null||t.destroy()});class f2{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const s=new f2;return this._values.forEach((l,f)=>{(!t||!t.has(f))&&s.set(f,ht(l))}),s}get(t){return this._values.get(t)}originOf(){return Xt.USER}keys(){return[...this._values.keys()]}set(t,s){this._values.set(t,s)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}ct.getLogger("esri.core.accessorSupport.Properties");function lc(i,t,s){return i!==void 0}function w3(i,t,s,l){return i===void 0?!1:s==null&&i.observerObject.flags&re.NonNullable?(l.lifecycle,ms.INITIALIZING,!1):!0}function FS(i){return i&&typeof i.destroy=="function"}class zS{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=ms.INITIALIZING,this.store=new f2,this._origin=Xt.USER;const s=this.host.constructor.__accessorMetadata__;for(const l in s){const f=new m3(this,l,s[l]);this.properties.set(l,f)}this.metadatas=s}initialize(){this.lifecycle=ms.CONSTRUCTING}constructed(){this.lifecycle=ms.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[t,s]of this.properties){if(s.metadata.autoDestroy){const l=this.internalGet(t);l&&FS(l)&&(l.destroy(),~s.observerObject.flags&re.NonNullable&&this._internalSet(s,null))}s.destroy()}}get initialized(){return this.lifecycle!==ms.INITIALIZING}get(t){const s=this.properties.get(t);if(s.metadata.get)return s.getComputed();It(s.observerObject);const l=this.store;return l.has(t)?l.get(t):s.metadata.value}originOf(t){const s=this.store.originOf(t);if(s===void 0){const l=this.properties.get(t);if(l!==void 0&&l.observerObject.flags&re.HasDefaultValue)return"defaults"}return Op(s)}has(t){return this.properties.has(t)?this.store.has(t):!1}keys(){return[...this.properties.keys()]}internalGet(t){const s=this.properties.get(t);if(lc(s))return this.store.has(t)?this.store.get(t):s.metadata.value}internalSet(t,s){const l=this.properties.get(t);lc(l)&&this._internalSet(l,s)}getDependsInfo(t,s,l){const f=this.properties.get(s);if(!lc(f))return"";const d=new Set,v=Ts({onObservableAccessed:M=>d.add(M),onTrackingEnd:()=>{}},()=>{var M;return(M=f.metadata.get)==null?void 0:M.call(t)}),w=t.declaredClass.split(".").pop();let T=`${l}${w}.${s}: ${v}
`;if(d.size===0)return T;l+="  ";for(const M of d){if(!(M instanceof m3))continue;const I=M.properties.host,N=M.propertyName,R=bs(I);R?T+=R.getDependsInfo(I,N,l):T+=`${l}${N}: undefined
`}return T}setAtOrigin(t,s,l){const f=this.properties.get(t);if(lc(f))return this._setAtOrigin(f,s,l)}isOverridden(t){const s=this.properties.get(t);return s!==void 0&&!!(s.observerObject.flags&re.Overriden)}clearOverride(t){const s=this.properties.get(t),l=s==null?void 0:s.observerObject;l&&l.flags&re.Overriden&&(l.flags&=~re.Overriden,s.notifyChange())}override(t,s){const l=this.properties.get(t);if(!w3(l,t,s,this))return;const f=l.metadata.cast;if(f){const d=this._cast(f,s),{valid:v,value:w}=d;if(P1.release(d),!v)return;s=w}l.observerObject.flags|=re.Overriden,this._internalSet(l,s)}set(t,s){const l=this.properties.get(t);if(!w3(l,t,s,this))return;const f=l.metadata.cast;if(f){const v=this._cast(f,s),{valid:w,value:T}=v;if(P1.release(v),!w)return;s=T}const d=l.metadata.set;d?d.call(this.host,s):this._internalSet(l,s)}setDefaultOrigin(t){this._origin=_9(t)}getDefaultOrigin(){return Op(this._origin)}notifyChange(t){const s=this.properties.get(t);s!==void 0&&s.notifyChange()}invalidate(t){const s=this.properties.get(t);s!==void 0&&s.invalidate()}commit(t){const s=this.properties.get(t);s!==void 0&&s.commit()}_internalSet(t,s){const l=this.lifecycle!==ms.INITIALIZING?this._origin:Xt.DEFAULTS;this._setAtOrigin(t,s,l)}_setAtOrigin(t,s,l){const f=this.store,d=t.propertyName;f.has(d,l)&&h2(s,f.get(d))&&~t.observerObject.flags&re.Overriden&&l===f.originOf(d)||(t.invalidate(),f.set(d,s,l),t.commit(),T9(this.host,t))}_cast(t,s){const l=P1.acquire();return l.valid=!0,l.value=s,t&&(l.value=t.call(this.host,s,l)),l}}class US{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const P1=new Gr(US);function $S(i,t){return i.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(s,l)=>{if(l==="")return"$";const f=ku(l,t),d=f??"";if(typeof d>"u")throw new Error(`could not find key "${l}" in template`);return d.toString()})}class x9{constructor(t,s,l){this.name=t,this.details=l,this.message=(s&&$S(s,l))??""}toString(){return"["+this.name+"]: "+this.message}}let mt=class M9 extends x9{constructor(t,s,l){super(t,s,l)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,s)=>{if(s&&typeof s=="object"&&typeof s.toJSON=="function")return s;try{return ht(s)}catch{return"[object]"}}))}}catch(t){throw ct.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new M9(t.name,t.message,t.details)}};mt.prototype.type="error";function w0(i,t,s){if(!(!i||!t))if(typeof t=="object")for(const l of Object.getOwnPropertyNames(t))w0(i,l,t[l]);else{if(t.includes(".")){const f=t.split("."),d=f.splice(f.length-1,1)[0];w0(m0(i,f),d,s);return}const l=i.__accessor__;l!=null&&GS(t,l),i[t]=s}}function GS(i,t){if(rt("esri-unknown-property-errors")&&!VS(i,t))throw new mt("set:unknown-property",BS(i,t))}function VS(i,t){return t.metadatas[i]!=null}function BS(i,t){return"setting unknown property '"+i+"' on instance of "+t.host.declaredClass}class A9 extends Gr{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=mS(this._set)}acquire(...t){const s=super.acquire(...t);return this._set.delete(s),s}release(t){!t||this._set.has(t)||(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const hc=[];function g0(i){hc.push(i),hc.length===1&&queueMicrotask(()=>{const t=hc.slice();hc.length=0;for(const s of t)s()})}class _h{constructor(t,s=30){this.name=t,this._counter=0,this._samples=new Array(s)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,s)=>t-s)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,s)=>t+s,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}var Np;(function(i){const t=(d,v,w,T)=>{let M=v,I=v;const N=w>>>1,R=d[M-1];for(;I<=N;){I=M<<1,I<w&&T(d[I-1],d[I])<0&&++I;const F=d[I-1];if(T(F,R)<=0)break;d[M-1]=F,M=I}d[M-1]=R},s=(d,v)=>d<v?-1:d>v?1:0;function l(d,v,w,T){v===void 0&&(v=0),w===void 0&&(w=d.length),T===void 0&&(T=s);for(let I=w>>>1;I>v;I--)t(d,I,w,T);const M=v+1;for(let I=w-1;I>v;I--){const N=d[v];d[v]=d[I],d[I]=N,t(d,M,I,T)}}i.sort=l;function*f(d,v,w,T){v===void 0&&(v=0),w===void 0&&(w=d.length),T===void 0&&(T=s);for(let I=w>>>1;I>v;I--)t(d,I,w,T),yield;const M=v+1;for(let I=w-1;I>v;I--){const N=d[v];d[v]=d[I],d[I]=N,t(d,M,I,T),yield}}i.iterableSort=f})(Np||(Np={}));const g3=Np,HS=1.5,WS=1.1;class Sh{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Qg,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>_3(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const s=new Array;for(let l=0;l<this._length;l++){const f=this.data[l];t(f)&&s.push(f)}return s}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,s){const l=this.data.indexOf(t,s);return l!==-1&&l<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t;return}if(this._deallocator)for(let s=t;s<this._length;++s)this.data[s]=this._deallocator(this.data[s]);this._length=t,this._shrink()}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,s=t.length){for(let l=0;l<s;l++)this.data[this._length++]=t[l]}fill(t,s){for(let l=0;l<s;l++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,_3(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const s=Ip(this.data,t,this.length,this._hint);if(s!==-1)return this.data.splice(s,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(Ip(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,s=t.length,l){this.length=gS(this.data,t,this.length,s,this._hint,l),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,s){if(t>=this.length||s>=this.length||t===s)return;const l=this.data[t];this.data[t]=this.data[s],this.data[s]=l}sort(t){g3.sort(this.data,0,this.length,t)}iterableSort(t){return g3.iterableSort(this.data,0,this.length,t)}some(t,s){for(let l=0;l<this.length;++l)if(t.call(s,this.data[l],l,this.data))return!0;return!1}find(t,s){for(let l=0;l<this.length;++l){const f=this.data[l];if(t.call(s,f,l))return f}}filterInPlace(t,s){let l=0;for(let f=0;f<this._length;++f){const d=this.data[f];t.call(s,d,f,this.data)&&(this.data[f]=this.data[l],this.data[l]=d,l++)}if(this._deallocator)for(let f=l;f<this._length;f++)this.data[f]=this._deallocator(this.data[f]);return this._length=l,this._shrink(),this}forAll(t,s){const l=this.length,f=this.data;for(let d=0;d<l;++d)t.call(s,f[d],d,f)}forEach(t,s){for(let l=0;l<this.length;++l)t.call(s,this.data[l],l,this.data)}map(t,s){const l=new Array(this.length);for(let f=0;f<this.length;++f)l[f]=t.call(s,this.data[f],f,this.data);return l}reduce(t,s){let l=s;for(let f=0;f<this.length;++f)l=t(l,this.data[f],f,this.data);return l}has(t){const s=this.length,l=this.data;for(let f=0;f<s;++f)if(l[f]===t)return!0;return!1}}function _3(i){i.data.length>HS*i.length&&(i.data.length=Math.floor(i.length*WS))}function JS(i){return{setTimeout:(t,s)=>{const l=i.setTimeout(t,s);return{remove:()=>i.clearTimeout(l)}}}}const Fu=JS(globalThis);function Kf(i){return i&&(typeof i.on=="function"||typeof i.addEventListener=="function")}function Yf(i,t,s){if(!Kf(i))throw new TypeError("target is not a Evented or EventTarget object");if("on"in i)return i.on(t,s);if(Array.isArray(t)){const l=t.slice();for(const f of l)i.addEventListener(f,s);return{remove(){for(const f of l)i.removeEventListener(f,s)}}}return i.addEventListener(t,s),{remove(){i.removeEventListener(t,s)}}}function P9(i,t,s){if(!Kf(i))throw new TypeError("target is not a Evented or EventTarget object");if("once"in i)return i.once(t,s);const l=Yf(i,t,f=>{l.remove(),s.call(i,f)});return{remove(){l.remove()}}}const KS={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function YS({key:i}){return KS[i]||i}function Te(i="Aborted"){return new mt("AbortError",i)}function Le(i,t="Aborted"){if(Sr(i))throw Te(t)}function qf(i){return i!=null?"aborted"in i?i:i.signal:i}function Sr(i){const t=qf(i);return t!=null&&t.aborted}function I9(i){if(Gs(i))throw i}function S3(i){if(!Gs(i))throw i}function Ki(i,t){const s=qf(i);if(s!=null){if(s.aborted){t();return}return P9(s,"abort",()=>t())}}function p2(i,t){const s=qf(i);if(s!=null)return Le(s),P9(s,"abort",()=>t(Te()))}function NU(i,t){return qf(t)==null?i:new Promise((l,f)=>{let d=Ki(t,()=>f(Te()));const v=()=>d=Me(d);i.then(v,v),i.then(l,f)})}function Gs(i){return(i==null?void 0:i.name)==="AbortError"}async function b3(i){try{return await i}catch(t){if(!Gs(t))throw t;return}}function Es(){let i=null;const t=new Promise((s,l)=>{i={promise:void 0,resolve:s,reject:l}});return i.promise=t,i}async function ga(i){if(!i)return;if(typeof i.forEach!="function"){const s=Object.keys(i),l=s.map(v=>i[v]),f=await ga(l),d={};return s.map((v,w)=>d[v]=f[w]),d}const t=i;return Promise.allSettled(t).then(s=>Array.from(t,(l,f)=>{const d=s[f];return d.status==="fulfilled"?{promise:l,value:d.value}:{promise:l,error:d.reason}}))}async function qS(i){return(await ga(i)).filter(s=>!!s.value).map(s=>s.value)}function C9(i,t=void 0,s){const l=new AbortController;return Ki(s,()=>l.abort()),new Promise((f,d)=>{let v=setTimeout(()=>{v=0,f(t)},i);Ki(l,()=>{v&&(clearTimeout(v),d(Te()))})})}function Vs(i){return i&&typeof i.then=="function"}function Lp(i){return Vs(i)?i:Promise.resolve(i)}function ZS(i,t=-1){let s,l,f,d,v=null;const w=(...T)=>{if(s){l=T,d&&d.reject(Te()),d=Es();const R=d.promise;if(v){const F=v;v=null,F.abort()}return R}if(f=d||Es(),d=null,t>0){const R=new AbortController;s=Lp(i(...T,R.signal));const F=s;C9(t).then(()=>{s===F&&(d?R.abort():v=R)})}else s=1,s=Lp(i(...T));const M=()=>{const R=l;l=f=s=v=null,R!=null&&w(...R)},I=s,N=f;return I.then(M,M),I.then(N.resolve,N.reject),N.promise};return w}function XS(){let i,t;const s=new Promise((f,d)=>{i=f,t=d}),l=f=>{i(f)};return l.resolve=f=>i(f),l.reject=f=>t(f),l.timeout=(f,d)=>Fu.setTimeout(()=>l.reject(d),f),l.promise=s,l}async function T3(i){await Promise.resolve(),Le(i)}function LU(i){return i}let QS=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}};class tb{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let Rp=0;const Gl={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Dp=["prepare","preRender","render","postRender","update","finish"],jp=[],Io=new Sh;class eb{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const _0={frameTasks:Io,willDispatch:!1,clearFrameTasks:ib,dispatch:L9,executeFrameTasks:rb};function zu(i){const t=new tb(i);return jp.push(t),_0.willDispatch||(_0.willDispatch=!0,g0(L9)),t}function Qa(i){const t=new QS(i);return Io.push(t),S0==null&&(Rp=performance.now(),S0=requestAnimationFrame(O9)),new eb(t)}let S0=null;function ib(i=!1){Io.forAll(t=>{t.removed=!0}),i&&N9()}function O9(){const i=performance.now();S0=null,S0=Io.length>0?requestAnimationFrame(O9):null,_0.executeFrameTasks(i)}function rb(i){const t=i-Rp;Rp=i;const s=1e3/60,l=Math.max(0,t-s);Gl.time=i,Gl.frameDuration=s-l;for(let f=0;f<Dp.length;f++){const d=performance.now(),v=Dp[f];Io.forAll(w=>{var M;w.paused||w.removed||(f===0&&w.ticks++,!w.phases[v])||(Gl.elapsedFrameTime=performance.now()-i,Gl.deltaTime=w.ticks===0?0:t,(M=w.phases[v])==null||M.call(w,Gl))}),sb[f].record(performance.now()-d)}N9(),nb.record(performance.now()-i)}const uc=new Sh;function N9(){Io.forAll(i=>{i.removed&&uc.push(i)}),Io.removeUnorderedMany(uc.data,uc.length),uc.clear()}function L9(){for(;jp.length;){const i=jp.shift();i.isActive&&i.callback()}_0.willDispatch=!1}function DU(i=1,t){const s=XS(),l=()=>{Sr(t)?s.reject(Te()):i===0?s():(--i,g0(()=>l()))};return l(),s.promise}const sb=Dp.map(i=>new _h(i)),nb=new _h("total");function ob(i,t){for(const s of i.entries())if(t(s[0]))return!0;return!1}let ab=0;function bh(){return++ab}class Zf{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new lb(t),E3.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;E3.unregister(this._observerObject),this._accessed.length=0,(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){const s=this._accessed;s.includes(t)||s.push(t)}onTrackingEnd(){const t=this._handles,s=this._accessed,l=this._observerObject;for(let f=0;f<s.length;++f)t.push(s[f].observe(l));s.length=0}clear(){const t=this._handles;for(let s=0;s<t.length;++s)t[s].remove();t.length=0}}class lb{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1){this._invalidCount=0,this._notify();return}this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=hb}}const E3=new FinalizationRegistry(i=>{var t;(t=i.deref())==null||t.destroy()});function hb(){}let Ba=!1;const b0=[];function R9(i,t){let s=new Zf(d),l=null,f=!1;function d(){if(!s||f)return;if(Ba){j9(d);return}const w=l;s.clear(),Ba=!0,f=!0,l=Ts(s,i),f=!1,Ba=!1,t(l,w),k9()}function v(){s&&(s.destroy(),s=null,l=null)}return f=!0,l=Ts(s,i),f=!1,{remove:v}}function D9(i,t){let s=new Zf(f),l=null;function f(){t(l,v)}function d(){s&&(s.destroy(),s=null),l=null}function v(){return s?(s.clear(),l=Ts(s,i),l):null}return v(),{remove:d}}function ub(i){let t=new Zf(l),s=!1;function l(){if(!(!t||s)){if(Ba){j9(l);return}t.clear(),Ba=!0,s=!0,Ts(t,i),s=!1,Ba=!1,k9()}}function f(){t&&(t.destroy(),t=null)}return s=!0,Ts(t,i),s=!1,{remove:f}}function j9(i){b0.includes(i)||b0.unshift(i)}function k9(){for(;b0.length;)b0.pop()()}var Th;(function(i){i[i.Untracked=0]="Untracked",i[i.Tracked=1]="Tracked"})(Th||(Th={}));class Rh{constructor(){this.uid=bh(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,s,l,f,d){return this.pool.acquire(Th.Untracked,t,s,l,f,d,h2)}static acquireTracked(t,s,l,f){return this.pool.acquire(Th.Tracked,t,s,l,null,null,f)}notify(t,s){this.type===Th.Untracked?this.callback.call(this.target,t,s,this.path,this.target):this.callback.call(null,t,s)}acquire(t,s,l,f,d,v,w){this.uid=bh(),this.removed=!1,this.type=t,this.oldValue=s,this.callback=l,this.getValue=f,this.target=d,this.path=v,this.equals=w}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=bh(),this.removed=!0}}Rh.pool=new A9(Rh);const Jc=new yi,gs=new Set;let T0;function E0(i){gs.delete(i),gs.add(i),T0||(T0=zu(pb))}function cb(i){if(i.removed)return;const t=i.oldValue,s=i.getValue();i.equals(t,s)||(i.oldValue=s,i.notify(s,t))}function fb(i){for(const t of gs.values())t.target===i&&(t.removed=!0)}function pb(){let i=10;for(;T0&&i--;){T0=null;const t=db(),s=Jc.acquire();for(const l of t){const f=l.uid;cb(l),f===l.uid&&l.removed&&s.push(l)}for(const l of gs)l.removed&&(s.push(l),gs.delete(l));for(const l of s)Rh.pool.release(l);Jc.release(s),Jc.release(t),kp.forEach(l=>l())}}function db(){const i=Jc.acquire();i.length=gs.size;let t=0;for(const s of gs)i[t]=s,++t;return gs.clear(),i}const kp=new Set;function yb(i){return kp.add(i),{remove(){kp.delete(i)}}}function mb(i,t,s){let l=c9(i,t,s,(f,d,v)=>{let w,T,M=D9(()=>Du(f,d),(I,N)=>{if(f.__accessor__.destroyed||w&&w.uid!==T){l.remove();return}w||(w=Rh.acquireUntracked(I,v,N,f,d),T=w.uid),E0(w)});return{remove:f9(()=>{M.remove(),w&&(w.uid===T&&!w.removed&&(w.removed=!0,E0(w)),w=null),l=M=null})}});return l}function vb(i,t,s){const l=c9(i,t,s,(f,d,v)=>{let w=!1;return R9(()=>Du(f,d),(T,M)=>{if(f.__accessor__.destroyed){l.remove();return}w||(w=!0,h2(M,T)||v.call(f,T,M,d,f),w=!1)})});return l}function wb(i,t,s,l=!1){return!i.__accessor__||i.__accessor__.destroyed?{remove(){}}:l?vb(i,t,s):mb(i,t,s)}function gb(i,t,s){let l,f,d=D9(i,(v,w)=>{if(l&&l.uid!==f){d.remove();return}l||(l=Rh.acquireTracked(v,t,w,s),f=l.uid),E0(l)});return{remove:f9(()=>{d.remove(),l&&(l.uid===f&&!l.removed&&(l.removed=!0,E0(l)),l=null),d=null})}}function _b(i,t,s){let l=!1;return R9(i,(f,d)=>{l||(l=!0,s(d,f)||t(f,d),l=!1)})}function Sb(i,t,s=!1,l=h9){return s?_b(i,t,l):gb(i,t,l)}function x3(i){return ob(gs,t=>t.oldValue===i)}function Xf(i,t){for(const[s,l]of i)if(t(l,s))return!0;return!1}function bb(i,t,s){const l=i.get(t);if(l!==void 0)return l;const f=s();return i.set(t,f),f}const Ha=ct.getLogger("esri.core.accessorSupport.ensureTypes");function Tb(i){return i==null?i:new Date(i)}function Eb(i){return i==null?i:!!i}function xb(i){return i==null?i:i.toString()}function dr(i){return i==null?i:(i=parseFloat(i),isNaN(i)?0:i)}function d2(i){return i==null?i:Math.round(parseFloat(i))}function F9(i){return i&&i.constructor&&i.constructor.__accessorMetadata__!==void 0}function x0(i,t){return t!=null&&i&&!(t instanceof i)}function z9(i){return i&&"isCollection"in i}function M3(i){return!i||!i.Type?null:typeof i.Type=="function"?i.Type:i.Type.base}function Mb(i,t){if(!t||!t.constructor||!z9(t.constructor))return Fp(i,t)?t:new i(t);const s=M3(i.prototype.itemType),l=M3(t.constructor.prototype.itemType);return s?l?s===l?t:s.prototype.isPrototypeOf(l.prototype)?new i(t):(Fp(i,t),t):new i(t):t}function Fp(i,t){return F9(t)?(Ha.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+Qf(i)+"'"),!0):!1}function y2(i,t){return t==null?t:z9(i)?Mb(i,t):x0(i,t)?Fp(i,t)?t:new i(t):t}function Qf(i){return i&&i.prototype&&i.prototype.declaredClass||"unknown"}const Ab=new WeakMap;function Pb(i){switch(i){case Number:return dr;case ze:return d2;case Boolean:return Eb;case String:return xb;case Date:return Tb;default:return bb(Ab,i,()=>y2.bind(null,i))}}function $e(i,t){const s=Pb(i);return arguments.length===1?s:s(t)}function Dh(i,t,s){return arguments.length===1?Dh.bind(null,i):t&&(Array.isArray(t)?t.map(l=>i(l,s)):[i(t,s)])}function Ib(i,t){return arguments.length===1?Dh($e.bind(null,i)):Dh($e.bind(null,i),t)}function U9(i,t,s){return t!==0&&Array.isArray(s)?s.map(l=>U9(i,t-1,l)):i(s)}function M0(i,t,s){if(arguments.length===2)return M0.bind(null,i,t);if(!s)return s;s=U9(i,t,s);let l=t,f=s;for(;l>0&&Array.isArray(f);)l--,f=f[0];if(f!==void 0)for(let d=0;d<l;d++)s=[s];return s}function Cb(i,t,s){return arguments.length===2?M0($e.bind(null,i),t):M0($e.bind(null,i),t,s)}function $9(i){return Array.isArray(i)?!i.some(t=>{const s=typeof t;return!(s==="string"||s==="number"||s==="function"&&i.length>1)}):!1}function zp(i,t){if(arguments.length===2)return zp(i).call(null,t);const s=new Set,l=i.filter(w=>typeof w!="function"),f=i.filter(w=>typeof w=="function");for(const w of i)(typeof w=="string"||typeof w=="number")&&s.add(w);let d=null,v=null;return(w,T)=>{if(w==null)return w;const M=typeof w,I=M==="string"||M==="number";return I&&(s.has(w)||f.some(N=>M==="string"&&N===String||M==="number"&&N===Number))||M==="object"&&f.some(N=>!x0(w,N))?w:(I&&l.length?(d||(d=l.map(N=>typeof N=="string"?`'${N}'`:`${N}`).join(", ")),Ha.error("Accessor#set",`'${w}' is not a valid value for this property, only the following values are valid: ${d}`)):typeof w=="object"&&f.length?(v||(v=f.map(N=>Qf(N)).join(", ")),Ha.error("Accessor#set",`'${w}' is not a valid value for this property, value must be one of ${v}`)):Ha.error("Accessor#set",`'${w}' is not a valid value for this property`),T&&(T.valid=!1),null)}}function Co(i,t){if(arguments.length===2)return Co(i).call(null,t);const s={},l=[],f=[];for(const T in i.typeMap){const M=i.typeMap[T];s[T]=$e(M),l.push(Qf(M)),f.push(T)}const d=()=>`'${l.join("', '")}'`,v=()=>`'${f.join("', '")}'`,w=typeof i.key=="string"?T=>T[i.key]:i.key;return T=>{if(i.base&&!x0(i.base,T)||T==null)return T;const M=w(T)||i.defaultKeyValue,I=s[M];if(!I)return Ha.error("Accessor#set",`Invalid property value, value needs to be one of ${d()}, or a plain object that can autocast (having .type = ${v()})`),null;if(!x0(i.typeMap[M],T))return T;if(typeof i.key=="string"&&!F9(T)){const N={};for(const R in T)R!==i.key&&(N[R]=T[R]);return I(N)}return I(T)}}class ze{}const jU={native(i){return{type:"native",value:i}},array(i){return{type:"array",value:i}},oneOf(i){return{type:"one-of",values:i}}};function Ob(i){if(!i||!("type"in i))return!1;switch(i.type){case"native":case"array":case"one-of":return!0}return!1}function G9(i){switch(i.type){case"native":return $e(i.value);case"array":return Dh(G9(i.value));case"one-of":return Nb(i);default:return null}}function Nb(i){let t=null;return(s,l)=>$p(s,i)?s:(t==null&&(t=Up(i)),Ha.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),l&&(l.valid=!1),null)}function Up(i){switch(i.type){case"native":switch(i.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ze:return"integer";case Date:return"date";default:return Qf(i.value)}case"array":return`array of ${Up(i.value)}`;case"one-of":{const t=i.values.map(s=>Up(s));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function $p(i,t){if(i==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case ze:return typeof i=="number";case Boolean:return typeof i=="boolean";case String:return typeof i=="string"}return i instanceof t.value;case"array":return Array.isArray(i)?!i.some(s=>!$p(s,t.value)):!1;case"one-of":return t.values.some(s=>$p(i,s))}}function A(i={}){return(t,s)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${s}. Accessor does not support static properties.`);const l=Object.getOwnPropertyDescriptor(t,s),f=Wf(t,s);l&&(l.get||l.set?(f.get=l.get||f.get,f.set=l.set||f.set):"value"in l&&("value"in i&&ct.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s}" on "${t.constructor.name}" already defined in the metadata`,i),f.value=i.value=l.value)),i.readOnly!=null&&(f.readOnly=i.readOnly);const d=i.aliasOf;if(d){const T=typeof d=="string"?d:d.source,M=typeof d=="string"?null:d.overridable===!0;let I;f.dependsOn=[T],f.get=function(){let N=m0(this,T);if(typeof N=="function"){I||(I=T.split(".").slice(0,-1).join("."));const R=m0(this,I);R&&(N=N.bind(R))}return N},f.readOnly||(f.set=M?function(N){this._override(s,N)}:function(N){w0(this,T,N)})}const v=i.type,w=i.types;f.cast||(v?f.cast=Lb(v):w&&(Array.isArray(w)?f.cast=Dh(Co(w[0])):f.cast=Co(w))),AS(f,i),i.range&&(f.cast=Rb(f.cast,i.range))}}function V9(i,t,s){const l=Wf(i,s);l.json||(l.json={});let f=l.json;return t!==void 0&&(f.origins||(f.origins={}),f.origins[t]||(f.origins[t]={}),f=f.origins[t]),f}function Lb(i){let t=0,s=i;if(Ob(i))return G9(i);for(;Array.isArray(s)&&s.length===1&&typeof s[0]!="string"&&typeof s[0]!="number";)s=s[0],t++;const l=s;if($9(l))return t===0?zp(l):M0(zp(l),t);if(t===1)return Ib(l);if(t>1)return Cb(l,t);const f=i;return f.from?f.from:$e(f)}function Rb(i,t){return s=>{let l=+i(s);return t.step!=null&&(l=Math.round(l/t.step)*t.step),t.min!=null&&(l=Math.max(t.min,l)),t.max!=null&&(l=Math.min(t.max,l)),l}}function Db(i){if(i.json&&i.json.origins){const t=i.json.origins,s={"web-document":["web-scene","web-map"]};for(const l in s)if(t[l]){const f=t[l];s[l].forEach(d=>{t[d]=f}),delete t[l]}}}class xs extends x9{constructor(t,s,l){super(t,s,l)}}xs.prototype.type="warning";function B9(i){return!!i&&i.prototype&&i.prototype.declaredClass&&i.prototype.declaredClass.indexOf("esri.core.Collection")===0}const Gp=ct.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function A3(i,t,s){var l,f;i&&(!s&&!t.read||(l=t.read)!=null&&l.reader||((f=t.read)==null?void 0:f.enabled)===!1||Fb(i)&&Pl("read.reader",H9(i),t))}function H9(i){var s,l;const t=i.ndimArray??0;if(t>1)return kb(i);if(t===1)return P3(i);if("type"in i&&J9(i.type)){const f=(l=(s=i.type.prototype)==null?void 0:s.itemType)==null?void 0:l.Type,d=P3(typeof f=="function"?{type:f}:{types:f});return(v,w,T)=>{const M=d(v,w,T);return M&&new i.type(M)}}return m2(i)}function m2(i){return"type"in i?jb(i.type):zb(i.types)}function jb(i){return i.prototype.read?(t,s,l)=>{if(t==null)return t;const f=typeof t;if(f!=="object"){Gp.error(`Expected JSON value of type 'object' to deserialize type '${i.prototype.declaredClass}', but got '${f}'`);return}const d=new i;return d.read(t,l),d}:i.fromJSON}function W9(i,t,s,l){return l!==0&&Array.isArray(t)?t.map(f=>W9(i,f,s,l-1)):i(t,void 0,s)}function kb(i){const t=m2(i),s=W9.bind(null,t),l=i.ndimArray??0;return(f,d,v)=>{if(f==null)return f;f=s(f,v,l);let w=l,T=f;for(;w>0&&Array.isArray(T);)w--,T=T[0];if(T!==void 0)for(let M=0;M<w;M++)f=[f];return f}}function P3(i){const t=m2(i);return(s,l,f)=>{if(s==null)return s;if(Array.isArray(s)){const v=[];for(const w of s){const T=t(w,void 0,f);T!==void 0&&v.push(T)}return v}const d=t(s,void 0,f);return d!==void 0?[d]:void 0}}function J9(i){if(!B9(i))return!1;const t=i.prototype.itemType;return!t||!t.Type?!1:typeof t.Type=="function"?v2(t.Type):K9(t.Type)}function Fb(i){return"types"in i?K9(i.types):v2(i.type)}function v2(i){return Array.isArray(i)?!1:!!i&&i.prototype&&("read"in i.prototype||"fromJSON"in i||J9(i))}function K9(i){for(const t in i.typeMap){const s=i.typeMap[t];if(!v2(s))return!1}return!0}function zb(i){let t=null;const s=i.errorContext??"type";return(l,f,d)=>{if(l==null)return l;const v=typeof l;if(v!=="object"){Gp.error(`Expected JSON value of type 'object' to deserialize, but got '${v}'`);return}t||(t=Ub(i));const w=i.key;if(typeof w!="string")return;const T=l[w],M=T?t[T]:i.defaultKeyValue?i.typeMap[i.defaultKeyValue]:void 0;if(!M){const N=`Type '${T||"unknown"}' is not supported`;d&&d.messages&&l&&d.messages.push(new xs(`${s}:unsupported`,N,{definition:l,context:d})),Gp.error(N);return}const I=new M;return I.read(l,d),I}}function Ub(i){var s,l;const t={};for(const f in i.typeMap){const d=i.typeMap[f],v=ju(d.prototype);if(typeof i.key=="function")continue;const w=v[i.key];if(!w)continue;(s=w.json)!=null&&s.type&&Array.isArray(w.json.type)&&w.json.type.length===1&&typeof w.json.type[0]=="string"&&(t[w.json.type[0]]=d);const T=(l=w.json)==null?void 0:l.write;if(!T||!T.writer){t[f]=d;continue}const M=T.target,I=typeof M=="string"?M:i.key,N={};T.writer(f,N,I),N[I]&&(t[N[I]]=d)}return t}function $b(i){if(i.json||(i.json={}),C3(i.json),O3(i.json),I3(i.json),i.json.origins)for(const t in i.json.origins)C3(i.json.origins[t]),O3(i.json.origins[t]),I3(i.json.origins[t]);return!0}function I3(i){i.name&&(i.read?typeof i.read=="object"?i.read.source===void 0&&(i.read.source=i.name):i.read={source:i.name}:i.read={source:i.name},i.write?typeof i.write=="object"?i.write.target===void 0&&(i.write.target=i.name):i.write={target:i.name}:i.write={target:i.name})}function C3(i){typeof i.read=="boolean"?i.read={enabled:i.read}:typeof i.read=="function"?i.read={enabled:!0,reader:i.read}:i.read&&typeof i.read=="object"&&i.read.enabled===void 0&&(i.read.enabled=!0)}function O3(i){typeof i.write=="boolean"?i.write={enabled:i.write}:typeof i.write=="function"?i.write={enabled:!0,writer:i.write}:i.write&&typeof i.write=="object"&&i.write.enabled===void 0&&(i.write.enabled=!0)}function N3(i,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const s=(i==null?void 0:i.ndimArray)??0;i&&(s===1||"type"in i&&B9(i.type))?t.write.writer=Bb:s>1?t.write.writer=Hb(s):t.types?Array.isArray(t.types)?t.write.writer=Vb(t.types[0]):t.write.writer=Gb(t.types):t.write.writer=jh}function Gb(i){return(t,s,l,f)=>{if(!t||Y9(t,i,f))return jh(t,s,l,f)}}function Y9(i,t,s){for(const l in t.typeMap)if(i instanceof t.typeMap[l])return!0;if(s!=null&&s.messages){const l=t.errorContext??"type",d=`Values of type '${(typeof t.key!="function"?i[t.key]:i.declaredClass)??"Unknown"}' cannot be written`;s&&s.messages&&i&&s.messages.push(new mt(`${l}:unsupported`,d,{definition:i,context:s})),ct.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(d)}return!1}function Vb(i){return(t,s,l,f)=>{if(!t||!Array.isArray(t))return jh(t,s,l,f);const d=t.filter(v=>Y9(v,i,f));return jh(d,s,l,f)}}function jh(i,t,s,l){Pl(s,A0(i,l),t)}function A0(i,t){return i&&typeof i.write=="function"?i.write({},t):i&&typeof i.toJSON=="function"?i.toJSON():typeof i=="number"?P0(i):i}function P0(i){return i===-1/0?-Number.MAX_VALUE:i===1/0?Number.MAX_VALUE:isNaN(i)?null:i}function Bb(i,t,s,l){let f;i===null?f=null:i&&typeof i.map=="function"?(f=i.map(d=>A0(d,l)),typeof f.toArray=="function"&&(f=f.toArray())):f=[A0(i,l)],Pl(s,f,t)}function q9(i,t,s){return s!==0&&Array.isArray(i)?i.map(l=>q9(l,t,s-1)):A0(i,t)}function Hb(i){return(t,s,l,f)=>{let d;if(t===null)d=null;else{d=q9(t,f,i);let v=i,w=d;for(;v>0&&Array.isArray(w);)v--,w=w[0];if(w!==void 0)for(let T=0;T<v;T++)d=[d]}Pl(l,d,s)}}function Vp(i,t){return w2(i,"read",t)}function Z9(i,t){return w2(i,"write",t)}function w2(i,t,s){let l=i&&i.json;if(i&&i.json&&i.json.origins&&s){const f=s.origin&&i.json.origins[s.origin];f&&(t==="any"||t in f)&&(l=f)}return l}function Wb(i){const t=Jb(i);if(i.json.origins)for(const s in i.json.origins){const l=i.json.origins[s],f=l.types?Kb(l):t;A3(f,l,!1),l.types&&!l.write&&i.json.write&&i.json.write.enabled&&(l.write={...i.json.write}),N3(f,l)}A3(t,i.json,!0),N3(t,i.json)}function Jb(i){return i.json.types?Bp(i.json):i.type?X9(i):Bp(i)}function Kb(i){return i.type?X9(i):Bp(i)}function X9(i){if(!i.type)return;let t=0,s=i.type;for(;Array.isArray(s)&&!$9(s);)s=s[0],t++;return{type:s,ndimArray:t}}function Bp(i){if(!i.types)return;let t=0,s=i.types;for(;Array.isArray(s);)s=s[0],t++;return{types:s,ndimArray:t}}function Yb(i){$b(i)&&(Db(i),Wb(i))}const I1=new Set,C1=new Set;function q(i){return t=>{t.prototype.declaredClass=i,Zb(t);const s=[],l=[];let f=t.prototype;for(;f;)f.hasOwnProperty("initialize")&&!I1.has(f.initialize)&&(I1.add(f.initialize),s.push(f.initialize)),f.hasOwnProperty("destroy")&&!C1.has(f.destroy)&&(C1.add(f.destroy),l.push(f.destroy)),f=Object.getPrototypeOf(f);I1.clear(),C1.clear();class d extends t{constructor(...w){if(super(...w),this.constructor===d&&typeof this.postscript=="function"){if(s.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let T=s.length-1;T>=0;T--)s[T].call(this)}}),l.length){let T=!1;const M=this[Xg];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!T){T=!0,M.call(this);for(let I=0;I<l.length;I++)l[I].call(this)}}})}this.postscript(...w)}}}return d.__accessorMetadata__=ju(t.prototype),d.prototype.declaredClass=i,d}}function qb(i,t){return t.get==null?function(){const l=this.__accessor__,f=l.properties.get(i);if(f===void 0)return;It(f.observerObject);const d=l.store;return d.has(i)?d.get(i):f.metadata.value}:function(){const l=this.__accessor__.properties.get(i);if(l!==void 0)return l.getComputed()}}function Zb(i){const t=i.prototype,s=ju(t),l={};for(const f of Object.getOwnPropertyNames(s)){const d=s[f];Yb(d),l[f]={enumerable:!0,configurable:!0,get:qb(f,d),set(v){const w=this.__accessor__;if(w===void 0){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:v});return}if(!Object.isFrozen(this)){if(w.initialized&&d.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${f}' of ${this.declaredClass}`);if(w.lifecycle===ms.CONSTRUCTED&&d.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${f}' of ${this.declaredClass}`);w.set(f,v)}}}}Object.defineProperties(i.prototype,l)}var Q9,t5;function Xb(i){var t;if(i==null)return{value:i};if(Array.isArray(i))return{type:[i[0]],value:null};switch(typeof i){case"object":return(t=i.constructor)!=null&&t.__accessorMetadata__||i instanceof Date?{type:i.constructor,value:i}:i;case"boolean":return{type:Boolean,value:i};case"string":return{type:String,value:i};case"number":return{type:Number,value:i};case"function":return{type:i,value:null};default:return}}const an=Symbol("Accessor-Handles"),Hp=Symbol("Accessor-Initialized");class Et{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:s,declaredClass:l,constructor:f}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const d=this;class v extends d{constructor(...T){super(...T),this.inherited=null,f&&f.apply(this,T)}}ju(v.prototype);for(const w in t){const T=t[w];typeof T=="function"?v.prototype[w]=function(...M){const I=this.inherited;this.inherited=function(...R){if(d.prototype[w])return d.prototype[w].apply(this,R)};let N;try{N=T.apply(this,M)}catch(R){throw this.inherited=I,R}return this.inherited=I,N}:v.prototype[w]=t[w]}for(const w in s){const T=Xb(s[w]);A(T)(v.prototype,w)}return q(l)(v)}constructor(...t){if(this[Q9]=null,this[t5]=!1,this.constructor===Et)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const s=new zS(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:s}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const s=this.__accessor__,l=s.ctorArgs||t;s.initialize(),l&&(this.set(l),s.ctorArgs=null),s.constructed(),this.initialize(),this[Hp]=!0}initialize(){}[Xg](){this[an]=be(this[an])}destroy(){this.destroyed||(fb(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Hp]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return m0(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,s){return w0(this,t,s),this}watch(t,s,l){return wb(this,t,s,l)}own(t){this.addHandles(t)}addHandles(t,s){if(this.destroyed){const f=Array.isArray(t)?t:[t];for(const d of f)d.remove();return}let l=this[an];l==null&&(l=this[an]=new $s),l.add(t,s)}removeHandles(t){const s=this[an];s!=null&&s.remove(t)}removeAllHandles(){const t=this[an];t!=null&&t.removeAll()}hasHandles(t){const s=this[an];return s!=null?s.has(t):!1}_override(t,s){s===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,s)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,s){s==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,s)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,s){return this.__accessor__.internalSet(t,s),this}}Q9=an,t5=Hp;class Wa{constructor(){this._emitter=new Wa.EventEmitter(this)}emit(t,s){return this._emitter.emit(t,s)}on(t,s){return this._emitter.on(t,s)}once(t,s){return this._emitter.once(t,s)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(i){class t{constructor(f=null){this._target=f,this._listenersMap=null}clear(){var f;(f=this._listenersMap)==null||f.clear(),this._listenersMap=null}destroy(){this.clear()}emit(f,d){const v=this._listenersMap&&this._listenersMap.get(f);if(!v)return!1;const w=this._target||this;return[...v].forEach(T=>{T.call(w,d)}),v.length>0}on(f,d){if(Array.isArray(f)){const w=f.map(T=>this.on(T,d));return Gf(w)}if(f.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const v=this._listenersMap.get(f)||[];return v.push(d),this._listenersMap.set(f,v),{remove:()=>{const w=this._listenersMap&&this._listenersMap.get(f)||[],T=w.indexOf(d);T>=0&&w.splice(T,1)}}}once(f,d){const v=this.on(f,w=>{v.remove(),d.call(null,w)});return v}hasEventListener(f){const d=this._listenersMap&&this._listenersMap.get(f);return d!=null&&d.length>0}}i.EventEmitter=t,i.EventedMixin=l=>{let f=class extends l{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(v,w){return this._emitter.emit(v,w)}on(v,w){return this._emitter.on(v,w)}once(v,w){return this._emitter.once(v,w)}hasEventListener(v){return this._emitter.hasEventListener(v)}};return f=E([q("esri.core.Evented")],f),f};let s=class extends Et{constructor(){super(...arguments),this._emitter=new Wa.EventEmitter(this)}destroy(){this._emitter.clear()}emit(f,d){return this._emitter.emit(f,d)}on(f,d){return this._emitter.on(f,d)}once(f,d){return this._emitter.once(f,d)}hasEventListener(f){return this._emitter.hasEventListener(f)}};s=E([q("esri.core.Evented")],s),i.EventedAccessor=s})(Wa||(Wa={}));const qn=Wa;var qt;(function(i){i[i.ADD=1]="ADD",i[i.REMOVE=2]="REMOVE",i[i.MOVE=4]="MOVE"})(qt||(qt={}));function e5(i){return(t,s)=>{t[s]=i}}class g2 extends g9{notify(){const t=this._observers;if(t&&t.length>0){const s=t.slice();for(const l of s)l.onInvalidated(),l.onCommitted()}}}var ds;class Qb{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const Fi=new Gr(Qb,void 0,i=>{i.item=null,i.target=null,i.defaultPrevented=!1,i.cancellable=!1}),tT=()=>{};function O1(i){return i?i instanceof Oo?i.toArray():i.length?Array.prototype.slice.apply(i):[]:[]}function N1(i){if(!(!i||!i.length))return i[0]}function eT(i,t,s,l){const f=Math.min(i.length-s,t.length-l);let d=0;for(;d<f&&i[s+d]===t[l+d];)d++;return d}function i5(i,t,s,l){t&&t.forEach((f,d,v)=>{i.push(f),i5(i,s.call(l,f,d,v),s,l)})}const Js=new Set,Ks=new Set,Ys=new Set,L1=new Map;let iT=0,Oo=ds=class extends qn.EventedAccessor{static isCollection(t){return t!=null&&t instanceof ds}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new g2,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:iT++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof ds?{items:t}:t:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return It(this._observable),this._items}set items(t){this._emitBeforeChanges(qt.ADD)||(this._splice(0,this.length,O1(t)),this._emitAfterChanges(qt.ADD))}hasEventListener(t){return t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t)}on(t,s){if(t==="change"){const l=this._chgListeners,f={removed:!1,callback:s};return l.push(f),this._notifications&&this._notifications.push({listeners:l.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=tT,f.removed=!0,l.splice(l.indexOf(f),1)}}}return this._emitter.on(t,s)}once(t,s){const l=this.on(t,s);return{remove(){l.remove()}}}add(t,s){if(It(this._observable),this._emitBeforeChanges(qt.ADD))return this;const l=this.getNextIndex(s??null);return this._splice(l,0,[t]),this._emitAfterChanges(qt.ADD),this}addMany(t,s=this._items.length){if(It(this._observable),!t||!t.length)return this;if(this._emitBeforeChanges(qt.ADD))return this;const l=this.getNextIndex(s);return this._splice(l,0,O1(t)),this._emitAfterChanges(qt.ADD),this}at(t){if(It(this._observable),t=Math.trunc(t)||0,t<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(It(this._observable),!this.length||this._emitBeforeChanges(qt.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges(qt.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return It(this._observable),this._createNewInstance({items:this._items.map(ht)})}concat(...t){It(this._observable);const s=t.map(O1);return this._createNewInstance({items:this._items.concat(...s)})}drain(t,s){if(It(this._observable),!this.length||this._emitBeforeChanges(qt.REMOVE))return;const l=this._splice(0,this.length),f=l.length;for(let d=0;d<f;d++)t.call(s,l[d],d,l);this._emitAfterChanges(qt.REMOVE)}every(t,s){return It(this._observable),this._items.every(t,s)}filter(t,s){It(this._observable);let l;return arguments.length===2?l=this._items.filter(t,s):l=this._items.filter(t),this._createNewInstance({items:l})}find(t,s){return It(this._observable),this._items.find(t,s)}findIndex(t,s){return It(this._observable),this._items.findIndex(t,s)}flatten(t,s){It(this._observable);const l=[];return i5(l,this,t,s),new ds(l)}forEach(t,s){return It(this._observable),this._items.forEach(t,s)}getItemAt(t){return It(this._observable),this._items[t]}getNextIndex(t){It(this._observable);const s=this.length;return t=t??s,t<0?t=0:t>s&&(t=s),t}includes(t,s=0){return It(this._observable),this._items.includes(t,s)}indexOf(t,s=0){return It(this._observable),this._items.indexOf(t,s)}join(t=","){return It(this._observable),this._items.join(t)}lastIndexOf(t,s=this.length-1){return It(this._observable),this._items.lastIndexOf(t,s)}map(t,s){It(this._observable);const l=this._items.map(t,s);return new ds({items:l})}reorder(t,s=this.length-1){It(this._observable);const l=this.indexOf(t);if(l!==-1){if(s<0?s=0:s>=this.length&&(s=this.length-1),l!==s){if(this._emitBeforeChanges(qt.MOVE))return t;this._splice(l,1),this._splice(s,0,[t]),this._emitAfterChanges(qt.MOVE)}return t}}pop(){if(It(this._observable),!this.length||this._emitBeforeChanges(qt.REMOVE))return;const t=N1(this._splice(this.length-1,1));return this._emitAfterChanges(qt.REMOVE),t}push(...t){return It(this._observable),this._emitBeforeChanges(qt.ADD)?this.length:(this._splice(this.length,0,t),this._emitAfterChanges(qt.ADD),this.length)}reduce(t,s){It(this._observable);const l=this._items;return arguments.length===2?l.reduce(t,s):l.reduce(t)}reduceRight(t,s){It(this._observable);const l=this._items;return arguments.length===2?l.reduceRight(t,s):l.reduceRight(t)}remove(t){return It(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(It(this._observable),t<0||t>=this.length||this._emitBeforeChanges(qt.REMOVE))return;const s=N1(this._splice(t,1));return this._emitAfterChanges(qt.REMOVE),s}removeMany(t){if(It(this._observable),!t||!t.length||this._emitBeforeChanges(qt.REMOVE))return[];const s=t instanceof ds?t.toArray():t,l=this._items,f=[],d=s.length;for(let v=0;v<d;v++){const w=s[v],T=l.indexOf(w);if(T>-1){const M=1+eT(s,l,v+1,T+1),I=this._splice(T,M);I&&I.length>0&&f.push.apply(f,I),v+=M-1}}return this._emitAfterChanges(qt.REMOVE),f}reverse(){if(It(this._observable),this._emitBeforeChanges(qt.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(qt.MOVE),this}shift(){if(It(this._observable),!this.length||this._emitBeforeChanges(qt.REMOVE))return;const t=N1(this._splice(0,1));return this._emitAfterChanges(qt.REMOVE),t}slice(t=0,s=this.length){return It(this._observable),this._createNewInstance({items:this._items.slice(t,s)})}some(t,s){return It(this._observable),this._items.some(t,s)}sort(t){if(It(this._observable),!this.length||this._emitBeforeChanges(qt.MOVE))return this;const s=this._splice(0,this.length);return arguments.length?s.sort(t):s.sort(),this._splice(0,0,s),this._emitAfterChanges(qt.MOVE),this}splice(t,s,...l){It(this._observable);const f=(s?qt.REMOVE:0)|(l.length?qt.ADD:0);if(this._emitBeforeChanges(f))return[];const d=this._splice(t,s,l)||[];return this._emitAfterChanges(f),d}toArray(){return It(this._observable),this._items.slice()}toJSON(){return It(this._observable),this.toArray()}toLocaleString(){return It(this._observable),this._items.toLocaleString()}toString(){return It(this._observable),this._items.toString()}unshift(...t){return It(this._observable),!t.length||this._emitBeforeChanges(qt.ADD)?this.length:(this._splice(0,0,t),this._emitAfterChanges(qt.ADD),this.length)}_createNewInstance(t){return new this.constructor(t)}_splice(t,s,l){const f=this._items,d=this.itemType;let v,w;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=zu(()=>this._dispatchChange())),s){if(w=f.splice(t,s),this.hasEventListener("before-remove")){const T=Fi.acquire();T.target=this,T.cancellable=!0;for(let M=0,I=w.length;M<I;M++)v=w[M],T.reset(v),this.emit("before-remove",T),T.defaultPrevented&&(w.splice(M,1),f.splice(t,0,v),t=t+1,M=M-1,I=I-1);Fi.release(T)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const T=Fi.acquire();T.target=this,T.cancellable=!1;const M=w.length;for(let I=0;I<M;I++)T.reset(w[I]),this.emit("after-remove",T);Fi.release(T)}}if(l&&l.length){if(d){const N=[];for(const R of l){const F=d.ensureType(R);(F!=null||R==null)&&N.push(F)}l=N}const T=this.hasEventListener("before-add"),M=this.hasEventListener("after-add"),I=t===this.length;if(T||M){const N=Fi.acquire();N.target=this,N.cancellable=!0;const R=Fi.acquire();R.target=this,R.cancellable=!1;for(const F of l)T?(N.reset(F),this.emit("before-add",N),N.defaultPrevented||(I?f.push(F):f.splice(t++,0,F),this._set("length",f.length),M&&(R.reset(F),this.emit("after-add",R)))):(I?f.push(F):f.splice(t++,0,F),this._set("length",f.length),R.reset(F),this.emit("after-add",R));Fi.release(R),Fi.release(N)}else{if(I)for(const N of l)f.push(N);else f.splice(t,0,...l);this._set("length",f.length)}}return(l&&l.length||w&&w.length)&&this._notifyChangeEvent(l,w),w}_emitBeforeChanges(t){let s=!1;if(this.hasEventListener("before-changes")){const l=Fi.acquire();l.target=this,l.cancellable=!0,l.type=t,this.emit("before-changes",l),s=l.defaultPrevented,Fi.release(l)}return s}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const s=Fi.acquire();s.target=this,s.cancellable=!1,s.type=t,this.emit("after-changes",s),Fi.release(s)}this._observable.notify()}_notifyChangeEvent(t,s){!this.hasEventListener("change")||!this._notifications||this._notifications[this._notifications.length-1].changes.push({added:t,removed:s})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const t=this._notifications;this._notifications=null;for(const s of t){const l=s.changes;Js.clear(),Ks.clear(),Ys.clear();for(const{added:M,removed:I}of l){if(M)if(Ys.size===0&&Ks.size===0)for(const N of M)Js.add(N);else for(const N of M)Ks.has(N)?(Ys.add(N),Ks.delete(N)):Ys.has(N)||Js.add(N);if(I)if(Ys.size===0&&Js.size===0)for(const N of I)Ks.add(N);else for(const N of I)Js.has(N)?Js.delete(N):(Ys.delete(N),Ks.add(N))}const f=yi.acquire();Js.forEach(M=>{f.push(M)});const d=yi.acquire();Ks.forEach(M=>{d.push(M)});const v=this._items,w=s.items,T=yi.acquire();if(Ys.forEach(M=>{w.indexOf(M)!==v.indexOf(M)&&T.push(M)}),s.listeners&&(f.length||d.length||T.length)){const M={target:this,added:f,removed:d,moved:T},N=s.listeners.length;for(let R=0;R<N;R++){const F=s.listeners[R];F.removed||F.callback.call(this,M)}}yi.release(f),yi.release(d),yi.release(T)}Js.clear(),Ks.clear(),Ys.clear()}};Oo.ofType=i=>{if(!i)return ds;if(L1.has(i))return L1.get(i);let t=null;if(typeof i=="function")t=i.prototype.declaredClass;else if(i.base)t=i.base.prototype.declaredClass;else for(const l in i.typeMap){const f=i.typeMap[l].prototype.declaredClass;t?t+=` | ${f}`:t=f}let s=class extends ds{};return E([e5({Type:i,ensureType:typeof i=="function"?$e(i):Co(i)})],s.prototype,"itemType",void 0),s=E([q(`esri.core.Collection<${t}>`)],s),L1.set(i,s),s};E([A()],Oo.prototype,"length",void 0);E([A()],Oo.prototype,"items",null);Oo=ds=E([q("esri.core.Collection")],Oo);const kt=Oo;function No(i,t,s=kt){return t||(t=new s),t===i||(t.removeAll(),rT(i)?t.addMany(i):i&&t.add(i)),t}function r5(i){return i}function rT(i){return i&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))}const L3=new Set;function sT(i,t,s=!1){(!s||!L3.has(t))&&(s&&L3.add(t),i.warn(`🛑 DEPRECATED - ${t}`))}function R3(i,t,s={}){if(rt("esri-deprecation-warnings")){const{moduleName:l}=s,f=(l?l+"::":"")+t;I0(i,`Property: ${f}`,s)}}function I0(i,t,s={}){if(rt("esri-deprecation-warnings")){const{replacement:l,version:f,see:d,warnOnce:v}=s;let w=t;l&&(w+=`
	🛠️ Replacement: ${l}`),f&&(w+=`
	⚙️ Version: ${f}`),d&&(w+=`
	🔗 See ${d} for more details.`),sT(i,w,v)}}class _2{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const s=new _2;return this._values.forEach((l,f)=>{(!t||!t.has(f))&&s.set(f,ht(l.value),l.origin)}),s}get(t,s){s=this._normalizeOrigin(s);const l=this._values.get(t);return s==null||(l==null?void 0:l.origin)===s?l==null?void 0:l.value:void 0}originOf(t){var s;return((s=this._values.get(t))==null?void 0:s.origin)??Xt.USER}keys(t){t=this._normalizeOrigin(t);const s=[...this._values.keys()];return t==null?s:s.filter(l=>{var f;return((f=this._values.get(l))==null?void 0:f.origin)===t})}set(t,s,l){if(l=this._normalizeOrigin(l),l===Xt.DEFAULTS){const f=this._values.get(t);if(f&&f.origin!=null&&f.origin>l)return}this._values.set(t,new nT(s,l))}delete(t,s){var l;s=this._normalizeOrigin(s),(s==null||((l=this._values.get(t))==null?void 0:l.origin)===s)&&this._values.delete(t)}has(t,s){var l;return s=this._normalizeOrigin(s),s!=null?((l=this._values.get(t))==null?void 0:l.origin)===s:this._values.has(t)}forEach(t){this._values.forEach(({value:s},l)=>t(s,l))}_normalizeOrigin(t){if(t!=null)return t===Xt.DEFAULTS?t:Xt.USER}}class nT{constructor(t,s){this.value=t,this.origin=s}}function oT(i,t,s){t.keys().forEach(f=>{s.set(f,t.get(f),Xt.DEFAULTS)});const l=i.metadatas;Object.keys(l).forEach(f=>{i.internalGet(f)&&s.set(f,i.internalGet(f),Xt.DEFAULTS)})}function aT(i,t,s){if(!i||!i.read||i.read.enabled===!1||!i.read.source)return!1;const l=i.read.source;if(typeof l=="string"){if(l===t||l.includes(".")&&l.indexOf(t)===0&&f3(l,s))return!0}else for(const f of l)if(f===t||f.includes(".")&&f.indexOf(t)===0&&f3(f,s))return!0;return!1}function lT(i){return i&&(!i.read||i.read.enabled!==!1&&!i.read.source)}function hT(i,t,s,l,f){let d=Vp(t[s],f);lT(d)&&(i[s]=!0);for(const v of Object.getOwnPropertyNames(t))d=Vp(t[v],f),aT(d,s,l)&&(i[v]=!0)}function uT(i,t,s,l){const f=s.metadatas,d=w2(f[t],"any",l),v=d&&d.default;if(v===void 0)return;const w=typeof v=="function"?v.call(i,t,l):v;w!==void 0&&s.set(t,w)}const s5={origin:"service"};function cT(i,t,s=s5){if(!t||typeof t!="object")return;const l=bs(i),f=l.metadatas,d={};for(const v of Object.getOwnPropertyNames(t))hT(d,f,v,t,s);l.setDefaultOrigin(s.origin);for(const v of Object.getOwnPropertyNames(d)){const T=Vp(f[v],s).read,M=T&&T.source;let I;M&&typeof M=="string"?I=Du(t,M):I=t[v],T&&T.reader&&(I=T.reader.call(i,I,t,s)),I!==void 0&&l.set(v,I)}if(!s||!s.ignoreDefaults){l.setDefaultOrigin("defaults");for(const v of Object.getOwnPropertyNames(f))d[v]||uT(i,v,l,s)}l.setDefaultOrigin("user")}function $U(i,t,s,l=s5){var d;const f={...l,messages:[]};s(f),(d=f.messages)==null||d.forEach(v=>{v.type==="warning"&&!i.loaded?i.loadWarnings.push(v):l&&l.messages&&l.messages.push(v)})}function fT(i,t,s,l,f){var v,w;const d={};return(w=(v=t.write)==null?void 0:v.writer)==null||w.call(i,l,d,s,f),d}function n5(i,t,s,l,f,d){if(!l||!l.write)return!1;const v=i.get(s);if(!f&&l.write.overridePolicy){const w=l.write.overridePolicy.call(i,v,s,d);w!==void 0&&(f=w)}if(f||(f=l.write),!f||f.enabled===!1)return!1;if((v===null&&!f.allowNull&&!f.writerEnsuresNonNull||v===void 0)&&f.isRequired){const w=new mt("web-document-write:property-required",`Missing value for required property '${s}' on '${i.declaredClass}'`,{propertyName:s,target:i});return w&&d&&d.messages?d.messages.push(w):w&&!d&&ct.getLogger("esri.core.accessorSupport.write").error(w.name,w.message),!1}return!(v===void 0||v===null&&!f.allowNull&&!f.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(s)===Xt.DEFAULTS)&&pT(i,s,d,l,v)||!f.ignoreOrigin&&d&&d.origin&&t.store.multipleOriginsSupported&&t.store.originOf(s)<_9(d.origin))}function pT(i,t,s,l,f){const d=l.default;if(d===void 0)return!1;if(l.defaultEquals!=null)return l.defaultEquals(f);if(typeof d=="function"){if(Array.isArray(f)){const v=d.call(i,t,s);return Vf(v,f)}return!1}return d===f}function GU(i,t,s,l){const f=bs(i),d=f.metadatas,v=Z9(d[t],l);return v?n5(i,f,t,v,s,l):!1}function dT(i,t,s){var d,v;if(i&&typeof i.toJSON=="function"&&(!i.toJSON.isDefaultToJSON||!i.write))return Bc(t,i.toJSON(s));const l=bs(i),f=l.metadatas;for(const w in f){const T=Z9(f[w],s);if(!n5(i,l,w,T,void 0,s))continue;const M=i.get(w),I=T.write&&typeof T.write.target=="string"?T.write.target:w,N=fT(i,T,I,M,s);Object.keys(N).length>0&&(t=Bc(t,N),(v=(d=s==null?void 0:s.resources)==null?void 0:d.pendingOperations)!=null&&v.length&&s.resources.pendingOperations.push(Promise.all(s.resources.pendingOperations).then(()=>Bc(t,N,()=>"replace-arrays"))),s&&s.writtenProperties&&s.writtenProperties.push({target:i,propName:w,oldOrigin:RS(l.store.originOf(w)),newOrigin:s.origin}))}return t}const Uu=i=>{let t=class extends i{constructor(...l){super(...l);const f=bs(this),d=f.store,v=new _2;f.store=v,oT(f,d,v)}read(l,f){cT(this,l,f)}write(l,f){return dT(this,l??{},f)}toJSON(l){return this.write({},l)}static fromJSON(l,f){return yT.call(this,l,f)}};return t=E([q("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function yT(i,t){if(!i)return null;if(i.declaredClass)throw new Error("JSON object is already hydrated");const s=this,l=new s;return l.read(i,t),l}let bt=class extends Uu(Et){};bt=E([q("esri.core.JSONSupport")],bt);var un;(function(i){i[i.PENDING=0]="PENDING",i[i.RESOLVED=1]="RESOLVED",i[i.REJECTED=2]="REJECTED"})(un||(un={}));class mT{constructor(t){this.instance=t,this._resolver=Es(),this._status=un.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=un.RESOLVED,this._cleanUp()},()=>{this._status=un.REJECTED,this._cleanUp()})}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===un.RESOLVED}isRejected(){return this._status===un.REJECTED}isFulfilled(){return this._status!==un.PENDING}abort(){this._resolver.reject(Te())}when(t,s){return this._resolver.promise.then(t,s)}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Es(),s=[...this._resolvingPromises,t.promise],l=this._allPromise=Promise.all(s);l.then(()=>{this.isFulfilled()||this._allPromise!==l||this._resolver.resolve(this.instance)},f=>{this.isFulfilled()||this._allPromise!==l||Gs(f)||this._resolver.reject(f)}),t.resolve()}}const S2=i=>{let t=class extends i{constructor(...l){super(...l),this._promiseProps=new mT(this),this.addResolvingPromise(Promise.resolve())}destroy(){var l;(l=this._promiseProps)==null||l.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(l,f){return new Promise((d,v)=>{this._promiseProps.when(d,v)}).then(l,f)}catch(l){return this.when(null,l)}addResolvingPromise(l){!l||this._promiseProps.isFulfilled()||this._promiseProps.addResolvingPromise("_promiseProps"in l?l.when():l)}};return t=E([q("esri.core.Promise")],t),t};let C0=class extends S2(Et){};C0=E([q("esri.core.Promise")],C0);const vT="not-loaded",wT="loading",gT="failed",D3="loaded",o5=i=>{let t=class extends i{constructor(...l){super(...l),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(f=>{const d=this.load.bind(this);this.load=v=>{const w=new Promise((T,M)=>{const I=p2(v,M);this.destroyed&&M(new mt("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(T,M).finally(()=>{I&&I.remove()})});if(this.loadStatus===vT){this._set("loadStatus",wT);const T=this._loadController=new AbortController;d({signal:T.signal}),Ki(T.signal,()=>{this._promiseProps.abort()})}return f(),w}})),this.when(()=>{this._set("loadStatus",D3),this._loadController=null},f=>{this._set("loadStatus",gT),this._set("loadError",f),this._loadController=null})}destroy(){this._loadController=Lh(this._loadController),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===D3}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var l;return this.isFulfilled()?this:(this._set("loadError",new mt("load:cancelled","Cancelled")),(l=this._loadController)==null||l.abort(),this)}};return E([A({readOnly:!0})],t.prototype,"loaded",null),E([A({readOnly:!0})],t.prototype,"loadError",void 0),E([A({clonable:!1})],t.prototype,"loadStatus",void 0),E([A({type:[xs],readOnly:!0})],t.prototype,"loadWarnings",null),t=E([q("esri.core.Loadable")],t),t};let kh=class extends o5(C0){};kh=E([q("esri.core.Loadable")],kh);(function(i){i.LoadableMixin=o5;function t(s){return!!(s&&s.load)}i.isLoadable=t})(kh||(kh={}));const xn=kh;function YU(i,t,s){return ga(i.map((l,f)=>t.apply(s,[l,f])))}async function _T(i,t,s){return(await ga(i.map((f,d)=>t.apply(s,[f,d])))).map(f=>f.value)}function b2(i){return{ok:!0,value:i}}function T2(i){return{ok:!1,error:i}}function ST(i){return i!=null&&i.ok===!0?i.value:null}function bT(i){return i!=null&&i.ok===!1?i.error:null}async function a5(i){if(i==null)return{ok:!1,error:new Error("no promise provided")};try{return b2(await i)}catch(t){return T2(t)}}async function qU(i){try{return b2(await i)}catch(t){return I9(t),T2(t)}}function E2(i,t){return new Mn(i,t)}let Mn=class extends Et{get value(){return ST(this._result)}get error(){return bT(this._result)}get finished(){return this._result!=null}constructor(t,s){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Lh(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:l}=this._abortController;this.promise=t(l),this.promise.then(f=>{this._result=b2(f),this._cleanup()},f=>{this._result=T2(f),this._cleanup()}),this._abortHandle=Ki(s,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Me(this._abortHandle),this._abortController=null}};E([A()],Mn.prototype,"value",null);E([A()],Mn.prototype,"error",null);E([A()],Mn.prototype,"finished",null);E([A()],Mn.prototype,"promise",void 0);E([A()],Mn.prototype,"_result",void 0);Mn=E([q("esri.core.asyncUtils.ReactiveTask")],Mn);async function l5(i,t){return await i.load(),TT(i,t)}async function TT(i,t){const s=[],l=(...d)=>{for(const v of d)if(v!=null){if(Array.isArray(v)){l(...v);continue}if(kt.isCollection(v)){v.forEach(w=>l(w));continue}xn.isLoadable(v)&&s.push(v)}};t(l);let f=null;if(await _T(s,async d=>{const v=await a5(ET(d)?d.loadAll():d.load());v.ok===!1&&!f&&(f=v)}),f)throw f.error;return i}function ET(i){return"loadAll"in i&&typeof i.loadAll=="function"}const xT=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,MT={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function j3(i){const t=i==null?void 0:i.match(xT);if(!t)return null;const[,s,l,f]=t;if(!s)return null;let d=null,v=null,w=null;const{devext:T,qaext:M,www:I}=MT;if(l)if(d=s,f)switch(f.toLowerCase()){case"devext":({customBaseUrl:v,portalHostname:w}=T);break;case"qa":({customBaseUrl:v,portalHostname:w}=M);break;default:return null}else({customBaseUrl:v,portalHostname:w}=I);else switch(s.toLowerCase()){case"devext":({customBaseUrl:v,portalHostname:w}=T);break;case"qaext":({customBaseUrl:v,portalHostname:w}=M);break;case"www":({customBaseUrl:v,portalHostname:w}=I);break;default:return null}return{customBaseUrl:v,isPortal:!1,portalHostname:w,urlKey:d}}function AT(i){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(i)}const PT=ct.getLogger("esri.core.urlUtils"),Il=Wt.request,k3="esri/config: esriConfig.request.proxyUrl is not set.",h5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,u5=/^\s*http:/i,IT=/^\s*https:/i,CT=/^\s*file:/i,OT=/:\d+$/,NT=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,LT=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),RT=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Ja{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let s=this.uri.match(LT);this.scheme=s[2]||(s[1]?"":null),this.authority=s[4]||(s[3]?"":null),this.path=s[5],this.query=s[7]||(s[6]?"":null),this.fragment=s[9]||(s[8]?"":null),this.authority!=null&&(s=this.authority.match(RT),this.user=s[3]||null,this.password=s[4]||null,this.host=s[6]||s[7],this.port=s[9]||null)}toString(){return this.uri}}const cc={},DT=new Ja(Wt.applicationUrl);let ai=DT;const jT=kT();let x2=jT;const M2=()=>ai,XU=()=>x2;function kT(){const i=ai.path,t=i.substring(0,i.lastIndexOf(i.split("/")[i.split("/").length-1]));return`${`${ai.scheme}://${ai.host}${ai.port!=null?`:${ai.port}`:""}`}${t}`}function ji(i){if(!i)return null;const t={path:null,query:null},s=new Ja(i),l=i.indexOf("?");return s.query===null?t.path=i:(t.path=i.substring(0,l),t.query=c5(s.query)),s.fragment&&(t.hash=s.fragment,s.query===null&&(t.path=t.path.substring(0,t.path.length-(s.fragment.length+1)))),t}function c5(i){const t=i.split("&"),s={};for(const l of t){if(!l)continue;const f=l.indexOf("=");let d,v;f<0?(d=decodeURIComponent(l),v=""):(d=decodeURIComponent(l.slice(0,f)),v=decodeURIComponent(l.slice(f+1)));let w=s[d];typeof w=="string"&&(w=s[d]=[w]),Array.isArray(w)?w.push(v):s[d]=v}return s}function F3(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}function Fh(i,t){return i?t&&typeof t=="function"?Object.keys(i).map(s=>encodeURIComponent(s)+"="+encodeURIComponent(t(s,i[s]))).join("&"):Object.keys(i).map(s=>{const l=i[s];if(l==null)return"";const f=encodeURIComponent(s)+"=",d=t&&t[s];return d?f+encodeURIComponent(d(l)):Array.isArray(l)?l.map(v=>F3(v)?f+encodeURIComponent(JSON.stringify(v)):f+encodeURIComponent(v)).join("&"):F3(l)?f+encodeURIComponent(JSON.stringify(l)):f+encodeURIComponent(l)}).filter(s=>s).join("&"):""}function FT(i=!1){let t,s=Il.proxyUrl;if(typeof i=="string"){t=HT(i);const f=t1(i);f&&(s=f.proxyUrl)}else t=!!i;if(!s)throw PT.warn(k3),new mt("urlutils:proxy-not-set",k3);return t&&Wp()&&(s=N2(s)),ji(s)}function QU(i){const t=t1(i);let s,l;if(t){const f=A2(t.proxyUrl);s=f.path,l=f.query?c5(f.query):null}if(s){const f=ji(i);i=s+"?"+f.path;const d=Fh({...l,...f.query});d&&(i=`${i}?${d}`)}return i}const Vl={path:"",query:""};function A2(i){const t=i.indexOf("?");return t!==-1?(Vl.path=i.slice(0,t),Vl.query=i.slice(t+1)):(Vl.path=i,Vl.query=null),Vl}function f5(i){return i=A2(i).path,i=qT(i),i=N0(i,!0),i=i.toLowerCase(),i}function zT(i){const t={proxyUrl:i.proxyUrl,urlPrefix:f5(i.urlPrefix)},s=Il.proxyRules,l=t.urlPrefix;let f=s.length;for(let d=0;d<s.length;d++){const v=s[d].urlPrefix;if(l.indexOf(v)===0){if(l.length===v.length)return-1;f=d;break}v.indexOf(l)===0&&(f=d+1)}return s.splice(f,0,t),f}function t1(i){const t=Il.proxyRules,s=f5(i);for(let l=0;l<t.length;l++)if(s.indexOf(t[l].urlPrefix)===0)return t[l]}function t$(i,t){if(!i||!t)return!1;i=O0(i),t=O0(t);const s=j3(i),l=j3(t);return s!=null&&l!=null?s.portalHostname===l.portalHostname:s!=null||l!=null?!1:tl(i,t,!0)}function UT(i,t){return i=O0(i),t=O0(t),N0(i)===N0(t)}function O0(i){i=Sn(i);const t=i.indexOf("/sharing");return t>0?i.substring(0,t):i.replace(/\/+$/,"")}function p5(i){const t=l=>l==null||l instanceof RegExp&&l.test(i)||typeof l=="string"&&i.startsWith(l),s=Il.interceptors;if(s){for(const l of s)if(Array.isArray(l.urls)){if(l.urls.some(t))return l}else if(t(l.urls))return l}return null}function tl(i,t,s=!1){if(!i||!t)return!1;const l=Kp(i),f=Kp(t);return!s&&l.scheme!==f.scheme||l.host==null||f.host==null?!1:l.host.toLowerCase()===f.host.toLowerCase()&&l.port===f.port}function P2(i){if(typeof i=="string")if(Ni(i))i=Kp(i);else return!0;if(tl(i,ai))return!0;const t=Il.trustedServers||[];for(let s=0;s<t.length;s++){const l=t[s],f=$T(l);for(let d=0;d<f.length;d++)if(tl(i,f[d]))return!0}return!1}function $T(i){return cc[i]||(!O2(i)&&!Vr(i)?cc[i]=[new Ja(`http://${i}`),new Ja(`https://${i}`)]:cc[i]=[new Ja(Hi(i))]),cc[i]}function Hi(i,t=x2,s){return Vr(i)?s&&s.preserveProtocolRelative?i:ai.scheme==="http"&&ai.authority===wr(i).slice(2)?`http:${i}`:`https:${i}`:O2(i)?i:e1(i[0]==="/"?YT(t):t,i)}function I2(i,t=x2,s){if(i==null||!Ni(i))return i;const l=Sn(i),f=l.toLowerCase(),d=Sn(t).toLowerCase().replace(/\/+$/,""),v=s?Sn(s).toLowerCase().replace(/\/+$/,""):null;if(v&&d.indexOf(v)!==0)return i;const w=(N,R,F)=>(F=N.indexOf(R,F),F===-1?N.length:F);let T=w(f,"/",f.indexOf("//")+2),M=-1;for(;f.slice(0,T+1)===d.slice(0,T)+"/"&&(M=T+1,T!==f.length);)T=w(f,"/",T+1);if(M===-1||v&&M<v.length)return i;i=l.slice(M);const I=d.slice(M-1).replace(/[^/]+/g,"").length;if(I>0)for(let N=0;N<I;N++)i=`../${i}`;else i=`./${i}`;return i}function Sn(i){return i=i.trim(),i=Hi(i),i=ZT(i),i=XT(i),i=QT(i),i}function e1(...i){const t=i.filter(En);if(!t||!t.length)return;const s=[];if(Ni(t[0])){const f=t[0],d=f.indexOf("//");d!==-1&&(s.push(f.slice(0,d+1)),JT(t[0])&&(s[0]+="/"),t[0]=f.slice(d+2))}else t[0][0]==="/"&&s.push("");const l=t.reduce((f,d)=>d?f.concat(d.split("/")):f,[]);for(let f=0;f<l.length;f++){const d=l[f];d===".."&&s.length>0&&s[s.length-1]!==".."?s.pop():(!d&&f===l.length-1||d&&(d!=="."||s.length===0))&&s.push(d)}return s.join("/")}function wr(i,t=!1){if(i==null||C2(i)||_a(i))return null;let s=i.indexOf("://");if(s===-1&&Vr(i))s=2;else if(s!==-1)s+=3;else return null;const l=i.indexOf("/",s);return l!==-1&&(i=i.slice(0,l)),t&&(i=N0(i,!0)),i}function Ni(i){return Vr(i)||O2(i)}function C2(i){return i!=null&&i.slice(0,5)==="blob:"}function _a(i){return i!=null&&i.slice(0,5)==="data:"}function GT(i){const t=zh(i);if(!t||!t.isBase64)return null;const s=atob(t.data),l=new Uint8Array(s.length);for(let f=0;f<s.length;f++)l[f]=s.charCodeAt(f);return l.buffer}function e$(i){return btoa(String.fromCharCode.apply(null,i)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const VT=/^data:(.*?)(;base64)?,(.*)$/;function zh(i){const t=i.match(VT);if(!t)return null;const[,s,l,f]=t;return{mediaType:s,isBase64:!!l,data:f}}function d5(i){return i.isBase64?`data:${i.mediaType};base64,${i.data}`:`data:${i.mediaType},${i.data}`}function i$(i){const t=GT(i);if(!t)return null;const s=zh(i);return new Blob([t],{type:s.mediaType})}function r$(i,t){BT(i,t)}function BT(i,t){if(!i)return!1;const s=document.createElement("a");if(!("download"in s))return!1;const l=URL.createObjectURL(i);return s.download=t,s.href=l,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l),!0}function Vr(i){return i!=null&&i[0]==="/"&&i[1]==="/"}function O2(i){return i!=null&&h5.test(i)}function HT(i){return i!=null&&IT.test(i)||ai.scheme==="https"&&Vr(i)}function WT(i){return i!=null&&u5.test(i)||ai.scheme==="http"&&Vr(i)}function JT(i){return i!=null&&CT.test(i)}function N2(i){return Vr(i)?`https:${i}`:i.replace(u5,"https:")}function KT(){return ai.scheme==="http"}function Wp(){return ai.scheme==="https"}function N0(i,t=!1){return Vr(i)?i.slice(2):(i=i.replace(h5,""),t&&i.length>1&&i[0]==="/"&&i[1]==="/"&&(i=i.slice(2)),i)}function YT(i){const t=i.indexOf("//"),s=i.indexOf("/",t+2);return s===-1?i:i.slice(0,s)}function s$(i){let t=0;if(Ni(i)){const l=i.indexOf("//");l!==-1&&(t=l+2)}const s=i.lastIndexOf("/");return s<t?i:i.slice(0,s+1)}function n$(i,t){if(!i)return"";const s=ji(i).path.replace(/\/+$/,""),l=s.substring(s.lastIndexOf("/")+1);if(!(t!=null&&t.length))return l;const f=new RegExp(`.(${t.join("|")})$`,"ig");return l.replace(f,"")}function qT(i){return!i||i[i.length-1]!=="/"?`${i}/`:i}function y5(i){return i.replace(/\/+$/,"")}function ZT(i){if(/^https?:\/\//i.test(i)){const t=A2(i);i=t.path.replace(/\/{2,}/g,"/"),i=i.replace("/","//"),t.query&&(i+=`?${t.query}`)}return i}function XT(i){return i.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function QT(i){const t=Il.httpsDomains;if(!WT(i))return i;const s=i.indexOf("/",7);let l;if(s===-1?l=i:l=i.slice(0,s),l=l.toLowerCase().slice(7),OT.test(l))if(l.endsWith(":80"))l=l.slice(0,-3),i=i.replace(":80","");else return i;return KT()&&l===ai.authority&&!NT.test(i)||(Wp()&&l===ai.authority||t&&t.some(f=>l===f||l.endsWith(`.${f}`))||Wp()&&!t1(i))&&(i=N2(i)),i}function Jp(i,t,s){if(!t||!s||!i||!Ni(i))return i;const l=i.indexOf("//"),f=i.indexOf("/",l+2),d=i.indexOf(":",l+2),v=Math.min(f<0?i.length:f,d<0?i.length:d);if(i.slice(l+2,v).toLowerCase()!==t.toLowerCase())return i;const T=i.slice(0,l+2),M=i.slice(v);return`${T}${s}${M}`}function Kp(i){return typeof i=="string"?new Ja(Hi(i)):(i.scheme||(i.scheme=ai.scheme),i)}function o$(i){return tE.test(i)}function m5(i,t){const s=ji(i),l=Object.keys(s.query||{});return l.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${l.join(", ")}.`),s.path}function v5(i,t,s){const l=ji(i),f=l.query||{};return f[t]=String(s),`${l.path}?${Fh(f)}`}function R1(i,t){const s=ji(i),l=s.query||{};for(const d in t)l[d]=t[d];const f=Fh(l);return f?`${s.path}?${f}`:s.path}function a$(i){if(i==null)return null;const t=i.match(w5);return t?t[2]:null}function z3(i){if(i==null)return null;const t=i.match(w5);return t?{path:t[1],extension:t[2]}:{path:i,extension:null}}async function l$(i){return typeof i=="string"?zh(i)??{data:i}:new Promise((t,s)=>{const l=new FileReader;l.readAsDataURL(i),l.onload=()=>t(zh(l.result)),l.onerror=f=>s(f)})}const w5=/([^.]*)\.([^\/]*)$/,tE=/(^data:image\/svg|\.svg$)/i;function se(i,t,s){let l,f;return t===void 0?(f=i,l=[void 0]):typeof t!="string"?(f=i,l=[void 0],s=t):(f=t,Array.isArray(i)?l=i:l=[i]),(d,v)=>{const w=d.constructor.prototype;for(const T of l){const M=V9(d,T,f);(!M.write||typeof M.write!="object")&&(M.write={}),s&&(M.write.target=s),M.write.writer=w[v]}}}class ii{constructor(t,s={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=s,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=l=>this.fromJSON(l),this.write=(l,f,d)=>{const v=this.toJSON(l);v!==void 0&&Pl(d,v,f)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const s=this._apiToJSON[t];return this._options.useNumericKeys?+s:s}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const s={};for(const l in t)s[t[l]]=l;return s}_getKeysSorted(t){const s=[];for(const l in t)s.push(l);return s.sort(),s}}function Mi(){return function(t,s){return new ii(t,{ignoreUnknown:!0,...s})}}class L2{constructor(t,s,l,f){this.semiMajorAxis=t,this.flattening=s,this.outerAtmosphereRimWidth=l;const d=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*d,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=f||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const we=new L2(6378137,1/298.257223563,3e5,.006694379990137799),_s=new L2(3396190,1/169.8944472236118,23e4),An=new L2(1737400,0,0);var Lo;(function(i){i[i.CGCS2000=4490]="CGCS2000",i[i.GCSMARS2000=104971]="GCSMARS2000",i[i.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",i[i.GCSMOON2000=104903]="GCSMOON2000"})(Lo||(Lo={}));let S;const z={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(S=2e3;S<=2045;S++)z[S]=0;for(S=2056;S<=2065;S++)z[S]=0;for(S=2067;S<=2135;S++)z[S]=0;for(S=2137;S<=2154;S++)z[S]=0;for(S=2161;S<=2170;S++)z[S]=0;for(S=2172;S<=2193;S++)z[S]=0;for(S=2195;S<=2198;S++)z[S]=0;for(S=2200;S<=2203;S++)z[S]=0;for(S=2205;S<=2217;S++)z[S]=0;for(S=2222;S<=2224;S++)z[S]=1;for(S=2225;S<=2250;S++)z[S]=2;for(S=2251;S<=2253;S++)z[S]=1;for(S=2257;S<=2264;S++)z[S]=2;for(S=2274;S<=2279;S++)z[S]=2;for(S=2280;S<=2282;S++)z[S]=1;for(S=2283;S<=2289;S++)z[S]=2;for(S=2290;S<=2292;S++)z[S]=0;for(S=2308;S<=2313;S++)z[S]=0;for(S=2315;S<=2491;S++)z[S]=0;for(S=2494;S<=2866;S++)z[S]=0;for(S=2867;S<=2869;S++)z[S]=1;for(S=2870;S<=2888;S++)z[S]=2;for(S=2891;S<=2895;S++)z[S]=2;for(S=2896;S<=2898;S++)z[S]=1;for(S=2902;S<=2908;S++)z[S]=2;for(S=2915;S<=2920;S++)z[S]=2;for(S=2921;S<=2923;S++)z[S]=1;for(S=2924;S<=2930;S++)z[S]=2;for(S=2931;S<=2962;S++)z[S]=0;for(S=2964;S<=2968;S++)z[S]=2;for(S=2969;S<=2973;S++)z[S]=0;for(S=2975;S<=2991;S++)z[S]=0;for(S=2995;S<=3051;S++)z[S]=0;for(S=3054;S<=3079;S++)z[S]=0;for(S=3081;S<=3088;S++)z[S]=0;for(S=3092;S<=3101;S++)z[S]=0;for(S=3106;S<=3138;S++)z[S]=0;for(S=3146;S<=3151;S++)z[S]=0;for(S=3153;S<=3166;S++)z[S]=0;for(S=3168;S<=3172;S++)z[S]=0;for(S=3174;S<=3203;S++)z[S]=0;for(S=3294;S<=3358;S++)z[S]=0;for(S=3367;S<=3403;S++)z[S]=0;for(S=3408;S<=3416;S++)z[S]=0;for(S=3417;S<=3438;S++)z[S]=2;for(S=3441;S<=3446;S++)z[S]=2;for(S=3447;S<=3450;S++)z[S]=0;for(S=3451;S<=3459;S++)z[S]=2;for(S=3460;S<=3478;S++)z[S]=0;for(S=3554;S<=3559;S++)z[S]=0;for(S=3560;S<=3570;S++)z[S]=2;for(S=3571;S<=3581;S++)z[S]=0;for(S=3594;S<=3597;S++)z[S]=0;for(S=3601;S<=3604;S++)z[S]=0;for(S=3637;S<=3639;S++)z[S]=0;for(S=3665;S<=3667;S++)z[S]=0;for(S=3693;S<=3695;S++)z[S]=0;for(S=3701;S<=3727;S++)z[S]=0;for(S=3728;S<=3739;S++)z[S]=2;for(S=3740;S<=3751;S++)z[S]=0;for(S=3753;S<=3760;S++)z[S]=2;for(S=3761;S<=3773;S++)z[S]=0;for(S=3775;S<=3777;S++)z[S]=0;for(S=3779;S<=3781;S++)z[S]=0;for(S=3783;S<=3785;S++)z[S]=0;for(S=3788;S<=3791;S++)z[S]=0;for(S=3797;S<=3802;S++)z[S]=0;for(S=3814;S<=3816;S++)z[S]=0;for(S=3825;S<=3829;S++)z[S]=0;for(S=3832;S<=3841;S++)z[S]=0;for(S=3844;S<=3852;S++)z[S]=0;for(S=3873;S<=3885;S++)z[S]=0;for(S=3890;S<=3893;S++)z[S]=0;for(S=3907;S<=3912;S++)z[S]=0;for(S=3942;S<=3950;S++)z[S]=0;for(S=3968;S<=3970;S++)z[S]=0;for(S=3973;S<=3976;S++)z[S]=0;for(S=3986;S<=3989;S++)z[S]=0;for(S=3994;S<=3997;S++)z[S]=0;for(S=4048;S<=4051;S++)z[S]=0;for(S=4056;S<=4063;S++)z[S]=0;for(S=4093;S<=4096;S++)z[S]=0;for(S=4390;S<=4398;S++)z[S]=0;for(S=4399;S<=4413;S++)z[S]=2;for(S=4418;S<=4433;S++)z[S]=2;for(S=4455;S<=4457;S++)z[S]=2;for(S=4484;S<=4489;S++)z[S]=0;for(S=4491;S<=4554;S++)z[S]=0;for(S=4568;S<=4589;S++)z[S]=0;for(S=4652;S<=4656;S++)z[S]=0;for(S=4766;S<=4800;S++)z[S]=0;for(S=5014;S<=5016;S++)z[S]=0;for(S=5069;S<=5072;S++)z[S]=0;for(S=5105;S<=5130;S++)z[S]=0;for(S=5173;S<=5188;S++)z[S]=0;for(S=5253;S<=5259;S++)z[S]=0;for(S=5269;S<=5275;S++)z[S]=0;for(S=5292;S<=5311;S++)z[S]=0;for(S=5329;S<=5331;S++)z[S]=0;for(S=5343;S<=5349;S++)z[S]=0;for(S=5355;S<=5357;S++)z[S]=0;for(S=5387;S<=5389;S++)z[S]=0;for(S=5459;S<=5463;S++)z[S]=0;for(S=5479;S<=5482;S++)z[S]=0;for(S=5518;S<=5520;S++)z[S]=0;for(S=5530;S<=5539;S++)z[S]=0;for(S=5550;S<=5552;S++)z[S]=0;for(S=5562;S<=5583;S++)z[S]=0;for(S=5623;S<=5625;S++)z[S]=2;for(S=5631;S<=5639;S++)z[S]=0;for(S=5649;S<=5653;S++)z[S]=0;for(S=5663;S<=5680;S++)z[S]=0;for(S=5682;S<=5685;S++)z[S]=0;for(S=5875;S<=5877;S++)z[S]=0;for(S=5896;S<=5899;S++)z[S]=0;for(S=5921;S<=5940;S++)z[S]=0;for(S=6050;S<=6125;S++)z[S]=0;for(S=6244;S<=6275;S++)z[S]=0;for(S=6328;S<=6348;S++)z[S]=0;for(S=6350;S<=6356;S++)z[S]=0;for(S=6366;S<=6372;S++)z[S]=0;for(S=6381;S<=6387;S++)z[S]=0;for(S=6393;S<=6404;S++)z[S]=0;for(S=6480;S<=6483;S++)z[S]=0;for(S=6511;S<=6514;S++)z[S]=0;for(S=6579;S<=6581;S++)z[S]=0;for(S=6619;S<=6624;S++)z[S]=0;for(S=6625;S<=6627;S++)z[S]=2;for(S=6628;S<=6632;S++)z[S]=0;for(S=6634;S<=6637;S++)z[S]=0;for(S=6669;S<=6692;S++)z[S]=0;for(S=6707;S<=6709;S++)z[S]=0;for(S=6720;S<=6723;S++)z[S]=0;for(S=6732;S<=6738;S++)z[S]=0;for(S=6931;S<=6933;S++)z[S]=0;for(S=6956;S<=6959;S++)z[S]=0;for(S=7005;S<=7007;S++)z[S]=0;for(S=7057;S<=7070;S++)z[S]=2;for(S=7074;S<=7082;S++)z[S]=0;for(S=7109;S<=7118;S++)z[S]=0;for(S=7119;S<=7127;S++)z[S]=1;for(S=7374;S<=7376;S++)z[S]=0;for(S=7528;S<=7586;S++)z[S]=0;for(S=7587;S<=7645;S++)z[S]=2;for(S=7692;S<=7696;S++)z[S]=0;for(S=7755;S<=7787;S++)z[S]=0;for(S=7791;S<=7795;S++)z[S]=0;for(S=7799;S<=7801;S++)z[S]=0;for(S=7803;S<=7805;S++)z[S]=0;for(S=7825;S<=7831;S++)z[S]=0;for(S=7845;S<=7859;S++)z[S]=0;for(S=8013;S<=8032;S++)z[S]=0;for(S=8065;S<=8068;S++)z[S]=1;for(S=8518;S<=8529;S++)z[S]=2;for(S=8533;S<=8536;S++)z[S]=2;for(S=8538;S<=8540;S++)z[S]=2;for(S=8677;S<=8679;S++)z[S]=0;for(S=8836;S<=8840;S++)z[S]=0;for(S=8857;S<=8859;S++)z[S]=0;for(S=8908;S<=8910;S++)z[S]=0;for(S=9154;S<=9159;S++)z[S]=0;for(S=9205;S<=9218;S++)z[S]=0;for(S=9271;S<=9273;S++)z[S]=0;for(S=9295;S<=9297;S++)z[S]=0;for(S=9356;S<=9360;S++)z[S]=0;for(S=9404;S<=9407;S++)z[S]=0;for(S=9476;S<=9482;S++)z[S]=0;for(S=9487;S<=9494;S++)z[S]=0;for(S=9697;S<=9699;S++)z[S]=0;for(S=9821;S<=9865;S++)z[S]=0;for(S=20002;S<=20032;S++)z[S]=0;for(S=20047;S<=20049;S++)z[S]=0;for(S=20062;S<=20092;S++)z[S]=0;for(S=20135;S<=20138;S++)z[S]=0;for(S=20248;S<=20258;S++)z[S]=0;for(S=20348;S<=20358;S++)z[S]=0;for(S=20436;S<=20440;S++)z[S]=0;for(S=20822;S<=20824;S++)z[S]=0;for(S=20904;S<=20932;S++)z[S]=0;for(S=20934;S<=20936;S++)z[S]=0;for(S=21004;S<=21032;S++)z[S]=0;for(S=21035;S<=21037;S++)z[S]=0;for(S=21095;S<=21097;S++)z[S]=0;for(S=21148;S<=21150;S++)z[S]=0;for(S=21207;S<=21264;S++)z[S]=0;for(S=21307;S<=21364;S++)z[S]=0;for(S=21413;S<=21423;S++)z[S]=0;for(S=21453;S<=21463;S++)z[S]=0;for(S=21473;S<=21483;S++)z[S]=0;for(S=21780;S<=21782;S++)z[S]=0;for(S=21891;S<=21894;S++)z[S]=0;for(S=21896;S<=21899;S++)z[S]=0;for(S=22171;S<=22177;S++)z[S]=0;for(S=22181;S<=22187;S++)z[S]=0;for(S=22191;S<=22197;S++)z[S]=0;for(S=22207;S<=22222;S++)z[S]=0;for(S=22234;S<=22236;S++)z[S]=0;for(S=22243;S<=22250;S++)z[S]=0;for(S=22262;S<=22265;S++)z[S]=0;for(S=22307;S<=22322;S++)z[S]=0;for(S=22348;S<=22357;S++)z[S]=0;for(S=22407;S<=22422;S++)z[S]=0;for(S=22462;S<=22465;S++)z[S]=0;for(S=22521;S<=22525;S++)z[S]=0;for(S=22607;S<=22622;S++)z[S]=0;for(S=22641;S<=22646;S++)z[S]=0;for(S=22648;S<=22657;S++)z[S]=0;for(S=22707;S<=22722;S++)z[S]=0;for(S=22762;S<=22765;S++)z[S]=0;for(S=22991;S<=22994;S++)z[S]=0;for(S=23028;S<=23038;S++)z[S]=0;for(S=23830;S<=23853;S++)z[S]=0;for(S=23866;S<=23872;S++)z[S]=0;for(S=23877;S<=23884;S++)z[S]=0;for(S=23886;S<=23894;S++)z[S]=0;for(S=23946;S<=23948;S++)z[S]=0;for(S=24311;S<=24313;S++)z[S]=0;for(S=24342;S<=24347;S++)z[S]=0;for(S=24370;S<=24374;S++)z[S]=10;for(S=24375;S<=24381;S++)z[S]=0;for(S=24718;S<=24721;S++)z[S]=0;for(S=24817;S<=24821;S++)z[S]=0;for(S=24877;S<=24882;S++)z[S]=0;for(S=24891;S<=24893;S++)z[S]=0;for(S=25391;S<=25395;S++)z[S]=0;for(S=25828;S<=25838;S++)z[S]=0;for(S=26191;S<=26195;S++)z[S]=0;for(S=26391;S<=26393;S++)z[S]=0;for(S=26701;S<=26722;S++)z[S]=0;for(S=26729;S<=26799;S++)z[S]=2;for(S=26801;S<=26803;S++)z[S]=2;for(S=26811;S<=26813;S++)z[S]=2;for(S=26847;S<=26870;S++)z[S]=2;for(S=26891;S<=26899;S++)z[S]=0;for(S=26901;S<=26923;S++)z[S]=0;for(S=26929;S<=26946;S++)z[S]=0;for(S=26948;S<=26998;S++)z[S]=0;for(S=27037;S<=27040;S++)z[S]=0;for(S=27205;S<=27232;S++)z[S]=0;for(S=27258;S<=27260;S++)z[S]=0;for(S=27391;S<=27398;S++)z[S]=0;for(S=27561;S<=27564;S++)z[S]=0;for(S=27571;S<=27574;S++)z[S]=0;for(S=27581;S<=27584;S++)z[S]=0;for(S=27591;S<=27594;S++)z[S]=0;for(S=28191;S<=28193;S++)z[S]=0;for(S=28348;S<=28358;S++)z[S]=0;for(S=28402;S<=28432;S++)z[S]=0;for(S=28462;S<=28492;S++)z[S]=0;for(S=29118;S<=29122;S++)z[S]=0;for(S=29168;S<=29172;S++)z[S]=0;for(S=29177;S<=29185;S++)z[S]=0;for(S=29187;S<=29195;S++)z[S]=0;for(S=29900;S<=29903;S++)z[S]=0;for(S=30161;S<=30179;S++)z[S]=0;for(S=30491;S<=30494;S++)z[S]=0;for(S=30729;S<=30732;S++)z[S]=0;for(S=31251;S<=31259;S++)z[S]=0;for(S=31265;S<=31268;S++)z[S]=0;for(S=31275;S<=31279;S++)z[S]=0;for(S=31281;S<=31297;S++)z[S]=0;for(S=31461;S<=31469;S++)z[S]=0;for(S=31491;S<=31495;S++)z[S]=0;for(S=31917;S<=31922;S++)z[S]=0;for(S=31965;S<=32e3;S++)z[S]=0;for(S=32001;S<=32003;S++)z[S]=2;for(S=32005;S<=32031;S++)z[S]=2;for(S=32033;S<=32060;S++)z[S]=2;for(S=32064;S<=32067;S++)z[S]=2;for(S=32074;S<=32077;S++)z[S]=2;for(S=32081;S<=32086;S++)z[S]=0;for(S=32107;S<=32130;S++)z[S]=0;for(S=32133;S<=32159;S++)z[S]=0;for(S=32164;S<=32167;S++)z[S]=2;for(S=32180;S<=32199;S++)z[S]=0;for(S=32201;S<=32260;S++)z[S]=0;for(S=32301;S<=32360;S++)z[S]=0;for(S=32601;S<=32662;S++)z[S]=0;for(S=32664;S<=32667;S++)z[S]=2;for(S=32701;S<=32761;S++)z[S]=0;for(S=53001;S<=53004;S++)z[S]=0;for(S=53008;S<=53019;S++)z[S]=0;for(S=53021;S<=53032;S++)z[S]=0;for(S=53034;S<=53037;S++)z[S]=0;for(S=53042;S<=53046;S++)z[S]=0;for(S=53074;S<=53080;S++)z[S]=0;for(S=54001;S<=54004;S++)z[S]=0;for(S=54008;S<=54019;S++)z[S]=0;for(S=54021;S<=54032;S++)z[S]=0;for(S=54034;S<=54037;S++)z[S]=0;for(S=54042;S<=54046;S++)z[S]=0;for(S=54048;S<=54053;S++)z[S]=0;for(S=54074;S<=54080;S++)z[S]=0;for(S=54098;S<=54101;S++)z[S]=0;for(S=102001;S<=102040;S++)z[S]=0;for(S=102042;S<=102063;S++)z[S]=0;for(S=102065;S<=102067;S++)z[S]=0;for(S=102070;S<=102117;S++)z[S]=0;for(S=102122;S<=102216;S++)z[S]=0;for(S=102221;S<=102377;S++)z[S]=0;for(S=102382;S<=102388;S++)z[S]=0;for(S=102389;S<=102398;S++)z[S]=2;for(S=102399;S<=102444;S++)z[S]=0;for(S=102445;S<=102447;S++)z[S]=2;for(S=102448;S<=102458;S++)z[S]=0;for(S=102459;S<=102468;S++)z[S]=2;for(S=102469;S<=102499;S++)z[S]=0;for(S=102500;S<=102519;S++)z[S]=1;for(S=102520;S<=102524;S++)z[S]=0;for(S=102525;S<=102529;S++)z[S]=2;for(S=102530;S<=102588;S++)z[S]=0;for(S=102590;S<=102598;S++)z[S]=0;for(S=102601;S<=102603;S++)z[S]=0;for(S=102605;S<=102628;S++)z[S]=0;for(S=102629;S<=102646;S++)z[S]=2;for(S=102648;S<=102700;S++)z[S]=2;for(S=102701;S<=102703;S++)z[S]=0;for(S=102707;S<=102730;S++)z[S]=2;for(S=102733;S<=102758;S++)z[S]=2;for(S=102767;S<=102900;S++)z[S]=0;for(S=102901;S<=102933;S++)z[S]=2;for(S=102934;S<=102950;S++)z[S]=13;for(S=102951;S<=102955;S++)z[S]=0;for(S=102961;S<=102963;S++)z[S]=0;for(S=102965;S<=102969;S++)z[S]=0;for(S=102971;S<=102973;S++)z[S]=0;for(S=102975;S<=102989;S++)z[S]=0;for(S=102990;S<=102992;S++)z[S]=1;for(S=102997;S<=103002;S++)z[S]=0;for(S=103003;S<=103008;S++)z[S]=2;for(S=103009;S<=103011;S++)z[S]=0;for(S=103012;S<=103014;S++)z[S]=2;for(S=103019;S<=103021;S++)z[S]=0;for(S=103022;S<=103024;S++)z[S]=2;for(S=103029;S<=103031;S++)z[S]=0;for(S=103032;S<=103034;S++)z[S]=2;for(S=103065;S<=103068;S++)z[S]=0;for(S=103074;S<=103076;S++)z[S]=0;for(S=103077;S<=103079;S++)z[S]=1;for(S=103080;S<=103082;S++)z[S]=0;for(S=103083;S<=103085;S++)z[S]=2;for(S=103090;S<=103093;S++)z[S]=0;for(S=103097;S<=103099;S++)z[S]=0;for(S=103100;S<=103102;S++)z[S]=2;for(S=103107;S<=103109;S++)z[S]=0;for(S=103110;S<=103112;S++)z[S]=2;for(S=103113;S<=103116;S++)z[S]=0;for(S=103117;S<=103120;S++)z[S]=2;for(S=103153;S<=103157;S++)z[S]=0;for(S=103158;S<=103162;S++)z[S]=2;for(S=103163;S<=103165;S++)z[S]=0;for(S=103166;S<=103168;S++)z[S]=1;for(S=103169;S<=103171;S++)z[S]=2;for(S=103186;S<=103188;S++)z[S]=0;for(S=103189;S<=103191;S++)z[S]=2;for(S=103192;S<=103195;S++)z[S]=0;for(S=103196;S<=103199;S++)z[S]=2;for(S=103200;S<=103224;S++)z[S]=0;for(S=103225;S<=103227;S++)z[S]=1;for(S=103232;S<=103237;S++)z[S]=0;for(S=103238;S<=103243;S++)z[S]=2;for(S=103244;S<=103246;S++)z[S]=0;for(S=103247;S<=103249;S++)z[S]=2;for(S=103254;S<=103256;S++)z[S]=0;for(S=103257;S<=103259;S++)z[S]=2;for(S=103264;S<=103266;S++)z[S]=0;for(S=103267;S<=103269;S++)z[S]=2;for(S=103300;S<=103375;S++)z[S]=0;for(S=103381;S<=103383;S++)z[S]=0;for(S=103384;S<=103386;S++)z[S]=1;for(S=103387;S<=103389;S++)z[S]=0;for(S=103390;S<=103392;S++)z[S]=2;for(S=103397;S<=103399;S++)z[S]=0;for(S=103400;S<=103471;S++)z[S]=2;for(S=103476;S<=103478;S++)z[S]=0;for(S=103479;S<=103481;S++)z[S]=2;for(S=103486;S<=103488;S++)z[S]=0;for(S=103489;S<=103491;S++)z[S]=2;for(S=103492;S<=103495;S++)z[S]=0;for(S=103496;S<=103499;S++)z[S]=2;for(S=103528;S<=103543;S++)z[S]=0;for(S=103544;S<=103548;S++)z[S]=2;for(S=103549;S<=103551;S++)z[S]=0;for(S=103552;S<=103554;S++)z[S]=1;for(S=103555;S<=103557;S++)z[S]=2;for(S=103558;S<=103560;S++)z[S]=0;for(S=103571;S<=103573;S++)z[S]=0;for(S=103574;S<=103576;S++)z[S]=2;for(S=103577;S<=103580;S++)z[S]=0;for(S=103581;S<=103583;S++)z[S]=2;for(S=103595;S<=103694;S++)z[S]=0;for(S=103696;S<=103699;S++)z[S]=0;for(S=103700;S<=103793;S++)z[S]=2;for(S=103794;S<=103890;S++)z[S]=0;for(S=103891;S<=103896;S++)z[S]=2;for(S=103900;S<=103971;S++)z[S]=2;for(S=103972;S<=103977;S++)z[S]=0;for(S=112e3;S<=112101;S++)z[S]=0;const eE={102113:!0,102100:!0,3857:!0,3785:!0},iE={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},U3='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',fc=[-20037508342788905e-9,20037508342788905e-9],pc=[-20037508342787e-6,20037508342787e-6],g5={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:fc,origin:pc,dx:1e-5},102100:{wkTemplate:U3,valid:fc,origin:pc,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:fc,origin:pc,dx:1e-5},3857:{wkTemplate:U3,valid:fc,origin:pc,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function oi(i,t){return i===t?!0:i==null||t==null?!1:i.wkid!=null||t.wkid!=null?i.wkid===t.wkid||Ro(i)&&Ro(t)||t.latestWkid!=null&&i.wkid===t.latestWkid||i.latestWkid!=null&&t.wkid===i.latestWkid:i.wkt&&t.wkt?i.wkt.toUpperCase()===t.wkt.toUpperCase():!1}function Ss(i){return ti(i)&&i.wkid&&g5[i.wkid]||null}function _5(i){return ti(i)?i.wkid?z[i.wkid]==null:i.wkt?!!/^\s*GEOGCS/i.test(i.wkt):!1:!1}function rE(i){return!(D2(i)||k2(i))}function Uh(i){return ti(i)&&i.wkid===4326}function h$(i){return ti(i)&&i.wkid===Lo.CGCS2000}function Ro(i){return ti(i)&&i.wkid!=null&&eE[i.wkid]===!0}function sE(i){return ti(i)&&i.wkid===32662}function R2(i){return i===Lo.GCSMARS2000||i===Lo.GCSMARS2000_SPHERE}function D2(i){return ti(i)&&i.wkid!=null&&R2(i.wkid)}function j2(i){return i===Lo.GCSMOON2000}function k2(i){return ti(i)&&i.wkid!=null&&j2(i.wkid)}function nE(i){return ti(i)&&i.wkid!=null&&iE[i.wkid]===!0}function ti(i){return i!=null&&(i.wkid!=null&&i.wkid>=2e3||i.wkt!=null)}const oE={wkid:4326,wkt:u2(g5[4326].wkTemplate,{Central_Meridian:"0.0"})},aE={wkid:102100,latestWkid:3857},lE={wkid:32662};function F2(i){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${i.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const hE=F2(we),S5=F2(_s),b5=F2(An),uE={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${we.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function cE(i){return i!=null&&(D2(i)||oi(i,S5))?_s:i!=null&&(k2(i)||oi(i,b5))?An:we}function u$(i){return R2(i)?_s:j2(i)?An:we}const c$=39.37,fE=we.radius*Math.PI/200,T5=/UNIT\[([^\]]+)\]\]$/i,Eo=z,E5=/UNIT\[([^\]]+)\]/i,pE=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),dE=Mi()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),yE={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}},Lr=i=>i*i,mE={"square-millimeters":{inBaseUnits:Lr(.001)},"square-centimeters":{inBaseUnits:Lr(.01)},"square-decimeters":{inBaseUnits:Lr(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Lr(1e3)},"square-inches":{inBaseUnits:Lr(.0254)},"square-feet":{inBaseUnits:Lr(.3048)},"square-yards":{inBaseUnits:Lr(.9144)},"square-miles":{inBaseUnits:Lr(1609.344)},"square-us-feet":{inBaseUnits:Lr(1200/3937)},acres:{inBaseUnits:.0015625*Lr(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}},qs=i=>i*i*i,vE={liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*qs(.001)},"cubic-centimeters":{inBaseUnits:1e3*qs(.01)},"cubic-decimeters":{inBaseUnits:1e3*qs(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*qs(1e3)},"cubic-inches":{inBaseUnits:1e3*qs(.0254)},"cubic-feet":{inBaseUnits:1e3*qs(.3048)},"cubic-yards":{inBaseUnits:1e3*qs(.9144)},"cubic-miles":{inBaseUnits:1e3*qs(1609.344)}},wE={radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}},$h={length:{baseUnit:"meters",units:yE},area:{baseUnit:"square-meters",units:mE},volume:{baseUnit:"liters",units:vE},angle:{baseUnit:"radians",units:wE}},gE=(()=>{const i={};for(const t in $h)for(const s in $h[t].units)i[s]=t;return i})();function _E(i,t,s){return i*$h[s].units[t].inBaseUnits}function SE(i,t,s){return i/$h[s].units[t].inBaseUnits}function Yp(i){const t=gE[i];if(!t)throw new Error("unknown type");return t}function $3(i,t=null){return t=t||Yp(i),$h[t].baseUnit===i}function bE(i,t,s){if(t===s)return i;const l=Yp(t);if(l!==Yp(s))throw new Error("incompatible units");const f=$3(t,l)?i:_E(i,t,l);return $3(s,l)?f:SE(f,s,l)}function f$(i,t,s){return bE(i,t,"meters")/(s*Math.PI/180)}function x5(i){return dE.fromJSON(i.toLowerCase())||null}function G3(i){if(i!=null&&!rE(i))return 1;const t=Cl(i);return t>1e5?1:t}function TE(i){const t=Cl(i),s=cE(i).metersPerDegree;return t>=s?"meters":A5(i)}function Cl(i,t=we.metersPerDegree){return EE(i,!0)??t}function EE(i,t=!1){const s=i!=null?i.wkid:null,l=i!=null?i.wkt:null;let f=null;if(s){if(R2(s))return _s.metersPerDegree;if(j2(s))return An.metersPerDegree;f=Eo.values[Eo[s]],!f&&t&&pE.has(s)&&(f=fE)}else l&&(I5(l)?f=V3(T5.exec(l),f):P5(l)&&(f=V3(E5.exec(l),f)));return f}function V3(i,t){return i&&i[1]?M5(i[1]):t}function M5(i){return parseFloat(i.split(",")[1])}function A5(i){const t=i!=null?i.wkid:null,s=i!=null?i.wkt:null;let l=null;if(t)l=Eo.units[Eo[t]];else if(s){const f=I5(s)?T5:P5(s)?E5:null;if(f){const d=f.exec(s);d&&d[1]&&(l=ME(d[1]))}}return l!=null?x5(l):null}function P5(i){return/^GEOCCS/i.test(i)}function I5(i){return/^PROJCS/i.test(i)}const xE=1e-7;function ME(i){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(i);let s=t&&t[1];if(!s||!Eo.units.includes(s)){const l=M5(i);s=null;const f=Eo.values;for(let d=0;d<f.length;++d)if(Math.abs(l-f[d])<xE){s=Eo.units[d];break}}return s}const AE={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},PE={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},IE={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},p$=Mi()(AE),d$=Mi()(PE),y$=Mi()(IE);var jr;let Qt=jr=class extends bt{static fromJSON(t){if(!t)return null;if(t.wkid){if(t.wkid===102100)return jr.WebMercator;if(t.wkid===4326)return jr.WGS84}const s=new jr;return s.read(t),s}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Uh(this)}get isWebMercator(){return Ro(this)}get isGeographic(){return _5(this)}get isWrappable(){return nE(this)}get metersPerUnit(){return Cl(this)}get unit(){return A5(this)||(this.isGeographic?"degrees":null)}writeWkt(t,s){this.wkid||(s.wkt=t)}clone(){if(this===jr.WGS84)return jr.WGS84;if(this===jr.WebMercator)return jr.WebMercator;const t=new jr;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(t.wkt=this.wkt),this.imageCoordinateSystem&&(t.imageCoordinateSystem=ht(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:s,referenceServiceName:l}=t.imageCoordinateSystem,{geodataXform:f}=t.imageCoordinateSystem,d=this.imageCoordinateSystem;return s!=null&&!f?l?d.id===s&&d.referenceServiceName===l:d.id===s:JSON.stringify(d)===JSON.stringify(t.imageCoordinateSystem)}return oi(this,t)}toJSON(t){return this.write(void 0,t)}};Qt.GCS_NAD_1927=null;Qt.WGS84=null;Qt.WebMercator=null;Qt.PlateCarree=null;E([A({readOnly:!0})],Qt.prototype,"isWGS84",null);E([A({readOnly:!0})],Qt.prototype,"isWebMercator",null);E([A({readOnly:!0})],Qt.prototype,"isGeographic",null);E([A({readOnly:!0})],Qt.prototype,"isWrappable",null);E([A({type:ze,json:{write:!0}})],Qt.prototype,"latestWkid",void 0);E([A({readOnly:!0})],Qt.prototype,"metersPerUnit",null);E([A({readOnly:!0})],Qt.prototype,"unit",null);E([A({type:ze,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Qt.prototype,"wkid",void 0);E([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Qt.prototype,"wkt",void 0);E([se("wkt"),se("web-scene","wkt")],Qt.prototype,"writeWkt",null);E([A({type:ze,json:{write:!0}})],Qt.prototype,"vcsWkid",void 0);E([A({type:ze,json:{write:!0}})],Qt.prototype,"latestVcsWkid",void 0);E([A()],Qt.prototype,"imageCoordinateSystem",void 0);Qt=jr=E([q("esri.geometry.SpatialReference")],Qt);Qt.prototype.toJSON.isDefaultToJSON=!0;Qt.GCS_NAD_1927=new Qt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});Qt.WGS84=new Qt(oE);Qt.WebMercator=new Qt(aE);Qt.PlateCarree=new Qt(lE);Object.freeze&&(Object.freeze(Qt.GCS_NAD_1927),Object.freeze(Qt.WGS84),Object.freeze(Qt.WebMercator));const fe=Qt,CE="4.27";let $u=CE;$u=`4.27.0-next.${Jf}`;const OE={async request(i,t){var w,T;const{default:s}=await pt(()=>Promise.resolve().then(()=>KE),void 0),l=i.options,f=l.responseType;l.signal=t==null?void 0:t.signal,l.responseType=f==="native"||f==="native-request-init"?"native-request-init":f&&["blob","json","text"].includes(f)&&((w=p5(i.url))!=null&&w.after)?f:"array-buffer";const d=await s(i.url,l),v={data:d.data,httpStatus:d.httpStatus,ssl:d.ssl};switch((T=d.requestOptions)==null?void 0:T.responseType){case"native-request-init":return delete v.data.signal,v;case"blob":v.data=await v.data.arrayBuffer();break;case"json":v.data=new TextEncoder().encode(JSON.stringify(v.data)).buffer;break;case"text":v.data=new TextEncoder().encode(v.data).buffer;break}return{result:v,transferList:[v.data]}}};let ue;function v$(i){ue=i}function w$(i){const t=ue==null?void 0:ue.findCredential(i);return t!=null&&t.token?v5(i,"token",t.token):i}rt("host-webworker");const NE=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function C5(i){const t=wr(i,!0);return t?t.endsWith(".arcgis.com")&&!NE.includes(t)&&!i.endsWith("/sharing/rest/generateToken"):!1}function LE(i,t,s=!1,l){return new Promise((f,d)=>{if(Sr(l)){d(B3());return}let v=()=>{M(),d(new Error(`Unable to load ${t}`))},w=()=>{const I=i;M(),f(I)},T=()=>{if(!i)return;const I=i;M(),I.src="",d(B3())};const M=()=>{rt("esri-image-decode")||(i.removeEventListener("error",v),i.removeEventListener("load",w)),v=null,w=null,i=null,l!=null&&l.removeEventListener("abort",T),T=null,s&&URL.revokeObjectURL(t)};l!=null&&l.addEventListener("abort",T),rt("esri-image-decode")?i.decode().then(w,v):(i.addEventListener("error",v),i.addEventListener("load",w))})}function B3(){try{return new DOMException("Aborted","AbortError")}catch{const i=new Error;return i.name="AbortError",i}}function RE(i){Wt.request.crossOriginNoCorsDomains||(Wt.request.crossOriginNoCorsDomains={});const t=Wt.request.crossOriginNoCorsDomains;for(let s of i)s=s.toLowerCase(),/^https?:\/\//.test(s)?t[wr(s)??""]=0:(t[wr("http://"+s)??""]=0,t[wr("https://"+s)??""]=0)}function DE(i){const t=Wt.request.crossOriginNoCorsDomains;if(t){let s=wr(i);if(s)return s=s.toLowerCase(),!tl(s,M2())&&t[s]<Date.now()-60*6e4}return!1}async function jE(i){var f;const t=Wt.request.crossOriginNoCorsDomains,s=wr(i);t&&s&&(t[s.toLowerCase()]=Date.now());const l=ji(i);i=l.path,((f=l.query)==null?void 0:f.f)==="json"&&(i+="?f=json");try{await fetch(i,{mode:"no-cors",credentials:"include"})}catch{}}async function vi(i,t){var M;const s=_a(i),l=C2(i);!l&&!s&&(i=Sn(i));const f={url:i,requestOptions:{...t}};let d=p5(i);if(d){const I=await BE(d,f);if(I!=null)return{data:I,getHeader:z2,httpStatus:200,requestOptions:f.requestOptions,url:f.url};!d.after&&!d.error&&(d=null)}if(i=f.url,t=f.requestOptions,t.responseType==="image"){if(rt("host-webworker")||rt("host-node"))throw mr("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),f)}else if(s)throw mr("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),f);if(t.method==="head"){if(t.body)throw mr("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),f);if(s||l)throw mr("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),f)}if(await $E(),L0)return L0.execute(i,t);const v=new AbortController;Ki(t,()=>v.abort());const w={controller:v,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:d,params:f,redoRequest:!1,useIdentity:pr.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},T=await WE(w);return(M=d==null?void 0:d.after)==null||M.call(d,T),T}let L0;const pr=Wt.request,O5="FormData"in globalThis,kE=[499,498,403,401],FE=["COM_0056","COM_0057","SB_0008"],zE=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],z2=()=>null,R0=Symbol();vi._abortableFetch=null;vi._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];function UE(i){const t=wr(i);t&&!vi._corsServers.includes(t)&&vi._corsServers.push(t)}function H3(i){const t=wr(i);return!t||t.endsWith(".arcgis.com")||vi._corsServers.includes(t)||P2(t)}function mr(i,t,s,l){let f="Error";const d={url:s.url,requestOptions:s.requestOptions,getHeader:z2,ssl:!1};if(t instanceof mt)return t.details?(t.details=ht(t.details),t.details.url=s.url,t.details.requestOptions=s.requestOptions):t.details=d,t;if(t){const v=l&&(M=>l.headers.get(M)),w=l&&l.status,T=t.message;T&&(f=T),v&&(d.getHeader=v),d.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||w||0,d.subCode=t.subcode,d.messageCode=t.messageCode,typeof t.details=="string"?d.messages=[t.details]:d.messages=t.details,d.raw=R0 in t?t[R0]:t}return Gs(t)?Te():new mt(i,f,d)}async function $E(){rt("host-webworker")?L0||(L0=await pt(()=>import("./request-2f150dfc.js"),[])):vi._abortableFetch||(vi._abortableFetch=globalThis.fetch.bind(globalThis))}async function qp(){ue||await pt(()=>import("./IdentityManager-3d6e69c7.js"),["assets/IdentityManager-3d6e69c7.js","assets/widget-4c9f7fe2.js"])}async function GE(i){var w;const t=i.params.url,s=i.params.requestOptions,l=i.controller.signal,f=s.body;let d=null,v=null;if(O5&&"HTMLFormElement"in globalThis&&(f instanceof FormData?d=f:f instanceof HTMLFormElement&&(d=new FormData(f))),typeof f=="string"&&(v=f),i.fetchOptions={cache:s.cacheBust&&!vi._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:s.headers||{},method:s.method==="head"?"HEAD":"GET",mode:"cors",priority:pr.priority,redirect:"follow",signal:l},(d||v)&&(i.fetchOptions.body=d||v),s.authMode==="anonymous"&&(i.useIdentity=!1),i.hasToken=!!(/token=/i.test(t)||(w=s.query)!=null&&w.token||d!=null&&d.get("token")),!i.hasToken&&Wt.apiKey&&C5(t)&&(s.query||(s.query={}),s.query.token=Wt.apiKey,i.hasToken=!0),i.useIdentity&&!i.hasToken&&!i.credentialToken&&!N5(t)&&!Sr(l)){let T;s.authMode==="immediate"?(await qp(),T=await ue.getCredential(t,{signal:l}),i.credential=T):s.authMode==="no-prompt"?(await qp(),T=await ue.getCredential(t,{prompt:!1,signal:l}).catch(()=>{}),i.credential=T):ue&&(T=ue.findCredential(t)),T&&(i.credentialToken=T.token,i.useSSL=!!T.ssl)}}function N5(i){return zE.some(t=>t.test(i))}async function VE(i){let t=i.params.url;const s=i.params.requestOptions,l=i.fetchOptions??{},f=C2(t)||_a(t),d=s.responseType||"json",v=f?0:s.timeout!=null?s.timeout:pr.timeout;let w=!1;if(!f){i.useSSL&&(t=N2(t)),s.cacheBust&&l.cache==="default"&&(t=v5(t,"request.preventCache",Date.now()));let R={...s.query};i.credentialToken&&(R.token=i.credentialToken);let F=Fh(R);rt("esri-url-encodes-apostrophe")&&(F=F.replace(/'/g,"%27"));const V=t.length+1+F.length;let W;w=s.method==="delete"||s.method==="post"||s.method==="put"||!!s.body||V>pr.maxUrlLength;const H=s.useProxy||!!t1(t);if(H){const Y=FT(t);W=Y.path,!w&&W.length+1+V>pr.maxUrlLength&&(w=!0),Y.query&&(R={...Y.query,...R})}if(l.method==="HEAD"&&(w||H)){if(w)throw V>pr.maxUrlLength?mr("request:invalid-parameters",new Error("URL exceeds maximum length"),i.params):mr("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),i.params);if(H)throw mr("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),i.params)}if(w?(l.method=s.method==="delete"?"DELETE":s.method==="put"?"PUT":"POST",s.body?t=R1(t,R):(l.body=Fh(R),l.headers||(l.headers={}),l.headers["Content-Type"]="application/x-www-form-urlencoded")):t=R1(t,R),H&&(i.useProxy=!0,t=`${W}?${t}`),R.token&&O5&&l.body instanceof FormData&&!AT(t)&&l.body.set("token",R.token),s.hasOwnProperty("withCredentials"))i.withCredentials=s.withCredentials;else if(!tl(t,M2())){if(P2(t))i.withCredentials=!0;else if(ue){const Y=ue.findServerInfo(t);Y&&Y.webTierAuth&&(i.withCredentials=!0)}}i.withCredentials&&(l.credentials="include",DE(t)&&await jE(w?R1(t,R):t))}let T=0,M=!1;v>0&&(T=setTimeout(()=>{M=!0,i.controller.abort()},v));let I,N;try{if(s.responseType==="native-request-init")N=l,N.url=t;else if(s.responseType==="image"&&l.cache==="default"&&l.method==="GET"&&!w&&!HE(s.headers)&&(f||i.useProxy||!pr.proxyUrl||H3(t)))N=await J3(t,i);else if(I=await vi._abortableFetch(t,l),i.useProxy||UE(t),s.responseType==="native")N=I;else if(l.method!=="HEAD")if(!I.ok)N=await I.text();else{switch(d){case"array-buffer":N=await I.arrayBuffer();break;case"blob":case"image":N=await I.blob();break;default:N=await I.text();break}if(T&&(clearTimeout(T),T=0),d==="json"||d==="xml"||d==="document")if(N)switch(d){case"json":N=JSON.parse(N);break;case"xml":N=W3(N,"application/xml");break;case"document":N=W3(N,"text/html");break}else N=null;if(N){if(d==="array-buffer"||d==="blob"){const R=I.headers.get("Content-Type");if(R&&/application\/json|text\/plain/i.test(R)&&N[d==="blob"?"size":"byteLength"]<=750)try{const F=await new Response(N).json();F.error&&(N=F)}catch{}}d==="image"&&N instanceof Blob&&(N=await J3(URL.createObjectURL(N),i,!0))}}}catch(R){if(R.name==="AbortError")throw M?new Error("Timeout exceeded"):Te("Request canceled");if(!I&&R instanceof TypeError&&pr.proxyUrl&&!s.body&&s.method!=="delete"&&s.method!=="head"&&s.method!=="post"&&s.method!=="put"&&!i.useProxy&&!H3(t))i.redoRequest=!0,zT({proxyUrl:pr.proxyUrl,urlPrefix:wr(t)??""});else throw R}finally{T&&clearTimeout(T)}return[I,N]}async function BE(i,t){if(i.responseData!=null)return i.responseData;if(i.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...i.headers}),i.query&&(t.requestOptions.query={...t.requestOptions.query,...i.query}),i.before){let s,l;try{l=await i.before(t)}catch(f){s=mr("request:interceptor",f,t)}if((l instanceof Error||l instanceof mt)&&(s=mr("request:interceptor",l,t)),s)throw i.error&&i.error(s),s;return l}}function HE(i){if(i){for(const t of Object.getOwnPropertyNames(i))if(i[t])return!0}return!1}function W3(i,t){let s;try{s=new DOMParser().parseFromString(i,t)}catch{}if(!s||s.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return s}async function WE(i){var d;await GE(i);let t,s;try{do[t,s]=await VE(i);while(!await JE(i,t,s))}catch(v){const w=mr("request:server",v,i.params,t);throw w.details.ssl=i.useSSL,i.interceptor&&i.interceptor.error&&i.interceptor.error(w),w}const l=i.params.url;if(s&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)){if(!i.hasToken&&!i.credentialToken&&((d=s.user)!=null&&d.username)&&!P2(l)){const v=wr(l,!0);v&&pr.trustedServers.push(v)}Array.isArray(s.authorizedCrossOriginNoCorsDomains)&&RE(s.authorizedCrossOriginNoCorsDomains)}const f=i.credential;if(f&&ue){const v=ue.findServerInfo(f.server);let w=v&&v.owningSystemUrl;if(w){w=w.replace(/\/?$/,"/sharing");const T=ue.findCredential(w,f.userId);T&&ue._getIdenticalSvcIdx(w,T)===-1&&T.resources.unshift(w)}}return{data:s,getHeader:t?v=>t==null?void 0:t.headers.get(v):z2,httpStatus:(t==null?void 0:t.status)??200,requestOptions:i.params.requestOptions,ssl:i.useSSL,url:i.params.url}}async function JE(i,t,s){if(i.redoRequest)return i.redoRequest=!1,!1;const l=i.params.requestOptions;if(!t||l.responseType==="native"||l.responseType==="native-request-init")return!0;let f;if(!t.ok)throw f=new Error(`Unable to load ${t.url} status: ${t.status}`),f[R0]=s,f;s&&(s.error?f=s.error:s.status==="error"&&Array.isArray(s.messages)&&(f={...s},f[R0]=s,f.details=s.messages));let d,v=null,w;f&&(d=Number(f.code),v=f.hasOwnProperty("subcode")?Number(f.subcode):null,w=f.messageCode,w=w&&w.toUpperCase());const T=l.authMode;if(d===403&&(v===4||f.message&&f.message.toLowerCase().includes("ssl")&&!f.message.toLowerCase().includes("permission"))){if(!i.useSSL)return i.useSSL=!0,!1}else if(!i.hasToken&&i.useIdentity&&(T!=="no-prompt"||d===498)&&d!==void 0&&kE.includes(d)&&!N5(i.params.url)&&(d!==403||w&&!FE.includes(w)&&(v==null||v===2&&i.credentialToken))){await qp();try{const M=await ue.getCredential(i.params.url,{error:mr("request:server",f,i.params),prompt:T!=="no-prompt",signal:i.controller.signal,token:i.credentialToken});return i.credential=M,i.credentialToken=M.token,i.useSSL=i.useSSL||M.ssl,!1}catch(M){if(T==="no-prompt")return i.credential=void 0,i.credentialToken=void 0,!1;f=M}}if(f)throw f;return!0}function J3(i,t,s=!1){const l=t.controller.signal,f=new Image;return t.withCredentials?f.crossOrigin="use-credentials":f.crossOrigin="anonymous",f.alt="",f.fetchPriority=pr.priority,f.src=i,LE(f,i,s,l)}const KE=Object.freeze(Object.defineProperty({__proto__:null,default:vi},Symbol.toStringTag,{value:"Module"}));function ne(i,t,s){let l,f;return t===void 0||Array.isArray(t)?(f=i,s=t,l=[void 0]):(f=t,Array.isArray(i)?l=i:l=[i]),(d,v)=>{const w=d.constructor.prototype;l.forEach(T=>{const M=V9(d,T,f);(!M.read||typeof M.read!="object")&&(M.read={}),M.read.reader=w[v],s&&(M.read.source=(M.read.source||[]).concat(s))})}}let Br=class extends bt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=fe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,s){if(t instanceof fe)return t;if(t!=null){const l=new fe;return l.read(t,s),l}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,s){this.cache[t]=s}};E([A()],Br.prototype,"type",void 0);E([A({readOnly:!0})],Br.prototype,"cache",null);E([A({readOnly:!0})],Br.prototype,"extent",null);E([A({type:Boolean,json:{write:{overridePolicy(i){return{enabled:i}}}}})],Br.prototype,"hasM",void 0);E([A({type:Boolean,json:{write:{overridePolicy(i){return{enabled:i}}}}})],Br.prototype,"hasZ",void 0);E([A({type:fe,json:{write:!0},value:fe.WGS84})],Br.prototype,"spatialReference",void 0);E([ne("spatialReference")],Br.prototype,"readSpatialReference",null);Br=E([q("esri.geometry.Geometry")],Br);const Zn=Br,YE=Object.prototype.toString;function qE(i){const t="__accessorMetadata__"in i?$e(i):i;return function(...s){if(s.push(t),typeof s[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return ZE.apply(this,s)}}function ZE(i,t,s,l){Wf(i,t).cast=l}function XE(i){return(t,s)=>{const l=Wf(t,i);l.cast=t[s]}}function _i(...i){if(!(i.length===3&&typeof i[1]=="string")){if(i.length===1&&YE.call(i[0])==="[object Function]")return qE(i[0]);if(i.length===1&&typeof i[0]=="string")return XE(i[0])}}function QE(i,t){const s=i.x-t.x,l=i.y-t.y,f=i.hasZ&&t.hasZ?i.z-t.z:0;return Math.sqrt(s*s+l*l+f*f)}const tx=57.29577951308232,ex=.017453292519943;function K3(i){return i*tx}function Y3(i){return i*ex}function _$(i){return Math.PI/2-2*Math.atan(Math.exp(-i/we.radius))}function Zp(i){return i.wkid!=null||i.wkt!=null}const D1=[0,0];function D0(i,t,s,l,f){const d=i,v=f;if(v.spatialReference=s,"x"in d&&"x"in v)[v.x,v.y]=t(d.x,d.y,D1,l);else if("xmin"in d&&"xmin"in v)[v.xmin,v.ymin]=t(d.xmin,d.ymin,D1,l),[v.xmax,v.ymax]=t(d.xmax,d.ymax,D1,l);else if("paths"in d&&"paths"in v||"rings"in d&&"rings"in v){const w="paths"in d?d.paths:d.rings,T=[];let M;for(let I=0;I<w.length;I++){const N=w[I];M=[],T.push(M);for(let R=0;R<N.length;R++)M.push(t(N[R][0],N[R][1],[0,0],l)),N[R].length>2&&M[R].push(N[R][2]),N[R].length>3&&M[R].push(N[R][3])}"paths"in v?v.paths=T:v.rings=T}else if("points"in d&&"points"in v){const w=d.points,T=[];for(let M=0;M<w.length;M++)T[M]=t(w[M][0],w[M][1],[0,0],l),w[M].length>2&&T[M].push(w[M][2]),w[M].length>3&&T[M].push(w[M][3]);v.points=T}return f}function Kc(i,t){const s=i&&(Zp(i)?i:i.spatialReference),l=t&&(Zp(t)?t:t.spatialReference);return i&&"type"in i&&i.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!s||!l?!1:oi(l,s)?!0:Ro(l)&&Uh(s)||Ro(s)&&Uh(l)}function i1(i,t){if(i==null)return null;const s=i.spatialReference,l=t&&(Zp(t)?t:t.spatialReference);return Kc(s,l)?oi(s,l)?ht(i):Ro(l)?D0(i,$a,fe.WebMercator,!1,ht(i)):Uh(l)?D0(i,Eh,fe.WGS84,!1,ht(i)):null:null}function $a(i,t,s=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const l=Y3(t);return s[0]=Y3(i)*we.radius,s[1]=we.halfSemiMajorAxis*Math.log((1+Math.sin(l))/(1-Math.sin(l))),s}function Eh(i,t,s=[0,0],l=!1){const f=K3(i/we.radius);return s[0]=l?f:f-Math.floor((f+180)/360)*360,s[1]=K3(Math.PI/2-2*Math.atan(Math.exp(-t/we.radius))),s}function xh(i,t=!1,s=ht(i)){return D0(i,$a,fe.WebMercator,t,s)}function dc(i,t=!1,s=ht(i)){return D0(i,Eh,fe.WGS84,t,s)}var Yc;const Bl=[0,0];function q3(i){return i&&(i.declaredClass==="esri.geometry.SpatialReference"||i.wkid!=null)}let wi=Yc=class extends Zn{static copy(t,s){s._set("x",t._get("x")),s._set("y",t._get("y")),s._set("z",t._get("z")),s._set("m",t._get("m"));const l=t._get("spatialReference");s._set("spatialReference",Object.isFrozen(l)?l:l.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,s,l,f,d){let v;if(Array.isArray(t))v=t,d=s,t=v[0],s=v[1],l=v[2],f=v[3];else if(t&&typeof t=="object"){if(v=t,t=v.x!=null?v.x:v.longitude,s=v.y!=null?v.y:v.latitude,l=v.z,f=v.m,d=v.spatialReference,d&&d.declaredClass!=="esri.geometry.SpatialReference"&&(d=new fe(d)),v.longitude!=null||v.latitude!=null){if(v.longitude==null)ct.getLogger(this.declaredClass).warn(".longitude=","Latitude was defined without longitude");else if(v.latitude==null)ct.getLogger(this.declaredClass).warn(".latitude=","Longitude was defined without latitude");else if(!v.declaredClass&&d&&d.isWebMercator){const T=$a(v.longitude,v.latitude,Bl);t=T[0],s=T[1]}}}else q3(l)?(d=l,l=null):q3(f)&&(d=f,f=null);const w={x:t,y:s};return w.x==null&&w.y!=null?ct.getLogger(this.declaredClass).warn(".y=","Y coordinate was defined without an X coordinate"):w.y==null&&w.x!=null&&ct.getLogger(this.declaredClass).warn(".x=","X coordinate was defined without a Y coordinate"),d!=null&&(w.spatialReference=d),l!=null&&(w.z=l),f!=null&&(w.m=f),w}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){const s=this._get("m")!==void 0;t!==s&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){const s=this._get("z")!==void 0;t!==s&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){const{spatialReference:t,x:s,y:l}=this;if(t){if(t.isWebMercator)return Eh(s,l,Bl)[1];if(t.isGeographic)return l}return null}set latitude(t){const{spatialReference:s,x:l}=this;t!=null&&s&&(s.isWebMercator?this._set("y",$a(l,t,Bl)[1]):s.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){const{x:t,y:s,spatialReference:l}=this;if(l){if(l.isWebMercator)return Eh(t,s,Bl)[0];if(l.isGeographic)return t}return null}set longitude(t){const{y:s,spatialReference:l}=this;t!=null&&l&&(l.isWebMercator?this._set("x",$a(t,s,Bl)[0]):l.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,s,l){s[l]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new Yc;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return Yc.copy(t,this),this}equals(t){if(t==null)return!1;const{x:s,y:l,z:f,m:d,spatialReference:v}=this,{z:w,m:T}=t;let{x:M,y:I,spatialReference:N}=t;if(!v.equals(N))if(v.isWebMercator&&N.isWGS84)[M,I]=$a(M,I),N=v;else if(v.isWGS84&&N.isWebMercator)[M,I]=Eh(M,I),N=v;else return!1;return s===M&&l===I&&f===w&&d===T&&v.wkid===N.wkid}offset(t,s,l){return this.x+=t,this.y+=s,l!=null&&(this.z=(this.z??0)+l),this}normalize(){if(!this.spatialReference)return this;const t=Ss(this.spatialReference);if(!t)return this;let s=this.x;const[l,f]=t.valid,d=2*f;let v;return s>f?(v=Math.ceil(Math.abs(s-f)/d),s-=v*d):s<l&&(v=Math.ceil(Math.abs(s-l)/d),s+=v*d),this._set("x",s),this}distance(t){return QE(this,t)}toArray(){const t=this.hasZ,s=this.hasM;return t&&s?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:s?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};E([A({readOnly:!0})],wi.prototype,"cache",null);E([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],wi.prototype,"hasM",null);E([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],wi.prototype,"hasZ",null);E([A({type:Number})],wi.prototype,"latitude",null);E([A({type:Number})],wi.prototype,"longitude",null);E([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),_i(i=>isNaN(i)?i:dr(i))],wi.prototype,"x",void 0);E([se("x")],wi.prototype,"writeX",null);E([ne("x")],wi.prototype,"readX",null);E([A({type:Number,json:{write:!0}})],wi.prototype,"y",void 0);E([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wi.prototype,"z",void 0);E([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],wi.prototype,"m",void 0);wi=Yc=E([q("esri.geometry.Point")],wi);wi.prototype.toJSON.isDefaultToJSON=!0;const Pt=wi,j1=[0,0];function r1(i,t){return t!=null?di(i,t.x,t.y,t.z):!1}function b$(i,t){if(!t.points||t.points.length)return!1;for(const s of t.points)if(!el(i,s))return!1;return!0}function ix(i,t){const{xmin:s,ymin:l,zmin:f,xmax:d,ymax:v,zmax:w}=t;return i.hasZ&&t.hasZ?di(i,s,l,f)&&di(i,s,v,f)&&di(i,d,v,f)&&di(i,d,l,f)&&di(i,s,l,w)&&di(i,s,v,w)&&di(i,d,v,w)&&di(i,d,l,w):di(i,s,l)&&di(i,s,v)&&di(i,d,v)&&di(i,d,l)}function el(i,t){return di(i,t[0],t[1])}function rx(i,t){return di(i,t[0],t[1],t[2])}function di(i,t,s,l){return t>=i.xmin&&t<=i.xmax&&s>=i.ymin&&s<=i.ymax?l!=null&&i.hasZ?l>=i.zmin&&l<=i.zmax:!0:!1}function L5(i,t){return j1[1]=t.y,j1[0]=t.x,sx(i,j1)}function sx(i,t){return R5(i.rings,t)}function R5(i,t){if(!i)return!1;if(nx(i))return Z3(!1,i,t);let s=!1;for(let l=0,f=i.length;l<f;l++)s=Z3(s,i[l],t);return s}function nx(i){return!Array.isArray(i[0][0])}function Z3(i,t,s){const[l,f]=s;let d=i,v=0;for(let w=0,T=t.length;w<T;w++){v++,v===T&&(v=0);const[M,I]=t[w],[N,R]=t[v];(I<f&&R>=f||R<f&&I>=f)&&M+(f-I)/(R-I)*(N-M)<l&&(d=!d)}return d}function ox(i,t){return r1(i,t)}function ax(i,t){const s=i.hasZ&&t.hasZ;let l,f,d;if(i.xmin<=t.xmin){if(l=t.xmin,i.xmax<l)return!1}else if(l=i.xmin,t.xmax<l)return!1;if(i.ymin<=t.ymin){if(f=t.ymin,i.ymax<f)return!1}else if(f=i.ymin,t.ymax<f)return!1;if(s&&t.hasZ){if(i.zmin<=t.zmin){if(d=t.zmin,i.zmax<d)return!1}else if(d=i.zmin,t.zmax<d)return!1}return!0}function lx(i,t){const{points:s,hasZ:l}=t,f=l?rx:el;for(const d of s)if(f(i,d))return!0;return!1}const Do=[0,0],jo=[0,0],ko=[0,0],Fo=[0,0],hx=[Do,jo,ko,Fo],D5=[[ko,Do],[Do,jo],[jo,Fo],[Fo,ko]];function ux(i,t){return cx(i,t.rings)}function cx(i,t){Do[0]=i.xmin,Do[1]=i.ymax,jo[0]=i.xmax,jo[1]=i.ymax,ko[0]=i.xmin,ko[1]=i.ymin,Fo[0]=i.xmax,Fo[1]=i.ymin;for(const s of hx)if(R5(t,s))return!0;for(const s of t){if(!s.length)continue;let l=s[0];if(el(i,l))return!0;for(let f=1;f<s.length;f++){const d=s[f];if(el(i,d)||j5(l,d,D5))return!0;l=d}}return!1}function fx(i,t){Do[0]=i.xmin,Do[1]=i.ymax,jo[0]=i.xmax,jo[1]=i.ymax,ko[0]=i.xmin,ko[1]=i.ymin,Fo[0]=i.xmax,Fo[1]=i.ymin;const s=t.paths;for(const l of s){if(!s.length)continue;let f=l[0];if(el(i,f))return!0;for(let d=1;d<l.length;d++){const v=l[d];if(el(i,v)||j5(f,v,D5))return!0;f=v}}return!1}const Xe=[0,0];function px(i){for(let t=0;t<i.length;t++){const s=i[t];for(let f=0;f<s.length-1;f++){const d=s[f],v=s[f+1];for(let w=t+1;w<i.length;w++)for(let T=0;T<i[w].length-1;T++){const M=i[w][T],I=i[w][T+1];if(Xp(d,v,M,I,Xe)&&!(Xe[0]===d[0]&&Xe[1]===d[1]||Xe[0]===M[0]&&Xe[1]===M[1]||Xe[0]===v[0]&&Xe[1]===v[1]||Xe[0]===I[0]&&Xe[1]===I[1]))return!0}}const l=s.length;if(!(l<=4))for(let f=0;f<l-3;f++){let d=l-1;f===0&&(d=l-2);const v=s[f],w=s[f+1];for(let T=f+2;T<d;T++){const M=s[T],I=s[T+1];if(Xp(v,w,M,I,Xe)&&!(Xe[0]===v[0]&&Xe[1]===v[1]||Xe[0]===M[0]&&Xe[1]===M[1]||Xe[0]===w[0]&&Xe[1]===w[1]||Xe[0]===I[0]&&Xe[1]===I[1]))return!0}}}return!1}function j5(i,t,s){for(let l=0;l<s.length;l++)if(Xp(i,t,s[l][0],s[l][1]))return!0;return!1}function Xp(i,t,s,l,f){const[d,v]=i,[w,T]=t,[M,I]=s,[N,R]=l,F=N-M,V=d-M,W=w-d,H=R-I,Y=v-I,it=T-v,Q=H*W-F*it;if(Q===0)return!1;const st=(F*Y-H*V)/Q,nt=(W*Y-it*V)/Q;return st>=0&&st<=1&&nt>=0&&nt<=1?(f&&(f[0]=d+st*(w-d),f[1]=v+st*(T-v)),!0):!1}function dx(i){switch(i){case"esriGeometryEnvelope":case"extent":return ax;case"esriGeometryMultipoint":case"multipoint":return lx;case"esriGeometryPoint":case"point":return ox;case"esriGeometryPolygon":case"polygon":return ux;case"esriGeometryPolyline":case"polyline":return fx}}var Gi;function yx(i){return i&&(i.declaredClass==="esri.geometry.SpatialReference"||i.wkid!=null)}function Zs(i,t,s){return t==null?s:s==null?t:i(t,s)}let We=Gi=class extends Zn{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,s,l,f,d){return yx(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?fe.WGS84:t.spatialReference,t):{xmin:t,ymin:s,xmax:l,ymax:f,spatialReference:d??fe.WGS84}}static fromBounds(t,s){return new Gi({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:s})}static fromPoint(t){return new Gi({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new Pt({x:(this.xmin+this.xmax)*.5,y:(this.ymin+this.ymax)*.5,spatialReference:this.spatialReference});return this.hasZ&&(t.z=(this.zmin+this.zmax)*.5),this.hasM&&(t.m=(this.mmin+this.mmax)*.5),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const s=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-s.x,t.y-s.y,t.z-s.z):this.offset(t.x-s.x,t.y-s.y)}clone(){const t=new Gi;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const s=this.spatialReference,l=t.spatialReference;return s&&l&&!s.equals(l)&&Kc(s,l)&&(t=s.isWebMercator?xh(t):dc(t,!0)),t.type==="point"?r1(this,t):t.type==="extent"?ix(this,t):!1}equals(t){if(this===t)return!0;if(t==null)return!1;const s=this.spatialReference,l=t.spatialReference;return s&&l&&!s.equals(l)&&Kc(s,l)&&(t=s.isWebMercator?xh(t):dc(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const s=(1-t)*.5,l=this.width*s,f=this.height*s;if(this.xmin+=l,this.ymin+=f,this.xmax-=l,this.ymax-=f,this.hasZ){const d=(this.zmax-this.zmin)*s;this.zmin+=d,this.zmax-=d}if(this.hasM){const d=(this.mmax-this.mmin)*s;this.mmin+=d,this.mmax-=d}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const s=this.spatialReference,l=t.spatialReference;return s&&l&&!oi(s,l)&&Kc(s,l)&&(t=s.isWebMercator?xh(t):dc(t,!0)),dx(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,s,l){return this.xmin+=t,this.ymin+=s,this.xmax+=t,this.ymax+=s,l!=null&&(this.zmin+=l,this.zmax+=l),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t?this:(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Zs(Math.min,this.zmin,t.zmin),this.zmax=Zs(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Zs(Math.min,this.mmin,t.mmin),this.mmax=Zs(Math.max,this.mmax,t.mmax)),this)}intersection(t){return this===t?this:t==null||!this.intersects(t)?null:(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Zs(Math.max,this.zmin,t.zmin),this.zmax=Zs(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Zs(Math.max,this.mmin,t.mmin),this.mmax=Zs(Math.min,this.mmax,t.mmax)),this)}toJSON(t){return this.write({},t)}_shiftCM(t=Ss(this.spatialReference)){if(!t||!this.spatialReference)return this;const s=this.spatialReference,l=this._getCM(t);if(l){const f=s.isWebMercator?dc(l):l;this.xmin-=l.x,this.xmax-=l.x,s.isWebMercator||(f.x=this._normalizeX(f.x,t).x),this.spatialReference=new fe(u2((s.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:f.x}))}return this}_getCM(t){let s=null;const[l,f]=t.valid,d=this.xmin,v=this.xmax,w=d>=l&&d<=f,T=v>=l&&v<=f;return w&&T||(s=this.center),s}_normalize(t,s,l){const f=this.spatialReference;if(!f)return this;const d=l??Ss(f);if(d==null)return this;const v=this._getParts(d).map(M=>M.extent);if(v.length<2)return v[0]||this;if(v.length>2)return t?this._shiftCM(d):this.set({xmin:d.valid[0],xmax:d.valid[1]});if(t)return this._shiftCM(d);if(s)return v;let w=!0,T=!0;return v.forEach(M=>{M.hasZ||(w=!1),M.hasM||(T=!1)}),{rings:v.map(M=>{const I=[[M.xmin,M.ymin],[M.xmin,M.ymax],[M.xmax,M.ymax],[M.xmax,M.ymin],[M.xmin,M.ymin]];if(w){const N=(M.zmax-M.zmin)/2;for(let R=0;R<I.length;R++)I[R].push(N)}if(T){const N=(M.mmax-M.mmin)/2;for(let R=0;R<I.length;R++)I[R].push(N)}return I}),hasZ:w,hasM:T,spatialReference:f}}_getParts(t){let s=this.cache._parts;if(!s){s=[];const{ymin:d,ymax:v,spatialReference:w}=this,T=this.width,M=this.xmin,I=this.xmax;let N;t=t||Ss(w);const[R,F]=t.valid;N=this._normalizeX(this.xmin,t);const V=N.x,W=N.frameId;N=this._normalizeX(this.xmax,t);const H=N.x,Y=N.frameId,it=V===H&&T>0;if(T>2*F){const Q=new Gi(M<I?V:H,d,F,v,w),st=new Gi(R,d,M<I?H:V,v,w),nt=new Gi(0,d,F,v,w),at=new Gi(R,d,0,v,w),gt=[],wt=[];Q.contains(nt)&&gt.push(W),Q.contains(at)&&wt.push(W),st.contains(nt)&&gt.push(Y),st.contains(at)&&wt.push(Y);for(let At=W+1;At<Y;At++)gt.push(At),wt.push(At);s.push({extent:Q,frameIds:[W]},{extent:st,frameIds:[Y]},{extent:nt,frameIds:gt},{extent:at,frameIds:wt})}else V>H||it?s.push({extent:new Gi(V,d,F,v,w),frameIds:[W]},{extent:new Gi(R,d,H,v,w),frameIds:[Y]}):s.push({extent:new Gi(V,d,H,v,w),frameIds:[W]});this.cache._parts=s}const l=this.hasZ,f=this.hasM;if(l||f){const d={};l&&(d.zmin=this.zmin,d.zmax=this.zmax),f&&(d.mmin=this.mmin,d.mmax=this.mmax);for(let v=0;v<s.length;v++)s[v].extent.set(d)}return s}_normalizeX(t,s){const[l,f]=s.valid,d=2*f;let v=0,w;return t>f?(w=Math.ceil(Math.abs(t-f)/d),t-=w*d,v=w):t<l&&(w=Math.ceil(Math.abs(t-l)/d),t+=w*d,v=-w),{x:t,frameId:v}}};E([A({readOnly:!0})],We.prototype,"cache",null);E([A({readOnly:!0})],We.prototype,"center",null);E([A({readOnly:!0})],We.prototype,"extent",null);E([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],We.prototype,"hasM",null);E([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],We.prototype,"hasZ",null);E([A({readOnly:!0})],We.prototype,"height",null);E([A({readOnly:!0})],We.prototype,"width",null);E([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],We.prototype,"xmin",void 0);E([A({type:Number,json:{write:!0}})],We.prototype,"ymin",void 0);E([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],We.prototype,"mmin",void 0);E([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],We.prototype,"zmin",void 0);E([A({type:Number,json:{write:!0}})],We.prototype,"xmax",void 0);E([A({type:Number,json:{write:!0}})],We.prototype,"ymax",void 0);E([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],We.prototype,"mmax",void 0);E([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],We.prototype,"zmax",void 0);We=Gi=E([q("esri.geometry.Extent")],We);We.prototype.toJSON.isDefaultToJSON=!0;const pe=We;let Mh;var Kg,Yg;const mx=((Kg=globalThis.esriConfig)==null?void 0:Kg.locale)??((Yg=globalThis.dojoConfig)==null?void 0:Yg.locale);function k5(){var i;return mx??((i=globalThis.navigator)==null?void 0:i.language)??"en"}function gr(){return Mh===void 0&&(Mh=k5()),Mh}const Ah=[];function F5(i){return Ah.push(i),{remove(){Ah.splice(Ah.indexOf(i),1)}}}const Qp=[];function U2(i){return Qp.push(i),{remove(){Ah.splice(Qp.indexOf(i),1)}}}function vx(){const i=k5();Mh!==i&&(Mh=i,[...Qp].forEach(t=>{t.call(null,i)}),[...Ah].forEach(t=>{t.call(null,i)}))}var qg;(qg=globalThis.addEventListener)==null||qg.call(globalThis,"languagechange",vx);var td;const wx=new ii({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Yi=td=class extends Et{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){(t==="asc"||t==="desc")&&this._set("sortOrder",t)}clone(){return new td({categories:this.categories?ht(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,s){let l=[];this.categories&&(l=this.categories.map(w=>Array.isArray(w)?JSON.stringify(w):w));let f="";if(this.extent){const w=i1(this.extent,fe.WGS84);w!=null&&(f=`${w.xmin},${w.ymin},${w.xmax},${w.ymax}`)}let d=this.query;!this.disableExtraQuery&&t.extraQuery&&(d="("+d+")"+t.extraQuery);const v={categories:l,bbox:f,q:d,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(v.sortField=this.sortField.split(",").map(w=>wx.toJSON(w.trim())).join(","),v.sortOrder=this.sortOrder),{query:{...s,...v}}}};E([A()],Yi.prototype,"categories",void 0);E([A()],Yi.prototype,"disableExtraQuery",void 0);E([A({type:pe})],Yi.prototype,"extent",void 0);E([A()],Yi.prototype,"filter",void 0);E([A()],Yi.prototype,"num",void 0);E([A()],Yi.prototype,"query",void 0);E([A()],Yi.prototype,"sortField",void 0);E([A()],Yi.prototype,"sortOrder",null);E([A()],Yi.prototype,"start",void 0);Yi=td=E([q("esri.portal.PortalQueryParams")],Yi);const yn=Yi;let zo=class extends Et{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};E([A()],zo.prototype,"nextQueryParams",void 0);E([A()],zo.prototype,"queryParams",void 0);E([A()],zo.prototype,"results",void 0);E([A()],zo.prototype,"total",void 0);zo=E([q("esri.portal.PortalQueryResult")],zo);const gx=zo;let Ms=class extends bt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new mt("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};E([A({type:Date})],Ms.prototype,"created",void 0);E([A()],Ms.prototype,"id",void 0);E([A()],Ms.prototype,"portal",void 0);E([A()],Ms.prototype,"title",void 0);E([A({readOnly:!0})],Ms.prototype,"url",null);E([A()],Ms.prototype,"username",void 0);Ms=E([q("esri.portal.PortalFolder")],Ms);const _x=Ms;let Je=class extends bt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){var l;const t=this.url,s=this.thumbnail;return t&&s&&this.portal?(l=this.portal)==null?void 0:l.normalizeUrl(`${t}/info/${s}?f=json`):null}get url(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return Oi(this.portal).request(this.url+"/categorySchema",t).then(s=>{const l=s.categorySchema||[];return l.some(d=>d.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):l})}fetchMembers(t){return Oi(this.portal).request(this.url+"/users",t)}getThumbnailUrl(t){let s=this.thumbnailUrl;return s&&t&&(s+=`&w=${t}`),s}toJSON(){throw new mt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,s){let l=$e(yn,t);const f=Oi(this.portal);return parseFloat(f.currentVersion)>5?(l=l||new yn,f.queryPortal(`/content/groups/${this.id}/search`,l,"PortalItem",s)):(l=l?l.clone():new yn,l.query="group:"+this.id+(l.query?" "+l.query:""),f.queryItems(l,s))}_fetchCategorySchemaSet(t,s){const l=Oi(this.portal);return l.fetchSelf(l.authMode,!0,s).then(f=>{const d=f.contentCategorySetsGroupQuery;if(d){const v=new yn;return v.disableExtraQuery=!0,v.num=1,v.query=d,l.queryGroups(v,s)}throw new mt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(f=>{if(f.total){const d=f.results[0],v=new yn;return v.num=1,v.query=`typekeywords:"${t}"`,d.queryItems(v,s)}throw new mt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(f=>f.total?f.results[0].fetchData("json",s).then(v=>{const w=v&&v.categorySchema;return w&&w.length?w:[]}):[])}};E([A()],Je.prototype,"access",void 0);E([A({type:Date})],Je.prototype,"created",void 0);E([A()],Je.prototype,"description",void 0);E([A()],Je.prototype,"id",void 0);E([A()],Je.prototype,"isInvitationOnly",void 0);E([A({type:Date})],Je.prototype,"modified",void 0);E([A()],Je.prototype,"owner",void 0);E([A()],Je.prototype,"portal",void 0);E([A()],Je.prototype,"snippet",void 0);E([A()],Je.prototype,"sortField",void 0);E([A()],Je.prototype,"sortOrder",void 0);E([A()],Je.prototype,"tags",void 0);E([A()],Je.prototype,"thumbnail",void 0);E([A({readOnly:!0})],Je.prototype,"thumbnailUrl",null);E([A()],Je.prototype,"title",void 0);E([A({readOnly:!0})],Je.prototype,"url",null);Je=E([q("esri.portal.PortalGroup")],Je);const ed=Je,Sx=Object.freeze(Object.defineProperty({__proto__:null,default:ed},Symbol.toStringTag,{value:"Module"}));var id;let de=id=class extends bt{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,s=this.thumbnail;return t&&s?this.portal.normalizeUrl(`${t}/info/${s}?f=json`):null}get userContentUrl(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.get("portal.restUrl");return t?`${t}/community/users/${this.username}`:null}addItem(t){const s=t&&t.item,l=t&&t.data,f=t&&t.folder,d={method:"post"};s&&(d.query=s.createPostQuery(),l!=null&&(typeof l=="string"?d.query.text=l:typeof l=="object"&&(d.query.text=JSON.stringify(l))));let v=this.userContentUrl;return f&&(v+="/"+(typeof f=="string"?f:f.id)),this.portal.request(v+"/addItem",d).then(w=>(s.id=w.id,s.portal=this.portal,s.loaded?s.reload():s.load()))}deleteItem(t){let s=this.userContentUrl;return t.ownerFolder&&(s+="/"+t.ownerFolder),this.portal.request(s+`/items/${t.id}/delete`,{method:"post"}).then(()=>{t.id=null,t.portal=null})}deleteItems(t){const s=this.userContentUrl+"/deleteItems",l=t.map(f=>f.id);if(l.length){const f={method:"post",query:{items:l.join(",")}};return this.portal.request(s,f).then(()=>{t.forEach(d=>{d.id=null,d.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(s=>{let l;return s&&s.folders?l=s.folders.map(f=>{const d=_x.fromJSON(f);return d.portal=this.portal,d}):l=[],l})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let s;return t&&t.groups?s=t.groups.map(l=>{const f=ed.fromJSON(l);return f.portal=this.portal,f}):s=[],s})}fetchItems(t){const s=t??{};let l=this.userContentUrl??"";s.folder&&(l+="/"+s.folder.id);let f;return pt(()=>Promise.resolve().then(()=>$5),void 0).then(({default:d})=>{f=d;const v=s.num||10,w=s.start||1,T=s.sortField||"created",M=s.sortOrder||"asc",I={folders:!1,num:v,start:w,sortField:T,sortOrder:M};return this.portal.request(l,{query:I})}).then(d=>{let v;return d&&d.items?(v=d.items.map(w=>{const T=f.fromJSON(w);return T.portal=this.portal,T}),Promise.all(v.map(w=>w.load())).catch(w=>w).then(()=>({items:v,nextStart:d.nextStart,total:d.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let s=this.thumbnailUrl;return s&&t&&(s+=`&w=${t}`),s}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new ed({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new mt("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new mt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const s=new id;return s.sourceJSON=t,s.read(t),s}};E([A()],de.prototype,"access",void 0);E([A({type:Date})],de.prototype,"created",void 0);E([A()],de.prototype,"culture",void 0);E([A()],de.prototype,"description",void 0);E([A()],de.prototype,"email",void 0);E([A()],de.prototype,"favGroupId",void 0);E([A()],de.prototype,"fullName",void 0);E([A({type:Date})],de.prototype,"modified",void 0);E([A()],de.prototype,"orgId",void 0);E([A()],de.prototype,"portal",void 0);E([A()],de.prototype,"preferredView",void 0);E([A()],de.prototype,"privileges",void 0);E([A()],de.prototype,"region",void 0);E([A()],de.prototype,"role",void 0);E([A()],de.prototype,"roleId",void 0);E([A()],de.prototype,"sourceJSON",void 0);E([A()],de.prototype,"thumbnail",void 0);E([A({readOnly:!0})],de.prototype,"thumbnailUrl",null);E([A()],de.prototype,"units",void 0);E([A({readOnly:!0})],de.prototype,"userContentUrl",null);E([A({readOnly:!0})],de.prototype,"url",null);E([A()],de.prototype,"username",void 0);E([A()],de.prototype,"userType",void 0);de=id=E([q("esri.portal.PortalUser")],de);const z5=de,bx=Object.freeze(Object.defineProperty({__proto__:null,default:z5},Symbol.toStringTag,{value:"Module"}));var Pi;let k1;const X3={PortalGroup:()=>pt(()=>Promise.resolve().then(()=>Sx),void 0),PortalItem:()=>pt(()=>Promise.resolve().then(()=>$5),void 0),PortalUser:()=>pt(()=>Promise.resolve().then(()=>bx),void 0)};let ft=Pi=class extends Uu(xn){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Wt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){Q3.unregister(this),this.defaultBasemap=be(this.defaultBasemap),this.defaultDevBasemap=be(this.defaultDevBasemap),this.defaultVectorBasemap=be(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Me(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const s of t)Wt.request.trustedServers.includes(s)||Wt.request.trustedServers.push(s);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const s=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!s?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const s=t.indexOf("/sharing");s>0?t=t.substring(0,s):t=this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,s=this.thumbnail;return t&&s?this._normalizeSSL(t+"/portals/self/resources/"+s):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let s=null;return t&&(s=z5.fromJSON(t),s.portal=this),s}load(t){const s=pt(()=>Promise.resolve().then(()=>Hx),void 0).then(({default:l})=>{Le(t),k1=l}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(l=>{var f;if(ue){const d=ue;this.credential=d.findCredential(this.restUrl),!this.credential&&this.authMode===Pi.AUTH_MODE_AUTO&&((f=this._esriIdCredentialCreateHandle)==null||f.remove(),this._esriIdCredentialCreateHandle=d.on("credential-create",Tx(new WeakRef(this))),Q3.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=l,this.read(l)});return this.addResolvingPromise(s),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),s=(await pt(()=>import("./ElevationLayer-e226f7d8.js"),["assets/ElevationLayer-e226f7d8.js","assets/MultiOriginJSONSupport-8a274e44.js","assets/ArcGISCachedService-2fc5dd54.js","assets/TilemapCache-fa022267.js","assets/ByteSizeUnit-c0a244d3.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/ArcGISService-36126778.js","assets/OperationalLayer-43bf6295.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/lengthUtils-81eb77d2.js","assets/PortalLayer-641234b2.js","assets/portalItemUtils-b3ac2156.js"])).default;return t?t.map(l=>new s({id:l.id,url:l.url})):[]}fetchBasemaps(t,s){const l=new yn;return l.query=t||(Wt.apiKey&&C5(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),l.disableExtraQuery=!0,this.queryGroups(l,s).then(f=>{if(l.num=100,l.query='type:"Web Map" -type:"Web Application"',f.total){const d=f.results[0];return l.sortField=d.sortField||"name",l.sortOrder=d.sortOrder||"desc",d.queryItems(l,s)}return null}).then(f=>{let d;return f&&f.total?d=f.results.filter(v=>v.type==="Web Map").map(v=>new k1({portalItem:v})):d=[],d})}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(s=>s.categorySchema):Sr(t)?Promise.reject(Te()):Promise.resolve([])}fetchFeaturedGroups(t){const s=this.featuredGroups,l=new yn;if(l.num=100,l.sortField="title",s&&s.length){const f=[];for(const d of s)f.push(`(title:"${d.title}" AND owner:${d.owner})`);return l.query=f.join(" OR "),this.queryGroups(l,t).then(d=>d.results)}return Sr(t)?Promise.reject(Te()):Promise.resolve([])}fetchRegions(t){var l;const s=((l=this.user)==null?void 0:l.culture)||this.culture||gr();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:s}})}fetchSettings(t){var l;const s=((l=this.user)==null?void 0:l.culture)||this.culture||gr();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:s}})}static getDefault(){return(!Pi._default||Pi._default.destroyed)&&(Pi._default=new Pi),Pi._default}queryGroups(t,s){return this.queryPortal("/community/groups",t,"PortalGroup",s)}queryItems(t,s){return this.queryPortal("/search",t,"PortalItem",s)}queryUsers(t,s){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",s)}fetchSelf(t=this.authMode,s=!1,l){const f=this.restUrl+"/portals/self",d={authMode:t,query:{culture:gr().toLowerCase()},...l};return d.authMode==="auto"&&(d.authMode="no-prompt"),s&&(d.query.default=!0),this.request(f,d)}queryPortal(t,s,l,f){const d=$e(yn,s),v=w=>this.request(this.restUrl+t,{...d.toRequestOptions(this),...f}).then(T=>{const M=d.clone();return M.start=T.nextStart,new gx({nextQueryParams:M,queryParams:d,total:T.total,results:Pi._resultsToTypedArray(w,{portal:this},T,f)})}).then(T=>Promise.all(T.results.map(M=>typeof M.when=="function"?M.when():T)).then(()=>T,M=>(I9(M),T)));return l&&X3[l]?X3[l]().then(({default:w})=>(Le(f),v(w))):v()}signIn(){if(this.authMode===Pi.AUTH_MODE_ANONYMOUS)return Promise.reject(new mt("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=s=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(s||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=s,this.fetchSelf("immediate"))):this.user&&this.credential===s?null:(this.credential=s,this.fetchSelf("immediate"))).then(l=>{l&&(this.sourceJSON=l,this.read(l))});return ue?ue.getCredential(this.restUrl).then(s=>t(s)):t(this.credential)}normalizeUrl(t){const s=this.credential&&this.credential.token;return this._normalizeSSL(s?t+(t.includes("?")?"&":"?")+"token="+s:t)}requestToTypedArray(t,s,l){return this.request(t,s).then(f=>{const d=Pi._resultsToTypedArray(l,{portal:this},f);return Promise.all(d.map(v=>typeof v.when=="function"?v.when():f)).then(()=>d,()=>d)})}request(t,s={}){const l={f:"json",...s.query},{authMode:f=this.authMode===Pi.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:d=null,cacheBust:v=!1,method:w="auto",responseType:T="json",signal:M}=s,I={authMode:f,body:d,cacheBust:v,method:w,query:l,responseType:T,timeout:0,signal:M};return vi(this._normalizeSSL(t),I).then(N=>N.data)}toJSON(){throw new mt("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Pi({sourceJSON:t})}_getHelperService(t){const s=this.helperServices&&this.helperServices[t];if(!s)throw new mt("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return s}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const s=k1.fromJSON(t);return s.portalItem={portal:this},s}return null}static _resultsToTypedArray(t,s,l,f){let d=[];if(l){const v=f!=null?f.signal:null;d=l.listings||l.notifications||l.userInvitations||l.tags||l.items||l.groups||l.comments||l.provisions||l.results||l.relatedItems||l,(t||s)&&(d=d.map(w=>{const T=Object.assign(t?t.fromJSON(w):w,s);return typeof T.load=="function"&&T.load(v),T}))}else d=[];return d}};ft.AUTH_MODE_ANONYMOUS="anonymous";ft.AUTH_MODE_AUTO="auto";ft.AUTH_MODE_IMMEDIATE="immediate";E([A()],ft.prototype,"access",void 0);E([A()],ft.prototype,"allSSL",void 0);E([A()],ft.prototype,"authMode",void 0);E([A()],ft.prototype,"authorizedCrossOriginDomains",void 0);E([ne("authorizedCrossOriginDomains")],ft.prototype,"readAuthorizedCrossOriginDomains",null);E([A()],ft.prototype,"basemapGalleryGroupQuery",void 0);E([A()],ft.prototype,"bingKey",void 0);E([A()],ft.prototype,"canListApps",void 0);E([A()],ft.prototype,"canListData",void 0);E([A()],ft.prototype,"canListPreProvisionedItems",void 0);E([A()],ft.prototype,"canProvisionDirectPurchase",void 0);E([A()],ft.prototype,"canSearchPublic",void 0);E([A()],ft.prototype,"canShareBingPublic",void 0);E([A()],ft.prototype,"canSharePublic",void 0);E([A()],ft.prototype,"canSignInArcGIS",void 0);E([A()],ft.prototype,"canSignInIDP",void 0);E([A()],ft.prototype,"colorSetsGroupQuery",void 0);E([A()],ft.prototype,"commentsEnabled",void 0);E([A({type:Date})],ft.prototype,"created",void 0);E([A()],ft.prototype,"credential",void 0);E([A()],ft.prototype,"culture",void 0);E([A()],ft.prototype,"currentVersion",void 0);E([A()],ft.prototype,"customBaseUrl",void 0);E([A()],ft.prototype,"defaultBasemap",void 0);E([ne("defaultBasemap")],ft.prototype,"readDefaultBasemap",null);E([A()],ft.prototype,"defaultDevBasemap",void 0);E([ne("defaultDevBasemap")],ft.prototype,"readDefaultDevBasemap",null);E([A({type:pe})],ft.prototype,"defaultExtent",void 0);E([A()],ft.prototype,"defaultVectorBasemap",void 0);E([ne("defaultVectorBasemap")],ft.prototype,"readDefaultVectorBasemap",null);E([A()],ft.prototype,"description",void 0);E([A()],ft.prototype,"devBasemapGalleryGroupQuery",void 0);E([A()],ft.prototype,"eueiEnabled",void 0);E([A({readOnly:!0})],ft.prototype,"extraQuery",null);E([A()],ft.prototype,"featuredGroups",void 0);E([A()],ft.prototype,"featuredItemsGroupQuery",void 0);E([A()],ft.prototype,"galleryTemplatesGroupQuery",void 0);E([A()],ft.prototype,"livingAtlasGroupQuery",void 0);E([A()],ft.prototype,"hasCategorySchema",void 0);E([A()],ft.prototype,"helpBase",void 0);E([A()],ft.prototype,"helperServices",void 0);E([A()],ft.prototype,"helpMap",void 0);E([A()],ft.prototype,"homePageFeaturedContent",void 0);E([A()],ft.prototype,"homePageFeaturedContentCount",void 0);E([A()],ft.prototype,"httpPort",void 0);E([A()],ft.prototype,"httpsPort",void 0);E([A()],ft.prototype,"id",void 0);E([A()],ft.prototype,"ipCntryCode",void 0);E([A({readOnly:!0})],ft.prototype,"isOrganization",null);E([A()],ft.prototype,"isPortal",void 0);E([A()],ft.prototype,"isReadOnly",void 0);E([A({readOnly:!0})],ft.prototype,"itemPageUrl",null);E([A()],ft.prototype,"layerTemplatesGroupQuery",void 0);E([A()],ft.prototype,"maxTokenExpirationMinutes",void 0);E([A({type:Date})],ft.prototype,"modified",void 0);E([A()],ft.prototype,"name",void 0);E([A()],ft.prototype,"portalHostname",void 0);E([A()],ft.prototype,"portalMode",void 0);E([A()],ft.prototype,"portalProperties",void 0);E([A()],ft.prototype,"region",void 0);E([A({readOnly:!0})],ft.prototype,"restUrl",null);E([A()],ft.prototype,"rotatorPanels",void 0);E([A()],ft.prototype,"showHomePageDescription",void 0);E([A()],ft.prototype,"sourceJSON",void 0);E([A()],ft.prototype,"staticImagesUrl",void 0);E([A({json:{name:"2DStylesGroupQuery"}})],ft.prototype,"stylesGroupQuery2d",void 0);E([A({json:{name:"stylesGroupQuery"}})],ft.prototype,"stylesGroupQuery3d",void 0);E([A()],ft.prototype,"supportsHostedServices",void 0);E([A()],ft.prototype,"symbolSetsGroupQuery",void 0);E([A()],ft.prototype,"templatesGroupQuery",void 0);E([A()],ft.prototype,"thumbnail",void 0);E([A({readOnly:!0})],ft.prototype,"thumbnailUrl",null);E([A()],ft.prototype,"units",void 0);E([A()],ft.prototype,"url",void 0);E([A()],ft.prototype,"urlKey",void 0);E([ne("urlKey")],ft.prototype,"readUrlKey",null);E([A()],ft.prototype,"user",void 0);E([ne("user")],ft.prototype,"readUser",null);E([A()],ft.prototype,"useStandardizedQuery",void 0);E([A()],ft.prototype,"useVectorBasemaps",void 0);E([A()],ft.prototype,"vectorBasemapGalleryGroupQuery",void 0);ft=Pi=E([q("esri.portal.Portal")],ft);const As=ft,Q3=new FinalizationRegistry(i=>{i.remove()});function Tx(i){const t=ue;return()=>{const s=i.deref();s&&t.findCredential(s.restUrl)&&s.signIn().catch(()=>{})}}const Ex=ct.getLogger("esri.assets");function Zt(i){if(!Wt.assetsPath)throw Ex.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new mt("assets:path-not-set","config.assetsPath is not set");return e1(Wt.assetsPath,i)}let Ps=class extends Et{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){if(t!=null&&Ni(t)){ct.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative");return}this._set("path",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",s){const l=this.cdnUrl;if(l==null)throw new mt("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(l,{responseType:t,query:{token:this.portalItem.apiKey},signal:s==null?void 0:s.signal})}async update(t,s){return(await pt(()=>import("./resourceUtils-cf22491f.js"),[])).addOrUpdateResource(this,"update",t,s)}hasPath(){return this.path!=null}_normalizePath(t,s){return t==null?t:(t=t.replace(/^\/+/,""),s!=null&&Ni(t)&&(t=I2(t,s.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};E([A()],Ps.prototype,"portalItem",void 0);E([A({type:String,value:null})],Ps.prototype,"path",null);E([_i("path")],Ps.prototype,"_castPath",null);E([A({type:String,readOnly:!0})],Ps.prototype,"url",null);E([A({type:String,readOnly:!0})],Ps.prototype,"cdnUrl",null);E([A({type:String,readOnly:!0})],Ps.prototype,"itemRelativeUrl",null);Ps=E([q("esri.portal.PortalItemResource")],Ps);const xx=Ps;let Gh=class extends Et{constructor(t){super(t),this.created=null,this.rating=null}};E([A()],Gh.prototype,"created",void 0);E([A()],Gh.prototype,"rating",void 0);Gh=E([q("esri.portal.PortalRating")],Gh);const F1=Gh;var ho;const Mx=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),Ax=new Set(["KML","GeoJson","CSV"]);let Ot=ho=class extends Uu(xn){static from(t){return y2(ho,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,s=this.typeKeywords||[];let l=t;return t==="Feature Service"||t==="Feature Collection"?l=s.includes("Table")?"Table":s.includes("Route Layer")?"Route Layer":s.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?l=s.includes("Elevation 3D Layer")?"Elevation Layer":s.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?l="Scene Layer":t==="Video Service"?l="Video Layer":t==="Scene Package"?l="Scene Layer Package":t==="Stream Service"?l="Feature Layer":t==="Geoprocessing Service"?l=s.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geocoding Service"?l="Locator":t==="Geoenrichment Service"?l="GeoEnrichment Service":t==="Microsoft Powerpoint"?l="Microsoft PowerPoint":t==="GeoJson"?l="GeoJSON":t==="Globe Service"?l="Globe Layer":t==="Vector Tile Service"?l="Tile Layer":t==="netCDF"?l="NetCDF":t==="Map Service"?!s.includes("Spatiotemporal")&&(s.includes("Hosted Service")||s.includes("Tiled"))&&!s.includes("Relational")?l="Tile Layer":l="Map Image Layer":t&&t.toLowerCase().includes("add in")?l=t.replace(/(add in)/gi,"Add-In"):t==="datastore catalog service"?l="Big Data File Share":t==="Compact Tile Package"?l="Tile Package (tpkx)":t==="OGCFeatureServer"?l="OGC Feature Layer":t==="web mapping application"&&s.includes("configurableApp")?l="Instant App":t==="Insights Page"&&(l="Insights Report"),l}readExtent(t){return t&&t.length?new pe(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){const t=this.type&&this.type.toLowerCase()||"",s=this.typeKeywords||[],l="esri/images/portal/",f="16";let d=!1,v=!1,w,T=!1,M=!1,I=!1,N=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(d=s.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(v=s.includes("Table"),T=s.includes("Route Layer"),M=s.includes("Markup"),I=s.includes("Spatiotemporal"),N=s.includes("UtilityNetwork"),w=I&&v?"spatiotemporaltable":v?"table":T?"routelayer":M?"markup":I?"spatiotemporal":d?"featureshosted":N?"utilitynetwork":"features"):t==="map service"||t==="wms"||t==="wmts"?w=d||s.includes("Tiled")||t==="wmts"?"maptiles":"mapimages":t==="scene service"?s.includes("Line")?w="sceneweblayerline":s.includes("3DObject")?w="sceneweblayermultipatch":s.includes("Point")?w="sceneweblayerpoint":s.includes("IntegratedMesh")?w="sceneweblayermesh":s.includes("PointCloud")?w="sceneweblayerpointcloud":s.includes("Polygon")?w="sceneweblayerpolygon":s.includes("Building")?w="sceneweblayerbuilding":s.includes("Voxel")?w="sceneweblayervoxel":w="sceneweblayer":t==="image service"?w=s.includes("Elevation 3D Layer")?"elevationlayer":s.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?w="streamlayer":t==="video service"?w="mediaservice":t==="vector tile service"?w="vectortile":t==="datastore catalog service"?w="datastorecollection":t==="geocoding service"?w="geocodeservice":t==="geoprocessing service"?w=s.includes("Web Tool")?"tool":"layers":t==="geodata service"?w="geodataservice":w="layers"):t==="web map"||t==="cityengine web scene"?w="maps":t==="web scene"?w=s.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&s.includes("configurableApp")?w="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?w="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&s.includes("ArcGIS Pro")||t==="explorer map"&&s.indexOf("Explorer Document")?w="mapsgray":t==="service definition"||t==="csv"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="360 vr experience"||t==="netcdf"||t==="administrative report"?w="datafiles":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?w="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?w="addindesktop":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="form"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="image"||t==="workflow manager package"||t==="explorer map"&&s.includes("Explorer Mapping Application")||s.includes("Document")?w="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?w="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?w="layersgray":t==="scene package"?w="scenepackage":t==="mobile scene package"?w="mobilescenepackage":t==="tile package"||t==="compact tile package"?w="tilepackage":t==="task file"?w="taskfile":t==="report template"?w="report-template":t==="statistical data collection"?w="statisticaldatacollection":t==="insights workbook"?w="workbook":t==="insights model"?w="insightsmodel":t==="insights page"?w="insightspage":t==="insights theme"?w="insightstheme":t==="hub initiative"?w="hubinitiative":t==="hubpage"?w="hubpage":t==="hub event"?w="hubevent":t==="hub site application"?w="hubsite":t==="hub project"?w="hubproject":t==="relational database connection"?w="relationaldatabaseconnection":t==="big data file share"?w="datastorecollection":t==="image collection"?w="imagecollection":t==="style"?w="style":t==="desktop style"?w="desktopstyle":t==="dashboard"?w="dashboard":t==="raster function template"?w="rasterprocessingtemplate":t==="vector tile package"?w="vectortilepackage":t==="ortho mapping project"?w="orthomappingproject":t==="ortho mapping template"?w="orthomappingtemplate":t==="solution"?w="solutions":t==="geopackage"?w="geopackage":t==="deep learning package"?w="deeplearningpackage":t==="real time analytic"?w="realtimeanalytics":t==="big data analytic"?w="bigdataanalytics":t==="feed"?w="feed":t==="excalibur imagery project"?w="excaliburimageryproject":t==="notebook"?w="notebook":t==="storymap"?w="storymap":t==="survey123 add in"?w="survey123addin":t==="mission"?w="mission":t==="mission report"?w="missionreport":t==="quickcapture project"?w="quickcaptureproject":t==="pro report"?w="proreport":t==="pro report template"?w="proreporttemplate":t==="urban model"?w="urbanmodel":t==="web experience"?w="experiencebuilder":t==="web experience template"?w="webexperiencetemplate":t==="experience builder widget"?w="experiencebuilderwidget":t==="experience builder widget package"?w="experiencebuilderwidgetpackage":t==="workflow"?w="workflow":t==="insights script"?w="insightsscript":t==="kernel gateway connection"?w="kernelgatewayconnection":t==="hub initiative template"?w="hubinitiativetemplate":t==="storymap theme"?w="storymaptheme":t==="knowledge graph"?w="knowledgegraph":t==="native application"?w="nativeapp":t==="native application installer"?w="nativeappinstaller":t==="link chart"?w="linkchart":t==="investigation"?w="investigation":t==="ogcfeatureserver"?w="features":t==="pro project"?w="proproject":t==="insights workbook package"?w="insightsworkbookpackage":t==="apache parquet"?w="apacheparquet":t==="notebook code snippets"||t==="notebook code snippet library"?w="notebookcodesnippets":t==="suitability model"?w="suitabilitymodel":t==="esri classifier definition"?w="classifierdefinition":t==="esri classification schema"?w="classificationschema":t==="insights data engineering workbook"?w="dataengineeringworkbook":t==="insights data engineering model"?w="dataengineeringmodel":t==="deep learning studio project"?w="deeplearningproject":t==="discussion"?w="discussion":t==="allsource project"?w="allsourceproject":t==="api key"?w="apikey":w="maps",w?Zt(l+w+f+".png"):null}get isLayer(){return this.type!=null&&Mx.has(this.type)}get itemCdnUrl(){let t=this.itemUrl;return t&&ue&&!ue.findCredential(t)&&(t=ue._normalizeAGOLorgDomain(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}get itemPageUrl(){var s;const t=(s=this.portal)==null?void 0:s.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var s;const t=(s=this.portal)==null?void 0:s.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){var l;const t=this.itemUrl,s=this.thumbnail;return t&&s?((l=this.portal)==null?void 0:l.normalizeUrl(`${t}/info/${s}?f=json`))??null:null}get userItemUrl(){const t=this.get("portal.restUrl");if(!t)return null;const s=this.owner||this.get("portal.user.username");if(!s)return null;const l=this.ownerFolder?`${s}/${this.ownerFolder}`:s;return`${t}/content/users/${l}/items/${this.id}`}load(t){const s=this.portal??(this.portal=As.getDefault()),l=s.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?s.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(f=>{this.sourceJSON=f,this.read(f)});return this.addResolvingPromise(l),Promise.resolve(this)}async addRating(t){const s={method:"post",query:{}};return t instanceof F1&&(t=t.rating),t!=null&&!isNaN(t)&&typeof t=="number"&&(s.query.rating=t),this.portal?(await this.portal.request(this.itemUrl+"/addRating",s),new F1({rating:t,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:ht(this.applicationProxies),avgRating:this.avgRating,categories:ht(this.categories),created:ht(this.created),culture:this.culture,description:this.description,extent:ht(this.extent),groupCategories:ht(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:ht(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:ht(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ht(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ht(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const s=new ho({sourceJSON:this.sourceJSON}).set(t);return s._set("isOrgItem",this.isOrgItem),s}createPostQuery(){var l;const t=this.toJSON();for(const f of["tags","typeKeywords","categories"])t[f]=(l=t[f])==null?void 0:l.join(", ");const{extent:s}=t;return s&&(t.extent=JSON.stringify(s)),t}async deleteRating(){await Oi(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",s){return Oi(this.portal).request(this.itemUrl+"/data",{responseType:t,...s,query:{token:this.apiKey}})}async fetchRating(t){const s=await Oi(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return s.rating!=null?(s.created=new Date(s.created),new F1(s)):null}fetchRelatedItems(t,s){return Oi(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...s},ho)}getThumbnailUrl(t){let s=this.thumbnailUrl;return s&&t&&(s+=`&w=${t}`),s}reload(){return Oi(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>Oi(this.portal).signIn()).then(()=>{const s=t&&t.data,l={method:"post"};l.query=this.createPostQuery();for(const f in l.query)l.query[f]===null&&(l.query[f]="");return l.query.clearEmptyFields=!0,s!=null&&(typeof s=="string"?l.query.text=s:typeof s=="object"&&(l.query.text=JSON.stringify(s))),this.portal.request(`${this.userItemUrl}/update`,l).then(()=>this.reload())}):Promise.reject(new mt("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new mt("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:s,itemUrl:l}=this;await Oi(s).signIn();const{copyResources:f,folder:d,tags:v,title:w}=t||{},T={method:"post",query:{copyPrivateResources:f==="all",folder:typeof d=="string"?d:d==null?void 0:d.id,includeResources:!!f,tags:v==null?void 0:v.join(","),title:w}},{itemId:M}=await s.request(`${l}/copy`,T);return new ho({id:M,portal:s})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const s=t.thumbnail,l=t.filename,f={method:"post"};if(typeof s=="string")_a(s)?f.query={data:s}:f.query={url:Hi(s)},l!=null&&(f.query.filename=l);else{const d=new FormData;l!=null?d.append("file",s,l):d.append("file",s),f.body=d}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,f).then(()=>this.reload())}):Promise.reject(new mt("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},s){return(await pt(()=>import("./resourceUtils-cf22491f.js"),[])).fetchResources(this,t,s)}async addResource(t,s,l){const f=await pt(()=>import("./resourceUtils-cf22491f.js"),[]);return t.portalItem=this,f.addOrUpdateResource(t,"add",s,l)}async removeResource(t,s){const l=await pt(()=>import("./resourceUtils-cf22491f.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new mt("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return l.removeResource(this,t,s)}async removeAllResources(t){return(await pt(()=>import("./resourceUtils-cf22491f.js"),[])).removeAllResources(this,t)}resourceFromPath(t){return new xx({portalItem:this,path:t})}toJSON(){const t=this.extent,s={accessInformation:this.accessInformation,categories:ht(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ht(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ht(this.typeKeywords),url:this.url};return n9(s)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new ho({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const s in t)s==="tags"&&t[s]!==null&&(t[s]=t[s].join(", ")),s==="typeKeywords"&&t[s]!==null&&(t[s]=t[s].join(", ")),s==="extent"&&t[s]&&(t[s]=JSON.stringify(t[s]));return t}};E([A({type:["private","shared","org","public"]})],Ot.prototype,"access",void 0);E([A()],Ot.prototype,"accessInformation",void 0);E([A({type:String})],Ot.prototype,"apiKey",void 0);E([A({json:{read:{source:"appProxies"}}})],Ot.prototype,"applicationProxies",void 0);E([A()],Ot.prototype,"avgRating",void 0);E([A()],Ot.prototype,"categories",void 0);E([A({type:Date})],Ot.prototype,"created",void 0);E([A()],Ot.prototype,"culture",void 0);E([A()],Ot.prototype,"description",void 0);E([A({readOnly:!0})],Ot.prototype,"displayName",null);E([A({type:pe})],Ot.prototype,"extent",void 0);E([ne("extent")],Ot.prototype,"readExtent",null);E([A()],Ot.prototype,"groupCategories",void 0);E([A({readOnly:!0})],Ot.prototype,"iconUrl",null);E([A()],Ot.prototype,"id",void 0);E([A({readOnly:!0})],Ot.prototype,"isLayer",null);E([A({type:Boolean,readOnly:!0})],Ot.prototype,"isOrgItem",void 0);E([A()],Ot.prototype,"itemControl",void 0);E([A({readOnly:!0})],Ot.prototype,"itemPageUrl",null);E([A({readOnly:!0})],Ot.prototype,"itemUrl",null);E([A()],Ot.prototype,"licenseInfo",void 0);E([A({type:Date})],Ot.prototype,"modified",void 0);E([A()],Ot.prototype,"name",void 0);E([A()],Ot.prototype,"numComments",void 0);E([A()],Ot.prototype,"numRatings",void 0);E([A()],Ot.prototype,"numViews",void 0);E([A()],Ot.prototype,"owner",void 0);E([A()],Ot.prototype,"ownerFolder",void 0);E([A({type:As})],Ot.prototype,"portal",void 0);E([A()],Ot.prototype,"screenshots",void 0);E([A()],Ot.prototype,"size",void 0);E([A()],Ot.prototype,"snippet",void 0);E([A()],Ot.prototype,"sourceJSON",void 0);E([A({type:String})],Ot.prototype,"sourceUrl",void 0);E([A({type:String})],Ot.prototype,"spatialReference",void 0);E([A()],Ot.prototype,"tags",void 0);E([A()],Ot.prototype,"thumbnail",void 0);E([A({readOnly:!0})],Ot.prototype,"thumbnailUrl",null);E([A()],Ot.prototype,"title",void 0);E([A()],Ot.prototype,"type",void 0);E([A()],Ot.prototype,"typeKeywords",void 0);E([A({type:String,json:{read(i,t){var s;if(Ax.has(t.type)){const l=(s=this.portal)==null?void 0:s.restUrl;i||(i=l&&this.id?`${l}/content/items/${this.id}/data`:null)}return i}}})],Ot.prototype,"url",void 0);E([A({readOnly:!0})],Ot.prototype,"userItemUrl",null);Ot=ho=E([q("esri.portal.PortalItem")],Ot);const U5=Ot,$5=Object.freeze(Object.defineProperty({__proto__:null,default:U5},Symbol.toStringTag,{value:"Module"})),tv=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Px={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ev(i){return i in Px}const hh=[],Ka=new Map;U2(()=>{Ka.clear()});function iv(i){for(const t of Ka.keys())V5(i.pattern,t)&&Ka.delete(t)}function Ix(i){return hh.includes(i)||(iv(i),hh.unshift(i)),{remove(){const t=hh.indexOf(i);t>-1&&(hh.splice(t,1),iv(i))}}}async function G5(i){const t=gr();Ka.has(i)||Ka.set(i,Ox(i,t));const s=Ka.get(i);return s&&await Nx.add(s),s}function Cx(i){if(!tv.test(i))return null;const t=tv.exec(i);if(t===null)return null;const[,s,l]=t,f=s+(l?"-"+l.toUpperCase():"");return ev(f)?f:ev(s)?s:null}async function Ox(i,t){const s=[];for(const l of hh)if(V5(l.pattern,i))try{return await l.fetchMessageBundle(i,t)}catch(f){s.push(f)}throw s.length?new mt("intl:message-bundle-error",`Errors occurred while loading "${i}"`,{errors:s}):new mt("intl:no-message-bundle-loader",`No loader found for message bundle "${i}"`)}function V5(i,t){return typeof i=="string"?t.startsWith(i):i.test(t)}const Nx=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(i){return this._increase(),i.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Es())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function Lx(i){if(!i)return;const t=i.includes("-vector")?i.slice(0,i.indexOf("-vector")):i,s=await G5("esri/t9n/basemaps");return s[i]||s[t]}const rd={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Zt("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Zt("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Zt("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Zt("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Zt("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Zt("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Zt("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Zt("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Zt("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Zt("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Zt("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Zt("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Zt("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Zt("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Zt("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Zt("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},L$={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function R$(i){const t=i==null?void 0:i.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function $2(i){var t;return(i==null?void 0:i.type)==="feature"&&!i.url&&((t=i.source)==null?void 0:t.type)==="memory"}function D$(i){var t;return(i==null?void 0:i.type)==="feature"&&((t=i.source)==null?void 0:t.type)==="feature-layer"}async function j$(i,t){const s=ue==null?void 0:ue.findServerInfo(i);if((s==null?void 0:s.currentVersion)!=null)return s.owningSystemUrl||null;const l=i.toLowerCase().indexOf("/rest/services");if(l===-1)return null;const f=`${i.substring(0,l)}/rest/info`,d=t!=null?t.signal:null,{data:v}=await vi(f,{query:{f:"json"},responseType:"json",signal:d});return(v==null?void 0:v.owningSystemUrl)||null}function Rx(i){if(!("capabilities"in i))return!1;switch(i.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Dx(i){return Rx(i)?"effectiveCapabilities"in i?i.effectiveCapabilities:i.capabilities:null}function jx(i){if(!("editingEnabled"in i))return!1;switch(i.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function kx(i){return jx(i)?"effectiveEditingEnabled"in i?i.effectiveEditingEnabled:i.editingEnabled:!1}const Fx=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),zx=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function Ux(i){return i.layerContainerType==="basemap"?Fx:i.layerContainerType==="operational-layers"?zx:null}function $x(i,t){if(t.restrictedWebMapWriting){const s=Ux(t);return s!=null?s.has(i.type)&&!$2(i):!0}return!0}function Gx(i,t){if(t)if($2(i)){const s=ku("featureCollection.layers",t),l=s&&s[0]&&s[0].layerDefinition;l&&z1(i,l)}else if(i.type==="stream"){const s=t.layerDefinition=t.layerDefinition||{};z1(i,s)}else i.type!=="group"&&z1(i,t)}function z1(i,t){"maxScale"in i&&(t.maxScale=P0(i.maxScale)??void 0),"minScale"in i&&(t.minScale=P0(i.minScale)??void 0)}function Vx(i,t){if(Gx(i,t),!!t&&("blendMode"in i&&(t.blendMode=i.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=P0(i.opacity)??void 0,t.title=i.title||"Layer",t.visibility=i.visible,"legendEnabled"in i&&i.type!=="wmts"))if($2(i)){const s=t.featureCollection;s&&(s.showLegend=i.legendEnabled)}else t.showLegend=i.legendEnabled}function rv(i,t,s){if(!("write"in i&&i.write))return s&&s.messages&&s.messages.push(new mt("layer:unsupported",`Layers (${i.title}, ${i.id}) of type '${i.declaredClass}' cannot be persisted`,{layer:i})),null;if($x(i,s)){const l={};return i.write(l,s)?l:null}return t!=null&&(t=ht(t),Vx(i,t)),t}var qc;let Bx=0;const B5="esri.Basemap";let qi=qc=class extends Uu(xn){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Bx++,this.baseLayers=new kt,this.referenceLayers=new kt;const s=f=>{f.parent&&f.parent!==this&&"remove"in f.parent&&f.parent.remove(f),f.parent=this,f.type==="elevation"&&ct.getLogger(this.declaredClass).error(`Layer '${f.title}, id:${f.id}' of type '${f.type}' is not supported as a basemap layer and will therefore be ignored.`)},l=f=>{f.parent=null};this.addHandles([this.baseLayers.on("after-add",f=>s(f.item)),this.referenceLayers.on("after-add",f=>s(f.item)),this.baseLayers.on("after-remove",f=>l(f.item)),this.referenceLayers.on("after-remove",f=>l(f.item))])}initialize(){this.when().catch(t=>{ct.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var l;const t=this.baseLayers.removeAll();for(const f of t)f.destroy();const s=this.referenceLayers.removeAll();for(const f of s)f.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(l=this.portalItem)==null||l.destroy(),this.portalItem=null}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),t={...t},delete t.resourceInfo),t}set baseLayers(t){this._set("baseLayers",No(t,this._get("baseLayers")))}_writeBaseLayers(t,s,l){const f=[];if(!t){s.baseMapLayers=f;return}l={...l,layerContainerType:"basemap"},this.baseLayers.forEach(d=>{const v=rv(d,l.webmap?l.webmap.getLayerJSONFromResourceInfo(d):null,l);v!=null&&f.push(v)}),this.referenceLayers.forEach(d=>{const v=rv(d,l.webmap?l.webmap.getLayerJSONFromResourceInfo(d):null,l);v!=null&&(d.type!=="scene"&&(v.isReference=!0),f.push(v))}),s.baseMapLayers=f}set referenceLayers(t){this._set("referenceLayers",No(t,this._get("referenceLayers")))}writeTitle(t,s){s.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return l5(this,t=>{t(this.baseLayers,this.referenceLayers)})}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(s=>d0(s)?s.clone():s),referenceLayers:this.referenceLayers.map(s=>d0(s)?s.clone():s)};return this.loaded&&(t.loadStatus="loaded"),new qc({resourceInfo:this.resourceInfo}).set(t)}read(t,s){this.resourceInfo||this._set("resourceInfo",{data:t,context:s}),super.read(t,s)}write(t,s){return t=t||{},(!s||!s.origin)&&(s={origin:"web-map",...s}),super.write(t,s),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(l=>{const f=ht(l);return f.url&&Vr(f.url)&&(f.url=`https:${f.url}`),f.templateUrl&&Vr(f.templateUrl)&&(f.templateUrl=`https:${f.templateUrl}`),f})),t}async _loadFromSource(t){const{resourceInfo:s,portalItem:l}=this;Le(t);const f=[];if(s){const d=s.context?s.context.url:null;if(f.push(this._loadLayersFromJSON(s.data,d,t)),s.data.id&&!s.data.title){const v=s.data.id;f.push(Lx(v).then(w=>{w&&this.read({title:w},s.context)}))}}else l&&f.push(this._loadFromItem(l,t));await Promise.all(f)}async _loadLayersFromJSON(t,s,l){const f=this.resourceInfo&&this.resourceInfo.context,d=this.portalItem&&this.portalItem.portal||f&&f.portal||null,v=f&&f.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:w}=await pt(()=>import("./layersCreator-7a272f56.js"),["assets/layersCreator-7a272f56.js","assets/lazyLayerLoader-447be1c1.js","assets/portalLayers-91e5bd84.js","assets/layersLoader-573ac263.js","assets/fetchService-ed1edb02.js","assets/jsonContext-df308fb5.js","assets/portalItemUtils-b3ac2156.js","assets/styleUtils-69730ec3.js"]),T=[];if(Le(l),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const M={context:{origin:v,url:s,portal:d,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},I=F=>v==="web-scene"&&F.layerType==="ArcGISSceneServiceLayer"||F.isReference,N=w(this.baseLayers,t.baseMapLayers.filter(F=>!I(F)),M);T.push(N);const R=w(this.referenceLayers,t.baseMapLayers.filter(I),M);T.push(R)}await ga(T)}async _loadFromItem(t,s){const f=await(await t.load(s)).fetchData("json",s),d=ji(t.itemUrl??"");return this._set("resourceInfo",{data:f.baseMap??{},context:{origin:t.type==="Web Scene"?"web-scene":"web-map",portal:t.portal||As.getDefault(),url:d}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:f.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||As.getDefault(),url:d}),this._loadLayersFromJSON(this.resourceInfo.data,d,s)}static fromId(t){const s=rd[t];if(s){if(s.deprecated){let l=null;t==="dark-gray"?l="dark-gray-vector":t==="gray"?l="gray-vector":t==="streets"?l="streets-vector":t==="topo"&&(l="topo-vector"),I0(ct.getLogger(B5),`The ${t} basemap has entered mature support and is no longer being updated.`,{replacement:l,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return qc.fromJSON(s)}return null}};E([A({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(i,t,s,l){this._writeBaseLayers(i,t,l)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:kt}},writer(i,t,s,l){this._writeBaseLayers(i,t,l)}}}}}})],qi.prototype,"baseLayers",null);E([A({type:String,json:{origins:{"web-scene":{write:!0}}}})],qi.prototype,"id",void 0);E([A({type:U5})],qi.prototype,"portalItem",void 0);E([A()],qi.prototype,"referenceLayers",null);E([A({readOnly:!0})],qi.prototype,"resourceInfo",void 0);E([A({type:fe})],qi.prototype,"spatialReference",void 0);E([A()],qi.prototype,"thumbnailUrl",void 0);E([A({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],qi.prototype,"title",void 0);E([se("title")],qi.prototype,"writeTitle",null);qi=qc=E([q(B5)],qi);const j0=qi,Hx=Object.freeze(Object.defineProperty({__proto__:null,default:j0},Symbol.toStringTag,{value:"Module"})),k0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Wx(i){return!!k0[i]||!!k0[i.toLowerCase()]}function H5(i){return k0[i]??k0[i.toLowerCase()]}function F$(i){return[...H5(i)]}function U1(i,t,s){s<0&&++s,s>1&&--s;const l=6*s;return l<1?i+(t-i)*l:2*s<1?t:3*s<2?i+(t-i)*(2/3-s)*6:i}function Jx(i,t,s,l=1){const f=(i%360+360)%360/360,d=s<=.5?s*(t+1):s+t-s*t,v=2*s-d;return[Math.round(U1(v,d,f+1/3)*255),Math.round(U1(v,d,f)*255),Math.round(U1(v,d,f-1/3)*255),l]}function z$(i){const t=i.length>5,s=t?8:4,l=(1<<s)-1,f=t?1:17,d=t?i.length===9:i.length===5;let v=+("0x"+i.substr(1));if(isNaN(v))return null;const w=[0,0,0,1];let T;return d&&(T=v&l,v>>=s,w[3]=f*T/255),T=v&l,v>>=s,w[2]=f*T,T=v&l,v>>=s,w[1]=f*T,T=v&l,v>>=s,w[0]=f*T,w}function Ol(){return[0,0,0]}function U$(i){return[i[0],i[1],i[2]]}function W5(i,t,s){return[i,t,s]}function $$(i){const t=Ol(),s=Math.min(3,i.length);for(let l=0;l<s;++l)t[l]=i[l];return t}function G$(i,t){return new Float64Array(i,t,3)}function Kx(){return Ol()}function Yx(){return W5(1,1,1)}const V$=Kx(),B$=Yx();let qx=1e-6;function Gu(){return qx}const Zx=Math.PI/180,Xx=180/Math.PI;function J5(i){return i*Zx}function H$(i){return i*Xx}function W$(i){const t=i[0],s=i[1],l=i[2];return Math.sqrt(t*t+s*s+l*l)}function J$(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i}function K$(i,t,s,l){return i[0]=t,i[1]=s,i[2]=l,i}function Y$(i,t,s){return i[0]=t[0]+s[0],i[1]=t[1]+s[1],i[2]=t[2]+s[2],i}function q$(i,t,s){return i[0]=t[0]-s[0],i[1]=t[1]-s[1],i[2]=t[2]-s[2],i}function Z$(i,t,s){return i[0]=t[0]*s[0],i[1]=t[1]*s[1],i[2]=t[2]*s[2],i}function X$(i,t,s){return i[0]=t[0]/s[0],i[1]=t[1]/s[1],i[2]=t[2]/s[2],i}function Qx(i,t,s){return i[0]=t[0]*s,i[1]=t[1]*s,i[2]=t[2]*s,i}function Q$(i,t,s,l){return i[0]=t[0]+s[0]*l,i[1]=t[1]+s[1]*l,i[2]=t[2]+s[2]*l,i}function tM(i,t){const s=t[0]-i[0],l=t[1]-i[1],f=t[2]-i[2];return Math.sqrt(s*s+l*l+f*f)}function tG(i,t){const s=t[0]-i[0],l=t[1]-i[1],f=t[2]-i[2];return s*s+l*l+f*f}function eG(i){const t=i[0],s=i[1],l=i[2];return t*t+s*s+l*l}function iG(i,t){const s=t[0],l=t[1],f=t[2];let d=s*s+l*l+f*f;return d>0&&(d=1/Math.sqrt(d),i[0]=t[0]*d,i[1]=t[1]*d,i[2]=t[2]*d),i}function rG(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]}function sG(i,t,s){const l=t[0],f=t[1],d=t[2],v=s[0],w=s[1],T=s[2];return i[0]=f*T-d*w,i[1]=d*v-l*T,i[2]=l*w-f*v,i}function nG(i,t,s,l){const f=t[0],d=t[1],v=t[2];return i[0]=f+l*(s[0]-f),i[1]=d+l*(s[1]-d),i[2]=v+l*(s[2]-v),i}function oG(i,t,s){const l=t[0],f=t[1],d=t[2];return i[0]=s[0]*l+s[4]*f+s[8]*d+s[12],i[1]=s[1]*l+s[5]*f+s[9]*d+s[13],i[2]=s[2]*l+s[6]*f+s[10]*d+s[14],i}function aG(i,t,s){const l=t[0],f=t[1],d=t[2];return i[0]=l*s[0]+f*s[3]+d*s[6],i[1]=l*s[1]+f*s[4]+d*s[7],i[2]=l*s[2]+f*s[5]+d*s[8],i}function lG(i,t,s){const l=s[0],f=s[1],d=s[2],v=s[3],w=t[0],T=t[1],M=t[2];let I=f*M-d*T,N=d*w-l*M,R=l*T-f*w,F=f*R-d*N,V=d*I-l*R,W=l*N-f*I;const H=v*2;return I*=H,N*=H,R*=H,F*=2,V*=2,W*=2,i[0]=w+I+F,i[1]=T+N+V,i[2]=M+R+W,i}function hG(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]}function uG(i,t,s){const l=s[0]-t[0],f=s[1]-t[1],d=s[2]-t[2];let v=l*l+f*f+d*d;return v>0?(v=1/Math.sqrt(v),i[0]=l*v,i[1]=f*v,i[2]=d*v,i):(i[0]=0,i[1]=0,i[2]=0,i)}const cG=tM,sv=new Float32Array(1);function fG(i){--i;for(let t=1;t<32;t<<=1)i=i|i>>t;return i+1}function Hr(i,t,s){return Math.min(Math.max(i,t),s)}function pG(i){return(i&i-1)===0}function dG(i){return i--,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i|=i>>16,i++,i}function yG(i,t,s){return i+(t-i)*s}function eM(i){return i*Math.PI/180}function K5(i){return 180*i/Math.PI}function mG(i){return Math.acos(Hr(i,-1,1))}function iM(i){return Math.asin(Hr(i,-1,1))}function $1(i,t,s=1e-6){return i===t?!0:!Number.isFinite(i)||!Number.isFinite(t)?!1:(i>t?i-t:t-i)<=s}const F0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function rM(i){return F0.setFloat64(0,i),F0.getBigInt64(0)}function nv(i){return F0.setBigInt64(0,i),F0.getFloat64(0)}const G1=BigInt("1000000");sM(1);function sM(i){i=Math.abs(i);const t=rM(i),s=t<=G1?nv(G1):nv(t-G1);return Math.abs(i-s)}function vG(i){return Y5(Math.max(-ov,Math.min(i,ov)))}function Y5(i){return sv[0]=i,sv[0]}function wG(i){const t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=i[3]*i[3]+i[4]*i[4]+i[5]*i[5],l=i[6]*i[6]+i[7]*i[7]+i[8]*i[8];return!($1(t,1)&&$1(s,1)&&$1(l,1))}const ov=Y5(34028234663852886e22);function yc(i){return Hr(d2(i),0,255)}function mc(i,t,s){return i=Number(i),isNaN(i)?s:i<t?t:i>s?s:i}class Ne{static blendColors(t,s,l,f=new Ne){return f.r=Math.round(t.r+(s.r-t.r)*l),f.g=Math.round(t.g+(s.g-t.g)*l),f.b=Math.round(t.b+(s.b-t.b)*l),f.a=t.a+(s.a-t.a)*l,f._sanitize()}static fromRgb(t,s){const l=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(l){const f=l[2].split(/\s*,\s*/),d=l[1];if(d==="rgb"&&f.length===3||d==="rgba"&&f.length===4){const v=f[0];if(v.charAt(v.length-1)==="%"){const w=f.map(T=>parseFloat(T)*2.56);return f.length===4&&(w[3]=parseFloat(f[3])),Ne.fromArray(w,s)}return Ne.fromArray(f.map(w=>parseFloat(w)),s)}if(d==="hsl"&&f.length===3||d==="hsla"&&f.length===4)return Ne.fromArray(Jx(parseFloat(f[0]),parseFloat(f[1])/100,parseFloat(f[2])/100,parseFloat(f[3])),s)}return null}static fromHex(t,s=new Ne){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const l=t.length===4?4:8,f=(1<<l)-1;let d=+("0x"+t.substr(1));return isNaN(d)?null:(["b","g","r"].forEach(v=>{const w=d&f;d>>=l,s[v]=l===4?17*w:w}),s.a=1,s)}static fromArray(t,s=new Ne){return s._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(s.a)&&(s.a=1),s._sanitize()}static fromString(t,s){const l=Wx(t)?H5(t):null;return l&&Ne.fromArray(l,s)||Ne.fromRgb(t,s)||Ne.fromHex(t,s)}static fromJSON(t){return t&&new Ne([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return this.r*.299+this.g*.587+this.b*.114>=127}setColor(t){return typeof t=="string"?Ne.fromString(t,this):Array.isArray(t)?Ne.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ne||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),s=this.g.toString(16),l=this.b.toString(16);return`#${t.length<2?"0"+t:t}${s.length<2?"0"+s:s}${l.length<2?"0"+l:l}`}toCss(t=!1){const s=this.r+", "+this.g+", "+this.b;return t?`rgba(${s}, ${this.a})`:`rgb(${s})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Ne.AlphaMode.ALWAYS){const s=yc(this.r),l=yc(this.g),f=yc(this.b);return t===Ne.AlphaMode.ALWAYS||this.a!==1?[s,l,f,yc(this.a*255)]:[s,l,f]}clone(){return new Ne(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|this.a*255}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(mc(this.r,0,255)),this.g=Math.round(mc(this.g,0,255)),this.b=Math.round(mc(this.b,0,255)),this.a=mc(this.a,0,1),this}_set(t,s,l,f){this.r=t,this.g=s,this.b=l,this.a=f}}Ne.prototype.declaredClass="esri.Color";(function(i){(function(t){t[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(i.AlphaMode||(i.AlphaMode={}))})(Ne||(Ne={}));const ae=Ne;function gG(i){}function nM(i){return()=>i}function $t(i,t={}){const s=i instanceof ii?i:new ii(i,t),l={type:(t==null?void 0:t.ignoreUnknown)??!0?s.apiValues:String,json:{type:s.jsonValues,read:t!=null&&t.readOnly?!1:{reader:s.read},write:{writer:s.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(l.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(l.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(l.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(l.nonNullable=t.nonNullable),A(l)}var sd;let z0=sd=class extends bt{constructor(t){super(t),this.type="none"}clone(){return new sd({type:this.type})}};E([$t({none:"none",stayAbove:"stay-above"})],z0.prototype,"type",void 0);z0=sd=E([q("esri.ground.NavigationConstraint")],z0);function q5(i){const t=d2(100*(1-i));return Math.max(0,Math.min(t,100))}function Z5(i){const t=1-i/100;return Math.max(0,Math.min(t,1))}var nd;let Is=nd=class extends Uu(xn){constructor(t){super(t),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new kt;const s=f=>{f.parent&&f.parent!==this&&"remove"in f.parent&&f.parent.remove(f),f.parent=this,f.type!=="elevation"&&f.type!=="base-elevation"&&ct.getLogger(this.declaredClass).error(`Layer '${f.title}, id:${f.id}' of type '${f.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},l=f=>{f.parent=null};this.addHandles([this.layers.on("after-add",f=>s(f.item)),this.layers.on("after-remove",f=>l(f.item))])}initialize(){this.when().catch(t=>{ct.getLogger(this.declaredClass).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.layers.removeAll();for(const s of t)s.destroy();this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),t={...t},delete t.resourceInfo),t}set layers(t){this._set("layers",No(t,this._get("layers")))}writeLayers(t,s,l,f){const d=[];if(!t){s.layers=d;return}f={...f,layerContainerType:"ground"},t.forEach(v=>{if("write"in v){const w=nM(v)(),T={};w.write(T,f)&&d.push(T)}else f&&f.messages&&f.messages.push(new mt("layer:unsupported",`Layers (${v.title}, ${v.id}) of type '${v.declaredClass}' cannot be persisted in the ground`,{layer:v}))}),s.layers=d}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return l5(this,t=>{t(this.layers)})}async queryElevation(t,s){await this.load({signal:s==null?void 0:s.signal});const{ElevationQuery:l}=await pt(()=>import("./ElevationQuery-073ce866.js"),[]);Le(s);const f=new l,d=this.layers.filter(av).toArray();return f.queryAll(d,t,s)}async createElevationSampler(t,s){await this.load({signal:s==null?void 0:s.signal});const{ElevationQuery:l}=await pt(()=>import("./ElevationQuery-073ce866.js"),[]);Le(s);const f=new l,d=this.layers.filter(av).toArray();return f.createSamplerAll(d,t,s)}clone(){const t={opacity:this.opacity,surfaceColor:ht(this.surfaceColor),navigationConstraint:ht(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new nd({resourceInfo:this.resourceInfo}).set(t)}read(t,s){this.resourceInfo||this._set("resourceInfo",{data:t,context:s}),super.read(t,s)}_loadFromSource(t){const s=this.resourceInfo;return s?this._loadLayersFromJSON(s.data,s.context,t):Promise.resolve()}_loadLayersFromJSON(t,s,l){const f=s&&s.origin||"web-scene",d=s&&s.portal||null,v=s&&s.url||null;return pt(()=>import("./layersCreator-7a272f56.js"),["assets/layersCreator-7a272f56.js","assets/lazyLayerLoader-447be1c1.js","assets/portalLayers-91e5bd84.js","assets/layersLoader-573ac263.js","assets/fetchService-ed1edb02.js","assets/jsonContext-df308fb5.js","assets/portalItemUtils-b3ac2156.js","assets/styleUtils-69730ec3.js"]).then(({populateOperationalLayers:w})=>{Le(l);const T=[];if(t.layers&&Array.isArray(t.layers)){const M={context:{origin:f,url:v,portal:d,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};T.push(w(this.layers,t.layers,M))}return ga(T)}).then(()=>{})}};E([A({json:{read:!1}})],Is.prototype,"layers",null);E([se("layers")],Is.prototype,"writeLayers",null);E([A({readOnly:!0})],Is.prototype,"resourceInfo",void 0);E([A({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ze,read:{reader:Z5,source:"transparency"},write:{writer:(i,t)=>{t.transparency=q5(i)},target:"transparency"}}})],Is.prototype,"opacity",void 0);E([A({type:ae,json:{type:[ze],write:(i,t)=>{t.surfaceColor=i.toJSON().slice(0,3)}}})],Is.prototype,"surfaceColor",void 0);E([A({type:z0,json:{write:!0}})],Is.prototype,"navigationConstraint",void 0);Is=nd=E([q("esri.Ground")],Is);function oM(i){return i&&"createElevationSampler"in i}function av(i){return i.type==="elevation"||oM(i)}const U0=Is;let il=class extends kt{constructor(t){super(t),this.getCollections=null}initialize(){this.own(ub(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null){this.removeAll();return}let s=0;for(const l of t)l!=null&&(s=this._processCollection(s,l));this.splice(s,this.length)}_createNewInstance(t){return new kt(t)}_processCollection(t,s){if(!s)return t;const l=this.itemFilterFunction??(f=>!!f);for(const f of s)if(f){if(l(f)){const d=this.indexOf(f,t);d>=0?d!==t&&this.reorder(f,t):this.add(f,t),++t}if(this.getChildrenFunction){const d=this.getChildrenFunction(f);if(Array.isArray(d))for(const v of d)t=this._processCollection(t,v);else t=this._processCollection(t,d)}}return t}};E([A()],il.prototype,"getCollections",void 0);E([A()],il.prototype,"getChildrenFunction",void 0);E([A()],il.prototype,"itemFilterFunction",void 0);il=E([q("esri.core.CollectionFlattener")],il);const Vh=il;function aM(i){var t,s;return!!(i!=null&&i.loaded&&((s=(t=Dx(i))==null?void 0:t.operations)!=null&&s.supportsEditing)&&(!("editingEnabled"in i)||kx(i)))}const lv=ct.getLogger("esri.support.basemapUtils");function lM(){return{}}function hM(i){for(const t in i){const s=i[t];(s==null?void 0:s.destroyed)===!1&&s.destroy(),delete i[t]}}function uM(i,t){let s;if(typeof i=="string"){if(!(i in rd)){const f=Object.entries(rd).filter(([d,v])=>Wt.apiKey&&!v.classic||!Wt.apiKey&&v.classic&&!v.deprecated).map(([d])=>`"${d}"`).join(", ");return lv.warn(`Unable to find basemap definition for: ${i}. Try one of these: ${f}`),null}t&&(s=t[i]),s||(s=j0.fromId(i),t&&(t[i]=s))}else s=$e(j0,i);return s!=null&&s.destroyed&&(lv.warn("The provided basemap is already destroyed",{basemap:s}),s=null),s}function cM(i){return new Vh({getCollections:()=>[i.tables,i.layers],getChildrenFunction:t=>{const s=[];return"tables"in t&&s.push(t.tables),"layers"in t&&s.push(t.layers),s},itemFilterFunction:t=>{const s=t.parent;return!!s&&"tables"in s&&s.tables.includes(t)}})}function V1(i){for(const t of i.values())t==null||t.destroy();i.clear()}const hv={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function fM(i){let t=null;if(typeof i=="string")if(i in hv){const s=hv[i];t=new U0({resourceInfo:{data:{layers:[s]}}})}else ct.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${i}. Try "world-elevation"`);else t=$e(U0,i);return t}function rl(i,t,s=!1){let{hasM:l,hasZ:f}=i;Array.isArray(t)?t.length===4&&!l&&!f?(l=!0,f=!0):t.length===3&&s&&!l?(f=!0,l=!1):t.length===3&&l&&f&&(l=!1,f=!1):(f=!f&&t.hasZ&&(!l||t.hasM),l=!l&&t.hasM&&(!f||t.hasZ)),i.hasZ=f,i.hasM=l}var od;function uv(i){return(t,s)=>t==null?s:s==null?t:i(t,s)}function pM(i){return i&&(i.declaredClass==="esri.geometry.SpatialReference"||i.wkid!=null)}let Pn=od=class extends Zn{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,s){if(!t&&!s)return{};const l={};Array.isArray(t)?(l.points=t,l.spatialReference=s):pM(t)?l.spatialReference=t:(t.points&&(l.points=t.points),t.spatialReference&&(l.spatialReference=t.spatialReference),t.hasZ&&(l.hasZ=t.hasZ),t.hasM&&(l.hasM=t.hasM));const f=l.points&&l.points[0];return f&&(l.hasZ===void 0&&l.hasM===void 0?(l.hasZ=f.length>2,l.hasM=!1):l.hasZ===void 0?l.hasZ=f.length>3:l.hasM===void 0&&(l.hasM=f.length>3)),l}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const s=new pe,l=this.hasZ,f=this.hasM,d=l?3:2,v=t[0],w=uv(Math.min),T=uv(Math.max);let[M,I]=v,[N,R]=v,F,V,W,H;for(let Y=0,it=t.length;Y<it;Y++){const Q=t[Y],[st,nt]=Q;if(M=w(M,st),I=w(I,nt),N=T(N,st),R=T(R,nt),l&&Q.length>2){const at=Q[2];F=w(F,at),W=T(W,at)}if(f&&Q.length>d){const at=Q[d];V=w(V,at),H=T(H,at)}}return s.xmin=M,s.ymin=I,s.xmax=N,s.ymax=R,s.spatialReference=this.spatialReference,l?(s.zmin=F,s.zmax=W):(s.zmin=void 0,s.zmax=void 0),f?(s.mmin=V,s.mmax=H):(s.mmin=void 0,s.mmax=void 0),s}writePoints(t,s){s.points=ht(this.points)}addPoint(t){return rl(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:ht(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new od(t)}getPoint(t){if(!this._validateInputs(t))return null;const s=this.points[t],l={x:s[0],y:s[1],spatialReference:this.spatialReference};let f=2;return this.hasZ&&(l.z=s[2],f=3),this.hasM&&(l.m=s[f]),new Pt(l)}removePoint(t){if(!this._validateInputs(t))return null;const s=new Pt(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),s}setPoint(t,s){return this._validateInputs(t)?(rl(this,s),Array.isArray(s)||(s=s.toArray()),this.points[t]=s,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};E([A({readOnly:!0})],Pn.prototype,"cache",null);E([A()],Pn.prototype,"extent",null);E([A({type:[[Number]],json:{write:{isRequired:!0}}})],Pn.prototype,"points",void 0);E([se("points")],Pn.prototype,"writePoints",null);Pn=od=E([q("esri.geometry.Multipoint")],Pn);Pn.prototype.toJSON.isDefaultToJSON=!0;const Vu=Pn;function EG(i){const t=[];for(i.reset();i.nextPath();){const s=[];for(;i.nextPoint();)s.push([i.x,i.y]);t.push(s)}return t}function dM(i){const t=[];for(;i.nextPoint();)t.push([i.x,i.y]);return t}function X5(i,t){const s=t[0]-i[0],l=t[1]-i[1];if(i.length>2&&t.length>2){const f=i[2]-t[2];return Math.sqrt(s*s+l*l+f*f)}return Math.sqrt(s*s+l*l)}function yM(i,t,s){const l=i[0]+s*(t[0]-i[0]),f=i[1]+s*(t[1]-i[1]);return i.length>2&&t.length>2?[l,f,i[2]+s*(t[2]-i[2])]:[l,f]}function mM(i,t,s,l){const[f,d]=t,[v,w]=s[l],[T,M]=s[l+1],I=T-v,N=M-w,R=f-v,F=d-w,V=I*I+N*N,W=R*I+F*N,H=Math.min(1,Math.max(0,W/V));return i[0]=v+I*H,i[1]=w+N*H,i}function xG(i,t,s){let l=!1,f=1/0,d,v,w,T;for(s.reset();s.nextPath();)if(s.nextPoint())for(d=s.x,v=s.y;s.nextPoint();)w=s.x,T=s.y,v>t!=T>t&&i<(w-d)*(t-v)/(T-v)+d&&(l=!l),f=Math.min(f,vM(i,t,d,v,w,T)),d=w,v=T;return f===0?0:(l?1:-1)*Math.sqrt(f)}function vM(i,t,s,l,f,d){let v=s,w=l,T=f-v,M=d-w;if(T!==0||M!==0){const I=((i-v)*T+(t-w)*M)/(T*T+M*M);I>1?(v=f,w=d):I>0&&(v+=T*I,w+=M*I)}return T=i-v,M=t-w,T*T+M*M}function Q5(i,t){return yM(i,t,.5)}function t4(i,t,s){const l=i.length;let f=0,d=0,v=0;for(let w=0;w<l;w++){const T=i[w],M=i[(w+1)%l];let I=2;f+=T[0]*M[1]-M[0]*T[1],T.length>2&&M.length>2&&s&&(d+=T[0]*M[2]-M[0]*T[2],I=3),T.length>I&&M.length>I&&t&&(v+=T[0]*M[I]-M[0]*T[I])}return f<=0&&d<=0&&v<=0}function wM(i){const t=i.length;return t>2&&Vf(i[0],i[t-1])}function MG(i){if("rings"in i&&(gM(i),i.rings.length>0&&!t4(i.rings[0],i.hasM??!1,i.hasZ??!1)))for(const t of i.rings)t.reverse()}function gM(i){if("rings"in i)for(const t of i.rings)wM(t)||t.push(t[0].slice())}function AG(i){if(!i||i.length<3)return 0;let t=0;const s=i.length-1;for(let l=0;l<s;l++)t+=(i[l][0]-i[l+1][0])*(i[l][1]+i[l+1][1]);return t+=(i[s][0]-i[0][0])*(i[s][1]+i[0][1]),-.5*t}function e4(i){if(!i||i.numPoints<3)return 0;let t=0,s,l;if(i.seekPathFront(),!i.nextPoint())return 0;s=i.x,l=i.y;const f=s,d=l;for(;i.nextPoint();)t+=(s-i.x)*(l+i.y),s=i.x,l=i.y;return t+=(s-f)*(l+d),-.5*t}function PG(i){return i?i.hasZ?[i.xmax-i.xmin/2,i.ymax-i.ymin/2,i.zmax-i.zmin/2]:[i.xmax-i.xmin/2,i.ymax-i.ymin/2]:null}function _M(i){return i?SM(i.rings,i.hasZ??!1):null}function SM(i,t){if(!i||!i.length)return null;const s=[],l=[],f=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let d=0,v=i.length;d<v;d++){const w=i4(i[d],t,f);w&&l.push(w)}if(l.sort((d,v)=>{let w=d[2]-v[2];return w===0&&t&&(w=d[4]-v[4]),w}),l.length&&(s[0]=l[0][0],s[1]=l[0][1],t&&(s[2]=l[0][3]),(s[0]<f[0]||s[0]>f[1]||s[1]<f[2]||s[1]>f[3]||t&&(s[2]<f[4]||s[2]>f[5]))&&(s.length=0)),!s.length){const d=i[0]&&i[0].length?bM(i[0],t):null;if(d)s[0]=d[0],s[1]=d[1],t&&d.length>2&&(s[2]=d[2]);else return null}return s}function i4(i,t,s){let l=0,f=0,d=0,v=0,w=0;const T=i.length?i[0][0]:0,M=i.length?i[0][1]:0,I=i.length&&t?i[0][2]:0;for(let R=0;R<i.length;R++){const F=i[R],V=i[(R+1)%i.length],[W,H,Y]=F,it=W-T,Q=H-M,[st,nt,at]=V,gt=st-T,wt=nt-M,At=it*wt-gt*Q;if(v+=At,l+=(it+gt)*At,f+=(Q+wt)*At,t&&F.length>2&&V.length>2){const _t=Y-I,Nt=at-I,Mt=it*Nt-gt*_t;d+=(_t+Nt)*Mt,w+=Mt}W<s[0]&&(s[0]=W),W>s[1]&&(s[1]=W),H<s[2]&&(s[2]=H),H>s[3]&&(s[3]=H),t&&(Y<s[4]&&(s[4]=Y),Y>s[5]&&(s[5]=Y))}if(v>0&&(v*=-1),w>0&&(w*=-1),!v)return null;v*=.5,w*=.5;const N=[l/(6*v)+T,f/(6*v)+M,v];return t&&(s[4]===s[5]||w===0?(N[3]=(s[4]+s[5])/2,N[4]=0):(N[3]=d/(6*w)+I,N[4]=w)),N}function bM(i,t){const s=t?[0,0,0]:[0,0],l=t?[0,0,0]:[0,0];let f=0,d=0,v=0,w=0;for(let T=0,M=i.length;T<M-1;T++){const I=i[T],N=i[T+1];if(I&&N){s[0]=I[0],s[1]=I[1],l[0]=N[0],l[1]=N[1],t&&I.length>2&&N.length>2&&(s[2]=I[2],l[2]=N[2]);const R=X5(s,l);if(R){f+=R;const F=Q5(I,N);d+=R*F[0],v+=R*F[1],t&&F.length>2&&(w+=R*F[2])}}}return f>0?t?[d/f,v/f,w/f]:[d/f,v/f]:i.length?i[0]:null}function TM(i){const{hasZ:t,numPaths:s}=i;if(s===0)return null;const l=[],f=[],d=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(i.reset();i.nextPath();){const v=i4(dM(i),i.hasZ,d);v&&f.push(v)}if(f.sort((v,w)=>{let T=v[2]-w[2];return T===0&&t&&(T=v[4]-w[4]),T}),f.length&&(l[0]=f[0][0],l[1]=f[0][1],t&&(l[2]=f[0][3]),(l[0]<d[0]||l[0]>d[1]||l[1]<d[2]||l[1]>d[3]||t&&(l[2]<d[4]||l[2]>d[5]))&&(l.length=0)),!l.length){i.reset(),i.nextPath();const v=i.numPoints?EM(i):null;if(v)l[0]=v[0],l[1]=v[1],t&&v.length>2&&(l[2]=v[2]);else return null}return l}function EM(i){const{hasZ:t}=i,s=t?[0,0,0]:[0,0],l=t?[0,0,0]:[0,0];let f=0,d=0,v=0,w=0;if(i.nextPoint()){let T=i.x,M=i.y,I=i.z;for(;i.nextPoint();){const N=i.x,R=i.y,F=i.z;s[0]=T,s[1]=M,l[0]=N,l[1]=R,t&&(s[2]=I,l[2]=F);const V=X5(s,l);if(V){f+=V;const W=Q5(s,l);d+=V*W[0],v+=V*W[1],t&&W.length>2&&(w+=V*W[2])}T=N,M=R,I=F}}return f>0?t?[d/f,v/f,w/f]:[d/f,v/f]:i.numPoints?(i.seekPathFront(),i.nextPoint(),[i.x,i.y]):null}const xM=1e-6;function IG(i){let t=0;for(i.reset();i.nextPath();)t+=e4(i);if(t<xM){const f=TM(i);return f?[f[0],f[1]]:null}const s=[0,0];if(i.reset(),!(i.nextPath()&&i.nextPoint()))return null;const l=[i.x,i.y];for(i.reset();i.nextPath();)AM(s,l,i);return s[0]*=1/t,s[1]*=1/t,s[0]+=l[0],s[1]+=l[1],s}const MM=1/3;function AM(i,t,s){if(!i||!s||s.numPoints<3)return null;s.nextPoint();const l=s.x,f=s.y;s.nextPoint();let d=s.x-l,v=s.y-f,w=0,T=0,M;for(;s.nextPoint();)w=s.x-l,T=s.y-f,M=MM*.5*(w*v-T*d),i[0]+=M*(d+w),i[1]+=M*(v+T),d=w,v=T;const I=e4(s),N=[l,f];return N[0]-=t[0],N[1]-=t[1],N[0]*=I,N[1]*=I,i[0]+=N[0],i[1]+=N[1],i}function Wr(i=OM){return[i[0],i[1],i[2],i[3]]}function CG(i){return[i[0],i[1],i[2],i[3]]}function r4(i,t){return i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]),i}function OG(i,t,s,l,f=Wr()){return f[0]=i,f[1]=t,f[2]=s,f[3]=l,f}function NG(i,t=Wr()){return t[0]=i.xmin,t[1]=i.ymin,t[2]=i.xmax,t[3]=i.ymax,t}function LG(i,t){return new pe({xmin:i[0],ymin:i[1],xmax:i[2],ymax:i[3],spatialReference:t})}function RG(i,t){t[0]<i[0]&&(i[0]=t[0]),t[0]>i[2]&&(i[2]=t[0]),t[1]<i[1]&&(i[1]=t[1]),t[1]>i[3]&&(i[3]=t[1])}function DG(i,t,s){if(t==null){r4(s,i);return}if("length"in t)ad(t)?(s[0]=Math.min(i[0],t[0]),s[1]=Math.min(i[1],t[1]),s[2]=Math.max(i[2],t[2]),s[3]=Math.max(i[3],t[3])):(t.length===2||t.length===3)&&(s[0]=Math.min(i[0],t[0]),s[1]=Math.min(i[1],t[1]),s[2]=Math.max(i[2],t[0]),s[3]=Math.max(i[3],t[1]));else switch(t.type){case"extent":s[0]=Math.min(i[0],t.xmin),s[1]=Math.min(i[1],t.ymin),s[2]=Math.max(i[2],t.xmax),s[3]=Math.max(i[3],t.ymax);break;case"point":s[0]=Math.min(i[0],t.x),s[1]=Math.min(i[1],t.y),s[2]=Math.max(i[2],t.x),s[3]=Math.max(i[3],t.y);break}}function PM(i){return i==null||i[0]>=i[2]?0:i[2]-i[0]}function IM(i){return i[1]>=i[3]?0:i[3]-i[1]}function jG(i){return PM(i)*IM(i)}function kG(i,t,s){return t>=i[0]&&s>=i[1]&&t<=i[2]&&s<=i[3]}function FG(i,t,s){return t[0]>=i[0]-s&&t[1]>=i[1]-s&&t[0]<=i[2]+s&&t[1]<=i[3]+s}function zG(i,t){return Math.max(t[0],i[0])<=Math.min(t[2],i[2])&&Math.max(t[1],i[1])<=Math.min(t[3],i[3])}function CM(i,t){return t[0]>=i[0]&&t[2]<=i[2]&&t[1]>=i[1]&&t[3]<=i[3]}function UG(i){return i?r4(i,cv):Wr(cv)}function ad(i){return i!=null&&i.length===4}function $G(i,t){return!ad(i)||!ad(t)?i===t:i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]}const cv=[1/0,1/0,-1/0,-1/0],OM=[0,0,0,0];function s4(i){return i.xmin!==void 0&&i.ymin!==void 0&&i.xmax!==void 0&&i.ymax!==void 0}function n4(i){return i.points!==void 0}function o4(i){return i.x!==void 0&&i.y!==void 0}function a4(i){return i.paths!==void 0}function l4(i){return i.rings!==void 0}function h4(i){function t(s,l){return s==null?l:l==null?s:i(s,l)}return t}const vn=h4(Math.min),wn=h4(Math.max);function GG(i,t){return a4(t)?sl(i,t.paths,!1,!1):l4(t)?sl(i,t.rings,!1,!1):n4(t)?G2(i,t.points,!1,!1,!1,!1):s4(t)?u4(i,t):(o4(t)&&(i[0]=t.x,i[1]=t.y,i[2]=t.x,i[3]=t.y),i)}function VG(i){i.reset();let t,s,l,f;for(t=l=1/0,s=f=-1/0;i.nextPath();){const d=NM(i);t=Math.min(d[0],t),l=Math.min(d[1],l),s=Math.max(d[2],s),f=Math.max(d[3],f)}return Wr([t,l,s,f])}function NM(i){let t,s,l,f;for(t=l=1/0,s=f=-1/0;i.nextPoint();)t=Math.min(i.x,t),l=Math.min(i.y,l),s=Math.max(i.x,s),f=Math.max(i.y,f);return Wr([t,l,s,f])}function BG(i,t){return a4(t)?sl(i,t.paths,!0,!1):l4(t)?sl(i,t.rings,!0,!1):n4(t)?G2(i,t.points,!0,!1,!0,!1):s4(t)?u4(i,t,!0,!1,!0,!1):(o4(t)&&(i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.x,i[4]=t.y,i[5]=t.z),i)}function sl(i,t,s,l){const f=s?3:2;if(!t.length||!t[0].length)return null;let[d,v]=t[0][0],[w,T]=t[0][0],M,I,N,R;for(let F=0;F<t.length;F++){const V=t[F];for(let W=0;W<V.length;W++){const H=V[W],[Y,it]=H;if(d=vn(d,Y),v=vn(v,it),w=wn(w,Y),T=wn(T,it),s&&H.length>2){const Q=H[2];M=vn(M,Q),I=wn(I,Q)}if(l&&H.length>f){const Q=H[f];N=vn(M,Q),R=wn(I,Q)}}}return s?l?(i[0]=d,i[1]=v,i[2]=M,i[3]=N,i[4]=w,i[5]=T,i[6]=I,i[7]=R,i.length=8,i):(i[0]=d,i[1]=v,i[2]=M,i[3]=w,i[4]=T,i[5]=I,i.length=6,i):l?(i[0]=d,i[1]=v,i[2]=N,i[3]=w,i[4]=T,i[5]=R,i.length=6,i):(i[0]=d,i[1]=v,i[2]=w,i[3]=T,i.length=4,i)}function u4(i,t,s,l,f,d){const v=t.xmin,w=t.xmax,T=t.ymin,M=t.ymax;let I=t.zmin,N=t.zmax,R=t.mmin,F=t.mmax;return f?(I=I||0,N=N||0,d?(R=R||0,F=F||0,i[0]=v,i[1]=T,i[2]=I,i[3]=R,i[4]=w,i[5]=M,i[6]=N,i[7]=F,i):(i[0]=v,i[1]=T,i[2]=I,i[3]=w,i[4]=M,i[5]=N,i)):d?(R=R||0,F=F||0,i[0]=v,i[1]=T,i[2]=R,i[3]=w,i[4]=M,i[5]=F,i):(i[0]=v,i[1]=T,i[2]=w,i[3]=M,i)}function G2(i,t,s,l,f,d){const v=s?3:2,w=l&&d,T=s&&f;if(!t.length||!t[0].length)return null;let[M,I]=t[0],[N,R]=t[0],F,V,W,H;for(let Y=0;Y<t.length;Y++){const it=t[Y],[Q,st]=it;if(M=vn(M,Q),I=vn(I,st),N=wn(N,Q),R=wn(R,st),T&&it.length>2){const nt=it[2];F=vn(F,nt),V=wn(V,nt)}if(w&&it.length>v){const nt=it[v];W=vn(F,nt),H=wn(V,nt)}}return f?(F=F||0,V=V||0,d?(W=W||0,H=H||0,i[0]=M,i[1]=I,i[2]=F,i[3]=W,i[4]=N,i[5]=R,i[6]=V,i[7]=H,i):(i[0]=M,i[1]=I,i[2]=F,i[3]=N,i[4]=R,i[5]=V,i)):d?(W=W||0,H=H||0,i[0]=M,i[1]=I,i[2]=W,i[3]=N,i[4]=R,i[5]=H,i):(i[0]=M,i[1]=I,i[2]=N,i[3]=R,i)}function LM(i){return i.xmin!==void 0&&i.ymin!==void 0&&i.xmax!==void 0&&i.ymax!==void 0}function RM(i){return i.points!==void 0}function DM(i){return i.x!==void 0&&i.y!==void 0}function jM(i){return i.paths!==void 0}function kM(i){return i.rings!==void 0}const V2=[];function c4(i,t,s,l){return{xmin:i,ymin:t,xmax:s,ymax:l}}function f4(i,t,s,l,f,d){return{xmin:i,ymin:t,zmin:s,xmax:l,ymax:f,zmax:d}}function p4(i,t,s,l,f,d){return{xmin:i,ymin:t,mmin:s,xmax:l,ymax:f,mmax:d}}function d4(i,t,s,l,f,d,v,w){return{xmin:i,ymin:t,zmin:s,mmin:l,xmax:f,ymax:d,zmax:v,mmax:w}}function B2(i,t=!1,s=!1){return t?s?d4(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]):f4(i[0],i[1],i[2],i[3],i[4],i[5]):s?p4(i[0],i[1],i[2],i[3],i[4],i[5]):c4(i[0],i[1],i[2],i[3])}function HG(i){return i?LM(i)?i:DM(i)?zM(i):kM(i)?y4(i):jM(i)?m4(i):RM(i)?FM(i):null:null}function FM(i){const{hasZ:t,hasM:s,points:l}=i;return B2(G2(V2,l,t??!1,s??!1),t,s)}function zM(i){const{x:t,y:s,z:l,m:f}=i,d=l!=null,v=f!=null;return d?v?d4(t,s,l,f,t,s,l,f):f4(t,s,l,t,s,l):v?p4(t,s,f,t,s,f):c4(t,s,t,s)}function y4(i){const{hasZ:t,hasM:s,rings:l}=i,f=sl(V2,l,t??!1,s??!1);return f?B2(f,t,s):null}function m4(i){const{hasZ:t,hasM:s,paths:l}=i,f=sl(V2,l,t??!1,s??!1);return f?B2(f,t,s):null}var Zc;function fv(i){return!Array.isArray(i[0])}let Jr=Zc=class extends Zn{static fromExtent(t){const s=t.clone().normalize(),l=t.spatialReference;let f=!1,d=!1;for(const w of s)w.hasZ&&(f=!0),w.hasM&&(d=!0);const v={rings:s.map(w=>{const T=[[w.xmin,w.ymin],[w.xmin,w.ymax],[w.xmax,w.ymax],[w.xmax,w.ymin],[w.xmin,w.ymin]];if(f&&w.hasZ){const M=w.zmin+(w.zmax-w.zmin)*.5;for(let I=0;I<T.length;I++)T[I].push(M)}if(d&&w.hasM){const M=w.mmin+(w.mmax-w.mmin)*.5;for(let I=0;I<T.length;I++)T[I].push(M)}return T}),spatialReference:l};return f&&(v.hasZ=!0),d&&(v.hasM=!0),new Zc(v)}constructor(...t){super(...t),this.rings=[],this.type="polygon"}normalizeCtorArgs(t,s){let l=null,f,d,v=null;return t&&!Array.isArray(t)?(l=t.rings??null,s||(t.spatialReference?s=t.spatialReference:t.rings||(s=t)),f=t.hasZ,d=t.hasM):l=t,l=l||[],s=s||fe.WGS84,l.length&&l[0]&&l[0][0]!=null&&typeof l[0][0]=="number"&&(l=[l]),v=l[0]&&l[0][0],v&&(f===void 0&&d===void 0?(f=v.length>2,d=v.length>3):f===void 0?f=d?v.length>3:v.length>2:d===void 0&&(d=f?v.length>3:v.length>2)),{rings:l,spatialReference:s,hasZ:f,hasM:d}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=_M(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const s=new Pt;return s.x=t[0],s.y=t[1],s.spatialReference=this.spatialReference,this.hasZ&&(s.z=t[2]),s}get extent(){const{spatialReference:t}=this,s=y4(this);if(!s)return null;const l=new pe(s);return l.spatialReference=t,l}get isSelfIntersecting(){return px(this.rings)}writeRings(t,s){s.rings=ht(this.rings)}addRing(t){if(!t)return;const s=this.rings,l=s.length;if(fv(t)){const f=[];for(let d=0,v=t.length;d<v;d++)f[d]=t[d].toArray();s[l]=f}else s[l]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new Zc;return t.spatialReference=this.spatialReference,t.rings=ht(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const s=this.spatialReference,l=t.spatialReference;if(s!=null!=(l!=null)||s!=null&&l!=null&&!s.equals(l)||this.rings.length!==t.rings.length)return!1;const f=([d,v,w,T],[M,I,N,R])=>d===M&&v===I&&(w==null&&N==null||w===N)&&(T==null&&R==null||T===R);for(let d=0;d<this.rings.length;d++){const v=this.rings[d],w=t.rings[d];if(!Vf(v,w,f))return!1}return!0}contains(t){if(!t)return!1;const s=i1(t,this.spatialReference);return L5(this,s??t)}isClockwise(t){let s;return fv(t)?s=t.map(l=>this.hasZ?this.hasM?[l.x,l.y,l.z,l.m]:[l.x,l.y,l.z]:[l.x,l.y]):s=t,t4(s,this.hasM,this.hasZ)}getPoint(t,s){if(!this._validateInputs(t,s))return null;const l=this.rings[t][s],f=this.hasZ,d=this.hasM;return f&&!d?new Pt(l[0],l[1],l[2],void 0,this.spatialReference):d&&!f?new Pt(l[0],l[1],void 0,l[2],this.spatialReference):f&&d?new Pt(l[0],l[1],l[2],l[3],this.spatialReference):new Pt(l[0],l[1],this.spatialReference)}insertPoint(t,s,l){return this._validateInputs(t,s,!0)?(rl(this,l),Array.isArray(l)||(l=l.toArray()),this.rings[t].splice(s,0,l),this.notifyChange("rings"),this):this}removePoint(t,s){if(!this._validateInputs(t,s))return null;const l=new Pt(this.rings[t].splice(s,1)[0],this.spatialReference);return this.notifyChange("rings"),l}removeRing(t){if(!this._validateInputs(t,null))return null;const s=this.rings.splice(t,1)[0],l=this.spatialReference,f=s.map(d=>new Pt(d,l));return this.notifyChange("rings"),f}setPoint(t,s,l){return this._validateInputs(t,s)?(rl(this,l),Array.isArray(l)||(l=l.toArray()),this.rings[t][s]=l,this.notifyChange("rings"),this):this}_validateInputs(t,s,l=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(s!=null){const f=this.rings[t];if(l&&(s<0||s>f.length)||!l&&(s<0||s>=f.length))return!1}return!0}toJSON(t){return this.write({},t)}};E([A({readOnly:!0})],Jr.prototype,"cache",null);E([A({readOnly:!0})],Jr.prototype,"centroid",null);E([A({readOnly:!0})],Jr.prototype,"extent",null);E([A({readOnly:!0})],Jr.prototype,"isSelfIntersecting",null);E([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Jr.prototype,"rings",void 0);E([se("rings")],Jr.prototype,"writeRings",null);Jr=Zc=E([q("esri.geometry.Polygon")],Jr);Jr.prototype.toJSON.isDefaultToJSON=!0;const Nl=Jr;var ld;function UM(i){return!Array.isArray(i[0])}let In=ld=class extends Zn{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,s){let l=null,f,d,v=null;return t&&!Array.isArray(t)?(l=t.paths??null,s||(t.spatialReference?s=t.spatialReference:t.paths||(s=t)),f=t.hasZ,d=t.hasM):l=t,l=l||[],s=s||fe.WGS84,l.length&&l[0]&&l[0][0]!=null&&typeof l[0][0]=="number"&&(l=[l]),v=l[0]&&l[0][0],v&&(f===void 0&&d===void 0?(f=v.length>2,d=!1):f===void 0?f=!d&&v.length>3:d===void 0&&(d=!f&&v.length>3)),{paths:l,spatialReference:s,hasZ:f,hasM:d}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,s=m4(this);if(!s)return null;const l=new pe(s);return l.spatialReference=t,l}writePaths(t,s){s.paths=ht(this.paths)}addPath(t){if(!t)return;const s=this.paths,l=s.length;if(UM(t)){const f=[];for(let d=0,v=t.length;d<v;d++)f[d]=t[d].toArray();s[l]=f}else s[l]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new ld;return t.spatialReference=this.spatialReference,t.paths=ht(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,s){if(!this._validateInputs(t,s))return null;const l=this.paths[t][s],f=this.hasZ,d=this.hasM;return f&&!d?new Pt(l[0],l[1],l[2],void 0,this.spatialReference):d&&!f?new Pt(l[0],l[1],void 0,l[2],this.spatialReference):f&&d?new Pt(l[0],l[1],l[2],l[3],this.spatialReference):new Pt(l[0],l[1],this.spatialReference)}insertPoint(t,s,l){return this._validateInputs(t,s,!0)?(rl(this,l),Array.isArray(l)||(l=l.toArray()),this.paths[t].splice(s,0,l),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const s=this.paths.splice(t,1)[0],l=this.spatialReference,f=s.map(d=>new Pt(d,l));return this.notifyChange("paths"),f}removePoint(t,s){if(!this._validateInputs(t,s))return null;const l=new Pt(this.paths[t].splice(s,1)[0],this.spatialReference);return this.notifyChange("paths"),l}setPoint(t,s,l){return this._validateInputs(t,s)?(rl(this,l),Array.isArray(l)||(l=l.toArray()),this.paths[t][s]=l,this.notifyChange("paths"),this):this}_validateInputs(t,s,l=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(s!=null){const f=this.paths[t];if(l&&(s<0||s>f.length)||!l&&(s<0||s>=f.length))return!1}return!0}toJSON(t){return this.write({},t)}};E([A({readOnly:!0})],In.prototype,"cache",null);E([A({readOnly:!0})],In.prototype,"extent",null);E([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],In.prototype,"paths",void 0);E([se("paths")],In.prototype,"writePaths",null);In=ld=E([q("esri.geometry.Polyline")],In);In.prototype.toJSON.isDefaultToJSON=!0;const Sa=In,KG=Mi()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),YG=Mi()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function v4(i){return i.xmin!==void 0&&i.ymin!==void 0&&i.xmax!==void 0&&i.ymax!==void 0}function w4(i){return i.points!==void 0}function g4(i){return i.x!==void 0&&i.y!==void 0}function _4(i){return i.paths!==void 0}function S4(i){return i.rings!==void 0}function br(i){return i==null?null:i instanceof Zn?i:g4(i)?Pt.fromJSON(i):_4(i)?Sa.fromJSON(i):S4(i)?Nl.fromJSON(i):w4(i)?Vu.fromJSON(i):v4(i)?pe.fromJSON(i):null}function H2(i){return i?g4(i)?"esriGeometryPoint":_4(i)?"esriGeometryPolyline":S4(i)?"esriGeometryPolygon":v4(i)?"esriGeometryEnvelope":w4(i)?"esriGeometryMultipoint":null:null}const $M={esriGeometryPoint:Pt,esriGeometryPolyline:Sa,esriGeometryPolygon:Nl,esriGeometryEnvelope:pe,esriGeometryMultipoint:Vu};function GM(i){return i&&$M[i]||null}const W2={base:Zn,key:"type",typeMap:{extent:pe,multipoint:Vu,point:Pt,polyline:Sa,polygon:Nl}};Co(W2);let b4=0;const J2=i=>{let t=class extends i{constructor(...l){super(...l),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+b4++})}};return t=E([q("esri.core.Identifiable")],t),t},K2=i=>{let t=class extends i{constructor(...l){super(...l),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:b4++})}};return t=E([q("esri.core.NumericIdentifiable")],t),t};let pv=class extends J2(class{}){};pv=E([q("esri.core.Identifiable")],pv);async function VM(i){const t="portalItem"in i?i:{portalItem:i},s=await pt(()=>import("./portalLayers-91e5bd84.js"),["assets/portalLayers-91e5bd84.js","assets/lazyLayerLoader-447be1c1.js","assets/layersLoader-573ac263.js","assets/fetchService-ed1edb02.js","assets/jsonContext-df308fb5.js","assets/portalItemUtils-b3ac2156.js","assets/styleUtils-69730ec3.js"]);try{return await s.fromItem(t)}catch(l){const f=t&&t.portalItem,d=f&&f.id||"unset",v=f&&f.portal&&f.portal.url||Wt.portalUrl;throw ct.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+v+"', id: '"+d+"')",l),l}}let BM=0,Ke=class extends qn.EventedMixin(J2(xn)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new pe(-180,-90,180,90,fe.WGS84),this.id=Date.now().toString(16)+"-layer-"+BM++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=fe.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const s=typeof t=="string"?{url:t}:t;return(await pt(()=>import("./arcgisLayers-a855a762.js"),["assets/arcgisLayers-a855a762.js","assets/fetchService-ed1edb02.js","assets/lazyLayerLoader-447be1c1.js"])).fromUrl(s)}static fromPortalItem(t){return VM(t)}initialize(){this.when().catch(t=>{Gs(t)||ct.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){if(this.parent){const t=this,s=this.parent;"layers"in s&&s.layers.includes(t)?s.layers.remove(t):"tables"in s&&s.tables.includes(t)?s.tables.remove(t):"baseLayers"in s&&s.baseLayers.includes(t)?s.baseLayers.remove(t):"baseLayers"in s&&s.referenceLayers.includes(t)&&s.referenceLayers.remove(t)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return ji(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await vi(t,{query:{f:"json"},responseType:"json"})).data;throw new mt("layer:no-attribution-data","Layer does not have attribution data")}};E([A({type:String})],Ke.prototype,"attributionDataUrl",void 0);E([A({type:pe})],Ke.prototype,"fullExtent",void 0);E([A({readOnly:!0})],Ke.prototype,"hasAttributionData",null);E([A({type:String,clonable:!1})],Ke.prototype,"id",void 0);E([A({type:Boolean,nonNullable:!0})],Ke.prototype,"legendEnabled",void 0);E([A({type:["show","hide","hide-children"]})],Ke.prototype,"listMode",void 0);E([A({type:Number,range:{min:0,max:1},nonNullable:!0})],Ke.prototype,"opacity",void 0);E([A({clonable:!1})],Ke.prototype,"parent",void 0);E([A({readOnly:!0})],Ke.prototype,"parsedUrl",null);E([A({type:Boolean})],Ke.prototype,"popupEnabled",void 0);E([A({type:Boolean})],Ke.prototype,"attributionVisible",void 0);E([A({type:fe})],Ke.prototype,"spatialReference",void 0);E([A({type:String})],Ke.prototype,"title",void 0);E([A({readOnly:!0,json:{read:!1}})],Ke.prototype,"type",void 0);E([A()],Ke.prototype,"url",void 0);E([A({type:Boolean,nonNullable:!0})],Ke.prototype,"visible",void 0);Ke=E([q("esri.layers.Layer")],Ke);const HM=Ke;function hd(i,t,s){let l,f;if(i)for(let d=0,v=i.length;d<v;d++){if(l=i.getItemAt(d),l[t]===s)return l;if((l==null?void 0:l.type)==="group"&&(f=hd(l.layers,t,s),f))return f}}const WM=i=>{let t=class extends i{constructor(...l){super(...l),this.layers=new kt;const f=w=>{w.parent&&"remove"in w.parent&&w.parent.remove(w)},d=w=>{w.parent=this,this.layerAdded(w),(w.type==="elevation"||w.type==="base-elevation")&&ct.getLogger(this.declaredClass).error(`Layer 'title:${w.title}, id:${w.id}' of type '${w.type}' is not supported as an operational layer and will therefore be ignored.`)},v=w=>{w.parent=null,this.layerRemoved(w)};this.addHandles([this.layers.on("before-add",w=>f(w.item)),this.layers.on("after-add",w=>d(w.item)),this.layers.on("after-remove",w=>v(w.item))])}destroy(){const l=this.layers.toArray();for(const f of l)f.destroy();this.layers.destroy()}set layers(l){this._set("layers",No(l,this._get("layers")))}add(l,f){const d=this.layers;if(f=d.getNextIndex(f),l instanceof HM){const v=l;v.parent===this?this.reorder(v,f):d.add(v,f)}else Vs(l)?l.then(v=>{this.destroyed||this.add(v,f)}):ct.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(l,f){const d=this.layers;let v=d.getNextIndex(f);l.slice().forEach(w=>{if(w.parent===this){this.reorder(w,v);return}d.add(w,v),v=v+1})}findLayerById(l){return hd(this.layers,"id",l)}findLayerByUid(l){return hd(this.layers,"uid",l)}remove(l){return this.layers.remove(l)}removeMany(l){return this.layers.removeMany(l)}removeAll(){return this.layers.removeAll()}reorder(l,f){return this.layers.reorder(l,f)}layerAdded(l){}layerRemoved(l){}};return E([A()],t.prototype,"layers",null),t=E([q("esri.support.LayersMixin")],t),t};function ud(i,t,s){if(i)for(let l=0,f=i.length;l<f;l++){const d=i.getItemAt(l);if(d[t]===s)return d;if((d==null?void 0:d.type)==="group"){const v=ud(d.tables,t,s);if(v)return v}}}const JM=i=>{let t=class extends i{constructor(...l){super(...l),this.tables=new kt,this.addHandles([this.tables.on("after-add",f=>{const d=f.item;d.parent&&d.parent!==this&&"tables"in d.parent&&d.parent.tables.remove(d),d.parent=this,d.type!=="feature"&&ct.getLogger(this.declaredClass).error(`Layer 'title:${d.title}, id:${d.id}' of type '${d.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",f=>{f.item.parent=null})])}destroy(){const l=this.tables.removeAll();for(const f of l)f.destroy();this.tables.destroy()}set tables(l){this._set("tables",No(l,this._get("tables")))}findTableById(l){return ud(this.tables,"id",l)}findTableByUid(l){return ud(this.tables,"uid",l)}};return E([A()],t.prototype,"tables",null),t=E([q("esri.support.TablesMixin")],t),t};let Kr=class extends JM(WM(qn.EventedMixin(Et))){constructor(t){super(t),this.allLayers=new Vh({getCollections:()=>{var s,l,f;return[(s=this.basemap)==null?void 0:s.baseLayers,(l=this.ground)==null?void 0:l.layers,this.layers,(f=this.basemap)==null?void 0:f.referenceLayers]},getChildrenFunction:s=>"layers"in s?s.layers:null}),this.allTables=cM(this),this.basemap=null,this.editableLayers=new Vh({getCollections:()=>[this.allLayers],itemFilterFunction:aM}),this.ground=new U0,this._basemapCache=lM()}destroy(){var t,s;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(t=this.ground)==null||t.destroy(),(s=this.basemap)==null||s.destroy(),hM(this._basemapCache),this._basemapCache=null}castBasemap(t){return uM(t,this._basemapCache)}castGround(t){const s=fM(t);return s??this._get("ground")}findLayerById(t){return this.allLayers.find(s=>s.id===t)}findTableById(t){return this.allTables.find(s=>s.id===t)}};E([A({readOnly:!0,dependsOn:[]})],Kr.prototype,"allLayers",void 0);E([A({readOnly:!0})],Kr.prototype,"allTables",void 0);E([A({type:j0})],Kr.prototype,"basemap",void 0);E([_i("basemap")],Kr.prototype,"castBasemap",null);E([A({readOnly:!0})],Kr.prototype,"editableLayers",void 0);E([A({type:U0,nonNullable:!0})],Kr.prototype,"ground",void 0);E([_i("ground")],Kr.prototype,"castGround",null);Kr=E([q("esri.Map")],Kr);const T4=Kr,Xn=i=>{let t=class extends i{clone(){var I;const l=Oi(bs(this),"unable to clone instance of non-accessor class"),f=l.metadatas,d=l.store,v={},w=new Map;for(const N in f){const R=f[N],F=d==null?void 0:d.originOf(N),V=R.clonable;if(R.readOnly||V===!1||F!==Xt.USER&&F!==Xt.DEFAULTS&&F!==Xt.WEB_MAP&&F!==Xt.WEB_SCENE)continue;const W=this[N];let H=null;typeof V=="function"?H=V(W):V==="reference"?H=W:H=Cp(W),!(W!=null&&H==null)&&(F===Xt.DEFAULTS?w.set(N,H):v[N]=H)}const T=Object.getPrototypeOf(this).constructor,M=new T(v);if(w.size){const N=(I=bs(M))==null?void 0:I.store;if(N)for(const[R,F]of w)N.set(R,F,Xt.DEFAULTS)}return M}};return t=E([q("esri.core.Clonable")],t),t};let dv=class extends Xn(Et){};dv=E([q("esri.core.Clonable")],dv);var xo;(function(i){i.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(xo||(xo={}));function KM(i,t){switch(i.type){case"range":{const s="range"in i?i.range[0]:i.minValue,l="range"in i?i.range[1]:i.maxValue;if(s!=null&&+t<s||l!=null&&+t>l)return xo.VALUE_OUT_OF_RANGE;break}case"coded-value":if(i.codedValues==null||i.codedValues.every(s=>s==null||s.code!==t))return xo.INVALID_CODED_VALUE;break;case"codedValue":if(i.codedValues==null||i.codedValues.every(s=>s==null||s.code!==t))return xo.INVALID_CODED_VALUE;break}return null}const YM=ct.getLogger("esri.support.arcadeOnDemand");let B1;function E4(){return B1||(B1=(async()=>{const i=await pt(()=>import("./arcadeUtils-fbd203e4.js").then(t=>t.ax),["assets/arcadeUtils-fbd203e4.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/FieldsIndex-19734375.js","assets/number-93956731.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/sizeVariableUtils-2914222a.js"]);return{arcade:i.arcade,arcadeUtils:i,Dictionary:i.Dictionary,Feature:i.arcadeFeature}})()),B1}const nV=(i,t,s)=>Bu.create(i,t,s,null,["$feature"]),oV=(i,t,s)=>Bu.create(i,t,s,null,["$feature","$view"]),aV=(i,t,s,l)=>Bu.create(i,t,s,l,["$feature","$view"]);class Bu{constructor(t,s,l,f,d,v,w){this.script=t,this.evaluate=f;const T=Array.isArray(v)?v:v.fields;this.fields=T,this._syntaxTree=l,this._arcade=s,this._arcadeFeature=d,this._spatialReference=w,this._referencesGeometry=s.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,s,l,f,d,v){const{arcade:w,Feature:T,Dictionary:M}=await E4(),I=fe.fromJSON(s);let N;try{N=w.parseScript(t,v)}catch(wt){return YM.error(new mt("arcade-bad-expression","Failed to parse arcade script",{script:t,error:wt})),null}const R=d.reduce((wt,At)=>({...wt,[At]:null}),{});let F=null;f!=null&&(F=new M(f),F.immutable=!0,R.$config=null);const V=w.scriptUsesGeometryEngine(N),W=V&&w.enableGeometrySupport(),H=w.scriptUsesFeatureSet(N)&&w.enableFeatureSetSupport(),Y=w.scriptIsAsync(N),it=Y&&w.enableAsyncSupport(),Q={vars:R,spatialReference:I,useAsync:!!it};await Promise.all([W,H,it]);const st=new Set;await w.loadDependentModules(st,N,null,Y,V);const nt=new M;nt.immutable=!1,nt.setField("scale",0);const at=w.compileScript(N,Q),gt=wt=>("$view"in wt&&wt.$view&&(nt.setField("scale",typeof wt.$view=="object"&&"scale"in wt.$view?wt.$view.scale:void 0),wt.$view=nt),F&&(wt.$config=F),at({vars:wt,spatialReference:I}));return new Bu(t,w,N,gt,new T,l,I)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}const qM=/^([0-9])/,ZM=/[^a-z0-9_\u0080-\uffff]/gi,XM=/_{2,}/g,QM=/^_/,tA=/_$/;function lV(i){return i==null?null:i.trim().replace(ZM,"_").replace(XM,"_").replace(QM,"").replace(tA,"").replace(qM,"F$1")||null}const eA=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],iA=["field","normalizationField"];function hV(i,t){if(!(i==null||t==null)){for(const s of Array.isArray(i)?i:[i])if(yv(eA,s,t),!(!("visualVariables"in s)||!s.visualVariables))for(const l of s.visualVariables)yv(iA,l,t)}}function yv(i,t,s){if(i)for(const l of i){const f=ku(l,t),d=f&&typeof f!="function"&&s.get(f);d&&Pl(l,d.name,t)}}function uV(i,t){var s;if(!(i==null||!((s=t==null?void 0:t.fields)!=null&&s.length)))if("startField"in i){const l=t.get(i.startField),f=t.get(i.endField);i.startField=(l==null?void 0:l.name)??null,i.endField=(f==null?void 0:f.name)??null}else{const l=t.get(i.startTimeField),f=t.get(i.endTimeField);i.startTimeField=(l==null?void 0:l.name)??null,i.endTimeField=(f==null?void 0:f.name)??null}}const H1=new Set;function rA(i,t){return!i||!t?[]:(H1.clear(),Bh(H1,i,t),Array.from(H1).sort())}function Bh(i,t,s){var l;if(s){if(!((l=t==null?void 0:t.fields)!=null&&l.length)){if(s.includes("*")){i.clear(),i.add("*");return}for(const f of s)f!=null&&i.add(f);return}if(s.includes("*")){for(const{name:f}of t.fields)i.add(f);return}for(const f of s)s1(i,t,f)}}function s1(i,t,s){if(typeof s=="string")if(t){const l=t.get(s);l&&i.add(l.name)}else i.add(s)}function cV(i,t){return t==null||i==null?[]:t.includes("*")?(i.fields??[]).map(s=>s.name):t}async function Uo(i,t,s){var d;if(!s)return;const{arcadeUtils:l}=await E4(),f=l.extractFieldNames(s,(d=t==null?void 0:t.fields)==null?void 0:d.map(v=>v.name));for(const v of f)s1(i,t,v)}async function x4(i,t,s){if(s&&s!=="1=1"){const f=(await pt(()=>import("./WhereClause-7ab6e388.js").then(d=>d.c),["assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js"])).WhereClause.create(s,t);if(!f.isStandardized)throw new mt("fieldUtils:collectFilterFields","Where clause is not standardized",{where:s});Bh(i,t,f.fieldNames)}}function fV({displayField:i,fields:t}){return i||(!t||!t.length?null:W1(t,"name-or-title")||W1(t,"unique-identifier")||W1(t,"type-or-category")||sA(t))}function sA(i){for(const t of i){if(!t||!t.name)continue;const s=t.name.toLowerCase();if(s.includes("name")||s.includes("title"))return t.name}return null}function W1(i,t){for(const s of i)if(!(!s||!s.valueType)&&s.valueType===t)return s.name;return null}async function pV(i,t){var l;if(!t)return;const s=(l=t.elevationInfo)==null?void 0:l.featureExpressionInfo;if(s)return s.collectRequiredFields(i,t.fieldsIndex)}function nA(i,t,s){s.onStatisticExpression?Uo(i,t,s.onStatisticExpression.expression):i.add(s.onStatisticField)}async function dV(i,t,s){if(!t||!s||!("fields"in s))return;const l=[],f=s.popupTemplate;l.push(oA(i,t,f)),s.fields&&l.push(...s.fields.map(async d=>nA(i,t.fieldsIndex,d))),await Promise.all(l)}async function oA(i,t,s){const l=[];s!=null&&s.expressionInfos&&l.push(...s.expressionInfos.map(d=>Uo(i,t.fieldsIndex,d.expression)));const f=s==null?void 0:s.content;if(Array.isArray(f))for(const d of f)d.type==="expression"&&d.expressionInfo&&l.push(Uo(i,t.fieldsIndex,d.expressionInfo.expression));await Promise.all(l)}async function yV(i,t,s){t&&(t.timeInfo&&s!=null&&s.timeExtent&&Bh(i,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Bh(i,t.fieldsIndex,[t.floorInfo.floorField]),s!=null&&s.where!=null&&await x4(i,t.fieldsIndex,s.where))}async function mV(i,t,s){!t||!s||await Promise.all(s.map(l=>aA(i,t,l)))}async function aA(i,t,s){!t||!s||(s.valueExpression?await Uo(i,t.fieldsIndex,s.valueExpression):s.field&&s1(i,t.fieldsIndex,s.field))}function vV(i){if(!i)return[];const t="editFieldsInfo"in i&&i.editFieldsInfo;return t?rA(i.fieldsIndex,[t.creatorField,t.creationDateField,t.editorField,t.editDateField]):[]}async function wV(i,t){const{labelingInfo:s,fieldsIndex:l}=t;!s||!s.length||await Promise.all(s.map(f=>lA(i,l,f)))}async function lA(i,t,s){if(!s)return;const l=s.getLabelExpression(),f=s.where;if(l.type==="arcade")await Uo(i,t,l.expression);else{const d=l.expression.match(/{[^}]*}/g);d&&d.forEach(v=>{s1(i,t,v.slice(1,-1))})}await x4(i,t,f)}function gV(i){const t=i.defaultValue;if(t!==void 0&&P4(i,t))return t;if(i.nullable)return null}function M4(i){return typeof i=="number"&&!isNaN(i)&&isFinite(i)}function hA(i){return i===null||M4(i)}const Y2=(()=>"isInteger"in Number?Number.isInteger:i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i)();function uA(i){return i===null||Y2(i)}function A4(i){return i!=null&&typeof i=="string"}function cA(i){return i===null||A4(i)}function fA(){return!0}function P4(i,t){let s;switch(i.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":s=i.nullable?uA:Y2;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":s=i.nullable?hA:M4;break;case"string":case"esriFieldTypeString":s=i.nullable?cA:A4;break;default:s=fA}return arguments.length===1?s:s(t)}const pA=["integer","small-integer","single","double"],dA=new Set([...pA,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function yA(i){return i!=null&&dA.has(i.type)}function _V(i){return i!=null&&(i.type==="string"||i.type==="esriFieldTypeString")}var $0;(function(i){i.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})($0||($0={}));var G0;(function(i){i.INVALID_TYPE="type-validation-error::invalid-type"})(G0||(G0={}));function SV(i){return i==null||typeof i=="number"&&isNaN(i)?null:i}function bV(i,t){return i==null||i.nullable&&t===null?null:yA(i)&&!mA(i.type,Number(t))?$0.OUT_OF_RANGE:P4(i,t)?i.domain?KM(i.domain,t):null:G0.INVALID_TYPE}function mA(i,t){const s=typeof i=="string"?I4(i):i;if(!s)return!1;const l=s.min,f=s.max;return s.isInteger?Y2(t)&&t>=l&&t<=f:t>=l&&t<=f}function I4(i){switch(i){case"esriFieldTypeSmallInteger":case"small-integer":return vA;case"esriFieldTypeInteger":case"integer":return wA;case"esriFieldTypeBigInteger":case"big-integer":return gA;case"esriFieldTypeSingle":case"single":return _A;case"esriFieldTypeDouble":case"double":return SA}}const vA={min:-32768,max:32767,isInteger:!0},wA={min:-2147483648,max:2147483647,isInteger:!0},gA={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0},_A={min:-34e37,max:12e37,isInteger:!1},SA={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function TV(i,t,s){switch(i){case xo.INVALID_CODED_VALUE:return`Value ${s} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case xo.VALUE_OUT_OF_RANGE:return`Value ${s} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case G0.INVALID_TYPE:return`Value ${s} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case $0.OUT_OF_RANGE:{const{min:l,max:f}=I4(t.type);return`Value ${s} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${l} to ${f}`}}}function EV(i,t){return!bA(i,t,null)}function bA(i,t,s){if(!t||!t.attributes||!i){if(s!=null)for(const d of i??[])s.add(d);return!0}const l=t.attributes;let f=!1;for(const d of i)if(!(d in l))if(f=!0,s!=null)s.add(d);else break;return f}function xV(i){return i?["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>i.toLowerCase().startsWith(t)):!1}let V0=class extends bt{constructor(t){super(t),this.type=null}};E([A({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],V0.prototype,"type",void 0);V0=E([q("esri.popup.content.Content")],V0);const Qn=V0;var cd;let $o=cd=class extends Qn{constructor(t){super(t),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new cd({description:this.description,displayType:this.displayType,title:this.title})}};E([A({type:String,json:{write:!0}})],$o.prototype,"description",void 0);E([A({type:["auto","preview","list"],json:{write:!0}})],$o.prototype,"displayType",void 0);E([A({type:String,json:{write:!0}})],$o.prototype,"title",void 0);E([A({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],$o.prototype,"type",void 0);$o=cd=E([q("esri.popup.content.AttachmentsContent")],$o);const B0=$o;var fd;let Go=fd=class extends Qn{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new fd({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ht(this.outFields):null})}};E([A()],Go.prototype,"creator",void 0);E([A()],Go.prototype,"destroyer",void 0);E([A()],Go.prototype,"outFields",void 0);E([A({type:["custom"],readOnly:!0})],Go.prototype,"type",void 0);Go=fd=E([q("esri.popup.content.CustomContent")],Go);const TA=Go;var pd;let nl=pd=class extends bt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new pd({title:this.title,expression:this.expression})}};E([A({type:String,json:{write:!0}})],nl.prototype,"title",void 0);E([A({type:String,json:{write:!0}})],nl.prototype,"expression",void 0);E([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],nl.prototype,"returnType",void 0);nl=pd=E([q("esri.popup.ElementExpressionInfo")],nl);const EA=nl;var dd;let Hh=dd=class extends Qn{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new dd({expressionInfo:(t=this.expressionInfo)==null?void 0:t.clone()})}};E([A({type:EA,json:{write:!0}})],Hh.prototype,"expressionInfo",void 0);E([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Hh.prototype,"type",void 0);Hh=dd=E([q("esri.popup.content.ExpressionContent")],Hh);const q2=Hh,Wh=Mi()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Wh.toJSON.bind(Wh);Wh.fromJSON.bind(Wh);const Rr={year:"numeric",month:"numeric",day:"numeric"},Hl={year:"numeric",month:"long",day:"numeric"},Wl={year:"numeric",month:"short",day:"numeric"},Jl={year:"numeric",month:"long",weekday:"long",day:"numeric"},Vi={hour:"numeric",minute:"numeric"},nr={...Vi,second:"numeric"},Z2={"short-date":Rr,"short-date-short-time":{...Rr,...Vi},"short-date-short-time-24":{...Rr,...Vi,hour12:!1},"short-date-long-time":{...Rr,...nr},"short-date-long-time-24":{...Rr,...nr,hour12:!1},"short-date-le":Rr,"short-date-le-short-time":{...Rr,...Vi},"short-date-le-short-time-24":{...Rr,...Vi,hour12:!1},"short-date-le-long-time":{...Rr,...nr},"short-date-le-long-time-24":{...Rr,...nr,hour12:!1},"long-month-day-year":Hl,"long-month-day-year-short-time":{...Hl,...Vi},"long-month-day-year-short-time-24":{...Hl,...Vi,hour12:!1},"long-month-day-year-long-time":{...Hl,...nr},"long-month-day-year-long-time-24":{...Hl,...nr,hour12:!1},"day-short-month-year":Wl,"day-short-month-year-short-time":{...Wl,...Vi},"day-short-month-year-short-time-24":{...Wl,...Vi,hour12:!1},"day-short-month-year-long-time":{...Wl,...nr},"day-short-month-year-long-time-24":{...Wl,...nr,hour12:!1},"long-date":Jl,"long-date-short-time":{...Jl,...Vi},"long-date-short-time-24":{...Jl,...Vi,hour12:!1},"long-date-long-time":{...Jl,...nr},"long-date-long-time-24":{...Jl,...nr,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Vi,"long-time":nr},Jh=Mi()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Jh.apiValues;Jh.toJSON.bind(Jh);Jh.fromJSON.bind(Jh);const xA={ar:"ar-u-nu-latn-ca-gregory"};let yd=new WeakMap,C4=Z2["short-date-short-time"];U2(()=>{yd=new WeakMap,C4=Z2["short-date-short-time"]});function MA(i){const t=i||C4;let s=yd.get(t);if(!s){const l=gr(),f=xA[gr()]||l;s=new Intl.DateTimeFormat(f,t),yd.set(t,s)}return s}function AA(i){return i?Z2[i]:null}function Kh(i,t){return MA(t).format(i)}const PA={ar:"ar-u-nu-latn"};let Xc=new WeakMap,O4={};U2(()=>{Xc=new WeakMap,O4={}});function IA(i){const t=i||O4;if(!Xc.has(t)){const s=gr(),l=PA[gr()]||s;Xc.set(t,new Intl.NumberFormat(l,i))}return Xc.get(t)}function CA(i={}){const t={};return i.digitSeparator!=null&&(t.useGrouping=i.digitSeparator),i.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=i.places),t}function Yh(i,t){return Object.is(i,-0)&&(i=0),IA(t).format(i)}var md;let Vo=md=class extends bt{constructor(t){super(t),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new md({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(t){return this.dateFormat?Kh(t,{...AA(this.dateFormat),...this.dateTimeFormatOptions}):Yh(t,CA(this))}formatRasterPixelValue(t){if(t.includes("-"))return t;let s,l;return t.trim().includes(",")?(s=",",l=s+" ",this._formatDelimitedString(t,s,l,this)):t.trim().includes(";")?(s=";",l=s+" ",this._formatDelimitedString(t,s,l,this)):t.trim().includes(" ")?(s=l=" ",this._formatDelimitedString(t,s,l,this)):this.format(Number(t))}_formatDelimitedString(t,s,l,f){return!t||!s||!l||!f?t:t.trim().split(s).map(d=>this.format(Number(d))).join(l)}};E([$t(Wh)],Vo.prototype,"dateFormat",void 0);E([A({type:Object,json:{read:!1}})],Vo.prototype,"dateTimeFormatOptions",void 0);E([A({type:Boolean,json:{write:!0}})],Vo.prototype,"digitSeparator",void 0);E([A({type:ze,json:{write:!0}})],Vo.prototype,"places",void 0);Vo=md=E([q("esri.popup.support.FieldInfoFormat")],Vo);const OA=Vo;var vd;let Tr=vd=class extends bt{constructor(t){super(t),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new vd({fieldName:this.fieldName,format:this.format?ht(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};E([A({type:String,json:{write:!0}})],Tr.prototype,"fieldName",void 0);E([A({type:OA,json:{write:!0}})],Tr.prototype,"format",void 0);E([A({type:Boolean,json:{write:!0,default:!1}})],Tr.prototype,"isEditable",void 0);E([A({type:String,json:{write:!0}})],Tr.prototype,"label",void 0);E([$t(new ii({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Tr.prototype,"stringFieldOption",void 0);E([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Tr.prototype,"statisticType",void 0);E([A({type:String,json:{write:!0}})],Tr.prototype,"tooltip",void 0);E([A({type:Boolean,json:{write:!0}})],Tr.prototype,"visible",void 0);Tr=vd=E([q("esri.popup.FieldInfo")],Tr);const N4=Tr;var wd;let Cs=wd=class extends Qn{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,s){s.fieldInfos=t&&t.map(l=>l.toJSON())}clone(){return new wd(ht({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};E([A({type:Object,json:{write:!0}})],Cs.prototype,"attributes",void 0);E([A({type:String,json:{write:!0}})],Cs.prototype,"description",void 0);E([A({type:[N4]})],Cs.prototype,"fieldInfos",void 0);E([se("fieldInfos")],Cs.prototype,"writeFieldInfos",null);E([A({type:String,json:{write:!0}})],Cs.prototype,"title",void 0);E([A({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Cs.prototype,"type",void 0);Cs=wd=E([q("esri.popup.content.FieldsContent")],Cs);const H0=Cs;let Bo=class extends bt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};E([A({type:String,json:{write:!0}})],Bo.prototype,"altText",void 0);E([A({type:String,json:{write:!0}})],Bo.prototype,"caption",void 0);E([A({type:String,json:{write:!0}})],Bo.prototype,"title",void 0);E([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Bo.prototype,"type",void 0);Bo=E([q("esri.popup.content.mixins.MediaInfo")],Bo);const X2=Bo;var gd;let ol=gd=class extends Et{constructor(t){super(t),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new gd({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};E([A()],ol.prototype,"fieldName",void 0);E([A()],ol.prototype,"tooltip",void 0);E([A()],ol.prototype,"value",void 0);ol=gd=E([q("esri.popup.content.support.ChartMediaInfoValueSeries")],ol);const NA=ol;var _d;let Ho=_d=class extends bt{constructor(t){super(t),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new _d({fields:ht(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};E([A({type:[String],json:{write:!0}})],Ho.prototype,"fields",void 0);E([A({type:String,json:{write:!0}})],Ho.prototype,"normalizeField",void 0);E([A({type:[NA],json:{read:!1}})],Ho.prototype,"series",void 0);E([A({type:String,json:{write:!0}})],Ho.prototype,"tooltipField",void 0);Ho=_d=E([q("esri.popup.content.support.ChartMediaInfoValue")],Ho);const LA=Ho;let qh=class extends X2{constructor(t){super(t),this.type=null,this.value=null}};E([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],qh.prototype,"type",void 0);E([A({type:LA,json:{write:!0}})],qh.prototype,"value",void 0);qh=E([q("esri.popup.content.mixins.ChartMediaInfo")],qh);const n1=qh,o1=Mi()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Sd;let W0=Sd=class extends n1{constructor(t){super(t),this.type="bar-chart"}clone(){return new Sd({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};E([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:o1.write}})],W0.prototype,"type",void 0);W0=Sd=E([q("esri.popup.content.BarChartMediaInfo")],W0);const L4=W0;var bd;let J0=bd=class extends n1{constructor(t){super(t),this.type="column-chart"}clone(){return new bd({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};E([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:o1.write}})],J0.prototype,"type",void 0);J0=bd=E([q("esri.popup.content.ColumnChartMediaInfo")],J0);const R4=J0;var Td;let Zh=Td=class extends bt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new Td({linkURL:this.linkURL,sourceURL:this.sourceURL})}};E([A({type:String,json:{write:!0}})],Zh.prototype,"linkURL",void 0);E([A({type:String,json:{write:!0}})],Zh.prototype,"sourceURL",void 0);Zh=Td=E([q("esri.popup.content.support.ImageMediaInfoValue")],Zh);const RA=Zh;var Ed;let al=Ed=class extends X2{constructor(t){super(t),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new Ed({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};E([A({type:Number,json:{write:!0}})],al.prototype,"refreshInterval",void 0);E([A({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],al.prototype,"type",void 0);E([A({type:RA,json:{write:!0}})],al.prototype,"value",void 0);al=Ed=E([q("esri.popup.content.ImageMediaInfo")],al);const D4=al;var xd;let K0=xd=class extends n1{constructor(t){super(t),this.type="line-chart"}clone(){return new xd({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};E([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:o1.write}})],K0.prototype,"type",void 0);K0=xd=E([q("esri.popup.content.LineChartMediaInfo")],K0);const j4=K0;var Md;let Y0=Md=class extends n1{constructor(t){super(t),this.type="pie-chart"}clone(){return new Md({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};E([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:o1.write}})],Y0.prototype,"type",void 0);Y0=Md=E([q("esri.popup.content.PieChartMediaInfo")],Y0);const k4=Y0,F4={base:X2,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":L4,"column-chart":R4,"line-chart":j4,"pie-chart":k4,image:D4}};var Ad;let Er=Ad=class extends Qn{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(s=>{if(s.type==="image")return D4.fromJSON(s);if(s.type==="barchart")return L4.fromJSON(s);if(s.type==="columnchart")return R4.fromJSON(s);if(s.type==="linechart")return j4.fromJSON(s);if(s.type==="piechart")return k4.fromJSON(s)}).filter(Boolean)}writeMediaInfos(t,s){s.mediaInfos=t&&t.map(l=>l.toJSON())}clone(){return new Ad(ht({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};E([A()],Er.prototype,"activeMediaInfoIndex",void 0);E([A({type:Object,json:{write:!0}})],Er.prototype,"attributes",void 0);E([A({type:String,json:{write:!0}})],Er.prototype,"description",void 0);E([A({types:[F4]})],Er.prototype,"mediaInfos",void 0);E([ne("mediaInfos")],Er.prototype,"readMediaInfos",null);E([se("mediaInfos")],Er.prototype,"writeMediaInfos",null);E([A({type:String,json:{write:!0}})],Er.prototype,"title",void 0);E([A({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Er.prototype,"type",void 0);Er=Ad=E([q("esri.popup.content.MediaContent")],Er);const q0=Er;var Pd;let Xh=Pd=class extends bt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new Pd({field:this.field,order:this.order})}};E([A({type:String,json:{write:!0}})],Xh.prototype,"field",void 0);E([A({type:["asc","desc"],json:{write:!0}})],Xh.prototype,"order",void 0);Xh=Pd=E([q("esri.popup.support.RelatedRecordsInfoFieldOrder")],Xh);const z4=Xh;let Yr=class extends Xn(Qn){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};E([A({type:String,json:{write:!0}})],Yr.prototype,"description",void 0);E([A({type:Number,json:{type:ze,write:!0}})],Yr.prototype,"displayCount",void 0);E([A({type:["list"],json:{write:!0}})],Yr.prototype,"displayType",void 0);E([A({type:[z4],json:{write:!0}})],Yr.prototype,"orderByFields",void 0);E([A({type:Number,json:{type:ze,write:!0}})],Yr.prototype,"relationshipId",void 0);E([A({type:String,json:{write:!0}})],Yr.prototype,"title",void 0);E([A({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Yr.prototype,"type",void 0);Yr=E([q("esri.popup.content.RelationshipContent")],Yr);const Z0=Yr;var Id;let Qh=Id=class extends Qn{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new Id({text:this.text})}};E([A({type:String,json:{write:!0}})],Qh.prototype,"text",void 0);E([A({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Qh.prototype,"type",void 0);Qh=Id=E([q("esri.popup.content.TextContent")],Qh);const X0=Qh,DA={base:null,key:"type",typeMap:{attachment:B0,media:q0,text:X0,expression:q2,field:H0,relationship:Z0}};var Cd;let Wo=Cd=class extends bt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Cd({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};E([A({type:String,json:{write:!0}})],Wo.prototype,"name",void 0);E([A({type:String,json:{write:!0}})],Wo.prototype,"title",void 0);E([A({type:String,json:{write:!0}})],Wo.prototype,"expression",void 0);E([A({type:["string","number"],json:{write:!0}})],Wo.prototype,"returnType",void 0);Wo=Cd=E([q("esri.popup.ExpressionInfo")],Wo);const jA=Wo;var Od;let tu=Od=class extends bt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Od({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};E([A({type:Boolean,json:{write:!0}})],tu.prototype,"returnTopmostRaster",void 0);E([A({type:Boolean,json:{write:!0}})],tu.prototype,"showNoDataRecords",void 0);tu=Od=E([q("esri.popup.LayerOptions")],tu);const kA=tu;var Nd;let eu=Nd=class extends bt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Nd({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ht(this.orderByFields):null})}};E([A({type:Boolean,json:{write:!0}})],eu.prototype,"showRelatedRecords",void 0);E([A({type:[z4],json:{write:!0}})],eu.prototype,"orderByFields",void 0);eu=Nd=E([q("esri.popup.RelatedRecordsInfo")],eu);const FA=eu;var Ld;let Zi=Ld=class extends J2(Et){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Ld({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};E([A()],Zi.prototype,"active",void 0);E([A()],Zi.prototype,"className",void 0);E([A()],Zi.prototype,"disabled",void 0);E([A()],Zi.prototype,"icon",void 0);E([A()],Zi.prototype,"id",void 0);E([A()],Zi.prototype,"indicator",void 0);E([A()],Zi.prototype,"title",void 0);E([A()],Zi.prototype,"type",void 0);E([A()],Zi.prototype,"visible",void 0);Zi=Ld=E([q("esri.support.actions.ActionBase")],Zi);const Q2=Zi;var Rd;let Q0=Rd=class extends Q2{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new Rd({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};E([A()],Q0.prototype,"image",void 0);Q0=Rd=E([q("esri.support.Action.ActionButton")],Q0);const zA=Q0;var Dd;let iu=Dd=class extends Q2{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new Dd({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};E([A()],iu.prototype,"image",void 0);E([A()],iu.prototype,"value",void 0);iu=Dd=E([q("esri.support.Action.ActionToggle")],iu);const UA=iu,$A="esri.PopupTemplate",GA=ct.getLogger($A),Kl="relationships/",mv="expression/",VA=kt.ofType({key:"type",defaultKeyValue:"button",base:Q2,typeMap:{button:zA,toggle:UA}}),BA={base:Qn,key:"type",typeMap:{media:q0,custom:TA,text:X0,attachments:B0,fields:H0,expression:q2,relationship:Z0}},HA=["attachments","fields","media","text","expression","relationship"];let Ye=class extends Xn(bt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(s=>Co(BA,s)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Vs(t)?t:(GA.error("content error","unsupported content value",{value:t}),null)}readContent(t,s){const{popupElements:l}=s;return Array.isArray(l)&&l.length>0?this._readPopupInfoElements(s.description,s.mediaInfos,l):this._readPopupInfo(s)}writeContent(t,s,l,f){if(typeof t=="string"){s.description=t;return}Array.isArray(t)&&(s.popupElements=t.filter(d=>HA.includes(d.type)).map(d=>d&&d.toJSON(f)),s.popupElements.forEach(d=>{d.type==="attachments"?this._writeAttachmentContent(s):d.type==="media"?this._writeMediaContent(d,s):d.type==="text"?this._writeTextContent(d,s):d.type==="relationship"&&this._writeRelationshipContent(d,s)}))}writeFieldInfos(t,s,l,f){const{content:d}=this,v=Array.isArray(d)?d:null;if(t){const w=v?v.filter(M=>M.type==="fields"):[],T=w.length&&w.every(M=>{var I;return(I=M.fieldInfos)==null?void 0:I.length});s.fieldInfos=t.filter(Boolean).map(M=>{const I=M.toJSON(f);return T&&(I.visible=!1),I})}if(v)for(const w of v)w.type==="fields"&&this._writeFieldsContent(w,s)}writeLayerOptions(t,s,l,f){s[l]=t&&(t.showNoDataRecords!==null||t.returnTopmostRaster!==null)?t.toJSON(f):null}writeTitle(t,s){s.title=t||""}async collectRequiredFields(t,s){const l=this.expressionInfos||[];await this._collectExpressionInfoFields(t,s,[...l,...this._getContentExpressionInfos(this.content,l)]),Bh(t,s,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const s=new Set;return await this.collectRequiredFields(s,t),[...s].sort()}_writeFieldsContent(t,s){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const l=ht(t.fieldInfos);Array.isArray(s.fieldInfos)?l.forEach(f=>{const d=s.fieldInfos.find(v=>v.fieldName.toLowerCase()===f.fieldName.toLowerCase());d?d.visible=!0:s.fieldInfos.push(f)}):s.fieldInfos=l}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,s){var v,w;const l=((v=t.orderByFields)==null?void 0:v.map(T=>this._toFieldOrderJSON(T,t.relationshipId)))||[],d=[...((w=s.relatedRecordsInfo)==null?void 0:w.orderByFields)||[],...l];s.relatedRecordsInfo={showRelatedRecords:!0,...(d==null?void 0:d.length)&&{orderByFields:d}}}_writeTextContent(t,s){!s.description&&t.text&&(s.description=t.text)}_writeMediaContent(t,s){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const l=ht(t.mediaInfos);Array.isArray(s.mediaInfos)?s.mediaInfos=[...s.mediaInfos,...l]:s.mediaInfos=l}_readPopupInfoElements(t,s,l){const f={description:!1,mediaInfos:!1};return l.map(d=>{if(d.type==="media")return!d.mediaInfos&&s&&!f.mediaInfos&&(d.mediaInfos=s,f.mediaInfos=!0),q0.fromJSON(d);if(d.type==="text")return!d.text&&t&&!f.description&&(d.text=t,f.description=!0),X0.fromJSON(d);if(d.type==="attachments")return B0.fromJSON(d);if(d.type==="fields")return H0.fromJSON(d);if(d.type==="expression")return q2.fromJSON(d);if(d.type==="relationship")return Z0.fromJSON(d)}).filter(Boolean)}_toRelationshipContent(t){const{field:s,order:l}=t;if(!(s!=null&&s.startsWith(Kl)))return null;const f=s.replace(Kl,"").split("/");if(f.length!==2)return null;const d=parseInt(f[0],10),v=f[1];return typeof d=="number"&&v?Z0.fromJSON({relationshipId:d,orderByFields:[{field:v,order:l}]}):null}_toFieldOrderJSON(t,s){const{order:l,field:f}=t;return{field:`${Kl}${s}/${f}`,order:l}}_readPopupInfo({description:t,mediaInfos:s,showAttachments:l,relatedRecordsInfo:f={showRelatedRecords:!1}}){const d=[];t?d.push(new X0({text:t})):d.push(new H0),Array.isArray(s)&&s.length&&d.push(q0.fromJSON({mediaInfos:s})),l&&d.push(B0.fromJSON({displayType:"auto"}));const{showRelatedRecords:v,orderByFields:w}=f;return v&&(w!=null&&w.length)&&w.forEach(T=>{const M=this._toRelationshipContent(T);M&&d.push(M)}),d.length?d:t}_getContentElementFields(t){const s=t==null?void 0:t.type;if(s==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(s==="custom")return t.outFields||[];if(s==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(s==="media"){const l=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...l.reduce((f,d)=>[...f,...this._getMediaInfoFields(d)],[])]}return s==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:s,title:l,value:f}=t,d=f||{},{fields:v,normalizeField:w,tooltipField:T,sourceURL:M,linkURL:I}=d,N=[...this._extractFieldNames(l),...this._extractFieldNames(s),...this._extractFieldNames(M),...this._extractFieldNames(I),...v??[]];return w&&N.push(w),T&&N.push(T),N}_getContentExpressionInfos(t,s){return Array.isArray(t)?t.reduce((l,f)=>[...l,...f.type==="expression"&&f.expressionInfo?[f.expressionInfo]:[]],s):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((s,l)=>[...s,...this._getContentElementFields(l)],[]):[]}async _collectExpressionInfoFields(t,s,l){l&&await Promise.all(l.map(f=>Uo(t,s,f.expression)))}_getFieldInfoFields(t){return t?t.filter(s=>typeof s.visible>"u"||!!s.visible).map(s=>s.fieldName).filter(s=>!s.startsWith(Kl)&&!s.startsWith(mv)):[]}_getActionsFields(t){return t?t.toArray().reduce((s,l)=>[...s,...this._getActionFields(l)],[]):[]}_getActionFields(t){const{className:s,title:l,type:f}=t,d=f==="button"||f==="toggle"?t.image:"";return[...this._extractFieldNames(l),...this._extractFieldNames(s),...this._extractFieldNames(d)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||typeof t!="string")return[];const s=/{[^}]*}/g,l=t.match(s);if(!l)return[];const f=/\{(\w+):.+\}/,d=l.filter(v=>!(v.indexOf(`{${Kl}`)===0||v.indexOf(`{${mv}`)===0)).map(v=>v.replace(f,"{$1}"));return d?d.map(v=>v.slice(1,-1)):[]}};E([A({type:VA})],Ye.prototype,"actions",void 0);E([A()],Ye.prototype,"content",void 0);E([_i("content")],Ye.prototype,"castContent",null);E([ne("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ye.prototype,"readContent",null);E([se("content",{popupElements:{type:kt.ofType(DA)},showAttachments:{type:Boolean},mediaInfos:{type:kt.ofType(F4)},description:{type:String},relatedRecordsInfo:{type:FA}})],Ye.prototype,"writeContent",null);E([A({type:[jA],json:{write:!0}})],Ye.prototype,"expressionInfos",void 0);E([A({type:[N4]})],Ye.prototype,"fieldInfos",void 0);E([se("fieldInfos")],Ye.prototype,"writeFieldInfos",null);E([A({type:kA})],Ye.prototype,"layerOptions",void 0);E([se("layerOptions")],Ye.prototype,"writeLayerOptions",null);E([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ye.prototype,"lastEditInfoEnabled",void 0);E([A()],Ye.prototype,"outFields",void 0);E([A()],Ye.prototype,"overwriteActions",void 0);E([A()],Ye.prototype,"returnGeometry",void 0);E([A({json:{type:String}})],Ye.prototype,"title",void 0);E([se("title")],Ye.prototype,"writeTitle",null);Ye=E([q("esri.PopupTemplate")],Ye);const WA=Ye,vv=new ii({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let JA=0,ll=class extends bt{constructor(t){super(t),this.id=`sym${JA++}`,this.type=null,this.color=new ae([0,0,0,1])}readColor(t){return t&&t[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,s){}hash(){return JSON.stringify(this.toJSON())}clone(){}};E([A({type:vv.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:vv.write}}})],ll.prototype,"type",void 0);E([A({type:ae,json:{write:{allowNull:!0}}})],ll.prototype,"color",void 0);E([ne("color")],ll.prototype,"readColor",null);ll=E([q("esri.symbols.Symbol")],ll);const ki=ll;var jd;let Cn=jd=class extends ki{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,s){return s}writeData(t,s){Object.assign(s,t)}async collectRequiredFields(t,s){var l;if(((l=this.data)==null?void 0:l.type)==="CIMSymbolReference"){const d=this.data.primitiveOverrides;if(d){const v=d.map(w=>{const T=w.valueExpressionInfo;return Uo(t,s,T.expression)});await Promise.all(v)}}}clone(){return new jd({data:ht(this.data)})}hash(){return w9(JSON.stringify(this.data)).toString()}};E([A({json:{write:!1}})],Cn.prototype,"color",void 0);E([A({json:{write:!0}})],Cn.prototype,"data",void 0);E([ne("data",["symbol"])],Cn.prototype,"readData",null);E([se("data",{})],Cn.prototype,"writeData",null);E([$t({CIMSymbolReference:"cim"},{readOnly:!0})],Cn.prototype,"type",void 0);Cn=jd=E([q("esri.symbols.CIMSymbol")],Cn);const Hu=Cn;let hl=class extends bt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,s,l){t||(s[l]=t)}};E([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],hl.prototype,"enabled",void 0);E([se("enabled")],hl.prototype,"writeEnabled",null);E([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],hl.prototype,"type",void 0);hl=E([q("esri.symbols.Symbol3DLayer")],hl);const os=hl,KA=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,YA="screenUtils.toPt: input not recognized!",U4=96;function sB(i){return i?i/72*U4:0}function Jo(i){return i?i*72/U4:0}function Ee(i){if(typeof i=="string"){const t=i.match(KA);if(t){const s=Number(t[1]),l=t[3]&&t[3].toLowerCase(),f=i.charAt(0)==="-",d=l==="px"?Jo(s):s;return f?-d:d}return console.warn(YA),null}return i}function mi(i=0,t=0){return{x:i,y:t}}function nB(i=0,t=0){return[i,t]}function qA(i,t){const s=t.transparency!=null?Z5(t.transparency):1,l=t.color;return l&&Array.isArray(l)?new ae([l[0]||0,l[1]||0,l[2]||0,s]):null}function ZA(i,t){t.color=i.toJSON().slice(0,3);const s=q5(i.a);s!==0&&(t.transparency=s)}const to={type:ae,json:{type:[ze],default:null,read:{source:["color","transparency"],reader:qA},write:{target:{color:{type:[ze]},transparency:{type:ze}},writer:ZA}}},as={type:Number,cast:Ee,json:{write:!0}};let Ko=class extends bt{constructor(t){super(t),this.color=new ae([0,0,0,1]),this.extensionLength=0,this.size=Jo(1)}clone(){}cloneProperties(){return{color:ht(this.color),size:this.size,extensionLength:this.extensionLength}}};E([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ko.prototype,"type",void 0);E([A(to)],Ko.prototype,"color",void 0);E([A({...as,json:{write:{overridePolicy(i){return{enabled:!!i}}}}})],Ko.prototype,"extensionLength",void 0);E([A(as)],Ko.prototype,"size",void 0);Ko=E([q("esri.symbols.edges.Edges3D")],Ko);const tm=Ko;var kd;let tf=kd=class extends tm{constructor(t){super(t),this.type="sketch"}clone(){return new kd(this.cloneProperties())}};E([$t({sketch:"sketch"},{readOnly:!0})],tf.prototype,"type",void 0);tf=kd=E([q("esri.symbols.edges.SketchEdges3D")],tf);const XA=tf;var Fd;let ef=Fd=class extends tm{constructor(t){super(t),this.type="solid"}clone(){return new Fd(this.cloneProperties())}};E([$t({solid:"solid"},{readOnly:!0})],ef.prototype,"type",void 0);ef=Fd=E([q("esri.symbols.support.SolidEdges3D")],ef);const QA=ef,$4={types:{key:"type",base:tm,typeMap:{solid:QA,sketch:XA}},json:{write:!0}};var zd;let Xi=zd=class extends bt{constructor(t){super(t),this.color=null}clone(){const t={color:this.color!=null?this.color.clone():null};return new zd(t)}};E([A(to)],Xi.prototype,"color",void 0);Xi=zd=E([q("esri.symbols.support.Symbol3DMaterial")],Xi);var Ud;let On=Ud=class extends os{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Ud({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};E([$t({Extrude:"extrude"},{readOnly:!0})],On.prototype,"type",void 0);E([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],On.prototype,"size",void 0);E([A({type:Xi,json:{write:!0}})],On.prototype,"material",void 0);E([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],On.prototype,"castShadows",void 0);E([A($4)],On.prototype,"edges",void 0);On=Ud=E([q("esri.symbols.ExtrudeSymbol3DLayer")],On);const G4=On;let ru=class extends ki{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};E([$t({esriSLS:"simple-line"},{readOnly:!0})],ru.prototype,"type",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],ru.prototype,"width",void 0);ru=E([q("esri.symbols.LineSymbol")],ru);const tP=ru,eP=["begin","end","begin-end"],V4=["arrow","circle","square","diamond","cross","x"];var $d;let qr=$d=class extends bt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,s,l,f){(f==null?void 0:f.origin)==="web-map"?s[l]="arrow":s[l]=t}set color(t){this._set("color",t)}readColor(t){return t&&t[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,s,l,f){(f==null?void 0:f.origin)==="web-map"||(s[l]=t)}clone(){return new $d({color:ht(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};E([A({type:["begin","end","begin-end"],json:{write:!0}})],qr.prototype,"placement",void 0);E([$t({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],qr.prototype,"type",void 0);E([A({type:V4})],qr.prototype,"style",void 0);E([se("style")],qr.prototype,"writeStyle",null);E([A({type:ae,value:null,json:{write:{allowNull:!0}}})],qr.prototype,"color",null);E([ne("color")],qr.prototype,"readColor",null);E([se("color")],qr.prototype,"writeColor",null);qr=$d=E([q("esri.symbols.LineSymbolMarker")],qr);const iP=qr;var Gd;const J1=new ii({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Os=Gd=class extends tP{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,s,l,f,d,v){if(t&&typeof t!="string")return t;const w={};return t!=null&&(w.style=t),s!=null&&(w.color=s),l!=null&&(w.width=Ee(l)),f!=null&&(w.cap=f),d!=null&&(w.join=d),v!=null&&(w.miterLimit=Ee(v)),w}clone(){var t;return new Gd({color:ht(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,s;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(s=this.marker)==null?void 0:s.hash()}`}};E([$t({esriSLS:"simple-line"},{readOnly:!0})],Os.prototype,"type",void 0);E([A({type:J1.apiValues,json:{read:J1.read,write:J1.write}})],Os.prototype,"style",void 0);E([A({type:["butt","round","square"],json:{write:{overridePolicy:(i,t,s)=>({enabled:i!=="round"&&(s==null||s.origin==null)})}}})],Os.prototype,"cap",void 0);E([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(i,t,s)=>({enabled:i!=="round"&&(s==null||s.origin==null)})}}})],Os.prototype,"join",void 0);E([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":iP}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Os.prototype,"marker",void 0);E([A({type:Number,json:{read:!1,write:!1}})],Os.prototype,"miterLimit",void 0);Os=Gd=E([q("esri.symbols.SimpleLineSymbol")],Os);const Ll=Os;let su=class extends ki{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};E([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ll}},json:{default:null,write:!0}})],su.prototype,"outline",void 0);E([A({type:["simple-fill","picture-fill"],readOnly:!0})],su.prototype,"type",void 0);su=E([q("esri.symbols.FillSymbol")],su);const B4=su;let rf=class extends bt{constructor(t){super(t)}clone(){}};E([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],rf.prototype,"type",void 0);rf=E([q("esri.symbols.patterns.LinePattern3D")],rf);const H4=rf,rP=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Vd;const sP=Mi()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let nu=Vd=class extends H4{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new Vd(t)}};E([A({type:["style"]})],nu.prototype,"type",void 0);E([$t(sP),A({type:rP})],nu.prototype,"style",void 0);nu=Vd=E([q("esri.symbols.patterns.LineStylePattern3D")],nu);const em=nu;let sf=class extends bt{constructor(t){super(t)}clone(){}};E([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],sf.prototype,"type",void 0);sf=E([q("esri.symbols.patterns.Pattern3D")],sf);const W4=sf,nP=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Bd;let ou=Bd=class extends W4{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new Bd(t)}};E([A({type:["style"]})],ou.prototype,"type",void 0);E([A({type:nP,json:{read:!0,write:!0}})],ou.prototype,"style",void 0);ou=Bd=E([q("esri.symbols.patterns.StylePattern3D")],ou);const J4=ou,oP={types:{key:"type",base:W4,typeMap:{style:J4}},json:{write:!0}},K4={types:{key:"type",base:H4,typeMap:{style:em}},json:{write:!0}},Ph=new ae("white");new ae("black");const aP=new ae([255,255,255,0]);function lP(i){return i.r===0&&i.g===0&&i.b===0}var Hd;let au=Hd=class extends Xi{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new Hd(t)}};E([$t({multiply:"multiply",replace:"replace",tint:"tint"})],au.prototype,"colorMixMode",void 0);au=Hd=E([q("esri.symbols.support.Symbol3DFillMaterial")],au);function im(i=pP){return[i[0],i[1],i[2],i[3],i[4],i[5]]}function rm(i,t,s,l,f,d,v=im()){return v[0]=i,v[1]=t,v[2]=s,v[3]=l,v[4]=f,v[5]=d,v}function _B(i,t){return isFinite(i[2])||isFinite(i[5])?new pe({xmin:i[0],xmax:i[3],ymin:i[1],ymax:i[4],zmin:i[2],zmax:i[5],spatialReference:t}):new pe({xmin:i[0],xmax:i[3],ymin:i[1],ymax:i[4],spatialReference:t})}function SB(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.min(i[2],t[2]),i[3]=Math.max(i[3],t[3]),i[4]=Math.max(i[4],t[4]),i[5]=Math.max(i[5],t[5])}function bB(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.min(i[2],t[2]),i[3]=Math.max(i[3],t[0]),i[4]=Math.max(i[4],t[1]),i[5]=Math.max(i[5],t[2])}function hP(i){return i[0]>=i[3]?0:i[3]-i[0]}function uP(i){return i[1]>=i[4]?0:i[4]-i[1]}function cP(i){return i[2]>=i[5]?0:i[5]-i[2]}function TB(i,t=[0,0,0]){return t[0]=hP(i),t[1]=uP(i),t[2]=cP(i),t}function EB(i,t,s=i){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s!==i&&(s[3]=i[3],s[4]=i[4],s[5]=i[5]),s}function xB(i,t,s=i){return s[3]=t[0],s[4]=t[1],s[5]=t[2],s!==i&&(s[0]=i[0],s[1]=i[1],s[2]=i[2]),i}function fP(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function MB(i){return i?fP(i,gv):im(gv)}function AB(i,t){return i[0]=t[0],i[1]=t[1],i[2]=Number.NEGATIVE_INFINITY,i[3]=t[2],i[4]=t[3],i[5]=Number.POSITIVE_INFINITY,i}function PB(i,t,s,l,f){return i[0]=t,i[1]=s,i[2]=Number.NEGATIVE_INFINITY,i[3]=l,i[4]=f,i[5]=Number.POSITIVE_INFINITY,i}function wv(i){return i.length===6}function IB(i,t,s){if(i==null||t==null)return i===t;if(!wv(i)||!wv(t))return!1;if(s){for(let l=0;l<i.length;l++)if(!s(i[l],t[l]))return!1}else for(let l=0;l<i.length;l++)if(i[l]!==t[l])return!1;return!0}const gv=[1/0,1/0,1/0,-1/0,-1/0,-1/0],pP=[0,0,0,0,0,0];im();function CB(i,{isPrimitive:t,width:s,depth:l,height:f}){const v=t?10:1;if(s==null&&f==null&&l==null)return[v*i[0],v*i[1],v*i[2]];const w=W5(s,l,f);let T;for(let M=0;M<3;M++){const I=w[M];if(I!=null){T=I/i[M];break}}for(let M=0;M<3;M++)w[M]==null&&(w[M]=i[M]*T);return w}const dP=rm(-.5,-.5,-.5,.5,.5,.5),yP=rm(-.5,-.5,0,.5,.5,1),mP=rm(-.5,-.5,0,.5,.5,.5);function OB(i){switch(i){case"sphere":case"cube":case"diamond":return dP;case"cylinder":case"cone":case"inverted-cone":return yP;case"tetrahedron":return mP;default:return}}const sm=["butt","square","round"],vP=[...sm,"none"],Y4=["miter","bevel","round"];var Wd;let Yo=Wd=class extends bt{constructor(t){super(t),this.color=new ae([0,0,0,1]),this.size=Jo(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Wd(t)}};E([A(to)],Yo.prototype,"color",void 0);E([A(as)],Yo.prototype,"size",void 0);E([A(K4)],Yo.prototype,"pattern",void 0);E([A({type:sm,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Yo.prototype,"patternCap",void 0);Yo=Wd=E([q("esri.symbols.support.Symbol3DOutline")],Yo);var Qc;let Ns=Qc=class extends os{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Qc(t)}static fromSimpleFillSymbol(t){var f,d,v;const s=t.outline&&t.outline.style&&t.outline.style!=="inside-frame"&&t.outline.style!=="solid"?new em({style:t.outline.style}):null,l={size:((f=t.outline)==null?void 0:f.width)??0,color:(((d=t.outline)==null?void 0:d.color)??Ph).clone(),pattern:s};return s&&((v=t.outline)!=null&&v.cap)&&(l.patternCap=t.outline.cap),new Qc({material:new au({color:(t.color??aP).clone()}),pattern:t.style&&t.style!=="solid"?new J4({style:t.style}):null,outline:l})}};E([$t({Fill:"fill"},{readOnly:!0})],Ns.prototype,"type",void 0);E([A({type:au,json:{write:!0}})],Ns.prototype,"material",void 0);E([A(oP)],Ns.prototype,"pattern",void 0);E([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ns.prototype,"castShadows",void 0);E([A({type:Yo,json:{write:!0}})],Ns.prototype,"outline",void 0);E([A($4)],Ns.prototype,"edges",void 0);Ns=Qc=E([q("esri.symbols.FillSymbol3DLayer")],Ns);const Wu=Ns,wP=["none","underline","line-through"],gP=["normal","italic","oblique"],_P=["normal","lighter","bold","bolder"],q4={type:Number,cast:i=>{const t=dr(i);return t===0?1:Hr(t,.1,4)},nonNullable:!0},SP=["left","right","center"],bP=["baseline","top","middle","bottom"],Z4={type:SP,nonNullable:!0},X4={type:bP,nonNullable:!0};var Jd;let Ls=Jd=class extends bt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Ee(t)}clone(){return new Jd({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};E([A({type:wP,json:{default:"none",write:!0}})],Ls.prototype,"decoration",void 0);E([A({type:String,json:{write:!0}})],Ls.prototype,"family",void 0);E([A({type:Number,json:{write:{overridePolicy(i,t,s){return{enabled:!s||!s.textSymbol3D}}}}})],Ls.prototype,"size",void 0);E([_i("size")],Ls.prototype,"castSize",null);E([A({type:gP,json:{default:"normal",write:!0}})],Ls.prototype,"style",void 0);E([A({type:_P,json:{default:"normal",write:!0}})],Ls.prototype,"weight",void 0);Ls=Jd=E([q("esri.symbols.Font")],Ls);const a1=Ls;function Ju(i,t){const s=t&&t.url&&t.url.path;if(i&&s&&(i=Hi(i,s,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const l=I2(i,t.portalItem.itemUrl);l!=null&&TP.test(l)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(l).path)}return Kd(i,t&&t.portal)}function l1(i,t,s=lu.YES){if(i==null)return i;!Ni(i)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(i);let l=Hi(i);if(t){const f=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(f){const d=Kd(f,t.portal),v=Kd(l,t.portal);l=I2(v,d,d);const w=l!==v;l!=null&&w&&l!==i&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(l)}}return l=t6(l,t==null?void 0:t.portal),Ni(l)&&(l=Sn(l)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Ni(l)&&!_a(l)&&s===lu.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(l),compress:!1}),l}function nm(i,t,s){return Ju(i,s)}function ul(i,t,s,l){const f=l1(i,l);f!==void 0&&(t[s]=f)}const Q4=/\/items\/([^\/]+)\/resources\/(.*)/,TP=/^\.\/resources\//;function EP(i){const t=(i==null?void 0:i.match(Q4))??null;return(t==null?void 0:t[1])??null}function xP(i){const t=(i==null?void 0:i.match(Q4))??null;if(t==null)return null;const s=t[2],l=s.lastIndexOf("/");if(l===-1){const{path:v,extension:w}=z3(s);return{prefix:null,filename:v,extension:w}}const{path:f,extension:d}=z3(s.slice(l+1));return{prefix:s.slice(0,l),filename:f,extension:d}}function t6(i,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Jp(i,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):i}function Kd(i,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return i;const s=`${t.urlKey}.${t.customBaseUrl}`,l=M2();return tl(l,`${l.scheme}://${s}`)?Jp(i,t.portalHostname,s):Jp(i,s,t.portalHostname)}var lu;(function(i){i[i.YES=0]="YES",i[i.NO=1]="NO"})(lu||(lu={}));const DB=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return lu},ensureMainOnlineDomain:t6,fromJSON:Ju,itemIdFromResourceUrl:EP,prefixAndFilenameFromResourceUrl:xP,read:nm,toJSON:l1,write:ul},Symbol.toStringTag,{value:"Module"}));var Yd;const MP=Mi()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let qo=Yd=class extends bt{constructor(t){super(t)}readHref(t,s,l){return t?Ju(t,l):s.dataURI}writeHref(t,s,l,f){t&&(_a(t)?s.dataURI=t:(s.href=l1(t,f),Ni(s.href)&&(s.href=Sn(s.href))))}clone(){return new Yd({href:this.href,primitive:this.primitive})}};E([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],qo.prototype,"href",void 0);E([ne("href")],qo.prototype,"readHref",null);E([se("href",{href:{type:String},dataURI:{type:String}})],qo.prototype,"writeHref",null);E([$t(MP)],qo.prototype,"primitive",void 0);qo=Yd=E([q("esri.symbols.support.IconSymbol3DLayerResource")],qo);var qd;let cl=qd=class extends Et{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new qd({x:this.x,y:this.y})}};E([A({type:Number})],cl.prototype,"x",void 0);E([A({type:Number})],cl.prototype,"y",void 0);cl=qd=E([q("esri.symbols.support.Symbol3DAnchorPosition2D")],cl);var Zd;let hu=Zd=class extends bt{constructor(t){super(t),this.color=new ae([0,0,0,1]),this.size=Jo(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new Zd(t)}};E([A(to)],hu.prototype,"color",void 0);E([A(as)],hu.prototype,"size",void 0);hu=Zd=E([q("esri.symbols.support.Symbol3DIconOutline")],hu);var Da;const e6="esri.symbols.IconSymbol3DLayer";let Zr=Da=class extends os{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new Da({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){const s=t.color||Ph,l=_v(t),f=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Ph).clone()}:null;return new Da({size:t.size,resource:{primitive:PP(t.style)},material:{color:s},outline:f,anchor:l?"relative":void 0,anchorPosition:l})}static fromPictureMarkerSymbol(t){const s=!t.color||lP(t.color)?Ph:t.color,l=_v(t);return new Da({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:s.clone()},anchor:l?"relative":void 0,anchorPosition:l})}static fromCIMSymbol(t){return new Da({resource:{href:d5({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};E([A({type:Xi,json:{write:!0}})],Zr.prototype,"material",void 0);E([A({type:qo,json:{write:!0}})],Zr.prototype,"resource",void 0);E([$t({Icon:"icon"},{readOnly:!0})],Zr.prototype,"type",void 0);E([A(as)],Zr.prototype,"size",void 0);E([$t({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),A({json:{default:"center"}})],Zr.prototype,"anchor",void 0);E([A({type:cl,json:{type:[Number],read:{reader:i=>new cl({x:i[0],y:i[1]})},write:{writer:(i,t)=>{t.anchorPosition=[i.x,i.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Zr.prototype,"anchorPosition",void 0);E([A({type:hu,json:{write:!0}})],Zr.prototype,"outline",void 0);Zr=Da=E([q(e6)],Zr);function _v(i){const t="width"in i?i.width:i.size,s="height"in i?i.height:i.size,l=Sv(i.xoffset),f=Sv(i.yoffset);return(l||f)&&t&&s?{x:-l/t,y:f/s}:null}function Sv(i){return isFinite(i)?i:0}const AP={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function PP(i){const t=AP[i];return t||(ct.getLogger(e6).warn(`${i} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const mo=Zr;let Zo=class extends Xn(bt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};E([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Zo.prototype,"type",void 0);E([A({type:eP,json:{default:"begin-end",write:!0}})],Zo.prototype,"placement",void 0);E([A({type:V4,json:{default:"arrow",write:!0}})],Zo.prototype,"style",void 0);E([A({type:ae,json:{type:[ze],default:null,write:!0}})],Zo.prototype,"color",void 0);Zo=E([q("esri.symbols.LineStyleMarker3D")],Zo);const Xd=Zo;var t0;let Xr=t0=class extends os{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Jo(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new t0(t)}static fromSimpleLineSymbol(t){var l;const s={enabled:!0,size:t.width??Jo(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&t.style!=="inside-frame"?new em({style:t.style}):null,material:new Xi({color:(t.color||Ph).clone()}),marker:t.marker?new Xd({placement:t.marker.placement,style:t.marker.style,color:((l=t.marker.color)==null?void 0:l.clone())??null}):null};return new t0(s)}};E([A({type:Xi,json:{write:!0}})],Xr.prototype,"material",void 0);E([$t({Line:"line"},{readOnly:!0})],Xr.prototype,"type",void 0);E([A({type:Y4,json:{write:!0,default:"miter"}})],Xr.prototype,"join",void 0);E([A({type:sm,json:{write:!0,default:"butt"}})],Xr.prototype,"cap",void 0);E([A(as)],Xr.prototype,"size",void 0);E([A(K4)],Xr.prototype,"pattern",void 0);E([A({types:{key:"type",base:Xd,typeMap:{style:Xd}},json:{write:!0}})],Xr.prototype,"marker",void 0);Xr=t0=E([q("esri.symbols.LineSymbol3DLayer")],Xr);const Ku=Xr;var Qd;const IP=Mi()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let uu=Qd=class extends bt{clone(){return new Qd({href:this.href,primitive:this.primitive})}};E([A({type:String,json:{read:nm,write:ul}})],uu.prototype,"href",void 0);E([$t(IP)],uu.prototype,"primitive",void 0);uu=Qd=E([q("esri.symbols.support.ObjectSymbol3DLayerResource")],uu);var ty;let Xo=ty=class extends Et{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ty({x:this.x,y:this.y,z:this.z})}};E([A({type:Number})],Xo.prototype,"x",void 0);E([A({type:Number})],Xo.prototype,"y",void 0);E([A({type:Number})],Xo.prototype,"z",void 0);Xo=ty=E([q("esri.symbols.support.Symbol3DAnchorPosition3D")],Xo);var ey;let ui=ey=class extends os{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ey({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};E([A({type:Xi,json:{write:!0}})],ui.prototype,"material",void 0);E([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ui.prototype,"castShadows",void 0);E([A({type:uu,json:{write:!0}})],ui.prototype,"resource",void 0);E([$t({Object:"object"},{readOnly:!0})],ui.prototype,"type",void 0);E([A({type:Number,json:{write:!0}})],ui.prototype,"width",void 0);E([A({type:Number,json:{write:!0}})],ui.prototype,"height",void 0);E([A({type:Number,json:{write:!0}})],ui.prototype,"depth",void 0);E([$t({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),A({json:{default:"origin"}})],ui.prototype,"anchor",void 0);E([A({type:Xo,json:{type:[Number],read:{reader:i=>new Xo({x:i[0],y:i[1],z:i[2]})},write:{writer:(i,t)=>{t.anchorPosition=[i.x,i.y,i.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ui.prototype,"anchorPosition",void 0);E([A({type:Number,json:{write:!0}})],ui.prototype,"heading",void 0);E([A({type:Number,json:{write:!0}})],ui.prototype,"tilt",void 0);E([A({type:Number,json:{write:!0}})],ui.prototype,"roll",void 0);E([A({readOnly:!0})],ui.prototype,"isPrimitive",null);ui=ey=E([q("esri.symbols.ObjectSymbol3DLayer")],ui);const om=ui;var iy;let gi=iy=class extends os{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,s){return t??(s.height==null&&s.size!=null?s.size:void 0)}readHeight(t,s){return t??(s.width==null&&s.size!=null?s.size:void 0)}clone(){return new iy({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};E([A({type:Xi,json:{write:!0}})],gi.prototype,"material",void 0);E([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],gi.prototype,"castShadows",void 0);E([$t({Path:"path"},{readOnly:!0})],gi.prototype,"type",void 0);E([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],gi.prototype,"profile",void 0);E([A({type:Y4,json:{write:!0,default:"miter"}})],gi.prototype,"join",void 0);E([A({type:vP,json:{write:!0,default:"butt"}})],gi.prototype,"cap",void 0);E([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],gi.prototype,"width",void 0);E([ne("width",["width","size","height"])],gi.prototype,"readWidth",null);E([A({type:Number,json:{write:!0}})],gi.prototype,"height",void 0);E([ne("height",["height","size","width"])],gi.prototype,"readHeight",null);E([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],gi.prototype,"anchor",void 0);E([A({type:["heading","all"],json:{write:!0,default:"all"}})],gi.prototype,"profileRotation",void 0);gi=iy=E([q("esri.symbols.PathSymbol3DLayer")],gi);const am=gi;var ry;let fl=ry=class extends bt{constructor(){super(...arguments),this.color=new ae([0,0,0,1]),this.size=0}clone(){const t={color:ht(this.color),size:this.size};return new ry(t)}};E([A(to)],fl.prototype,"color",void 0);E([A(as)],fl.prototype,"size",void 0);fl=ry=E([q("esri.symbols.support.Symbol3DHalo")],fl);let cu=class extends Xn(bt){constructor(t){super(t),this.color=null}};E([A(to)],cu.prototype,"color",void 0);cu=E([q("esri.symbols.support.Symbol3DTextBackground")],cu);var e0;let Ti=e0=class extends os{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,s,l,f){const d={...f,textSymbol3D:!0};s.font=t.write({},d),delete s.font.size}get size(){return this._userSize!=null?this._userSize:this.font!=null&&this.font.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new e0({enabled:this.enabled,font:this.font&&ht(this.font),halo:this.halo&&ht(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ht(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new e0({font:t.font!=null?t.font.clone():new a1,halo:CP(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new Xi({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new cu({color:t.backgroundColor.clone()}):null})}};E([A({type:a1,json:{write:!0}})],Ti.prototype,"font",null);E([se("font")],Ti.prototype,"writeFont",null);E([A({type:fl,json:{write:!0}})],Ti.prototype,"halo",void 0);E([A({...Z4,json:{default:"center",write:!0}})],Ti.prototype,"horizontalAlignment",void 0);E([A({...q4,json:{default:1,write:!0}})],Ti.prototype,"lineHeight",void 0);E([A({type:Xi,json:{write:!0}})],Ti.prototype,"material",void 0);E([A({type:cu,json:{write:!0}})],Ti.prototype,"background",void 0);E([A(as)],Ti.prototype,"size",null);E([A({type:String,json:{write:!0}})],Ti.prototype,"text",void 0);E([$t({Text:"text"},{readOnly:!0})],Ti.prototype,"type",void 0);E([A({...X4,json:{default:"baseline",write:!0}})],Ti.prototype,"verticalAlignment",void 0);Ti=e0=E([q("esri.symbols.TextSymbol3DLayer")],Ti);function CP(i,t){return i&&t!=null&&t>0?new fl({color:ht(i),size:t}):null}const Rl=Ti;var sy;let Nn=sy=class extends os{constructor(t){super(t),this.color=ny.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new sy({color:ht(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};E([A({type:ae,nonNullable:!0,json:{type:[ze],write:(i,t,s)=>t[s]=i.toArray(ae.AlphaMode.UNLESS_OPAQUE),default:()=>ny.clone(),defaultEquals:i=>i.toCss(!0)===ny.toCss(!0)}})],Nn.prototype,"color",void 0);E([$t({Water:"water"},{readOnly:!0})],Nn.prototype,"type",void 0);E([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Nn.prototype,"waterbodySize",void 0);E([A({type:Number,json:{write:!0,default:null}})],Nn.prototype,"waveDirection",void 0);E([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Nn.prototype,"waveStrength",void 0);Nn=sy=E([q("esri.symbols.WaterSymbol3DLayer")],Nn);const ny=new ae([0,119,190]),i6=Nn;var oy;let Qo=oy=class extends Et{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new oy({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};E([A({type:String})],Qo.prototype,"name",void 0);E([A({type:String})],Qo.prototype,"styleUrl",void 0);E([A({type:String})],Qo.prototype,"styleName",void 0);E([A({type:As})],Qo.prototype,"portal",void 0);Qo=oy=E([q("esri.symbols.support.StyleOrigin")],Qo);const ay=Qo;var ly;let fu=ly=class extends Et{constructor(){super(...arguments),this.url=""}clone(){return new ly({url:this.url})}};E([A({type:String})],fu.prototype,"url",void 0);fu=ly=E([q("esri.symbols.support.Thumbnail")],fu);const r6={icon:mo,object:om,line:Ku,path:am,fill:Wu,extrude:G4,text:Rl,water:i6},OP=kt.ofType({base:os,key:"type",typeMap:r6,errorContext:"symbol-layer"});let Qr=class extends ki{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const s=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,f=s&&s.type||kt;this._set("symbolLayers",new f)}get color(){return null}set color(t){this.constructed&&ct.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){No(t,this._get("symbolLayers"))}readStyleOrigin(t,s,l){if(t.styleUrl&&t.name){const f=Ju(t.styleUrl,l);return new ay({styleUrl:f,name:t.name})}if(t.styleName&&t.name)return new ay({portal:l&&l.portal||As.getDefault(),styleName:t.styleName,name:t.name});l&&l.messages&&l.messages.push(new xs("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:l,definition:t}))}writeStyleOrigin(t,s,l,f){if(t.styleUrl&&t.name){let d=l1(t.styleUrl,f);Ni(d)&&(d=Sn(d)),s.styleOrigin={styleUrl:d,name:t.name}}else t.styleName&&t.name&&(t.portal&&f&&f.portal&&!UT(t.portal.restUrl,f.portal.restUrl)?f&&f.messages&&f.messages.push(new xs("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):s.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof os||t&&r6[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};E([A({json:{read:!1,write:!1}})],Qr.prototype,"color",null);E([A({type:OP,nonNullable:!0,json:{write:!0}}),_i(r5)],Qr.prototype,"symbolLayers",null);E([A({type:ay})],Qr.prototype,"styleOrigin",void 0);E([ne("styleOrigin")],Qr.prototype,"readStyleOrigin",null);E([se("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Qr.prototype,"writeStyleOrigin",null);E([A({type:fu,json:{read:!1}})],Qr.prototype,"thumbnail",void 0);E([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Qr.prototype,"type",void 0);Qr=E([q("esri.symbols.Symbol3D")],Qr);const Yu=Qr;let pu=class extends bt{constructor(t){super(t),this.visible=!0}clone(){}};E([A({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],pu.prototype,"type",void 0);E([A({readOnly:!0})],pu.prototype,"visible",void 0);pu=E([q("esri.symbols.callouts.Callout3D")],pu);const s6=pu;var hy;let nf=hy=class extends bt{constructor(){super(...arguments),this.color=new ae("white")}clone(){return new hy({color:ht(this.color)})}};E([A(to)],nf.prototype,"color",void 0);nf=hy=E([q("esri.symbols.callouts.LineCallout3DBorder")],nf);const NP=nf;var uy;let Ln=uy=class extends s6{constructor(t){super(t),this.type="line",this.color=new ae([0,0,0,1]),this.size=Jo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new uy({color:ht(this.color),size:this.size,border:ht(this.border)})}};E([$t({line:"line"},{readOnly:!0})],Ln.prototype,"type",void 0);E([A(to)],Ln.prototype,"color",void 0);E([A(as)],Ln.prototype,"size",void 0);E([A({type:NP,json:{write:!0}})],Ln.prototype,"border",void 0);E([A({readOnly:!0})],Ln.prototype,"visible",null);Ln=uy=E([q("esri.symbols.callouts.LineCallout3D")],Ln);const LP=Ln;function lm(i){if(!i)return!1;const t=i.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function n6(i){if(!i||!i.supportsCallout||!i.supportsCallout())return!1;const t=i.callout;return!t||!t.visible?!1:!!lm(i)}const o6={types:{key:"type",base:s6,typeMap:{line:LP}},json:{write:!0}};var cy;let pl=cy=class extends bt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new cy({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};E([A(as)],pl.prototype,"screenLength",void 0);E([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],pl.prototype,"minWorldLength",void 0);E([A({type:Number,json:{write:!0}})],pl.prototype,"maxWorldLength",void 0);pl=cy=E([q("esri.symbols.support.Symbol3DVerticalOffset")],pl);const a6=pl;var i0;const l6=kt.ofType({base:null,key:"type",typeMap:{text:Rl}});let Rn=i0=class extends Yu{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new l6,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return n6(this)}hasVisibleVerticalOffset(){return lm(this)}clone(){return new i0({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail),callout:ht(this.callout),verticalOffset:ht(this.verticalOffset)})}static fromTextSymbol(t){return new i0({symbolLayers:[Rl.fromTextSymbol(t)]})}};E([A({type:a6,json:{write:!0}})],Rn.prototype,"verticalOffset",void 0);E([A(o6)],Rn.prototype,"callout",void 0);E([A({json:{read:!1,write:!1}})],Rn.prototype,"styleOrigin",void 0);E([A({type:l6})],Rn.prototype,"symbolLayers",void 0);E([$t({LabelSymbol3D:"label-3d"},{readOnly:!0})],Rn.prototype,"type",void 0);Rn=i0=E([q("esri.symbols.LabelSymbol3D")],Rn);const hm=Rn;var r0;const h6=kt.ofType({base:null,key:"type",typeMap:{line:Ku,path:am}}),RP=kt.ofType({base:null,key:"type",typeMap:{line:Ku,path:am}});let du=r0=class extends Yu{constructor(t){super(t),this.symbolLayers=new h6,this.type="line-3d"}clone(){return new r0({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleLineSymbol(t){return new r0({symbolLayers:[Ku.fromSimpleLineSymbol(t)]})}};E([A({type:h6,json:{type:RP}})],du.prototype,"symbolLayers",void 0);E([$t({LineSymbol3D:"line-3d"},{readOnly:!0})],du.prototype,"type",void 0);du=r0=E([q("esri.symbols.LineSymbol3D")],du);const um=du;let Dn=class extends ki{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};E([A({type:Number,json:{read:i=>i&&-1*i,write:(i,t)=>t.angle=i&&-1*i}})],Dn.prototype,"angle",void 0);E([A({type:["simple-marker","picture-marker"],readOnly:!0})],Dn.prototype,"type",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],Dn.prototype,"xoffset",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],Dn.prototype,"yoffset",void 0);E([A({type:Number,cast:i=>i==="auto"?i:Ee(i),json:{write:!0}})],Dn.prototype,"size",void 0);Dn=E([q("esri.symbols.MarkerSymbol")],Dn);const u6=Dn;var s0;const c6=kt.ofType({base:null,key:"type",typeMap:{fill:Wu}});let yu=s0=class extends Yu{constructor(t){super(t),this.symbolLayers=new c6,this.type="mesh-3d"}clone(){return new s0({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleFillSymbol(t){return new s0({symbolLayers:[Wu.fromSimpleFillSymbol(t)]})}};E([A({type:c6})],yu.prototype,"symbolLayers",void 0);E([$t({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],yu.prototype,"type",void 0);yu=s0=E([q("esri.symbols.MeshSymbol3D")],yu);const cm=yu;function DP(i,t,s){return t.imageData?d5({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):f6(t.url,s)}function f6(i,t){var s;return kP(t)&&!Ni(i)&&((s=t==null?void 0:t.layer)!=null&&s.parsedUrl)?e1(t.layer.parsedUrl.path,"images",i):Ju(i,t)}function jP(i,t,s,l){if(_a(i)){const f=zh(i);if(!f)return;t.contentType=f.mediaType,t.imageData=f.data,s&&s.imageData===t.imageData&&s.url&&ul(s.url,t,"url",l)}else ul(i,t,"url",l)}const p6={json:{read:{source:["imageData","url"],reader:DP},write:{writer(i,t,s,l){jP(i,t,this.source,l)}}}},d6={readOnly:!0,json:{read:{source:["imageData","url"],reader(i,t,s){const l={};return t.imageData&&(l.imageData=t.imageData),t.contentType&&(l.contentType=t.contentType),t.url&&(l.url=f6(t.url,s)),l}}}};function kP(i){var t,s;return i!=null&&(i.origin==="service"||i.origin==="portal-item")&&(((t=i.layer)==null?void 0:t.type)==="feature"||((s=i.layer)==null?void 0:s.type)==="stream")}var fy;let Qi=fy=class extends B4{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,s,l,f){if(t&&typeof t!="string"&&t.imageData==null)return t;const d={};return t&&(d.url=t),s&&(d.outline=s),l!=null&&(d.width=Ee(l)),f!=null&&(d.height=Ee(f)),d}clone(){const t=new fy({color:ht(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",ht(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};E([$t({esriPFS:"picture-fill"},{readOnly:!0})],Qi.prototype,"type",void 0);E([A(p6)],Qi.prototype,"url",void 0);E([A({type:Number,json:{write:!0}})],Qi.prototype,"xscale",void 0);E([A({type:Number,json:{write:!0}})],Qi.prototype,"yscale",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],Qi.prototype,"width",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],Qi.prototype,"height",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],Qi.prototype,"xoffset",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],Qi.prototype,"yoffset",void 0);E([A(d6)],Qi.prototype,"source",void 0);Qi=fy=E([q("esri.symbols.PictureFillSymbol")],Qi);const y6=Qi;var py;let xr=py=class extends u6{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,s,l){if(t&&typeof t!="string"&&t.imageData==null)return t;const f={};return t&&(f.url=t),s!=null&&(f.width=Ee(s)),l!=null&&(f.height=Ee(l)),f}readHeight(t,s){return s.size||t}readWidth(t,s){return s.size||t}clone(){const t=new py({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",ht(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};E([A({json:{write:!1}})],xr.prototype,"color",void 0);E([$t({esriPMS:"picture-marker"},{readOnly:!0})],xr.prototype,"type",void 0);E([A(p6)],xr.prototype,"url",void 0);E([A(d6)],xr.prototype,"source",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],xr.prototype,"height",void 0);E([ne("height",["height","size"])],xr.prototype,"readHeight",null);E([A({type:Number,cast:Ee,json:{write:!0}})],xr.prototype,"width",void 0);E([A({json:{write:!1}})],xr.prototype,"size",void 0);xr=py=E([q("esri.symbols.PictureMarkerSymbol")],xr);const fm=xr;var ln;const m6=kt.ofType({base:null,key:"type",typeMap:{icon:mo,object:om,text:Rl}});let ta=ln=class extends Yu{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new m6,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const s of this.symbolLayers.items)switch(s.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return n6(this)}hasVisibleVerticalOffset(){return lm(this)}clone(){return new ln({verticalOffset:ht(this.verticalOffset),callout:ht(this.callout),styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new ln({symbolLayers:[mo.fromSimpleMarkerSymbol(t)]})}static fromPictureMarkerSymbol(t){return new ln({symbolLayers:[mo.fromPictureMarkerSymbol(t)]})}static fromCIMSymbol(t){var f,d;if(((d=(f=t.data)==null?void 0:f.symbol)==null?void 0:d.type)!=="CIMPointSymbol")return null;const l=t.data.symbol;return l!=null&&l.callout?new ln({symbolLayers:[mo.fromCIMSymbol(t)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new ln({symbolLayers:[mo.fromCIMSymbol(t)]})}static fromTextSymbol(t){return new ln({symbolLayers:[Rl.fromTextSymbol(t)]})}};E([A({type:a6,json:{write:!0}})],ta.prototype,"verticalOffset",void 0);E([A(o6)],ta.prototype,"callout",void 0);E([A({type:m6,json:{origins:{"web-scene":{write:!0}}}})],ta.prototype,"symbolLayers",void 0);E([$t({PointSymbol3D:"point-3d"},{readOnly:!0})],ta.prototype,"type",void 0);ta=ln=E([q("esri.symbols.PointSymbol3D")],ta);const pm=ta;var uh;const v6=kt.ofType({base:null,key:"type",typeMap:{extrude:G4,fill:Wu,icon:mo,line:Ku,object:om,text:Rl,water:i6}});let mu=uh=class extends Yu{constructor(t){super(t),this.symbolLayers=new v6,this.type="polygon-3d"}clone(){return new uh({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromJSON(t){const s=new uh;if(s.read(t),s.symbolLayers.length===2&&s.symbolLayers.getItemAt(0).type==="fill"&&s.symbolLayers.getItemAt(1).type==="line"){const l=s.symbolLayers.getItemAt(0),f=s.symbolLayers.getItemAt(1);f.enabled&&(!t.symbolLayers||!t.symbolLayers[1]||t.symbolLayers[1].enable!==!1)&&(l.outline={size:f.size,color:f.material!=null?f.material.color:null}),s.symbolLayers.removeAt(1)}return s}static fromSimpleFillSymbol(t){return new uh({symbolLayers:[Wu.fromSimpleFillSymbol(t)]})}};E([A({type:v6,json:{write:!0}})],mu.prototype,"symbolLayers",void 0);E([$t({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],mu.prototype,"type",void 0);mu=uh=E([q("esri.symbols.PolygonSymbol3D")],mu);const dm=mu;var dy;const K1=new ii({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let ea=dy=class extends B4{constructor(...t){super(...t),this.color=new ae([0,0,0,.25]),this.outline=new Ll,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,s,l){if(t&&typeof t!="string")return t;const f={};return t&&(f.style=t),s&&(f.outline=s),l&&(f.color=l),f}clone(){return new dy({color:ht(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};E([A()],ea.prototype,"color",void 0);E([A()],ea.prototype,"outline",void 0);E([$t({esriSFS:"simple-fill"},{readOnly:!0})],ea.prototype,"type",void 0);E([A({type:K1.apiValues,json:{read:K1.read,write:K1.write}})],ea.prototype,"style",void 0);ea=dy=E([q("esri.symbols.SimpleFillSymbol")],ea);const w6=ea;var yy;const Y1=new ii({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ts=yy=class extends u6{constructor(...t){super(...t),this.color=new ae([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ll}normalizeCtorArgs(t,s,l,f){if(t&&typeof t!="string")return t;const d={};return t&&(d.style=t),s!=null&&(d.size=Ee(s)),l&&(d.outline=l),f&&(d.color=f),d}writeColor(t,s){t&&this.style!=="x"&&this.style!=="cross"&&(s.color=t.toJSON()),t===null&&(s.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new yy({angle:this.angle,color:ht(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};E([A()],ts.prototype,"color",void 0);E([se("color")],ts.prototype,"writeColor",null);E([$t({esriSMS:"simple-marker"},{readOnly:!0})],ts.prototype,"type",void 0);E([A()],ts.prototype,"size",void 0);E([A({type:Y1.apiValues,json:{read:Y1.read,write:Y1.write}})],ts.prototype,"style",void 0);E([A({type:String,json:{write:!0}})],ts.prototype,"path",null);E([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ll}},json:{default:null,write:!0}})],ts.prototype,"outline",void 0);ts=yy=E([q("esri.symbols.SimpleMarkerSymbol")],ts);const ym=ts;var my;let ge=my=class extends ki{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new a1,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,s,l){if(t&&typeof t!="string")return t;const f={};return t&&(f.text=t),s&&(f.font=s),l&&(f.color=l),f}writeLineWidth(t,s,l,f){!f||typeof f=="string"?s[l]=t:f.origin}castLineWidth(t){return Ee(t)}writeLineHeight(t,s,l,f){!f||typeof f=="string"?s[l]=t:f.origin}clone(){return new my({angle:this.angle,backgroundColor:ht(this.backgroundColor),borderLineColor:ht(this.borderLineColor),borderLineSize:this.borderLineSize,color:ht(this.color),font:this.font&&this.font.clone(),haloColor:ht(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};E([A({type:ae,json:{write:!0}})],ge.prototype,"backgroundColor",void 0);E([A({type:ae,json:{write:!0}})],ge.prototype,"borderLineColor",void 0);E([A({type:Number,json:{write:!0},cast:Ee})],ge.prototype,"borderLineSize",void 0);E([A({type:a1,json:{write:!0}})],ge.prototype,"font",void 0);E([A({...Z4,json:{write:!0}})],ge.prototype,"horizontalAlignment",void 0);E([A({type:Boolean,json:{write:!0}})],ge.prototype,"kerning",void 0);E([A({type:ae,json:{write:!0}})],ge.prototype,"haloColor",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],ge.prototype,"haloSize",void 0);E([A({type:Boolean,json:{write:!0}})],ge.prototype,"rightToLeft",void 0);E([A({type:Boolean,json:{write:!0}})],ge.prototype,"rotated",void 0);E([A({type:String,json:{write:!0}})],ge.prototype,"text",void 0);E([$t({esriTS:"text"},{readOnly:!0})],ge.prototype,"type",void 0);E([A({...X4,json:{write:!0}})],ge.prototype,"verticalAlignment",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],ge.prototype,"xoffset",void 0);E([A({type:Number,cast:Ee,json:{write:!0}})],ge.prototype,"yoffset",void 0);E([A({type:Number,json:{read:i=>i&&-1*i,write:(i,t)=>t.angle=i&&-1*i}})],ge.prototype,"angle",void 0);E([A({type:Number,json:{write:!0}})],ge.prototype,"width",void 0);E([A({type:Number})],ge.prototype,"lineWidth",void 0);E([se("lineWidth")],ge.prototype,"writeLineWidth",null);E([_i("lineWidth")],ge.prototype,"castLineWidth",null);E([A(q4)],ge.prototype,"lineHeight",void 0);E([se("lineHeight")],ge.prototype,"writeLineHeight",null);ge=my=E([q("esri.symbols.TextSymbol")],ge);const h1=ge;var vy;let Mr=vy=class extends ki{constructor(t){super(t),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:As.getDefault(),s=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${s}:${t.url}`}read(t,s){this.portal=s==null?void 0:s.portal,super.read(t,s)}clone(){return new vy({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,s){const l=s!=null?s.cache:null,f=l?this._fetchCacheKey:null;if(l!=null){const T=f&&l.get(f);if(T)return T.clone()}const d=await FP();Le(s);const v=d.resolveWebStyleSymbol(this,{portal:this.portal},t,s);v.catch(T=>{ct.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",T)});const w=await v;return t==="webRef"&&w.type==="point-3d"||t==="cimRef"&&w.type==="cim"?(l!=null&&l.set(f,w.clone()),w):null}};E([A({json:{write:!1}})],Mr.prototype,"color",void 0);E([A({type:String,json:{write:!0}})],Mr.prototype,"styleName",void 0);E([A({type:As,json:{write:!1}})],Mr.prototype,"portal",void 0);E([A({type:String,json:{read:nm,write:ul}})],Mr.prototype,"styleUrl",void 0);E([A({type:fu,json:{read:!1}})],Mr.prototype,"thumbnail",void 0);E([A({type:String,json:{write:!0}})],Mr.prototype,"name",void 0);E([$t({styleSymbolReference:"web-style"},{readOnly:!0})],Mr.prototype,"type",void 0);E([A()],Mr.prototype,"_fetchCacheKey",null);Mr=vy=E([q("esri.symbols.WebStyleSymbol")],Mr);function FP(){return pt(()=>import("./webStyleSymbolUtils-0d231b3a.js"),["assets/webStyleSymbolUtils-0d231b3a.js","assets/devEnvironmentUtils-e2e22b53.js","assets/jsonUtils-d970b431.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js"])}const u1=Mr;function yH(i){if(!i)return!1;switch(i.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function mH(i){if(!i)return!1;switch(i.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const mm={base:ki,key:"type",typeMap:{"simple-fill":w6,"picture-fill":y6,"picture-marker":fm,"simple-line":Ll,"simple-marker":ym,text:h1,"label-3d":hm,"line-3d":um,"mesh-3d":cm,"point-3d":pm,"polygon-3d":dm,"web-style":u1,cim:Hu},errorContext:"symbol"},vH={base:ki,key:"type",typeMap:{"picture-marker":fm,"simple-marker":ym,text:h1,"web-style":u1,cim:Hu},errorContext:"symbol"},wH=H9({types:mm}),gH={base:ki,key:"type",typeMap:{"simple-fill":w6,"picture-fill":y6,"picture-marker":fm,"simple-line":Ll,"simple-marker":ym,text:h1,"line-3d":um,"mesh-3d":cm,"point-3d":pm,"polygon-3d":dm,"web-style":u1,cim:Hu},errorContext:"symbol"},_H={base:ki,key:"type",typeMap:{text:h1,"label-3d":hm},errorContext:"symbol"},SH={base:ki,key:"type",typeMap:{"line-3d":um,"mesh-3d":cm,"point-3d":pm,"polygon-3d":dm,"web-style":u1,cim:Hu},errorContext:"symbol"},bH={base:ki,key:"type",typeMap:{"label-3d":hm},errorContext:"symbol"},TH=Co(mm);function zP(i){if(!i)return null;const t={};for(const s in i){const l=br(i[s]);l&&(t[s]=l)}return Object.keys(t).length!==0?t:null}function UP(i){if(i==null)return null;const t={};for(const s in i){const l=i[s];l&&(t[s]=l.toJSON())}return Object.keys(t).length!==0?t:null}let Ei=class extends Xn(bt){constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:bh(),configurable:!0})}normalizeCtorArgs(t,s,l,f){return t&&!t.declaredClass?t:{geometry:t,symbol:s,attributes:l,popupTemplate:f}}set aggregateGeometries(t){const s=this._get("aggregateGeometries");JSON.stringify(s)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const s=this._get("attributes");s!==t&&(this._set("attributes",t),this._notifyLayer("attributes",s,t))}set geometry(t){const s=this._get("geometry");s!==t&&(this._set("geometry",t),this._notifyLayer("geometry",s,t))}set symbol(t){const s=this._get("symbol");s!==t&&(this._set("symbol",t),this._notifyLayer("symbol",s,t))}set visible(t){const s=this._get("visible");s!==t&&(this._set("visible",t),this._notifyLayer("visible",s,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const s of[this.sourceLayer,this.layer])if(s){if("popupTemplate"in s&&s.popupTemplate)return s.popupTemplate;if(t&&"defaultPopupTemplate"in s&&s.defaultPopupTemplate!=null)return s.defaultPopupTemplate}return null}getAttribute(t){var s;return(s=this.attributes)==null?void 0:s[t]}setAttribute(t,s){if(!this.attributes)this.attributes={[t]:s},this._notifyLayer("attributes",void 0,s,t);else{const f=this.getAttribute(t);this.attributes[t]=s,this._notifyLayer("attributes",f,s,t)}}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:UP(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){this.geometry!=null&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(t,s,l,f){if(!this.layer||!("graphicChanged"in this.layer))return;const d={graphic:this,property:t,oldValue:s,newValue:l};t==="attributes"&&(d.attributeName=f),this.layer.graphicChanged(d)}};E([A({value:null,json:{read:zP}})],Ei.prototype,"aggregateGeometries",null);E([A({value:null})],Ei.prototype,"attributes",null);E([A({value:null,types:W2,json:{read:br}})],Ei.prototype,"geometry",null);E([A({type:Boolean})],Ei.prototype,"isAggregate",void 0);E([A({clonable:"reference"})],Ei.prototype,"layer",void 0);E([A({type:WA})],Ei.prototype,"popupTemplate",void 0);E([A({clonable:"reference"})],Ei.prototype,"sourceLayer",void 0);E([A({value:null,types:mm})],Ei.prototype,"symbol",null);E([A({type:Boolean,value:!0})],Ei.prototype,"visible",null);Ei=E([q("esri.Graphic")],Ei);(function(i){i.generateUID=bh})(Ei||(Ei={}));const vu=Ei;class vm{constructor(t,s){this.min=t,this.max=s,this.range=s-t}ndiff(t,s=0){return Math.ceil((t-s)/this.range)*this.range+s}_normalize(t,s,l,f=0,d=!1){return l-=f,l<t?l+=this.ndiff(t-l):l>s&&(l-=this.ndiff(l-s)),d&&l===s&&(l=t),l+f}normalize(t,s=0,l=!1){return this._normalize(this.min,this.max,t,s,l)}clamp(t,s=0){return Hr(t-s,this.min,this.max)+s}monotonic(t,s,l){return t<s?s:s+this.ndiff(t-s,l)}minimalMonotonic(t,s,l){return this._normalize(t,t+this.range,s,l)}center(t,s,l){return s=this.monotonic(t,s,l),this.normalize((t+s)/2,l)}diff(t,s,l){return this.monotonic(t,s,l)-t}shortestSignedDiff(t,s){t=this.normalize(t),s=this.normalize(s);const l=s-t,f=s<t?this.minimalMonotonic(t,s)-t:s-this.minimalMonotonic(s,t);return Math.abs(l)<Math.abs(f)?l:f}contains(t,s,l){return s=this.minimalMonotonic(t,s),l=this.minimalMonotonic(t,l),l>t&&l<s}}function wm(i){for(const t in i){const s=i[t];s instanceof Function&&(i[t]=s.bind(i))}return i}wm(new vm(0,Math.PI*2));wm(new vm(-Math.PI,Math.PI));const $P=wm(new vm(0,360));let Rs=class extends Xn(bt){constructor(...t){super(...t),this.position=new Pt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(t,s,l,f){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const v={position:t};return s!=null&&(v.heading=s),l!=null&&(v.tilt=l),f!=null&&(v.fov=f),v}return t}writePosition(t,s,l,f){const d=t.clone();d.x=dr(t.x||0),d.y=dr(t.y||0),d.z=t.hasZ?dr(t.z||0):t.z,s[l]=d.write({},f)}readPosition(t,s){const l=new Pt;return l.read(t,s),l.x=dr(l.x||0),l.y=dr(l.y||0),l.z=l.hasZ?dr(l.z||0):l.z,l}equals(t){return t==null?!1:this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)}};E([A({type:Pt,json:{write:{isRequired:!0}}})],Rs.prototype,"position",void 0);E([se("position")],Rs.prototype,"writePosition",null);E([ne("position")],Rs.prototype,"readPosition",null);E([A({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),_i(i=>$P.normalize(dr(i)))],Rs.prototype,"heading",void 0);E([A({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),_i(i=>Hr(dr(i),-180,180))],Rs.prototype,"tilt",void 0);E([A({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Rs.prototype,"fov",void 0);Rs=E([q("esri.Camera")],Rs);const GP=Rs;var wy;let jn=wy=class extends bt{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return t=t%360,t<0&&(t+=360),t}clone(){return new wy({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};E([A({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:gm}}}}})],jn.prototype,"rotation",void 0);E([_i("rotation")],jn.prototype,"castRotation",null);E([A({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:gm}}}}})],jn.prototype,"scale",void 0);E([A({types:W2,json:{read:br,write:!0,origins:{"web-scene":{read:br,write:{overridePolicy:gm}}}}})],jn.prototype,"targetGeometry",void 0);E([A({type:GP,json:{write:!0}})],jn.prototype,"camera",void 0);jn=wy=E([q("esri.Viewpoint")],jn);function gm(){return{enabled:!this.camera}}const $r=jn;function Ct(i,t,s={}){return _m(i,t,s,g6)}function kn(i,t,s={}){return _m(i,t,s,_6)}function _m(i,t,s={},l){let f=null;const d=s.once?(v,w)=>{l(v)&&(Me(f),t(v,w))}:(v,w)=>{l(v)&&t(v,w)};if(f=Sb(i,d,s.sync,s.equals),s.initial){const v=i();d(v,v)}return f}function wu(i,t,s,l={}){let f=null,d=null,v=null;function w(){var I;!f||!d||(d.remove(),(I=l.onListenerRemove)==null||I.call(l,f),f=null,d=null)}function T(I){l.once&&l.once&&Me(v),s(I)}const M=Ct(i,(I,N)=>{var R;w(),Kf(I)&&(f=I,d=Yf(I,t,T),(R=l.onListenerAdd)==null||R.call(l,I))},{sync:l.sync,initial:!0});return v=Al(()=>{M.remove(),w()}),v}function Sm(i,t){return VP(i,_6,t)}function VP(i,t,s){if(Sr(s))return Promise.reject(Te());const l=i();if(t!=null&&t(l))return Promise.resolve(l);let f=null;function d(){f=Me(f)}return new Promise((v,w)=>{f=Gf([Ki(s,()=>{d(),w(Te())}),_m(i,T=>{d(),v(T)},{sync:!1,once:!0},t??g6)])})}function g6(i){return!0}function _6(i){return!!i}const gu={sync:!0},ei={initial:!0},uo={sync:!0,initial:!0};class of{constructor(t=s=>s.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(s=>{t(s)||this._items.delete(s)}),this}}const BP={statsWorker:()=>pt(()=>import("./statsWorker-a30c2e63.js"),["assets/statsWorker-a30c2e63.js","assets/quantizationUtils-3065e463.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js"]),geometryEngineWorker:()=>pt(()=>import("./geometryEngineWorker-f9c379ee.js"),["assets/geometryEngineWorker-f9c379ee.js","assets/geometryEngineJSON-0e2cf205.js","assets/json-9ae8d6f8.js"]),CSVSourceWorker:()=>pt(()=>import("./CSVSourceWorker-ecc70b29.js"),["assets/CSVSourceWorker-ecc70b29.js","assets/json-9ae8d6f8.js","assets/OptimizedGeometry-af84d2ad.js","assets/FeatureStore-4ce97275.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/BoundsStore-b313b707.js","assets/PooledRBush-56969b58.js","assets/centroid-1116d1e7.js","assets/utils-989d8fa5.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/QueryEngine-b3057516.js","assets/MemCache-0b9a9ce4.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/QueryEngineCapabilities-60118ddb.js","assets/timeSupport-06d007d4.js","assets/FieldsIndex-19734375.js","assets/number-93956731.js","assets/clientSideDefaults-889ab1cd.js","assets/defaultsJSON-b396ba80.js"]),EdgeProcessingWorker:()=>pt(()=>import("./EdgeProcessingWorker-395cb73c.js"),["assets/EdgeProcessingWorker-395cb73c.js","assets/InterleavedLayout-47fc15e3.js","assets/BufferView-80e82059.js","assets/vec4-3dd523e8.js","assets/types-c657ebd9.js","assets/edgeProcessing-8bb24f41.js","assets/deduplicate-9aed4a08.js","assets/Indices-2a36bc07.js","assets/VertexAttribute-8238ac80.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js"]),ElevationSamplerWorker:()=>pt(()=>import("./ElevationSamplerWorker-1d6319b3.js"),["assets/ElevationSamplerWorker-1d6319b3.js","assets/PooledRBush-56969b58.js","assets/georeference-110ee0f6.js","assets/mat3f64-c33d428a.js","assets/mat4f64-06a72c15.js","assets/spatialReferenceEllipsoidUtils-fcf271e9.js","assets/quat-fc676072.js","assets/vec4-3dd523e8.js","assets/quatf64-5b0101cd.js","assets/vec32-a76be517.js","assets/BufferView-80e82059.js"]),FeatureServiceSnappingSourceWorker:()=>pt(()=>import("./FeatureServiceSnappingSourceWorker-aaea25f2.js"),["assets/FeatureServiceSnappingSourceWorker-aaea25f2.js","assets/FeatureStore-4ce97275.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/BoundsStore-b313b707.js","assets/PooledRBush-56969b58.js","assets/centroid-1116d1e7.js","assets/utils-989d8fa5.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/QueryEngine-b3057516.js","assets/MemCache-0b9a9ce4.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/QueryEngineCapabilities-60118ddb.js","assets/timeSupport-06d007d4.js","assets/FieldsIndex-19734375.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/ElevationInfo-3858b8bb.js","assets/lengthUtils-81eb77d2.js","assets/LRUCache-7d80c941.js","assets/pbfQueryUtils-0fea6fbe.js","assets/pbf-6f2a85bf.js","assets/query-ad51ba53.js","assets/queryZScale-b5ad7594.js","assets/byteSizeEstimations-a7209dec.js","assets/ByteSizeUnit-c0a244d3.js"]),GeoJSONSourceWorker:()=>pt(()=>import("./GeoJSONSourceWorker-68b41bdd.js"),["assets/GeoJSONSourceWorker-68b41bdd.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/FeatureStore-4ce97275.js","assets/BoundsStore-b313b707.js","assets/PooledRBush-56969b58.js","assets/centroid-1116d1e7.js","assets/utils-989d8fa5.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/QueryEngine-b3057516.js","assets/MemCache-0b9a9ce4.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/QueryEngineCapabilities-60118ddb.js","assets/timeSupport-06d007d4.js","assets/FieldsIndex-19734375.js","assets/geojson-653e6959.js","assets/clientSideDefaults-889ab1cd.js","assets/defaultsJSON-b396ba80.js","assets/sourceUtils-e06a7f72.js","assets/fieldType-b14303b4.js"]),LercWorker:()=>pt(()=>import("./LercWorker-862e6dc7.js"),[]),MemorySourceWorker:()=>pt(()=>import("./MemorySourceWorker-420f6bf4.js"),["assets/MemorySourceWorker-420f6bf4.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/objectIdUtils-75d6d581.js","assets/FeatureStore-4ce97275.js","assets/BoundsStore-b313b707.js","assets/PooledRBush-56969b58.js","assets/centroid-1116d1e7.js","assets/utils-989d8fa5.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/QueryEngine-b3057516.js","assets/MemCache-0b9a9ce4.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/QueryEngineCapabilities-60118ddb.js","assets/timeSupport-06d007d4.js","assets/FieldsIndex-19734375.js","assets/clientSideDefaults-889ab1cd.js","assets/defaultsJSON-b396ba80.js","assets/sourceUtils-e06a7f72.js","assets/fieldType-b14303b4.js"]),PBFDecoderWorker:()=>pt(()=>import("./PBFDecoderWorker-f93bafc1.js"),["assets/PBFDecoderWorker-f93bafc1.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/pbfQueryUtils-0fea6fbe.js","assets/pbf-6f2a85bf.js"]),Pipeline:()=>pt(()=>import("./Pipeline-fc2db268.js"),["assets/Pipeline-fc2db268.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/QueryEngine-b3057516.js","assets/MemCache-0b9a9ce4.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/utils-989d8fa5.js","assets/QueryEngineCapabilities-60118ddb.js","assets/timeSupport-06d007d4.js","assets/FieldsIndex-19734375.js","assets/FeatureStore2D-6f8a5b9b.js","assets/CircularArray-7e036143.js","assets/diffUtils-d9e7d9d5.js","assets/ComputedAttributeStorage-55909c32.js","assets/arcadeTimeUtils-c52e5a06.js","assets/centroid-1116d1e7.js","assets/definitions-3f56d206.js","assets/visualVariablesUtils-f72161c3.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/visualVariablesUtils-0ad0554c.js","assets/ogcFeatureUtils-7583e6a5.js","assets/geojson-653e6959.js","assets/clientSideDefaults-889ab1cd.js","assets/defaultsJSON-b396ba80.js","assets/fieldType-b14303b4.js","assets/query-ad51ba53.js","assets/pbfQueryUtils-0fea6fbe.js","assets/pbf-6f2a85bf.js","assets/queryZScale-b5ad7594.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/createConnection-244d1f24.js"]),PointCloudWorker:()=>pt(()=>import("./PointCloudWorker-3cf191c2.js"),["assets/PointCloudWorker-3cf191c2.js","assets/quat-fc676072.js","assets/vec4-3dd523e8.js","assets/I3SBinaryReader-51187153.js","assets/VertexAttribute-8238ac80.js","assets/vec3f32-ec4c3c20.js","assets/PointCloudUniqueValueRenderer-03b60f53.js","assets/LegendOptions-0798b0b9.js","assets/ColorStop-69649184.js"]),RasterWorker:()=>pt(()=>import("./RasterWorker-1d6e9ae2.js"),["assets/RasterWorker-1d6e9ae2.js","assets/dataUtils-3558ceff.js","assets/RasterSymbolizer-0b12ead8.js","assets/colorUtils-6f72410e.js","assets/utils-c755f53c.js","assets/colorRamps-bcaaf237.js","assets/rasterProjectionHelper-99eeca2e.js"]),SceneLayerSnappingSourceWorker:()=>pt(()=>import("./SceneLayerSnappingSourceWorker-fd92e34a.js"),["assets/SceneLayerSnappingSourceWorker-fd92e34a.js","assets/sphere-863f39c2.js","assets/ray-fd041b33.js","assets/ByteSizeUnit-c0a244d3.js","assets/mat3f64-c33d428a.js","assets/mat4f64-06a72c15.js","assets/quatf64-5b0101cd.js","assets/vec4f64-efdcb593.js","assets/vec4-3dd523e8.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/MemCache-0b9a9ce4.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/utils-989d8fa5.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/plane-e9540ced.js","assets/InterleavedLayout-47fc15e3.js","assets/BufferView-80e82059.js","assets/types-c657ebd9.js","assets/edgeProcessing-8bb24f41.js","assets/deduplicate-9aed4a08.js","assets/Indices-2a36bc07.js","assets/VertexAttribute-8238ac80.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js"]),SceneLayerWorker:()=>pt(()=>import("./SceneLayerWorker-5d3c5b0b.js"),["assets/SceneLayerWorker-5d3c5b0b.js","assets/ray-fd041b33.js","assets/ByteSizeUnit-c0a244d3.js","assets/mat3f64-c33d428a.js","assets/mat4f64-06a72c15.js","assets/quatf64-5b0101cd.js","assets/vec4f64-efdcb593.js"]),WFSSourceWorker:()=>pt(()=>import("./WFSSourceWorker-ac479d71.js"),["assets/WFSSourceWorker-ac479d71.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/FeatureStore-4ce97275.js","assets/BoundsStore-b313b707.js","assets/PooledRBush-56969b58.js","assets/centroid-1116d1e7.js","assets/utils-989d8fa5.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/QueryEngine-b3057516.js","assets/MemCache-0b9a9ce4.js","assets/QueryEngineResult-6947bc07.js","assets/quantizationUtils-3065e463.js","assets/ItemCache-591d0f17.js","assets/WhereClause-7ab6e388.js","assets/executionError-e2eca390.js","assets/_commonjsHelpers-725317a4.js","assets/utils-57c76f03.js","assets/generateRendererUtils-ab84b0d4.js","assets/QueryEngineCapabilities-60118ddb.js","assets/timeSupport-06d007d4.js","assets/FieldsIndex-19734375.js","assets/geojson-653e6959.js","assets/sourceUtils-e06a7f72.js","assets/wfsUtils-f1814f7b.js","assets/xmlUtils-2b925ee3.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js"]),WorkerTileHandler:()=>pt(()=>import("./WorkerTileHandler-f64c3476.js"),["assets/WorkerTileHandler-f64c3476.js","assets/enums-977a0ba8.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/config-c06e4a6d.js","assets/StyleDefinition-edaaf36e.js","assets/enums-eb6e4255.js","assets/pbf-6f2a85bf.js","assets/TurboLine-8b64729e.js","assets/definitions-3f56d206.js","assets/StyleRepository-b0e64f66.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/colorUtils-6f72410e.js","assets/earcut-db592379.js","assets/BidiEngine-cdaf024a.js"])};var Qe;(function(i){i[i.HANDSHAKE=0]="HANDSHAKE",i[i.OPEN=1]="OPEN",i[i.OPENED=2]="OPENED",i[i.RESPONSE=3]="RESPONSE",i[i.INVOKE=4]="INVOKE",i[i.ABORT=5]="ABORT",i[i.CLOSE=6]="CLOSE",i[i.OPEN_PORT=7]="OPEN_PORT",i[i.ON=8]="ON"})(Qe||(Qe={}));let HP=0;function S6(){return HP++}function WP(i){return i&&typeof i=="object"&&("result"in i||"transferList"in i)}function _u(i){return i?typeof i=="string"?JSON.stringify({name:"message",message:i}):i.toJSON?JSON.stringify(i):JSON.stringify({name:i.name,message:i.message,details:i.details||{stack:i.stack}}):null}function bm(i,t,s,l){if(t.type===Qe.OPEN_PORT){i.postMessage(t,[t.port]);return}if(t.type!==Qe.INVOKE&&t.type!==Qe.RESPONSE){i.postMessage(t);return}let f;if(WP(s)?(f=bv(s.transferList),t.data=s.result):(f=bv(l),t.data=s),f){if(rt("ff")){for(const d of f)if("byteLength"in d&&d.byteLength>255*1024*1024){const v="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Qe.INVOKE:throw v;case Qe.RESPONSE:bm(i,{type:Qe.RESPONSE,jobId:t.jobId,error:_u(v)});return}}}i.postMessage(t,f)}else i.postMessage(t)}function Su(i){if(!i)return null;const t=i.data;return t?typeof t=="string"?JSON.parse(t):t:null}function bv(i){if(!i||!i.length)return null;if(rt("esri-workers-arraybuffer-transfer"))return i;const t=i.filter(s=>!JP(s));return t.length?t:null}function JP(i){var t;return i instanceof ArrayBuffer||((t=i==null?void 0:i.constructor)==null?void 0:t.name)==="ArrayBuffer"}const{CLOSE:Tv,ABORT:Ev,INVOKE:xv,RESPONSE:Yl,OPEN_PORT:Mv,ON:KP}=Qe,YP=2;class qP{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Qe.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class bi{static connect(t){const s=new MessageChannel;let l;typeof t=="function"?l=new t:"default"in t&&typeof t.default=="function"?l=new t.default:l=t;const f=new bi(s.port1,{channel:s,client:l},()=>null);return typeof l=="object"&&"remoteClient"in l&&(l.remoteClient=f),bi.clients.set(f,l),s.port2}static loadWorker(t){const s=BP[t];return s?s():Promise.resolve(null)}constructor(t,s,l){this._port=t,this._getNextJob=l,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new qP(f=>this._onInvokeMessage(f)),this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,this._schedule=s.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:Tv}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,s,l){const f=l==null?void 0:l.signal,d=l==null?void 0:l.transferList;if(!this._port)return Promise.reject(new mt("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:s}));const v=S6();return new Promise((w,T)=>{if(Sr(f)){this._processWork(),T(Te());return}const M=Ki(f,()=>{const N=this._outJobs.get(v);N&&(this._outJobs.delete(v),this._processWork(),Me(N.abortHandle),this._post({type:Ev,jobId:v}),T(Te()))}),I={resolve:w,reject:T,abortHandle:M,debugInfo:t};this._outJobs.set(v,I),this._post({type:xv,jobId:v,methodName:t,abortable:f!=null},s,d)})}on(t,s){const l=new MessageChannel;this._port.postMessage({type:Qe.ON,eventType:t,port:l.port2},[l.port2]);function f(d){s(d.data)}return l.port1.addEventListener("message",f),l.port1.start(),{remove(){l.port1.postMessage({type:Qe.CLOSE}),l.port1.close(),l.port1.removeEventListener("message",f)}}}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:Mv,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=YP)return;const t=this._getNextJob();if(!t)return;const{methodName:s,data:l,invokeOptions:f,deferred:d}=t;this.invoke(s,l,f).then(v=>d.resolve(v)).catch(v=>d.reject(v))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Me(t.abortHandle),t.reject(Te(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const s=Su(t);if(s)switch(s.type){case Yl:this._onResponseMessage(s);break;case xv:this._invokeQueue.push(s);break;case Ev:this._onAbortMessage(s);break;case Tv:this._onCloseMessage();break;case Mv:this._onOpenPortMessage(s);break;case KP:this._onOnMessage(s);break}}_onAbortMessage(t){const s=this._inJobs,l=t.jobId,f=s.get(l);this._invokeQueue.push(t),f&&(f.controller&&f.controller.abort(),s.delete(l))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&bi.clients.get(this)===t&&t.destroy(),bi.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:s,jobId:l,data:f,abortable:d}=t,v=d?new AbortController:null,w=this._inJobs;let T=this._client,M=T[s],I;try{if(!M&&s&&s.includes(".")){const N=s.split(".");for(let R=0;R<N.length-1;R++)T=T[N[R]],M=T[N[R+1]]}if(typeof M!="function")throw new TypeError(`${s} is not a function`);I=M.call(T,f,{client:this,signal:v?v.signal:null})}catch(N){this._post({type:Yl,jobId:l,error:_u(N)});return}Vs(I)?(w.set(l,{controller:v,promise:I}),I.then(N=>{w.has(l)&&(w.delete(l),this._post({type:Yl,jobId:l},N))},N=>{w.has(l)&&(w.delete(l),Gs(N)||this._post({type:Yl,jobId:l,error:_u(N||{message:`Error encountered at method ${s}`})}))})):this._post({type:Yl,jobId:l},I)}_onOpenPortMessage(t){new bi(t.port,{client:this._client},()=>null)}_onOnMessage(t){const{port:s}=t,l=this._client.on(t.eventType,d=>{s.postMessage(d)}),f=Yf(t.port,"message",d=>{const v=Su(d);(v==null?void 0:v.type)===Qe.CLOSE&&(f.remove(),l.remove(),s.close())})}_onResponseMessage(t){const{jobId:s,error:l,data:f}=t,d=this._outJobs;if(!d.has(s))return;const v=d.get(s);d.delete(s),this._processWork(),Me(v.abortHandle),l?v.reject(mt.fromJSON(JSON.parse(l))):v.resolve(f)}_post(t,s,l){return bm(this._port,t,s,l)}}bi.kernelInfo={buildDate:Jf,fullVersion:$u,revision:v9};bi.clients=new Map;class ZP{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new of}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,s){return new Promise((l,f)=>{let d=!0;const v=w=>{Le(s.signal),d&&(d=!1,w())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let w=0;w<t.length;++w){const T=t[w];if(Vs(T)){this._clientPromises[w]=T.then(M=>(this._clients[w]=new bi(M,s,()=>this._ongoingJobsQueue.pop()??null),v(l),this._clients[w]),()=>(v(f),null));continue}this._clients[w]=new bi(T,s,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[w]=Promise.resolve(this._clients[w]),v(l)}})}broadcast(t,s,l){const f=new Array(this._clientPromises.length);for(let d=0;d<this._clientPromises.length;++d){const v=this._clientPromises[d];f[d]=v.then(w=>w==null?void 0:w.invoke(t,s,l))}return f}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.deferred.reject(Te(`Worker closing, aborting job calling '${t.methodName}'`));for(const s of this._clientPromises)s.then(l=>l==null?void 0:l.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0}invoke(t,s,l){let f;Array.isArray(l)?(ct.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),f={transferList:l}):f=l;const d=Es();this._ongoingJobsQueue.push({methodName:t,data:s,invokeOptions:f,deferred:d});for(let v=0;v<this._clientPromises.length;v++){const w=this._clients[v];w?w.jobAdded():this._clientPromises[v].then(T=>T==null?void 0:T.jobAdded())}return d.promise}on(t,s){return Promise.all(this._clientPromises).then(()=>Gf(this._clients.map(l=>l.on(t,s))))}openPorts(){return new Promise(t=>{const s=new Array(this._clientPromises.length);let l=s.length;for(let f=0;f<this._clientPromises.length;++f)this._clientPromises[f].then(v=>{v&&(s[f]=v.openPort()),--l===0&&t(s)})})}get test(){return{numClients:this._clients.length}}}const b6=ct.getLogger("esri.intl.substitute");function AH(i,t,s={}){const{format:l={}}=s;return u2(i,f=>XP(f,t,l))}function XP(i,t,s){let l,f;const d=i.indexOf(":");if(d===-1?l=i.trim():(l=i.slice(0,d).trim(),f=i.slice(d+1).trim()),!l)return"";const v=ku(l,t);if(v==null)return"";const w=(f?s==null?void 0:s[f]:null)??(s==null?void 0:s[l]);return w?QP(v,w):f?tI(v,f):Tm(v)}function QP(i,t){switch(t.type){case"date":return Kh(i,t.intlOptions);case"number":return Yh(i,t.intlOptions);default:return b6.warn("missing format descriptor for key {key}"),Tm(i)}}function tI(i,t){switch(t.toLowerCase()){case"dateformat":return Kh(i);case"numberformat":return Yh(i);default:return b6.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Kh(i):/^numberformat/i.test(t)?Yh(i):Tm(i)}}function Tm(i){switch(typeof i){case"string":return i;case"number":return Yh(i);case"boolean":return""+i;default:return i instanceof Date?Kh(i):""}}async function eI(i,t,s,l){const f=t.exec(s);if(!f)throw new mt("esri-intl:invalid-bundle",`Bundle id "${s}" is not compatible with the pattern "${t}"`);const d=f[1]?`${f[1]}/`:"",v=f[2],w=Cx(l),T=`${d}${v}.json`,M=w?`${d}${v}_${w}.json`:T;let I;try{I=await Av(i(M))}catch(N){if(M===T)throw new mt("intl:unknown-bundle",`Bundle "${s}" cannot be loaded`,{error:N});try{I=await Av(i(T))}catch(R){throw new mt("intl:unknown-bundle",`Bundle "${s}" cannot be loaded`,{error:R})}}return I}async function Av(i){if(Pv.fetchBundleAsset!=null)return Pv.fetchBundleAsset(i);const t=await vi(i,{responseType:"text"});return JSON.parse(t.data)}class iI{constructor({base:t="",pattern:s,location:l=new URL(window.location.href)}){let f;typeof l=="string"?f=d=>new URL(d,new URL(l,window.location.href)).href:l instanceof URL?f=d=>new URL(d,l).href:f=l,this.pattern=typeof s=="string"?new RegExp(`^${s}`):s,this.getAssetUrl=f,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,s){return eI(this.getAssetUrl,this.matcher,t,s)}}function rI(i){return new iI(i)}const Pv={};Ix(rI({pattern:"esri/",location:Zt}));const sI={};function nI(i){const t={async:i.async,isDebug:i.isDebug,locale:i.locale,baseUrl:i.baseUrl,has:{...i.has},map:{...i.map},packages:i.packages&&i.packages.concat()||[],paths:{...i.paths}};return i.hasOwnProperty("async")||(t.async=!0),i.hasOwnProperty("isDebug")||(t.isDebug=!1),i.baseUrl||(t.baseUrl=sI.baseUrl),t}class oI{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(s=>{this[s]=(...l)=>t[s](...l)})}}class n0{constructor(){this._dispatcher=new oI,this._workerPostMessage({type:Qe.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){g0(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,s,l){this._dispatcher.addEventListener(t,s,l)}removeEventListener(t,s,l){this._dispatcher.removeEventListener(t,s,l)}_workerPostMessage(t){g0(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const s=Su(t);if(s&&s.type===Qe.OPEN){const{modulePath:l,jobId:f}=s;let d=await bi.loadWorker(l);d||(d=await pt(()=>import(l),[]));const v=bi.connect(d);this._workerPostMessage({type:Qe.OPENED,jobId:f,data:v})}}}const gy=ct.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:aI}=Qe,lI='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let vc,wc;const Iv="Failed to create Worker. Fallback to execute module in main thread";async function hI(){if(!rt("esri-workers")||rt("mozilla")&&!1)return Cv(new n0);if(!vc&&!wc)try{const t=lI.split('"{CONFIGURATION}"').join(`'${uI()}'`);vc=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){wc=t||{}}let i;if(!vc)gy.warn(Iv,wc),i=new n0;else try{i=new Worker(vc,{name:`esri-worker-${cI++}`})}catch{gy.warn(Iv,wc),i=new n0}return Cv(i)}async function Cv(i){return new Promise(t=>{function s(f){const d=Su(f);d&&d.type===aI&&(i.removeEventListener("message",s),i.removeEventListener("error",l),t(i))}function l(f){f.preventDefault(),i.removeEventListener("message",s),i.removeEventListener("error",l),gy.warn("Failed to create Worker. Fallback to execute module in main thread",f),i=new n0,i.addEventListener("message",s),i.addEventListener("error",l)}i.addEventListener("message",s),i.addEventListener("error",l)})}function uI(){let i;if(Wt.default!=null){const f={...Wt};delete f.default,i=JSON.parse(JSON.stringify(f))}else i=JSON.parse(JSON.stringify(Wt));i.assetsPath=Hi(i.assetsPath),i.defaultAssetsPath=i.defaultAssetsPath?Hi(i.defaultAssetsPath):void 0,i.request.interceptors=[],i.log.interceptors=[],i.locale=gr(),i.has={"esri-csp-restrictions":rt("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":rt("esri-2d-update-debug"),"featurelayer-pbf":rt("featurelayer-pbf"),"featurelayer-simplify-thresholds":rt("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":rt("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":rt("featurelayer-simplify-mobile-factor"),"esri-atomics":rt("esri-atomics"),"esri-shared-array-buffer":rt("esri-shared-array-buffer"),"esri-tiles-debug":rt("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":rt("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":rt("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":rt("polylabel-placement-enabled")},i.workers.loaderUrl&&(i.workers.loaderUrl=Hi(i.workers.loaderUrl)),i.workers.workerPath?i.workers.workerPath=Hi(i.workers.workerPath):i.workers.workerPath=Hi(Zt("esri/core/workers/RemoteClient.js")),i.workers.useDynamicImport=!1;const t=Wt.workers.loaderConfig,s=nI({baseUrl:t==null?void 0:t.baseUrl,locale:gr(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:i,loaderConfig:s,kernelInfo:{buildDate:Jf,fullVersion:$u,revision:v9}})}let cI=0;const{ABORT:Ov,INVOKE:fI,OPEN:pI,OPENED:dI,RESPONSE:ql}=Qe;class Em{static async create(t){const s=await hI();return new Em(s,t)}constructor(t,s){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=s,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",l=>{l.preventDefault(),ct.getLogger("esri.core.workers.WorkerOwner").error(l)})}terminate(){this.worker.terminate()}async open(t,s={}){const{signal:l}=s,f=S6();return new Promise((d,v)=>{const w=p2(l,()=>{this._outJobs.delete(f),this._post({type:Ov,jobId:f})}),T={resolve:d,reject:v,abortHandle:w};this._outJobs.set(f,T),this._post({type:pI,jobId:f,modulePath:t})})}_onMessage(t){const s=Su(t);if(s)switch(s.type){case dI:this._onOpenedMessage(s);break;case ql:this._onResponseMessage(s);break;case Ov:this._onAbortMessage(s);break;case fI:this._onInvokeMessage(s);break}}_onAbortMessage(t){const s=this._inJobs,l=t.jobId,f=s.get(l);f&&(f.controller&&f.controller.abort(),s.delete(l))}_onInvokeMessage(t){const{methodName:s,jobId:l,data:f,abortable:d}=t,v=d?new AbortController:null,w=this._inJobs,T=OE[s];let M;try{if(typeof T!="function")throw new TypeError(`${s} is not a function`);M=T.call(null,f,{signal:v?v.signal:null})}catch(I){this._post({type:ql,jobId:l,error:_u(I)});return}Vs(M)?(w.set(l,{controller:v,promise:M}),M.then(I=>{w.has(l)&&(w.delete(l),this._post({type:ql,jobId:l},I))},I=>{w.has(l)&&(w.delete(l),I||(I={message:"Error encountered at method"+s}),Gs(I)||this._post({type:ql,jobId:l,error:_u(I||{message:`Error encountered at method ${s}`})}))})):this._post({type:ql,jobId:l},M)}_onOpenedMessage(t){const{jobId:s,data:l}=t,f=this._outJobs.get(s);f&&(this._outJobs.delete(s),Me(f.abortHandle),f.resolve(l))}_onResponseMessage(t){const{jobId:s,error:l,data:f}=t,d=this._outJobs.get(s);d&&(this._outJobs.delete(s),Me(d.abortHandle),l?d.reject(mt.fromJSON(JSON.parse(l))):d.resolve(f))}_post(t,s,l){return bm(this.worker,t,s,l)}}const Nv=Math.min(navigator.hardwareConcurrency-1,rt("workers-pool-size"));let vo=rt("esri-mobile")?Math.min(Nv,3):rt("host-browser")?Nv:0;vo||(vo=rt("safari")&&rt("mac")?7:2);let Lv=0;const o0=[];function yI(){T6()}async function gc(i,t){const s=new ZP;return await s.open(i,t),s}async function PH(i,t={}){if(typeof i!="string")throw new mt("workers:undefined-module","modulePath is missing");let s=t.strategy||"distributed";if(rt("host-webworker")&&!rt("esri-workers")&&(s="local"),s==="local"){let f=await bi.loadWorker(i);f||(f=await pt(()=>import(i),[])),Le(t.signal);const d=t.client||f,v=bi.connect(f);return gc([v],{...t,client:d})}if(await T6(),Le(t.signal),s==="dedicated"){const f=Lv++%vo,d=await o0[f].open(i,t);return gc([d],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const f=Math.min(t.maxNumWorkers,vo);if(f<vo){const d=new Array(f);for(let v=0;v<f;++v){const w=Lv++%vo;d[v]=o0[w].open(i,t)}return gc(d,t)}}const l=o0.map(f=>f.open(i,t));return gc(l,t)}let _c=null;async function T6(){if(_c)return _c;new AbortController;const i=[];for(let t=0;t<vo;t++){const s=Em.create(t).then(l=>(o0[t]=l,l));i.push(s)}return _c=Promise.all(i),_c}function IH(i,t,s,l,f,d,v,w,T,M,I,N,R,F,V,W,H){return i[0]=t,i[1]=s,i[2]=l,i[3]=f,i[4]=d,i[5]=v,i[6]=w,i[7]=T,i[8]=M,i[9]=I,i[10]=N,i[11]=R,i[12]=F,i[13]=V,i[14]=W,i[15]=H,i}function E6(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function mI(i,t){if(i===t){const s=t[1],l=t[2],f=t[3],d=t[6],v=t[7],w=t[11];i[1]=t[4],i[2]=t[8],i[3]=t[12],i[4]=s,i[6]=t[9],i[7]=t[13],i[8]=l,i[9]=d,i[11]=t[14],i[12]=f,i[13]=v,i[14]=w}else i[0]=t[0],i[1]=t[4],i[2]=t[8],i[3]=t[12],i[4]=t[1],i[5]=t[5],i[6]=t[9],i[7]=t[13],i[8]=t[2],i[9]=t[6],i[10]=t[10],i[11]=t[14],i[12]=t[3],i[13]=t[7],i[14]=t[11],i[15]=t[15];return i}function CH(i,t){const s=t[0],l=t[1],f=t[2],d=t[3],v=t[4],w=t[5],T=t[6],M=t[7],I=t[8],N=t[9],R=t[10],F=t[11],V=t[12],W=t[13],H=t[14],Y=t[15],it=s*w-l*v,Q=s*T-f*v,st=s*M-d*v,nt=l*T-f*w,at=l*M-d*w,gt=f*M-d*T,wt=I*W-N*V,At=I*H-R*V,_t=I*Y-F*V,Nt=N*H-R*W,Mt=N*Y-F*W,zt=R*Y-F*H;let Tt=it*zt-Q*Mt+st*Nt+nt*_t-at*At+gt*wt;return Tt?(Tt=1/Tt,i[0]=(w*zt-T*Mt+M*Nt)*Tt,i[1]=(f*Mt-l*zt-d*Nt)*Tt,i[2]=(W*gt-H*at+Y*nt)*Tt,i[3]=(R*at-N*gt-F*nt)*Tt,i[4]=(T*_t-v*zt-M*At)*Tt,i[5]=(s*zt-f*_t+d*At)*Tt,i[6]=(H*st-V*gt-Y*Q)*Tt,i[7]=(I*gt-R*st+F*Q)*Tt,i[8]=(v*Mt-w*_t+M*wt)*Tt,i[9]=(l*_t-s*Mt-d*wt)*Tt,i[10]=(V*at-W*st+Y*it)*Tt,i[11]=(N*st-I*at-F*it)*Tt,i[12]=(w*At-v*Nt-T*wt)*Tt,i[13]=(s*Nt-l*At+f*wt)*Tt,i[14]=(W*Q-V*nt-H*it)*Tt,i[15]=(I*nt-N*Q+R*it)*Tt,i):null}function OH(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=t[6],I=t[7],N=t[8],R=t[9],F=t[10],V=t[11],W=t[12],H=t[13],Y=t[14],it=t[15];let Q=s[0],st=s[1],nt=s[2],at=s[3];return i[0]=Q*l+st*w+nt*N+at*W,i[1]=Q*f+st*T+nt*R+at*H,i[2]=Q*d+st*M+nt*F+at*Y,i[3]=Q*v+st*I+nt*V+at*it,Q=s[4],st=s[5],nt=s[6],at=s[7],i[4]=Q*l+st*w+nt*N+at*W,i[5]=Q*f+st*T+nt*R+at*H,i[6]=Q*d+st*M+nt*F+at*Y,i[7]=Q*v+st*I+nt*V+at*it,Q=s[8],st=s[9],nt=s[10],at=s[11],i[8]=Q*l+st*w+nt*N+at*W,i[9]=Q*f+st*T+nt*R+at*H,i[10]=Q*d+st*M+nt*F+at*Y,i[11]=Q*v+st*I+nt*V+at*it,Q=s[12],st=s[13],nt=s[14],at=s[15],i[12]=Q*l+st*w+nt*N+at*W,i[13]=Q*f+st*T+nt*R+at*H,i[14]=Q*d+st*M+nt*F+at*Y,i[15]=Q*v+st*I+nt*V+at*it,i}function NH(i,t,s){const l=s[0],f=s[1],d=s[2];if(t===i)i[12]=t[0]*l+t[4]*f+t[8]*d+t[12],i[13]=t[1]*l+t[5]*f+t[9]*d+t[13],i[14]=t[2]*l+t[6]*f+t[10]*d+t[14],i[15]=t[3]*l+t[7]*f+t[11]*d+t[15];else{const v=t[0],w=t[1],T=t[2],M=t[3],I=t[4],N=t[5],R=t[6],F=t[7],V=t[8],W=t[9],H=t[10],Y=t[11];i[0]=v,i[1]=w,i[2]=T,i[3]=M,i[4]=I,i[5]=N,i[6]=R,i[7]=F,i[8]=V,i[9]=W,i[10]=H,i[11]=Y,i[12]=v*l+I*f+V*d+t[12],i[13]=w*l+N*f+W*d+t[13],i[14]=T*l+R*f+H*d+t[14],i[15]=M*l+F*f+Y*d+t[15]}return i}function LH(i,t,s){const l=s[0],f=s[1],d=s[2];return i[0]=t[0]*l,i[1]=t[1]*l,i[2]=t[2]*l,i[3]=t[3]*l,i[4]=t[4]*f,i[5]=t[5]*f,i[6]=t[6]*f,i[7]=t[7]*f,i[8]=t[8]*d,i[9]=t[9]*d,i[10]=t[10]*d,i[11]=t[11]*d,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function RH(i,t,s,l){let f=l[0],d=l[1],v=l[2],w=Math.sqrt(f*f+d*d+v*v),T,M,I,N,R,F,V,W,H,Y,it,Q,st,nt,at,gt,wt,At,_t,Nt,Mt,zt,Tt,fi;return w<Gu()?null:(w=1/w,f*=w,d*=w,v*=w,T=Math.sin(s),M=Math.cos(s),I=1-M,N=t[0],R=t[1],F=t[2],V=t[3],W=t[4],H=t[5],Y=t[6],it=t[7],Q=t[8],st=t[9],nt=t[10],at=t[11],gt=f*f*I+M,wt=d*f*I+v*T,At=v*f*I-d*T,_t=f*d*I-v*T,Nt=d*d*I+M,Mt=v*d*I+f*T,zt=f*v*I+d*T,Tt=d*v*I-f*T,fi=v*v*I+M,i[0]=N*gt+W*wt+Q*At,i[1]=R*gt+H*wt+st*At,i[2]=F*gt+Y*wt+nt*At,i[3]=V*gt+it*wt+at*At,i[4]=N*_t+W*Nt+Q*Mt,i[5]=R*_t+H*Nt+st*Mt,i[6]=F*_t+Y*Nt+nt*Mt,i[7]=V*_t+it*Nt+at*Mt,i[8]=N*zt+W*Tt+Q*fi,i[9]=R*zt+H*Tt+st*fi,i[10]=F*zt+Y*Tt+nt*fi,i[11]=V*zt+it*Tt+at*fi,t!==i&&(i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i)}function vI(i,t){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}function DH(i,t,s){if(t===0)return E6(i);let l=s[0],f=s[1],d=s[2],v=Math.sqrt(l*l+f*f+d*d),w,T,M;return v<Gu()?null:(v=1/v,l*=v,f*=v,d*=v,w=Math.sin(t),T=Math.cos(t),M=1-T,i[0]=l*l*M+T,i[1]=f*l*M+d*w,i[2]=d*l*M-f*w,i[3]=0,i[4]=l*f*M-d*w,i[5]=f*f*M+T,i[6]=d*f*M+l*w,i[7]=0,i[8]=l*d*M+f*w,i[9]=f*d*M-l*w,i[10]=d*d*M+T,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}function jH(i,t){const s=Math.sin(t),l=Math.cos(t);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=l,i[6]=s,i[7]=0,i[8]=0,i[9]=-s,i[10]=l,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function kH(i,t,s,l){const f=t[0],d=t[1],v=t[2],w=t[3],T=f+f,M=d+d,I=v+v,N=f*T,R=f*M,F=f*I,V=d*M,W=d*I,H=v*I,Y=w*T,it=w*M,Q=w*I,st=l[0],nt=l[1],at=l[2];return i[0]=(1-(V+H))*st,i[1]=(R+Q)*st,i[2]=(F-it)*st,i[3]=0,i[4]=(R-Q)*nt,i[5]=(1-(N+H))*nt,i[6]=(W+Y)*nt,i[7]=0,i[8]=(F+it)*at,i[9]=(W-Y)*at,i[10]=(1-(N+V))*at,i[11]=0,i[12]=s[0],i[13]=s[1],i[14]=s[2],i[15]=1,i}function FH(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]&&i[4]===t[4]&&i[5]===t[5]&&i[6]===t[6]&&i[7]===t[7]&&i[8]===t[8]&&i[9]===t[9]&&i[10]===t[10]&&i[11]===t[11]&&i[12]===t[12]&&i[13]===t[13]&&i[14]===t[14]&&i[15]===t[15]}function zH(i,t){if(i===t)return!0;const s=i[0],l=i[1],f=i[2],d=i[3],v=i[4],w=i[5],T=i[6],M=i[7],I=i[8],N=i[9],R=i[10],F=i[11],V=i[12],W=i[13],H=i[14],Y=i[15],it=t[0],Q=t[1],st=t[2],nt=t[3],at=t[4],gt=t[5],wt=t[6],At=t[7],_t=t[8],Nt=t[9],Mt=t[10],zt=t[11],Tt=t[12],fi=t[13],eo=t[14],rr=t[15],he=Gu();return Math.abs(s-it)<=he*Math.max(1,Math.abs(s),Math.abs(it))&&Math.abs(l-Q)<=he*Math.max(1,Math.abs(l),Math.abs(Q))&&Math.abs(f-st)<=he*Math.max(1,Math.abs(f),Math.abs(st))&&Math.abs(d-nt)<=he*Math.max(1,Math.abs(d),Math.abs(nt))&&Math.abs(v-at)<=he*Math.max(1,Math.abs(v),Math.abs(at))&&Math.abs(w-gt)<=he*Math.max(1,Math.abs(w),Math.abs(gt))&&Math.abs(T-wt)<=he*Math.max(1,Math.abs(T),Math.abs(wt))&&Math.abs(M-At)<=he*Math.max(1,Math.abs(M),Math.abs(At))&&Math.abs(I-_t)<=he*Math.max(1,Math.abs(I),Math.abs(_t))&&Math.abs(N-Nt)<=he*Math.max(1,Math.abs(N),Math.abs(Nt))&&Math.abs(R-Mt)<=he*Math.max(1,Math.abs(R),Math.abs(Mt))&&Math.abs(F-zt)<=he*Math.max(1,Math.abs(F),Math.abs(zt))&&Math.abs(V-Tt)<=he*Math.max(1,Math.abs(V),Math.abs(Tt))&&Math.abs(W-fi)<=he*Math.max(1,Math.abs(W),Math.abs(fi))&&Math.abs(H-eo)<=he*Math.max(1,Math.abs(H),Math.abs(eo))&&Math.abs(Y-rr)<=he*Math.max(1,Math.abs(Y),Math.abs(rr))}function UH(i){const t=Gu(),s=i[0],l=i[1],f=i[2],d=i[4],v=i[5],w=i[6],T=i[8],M=i[9],I=i[10];return Math.abs(1-(s*s+d*d+T*T))<=t&&Math.abs(1-(l*l+v*v+M*M))<=t&&Math.abs(1-(f*f+w*w+I*I))<=t}function $H(i){return i[0]===1&&i[1]===0&&i[2]===0&&i[4]===0&&i[5]===1&&i[6]===0&&i[8]===0&&i[9]===0&&i[10]===1}let Sc,Z=null;function x6(){return!!Z}function wI(){return!!rt("esri-wasm")}function M6(){return Sc||(Sc=pt(()=>import("./pe-wasm-359819ae.js"),[]).then(i=>i.p).then(({default:i})=>i({locateFile:t=>Zt(`esri/geometry/support/${t}`)})).then(i=>{P6(i)}),Sc)}var _y;(function(i){function t(d,v,w){Z.ensureCache.prepare();const T=ia(w),M=w===T,I=Z.ensureFloat64(T),N=Z._pe_geog_to_proj(Z.getPointer(d),v,I);return N&&Fn(w,v,I,M),N}i.geogToProj=t;function s(d,v,w,T){switch(T){case me.PE_TRANSFORM_P_TO_G:return l(d,v,w);case me.PE_TRANSFORM_G_TO_P:return t(d,v,w)}return 0}i.projGeog=s;function l(d,v,w){return f(d,v,w,0)}i.projToGeog=l;function f(d,v,w,T){Z.ensureCache.prepare();const M=ia(w),I=w===M,N=Z.ensureFloat64(M),R=Z._pe_proj_to_geog_center(Z.getPointer(d),v,N,T);return R&&Fn(w,v,N,I),R}i.projToGeogCenter=f})(_y||(_y={}));var me;(function(i){function t(){i.PE_BUFFER_MAX=Z.PeDefs.prototype.PE_BUFFER_MAX,i.PE_NAME_MAX=Z.PeDefs.prototype.PE_NAME_MAX,i.PE_MGRS_MAX=Z.PeDefs.prototype.PE_MGRS_MAX,i.PE_USNG_MAX=Z.PeDefs.prototype.PE_USNG_MAX,i.PE_DD_MAX=Z.PeDefs.prototype.PE_DD_MAX,i.PE_DDM_MAX=Z.PeDefs.prototype.PE_DDM_MAX,i.PE_DMS_MAX=Z.PeDefs.prototype.PE_DMS_MAX,i.PE_UTM_MAX=Z.PeDefs.prototype.PE_UTM_MAX,i.PE_PARM_MAX=Z.PeDefs.prototype.PE_PARM_MAX,i.PE_TYPE_NONE=Z.PeDefs.prototype.PE_TYPE_NONE,i.PE_TYPE_GEOGCS=Z.PeDefs.prototype.PE_TYPE_GEOGCS,i.PE_TYPE_PROJCS=Z.PeDefs.prototype.PE_TYPE_PROJCS,i.PE_TYPE_GEOGTRAN=Z.PeDefs.prototype.PE_TYPE_GEOGTRAN,i.PE_TYPE_COORDSYS=Z.PeDefs.prototype.PE_TYPE_COORDSYS,i.PE_TYPE_UNIT=Z.PeDefs.prototype.PE_TYPE_UNIT,i.PE_TYPE_LINUNIT=Z.PeDefs.prototype.PE_TYPE_LINUNIT,i.PE_STR_OPTS_NONE=Z.PeDefs.prototype.PE_STR_OPTS_NONE,i.PE_STR_AUTH_NONE=Z.PeDefs.prototype.PE_STR_AUTH_NONE,i.PE_STR_AUTH_TOP=Z.PeDefs.prototype.PE_STR_AUTH_TOP,i.PE_STR_NAME_CANON=Z.PeDefs.prototype.PE_STR_NAME_CANON,i.PE_PARM_X0=Z.PeDefs.prototype.PE_PARM_X0,i.PE_PARM_ND=Z.PeDefs.prototype.PE_PARM_ND,i.PE_TRANSFORM_1_TO_2=Z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,i.PE_TRANSFORM_2_TO_1=Z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,i.PE_TRANSFORM_P_TO_G=Z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,i.PE_TRANSFORM_G_TO_P=Z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,i.PE_HORIZON_RECT=Z.PeDefs.prototype.PE_HORIZON_RECT,i.PE_HORIZON_POLY=Z.PeDefs.prototype.PE_HORIZON_POLY,i.PE_HORIZON_LINE=Z.PeDefs.prototype.PE_HORIZON_LINE,i.PE_HORIZON_DELTA=Z.PeDefs.prototype.PE_HORIZON_DELTA}i.init=t})(me||(me={}));var Sy;(function(i){const t={},s={},l=F=>{if(F){const V=F.getType();switch(V){case me.PE_TYPE_GEOGCS:F=Z.castObject(F,Z.PeGeogcs);break;case me.PE_TYPE_PROJCS:F=Z.castObject(F,Z.PeProjcs);break;case me.PE_TYPE_GEOGTRAN:F=Z.castObject(F,Z.PeGeogtran);break;default:V&me.PE_TYPE_UNIT&&(F=Z.castObject(F,Z.PeUnit))}}return F};function f(){Z.PeFactory.prototype.initialize(null)}i.initialize=f;function d(F){return v(me.PE_TYPE_COORDSYS,F)}i.coordsys=d;function v(F,V){let W=null,H=t[F];if(H||(H={},t[F]=H),H.hasOwnProperty(String(V)))W=H[V];else{const Y=Z.PeFactory.prototype.factoryByType(F,V);Z.compare(Y,Z.NULL)||(W=Y,H[V]=W)}return W=l(W),W}i.factoryByType=v;function w(F,V){let W=null,H=s[F];if(H||(H={},s[F]=H),H.hasOwnProperty(V))W=H[V];else{const Y=Z.PeFactory.prototype.fromString(F,V);Z.compare(Y,Z.NULL)||(W=Y,H[V]=W)}return W=l(W),W}i.fromString=w;function T(F){return v(me.PE_TYPE_GEOGCS,F)}i.geogcs=T;function M(F){return v(me.PE_TYPE_GEOGTRAN,F)}i.geogtran=M;function I(F){return Z.PeFactory.prototype.getCode(F)}i.getCode=I;function N(F){return v(me.PE_TYPE_PROJCS,F)}i.projcs=N;function R(F){return v(me.PE_TYPE_UNIT,F)}i.unit=R})(Sy||(Sy={}));let A6=null;var af;(function(i){let t;function s(){i.PE_GTLIST_OPTS_COMMON=Z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=Z._pe_getPeGTlistExtendedEntrySize()}i.init=s;function l(f,d,v,w,T,M){let I=null;const N=new Z.PeInteger(M);try{const R=Z.PeGTlistExtended.prototype.getGTlist(f,d,v,w,T,N);if(M=N.val,M&&(I=[R],M>1)){const F=Z.getPointer(R);for(let V=1;V<M;V++)I.push(Z.wrapPointer(F+t*V,Z.PeGTlistExtendedEntry))}}finally{Z.destroy(N)}return I}i.getGTlist=l})(af||(af={}));var by;(function(i){function t(s){if(!(!s||!s.length)){for(const l of s)hs(l),l.getEntries().forEach(f=>{hs(f);const d=f.getGeogtran();hs(d),d.getParameters().forEach(hs),[d.getGeogcs1(),d.getGeogcs2()].forEach(v=>{hs(v);const w=v.getDatum();hs(w),hs(w.getSpheroid()),hs(v.getPrimem()),hs(v.getUnit())})});Z.PeGTlistExtendedEntry.prototype.Delete(s[0])}}i.destroy=t})(by||(by={}));var Ty;(function(i){function t(s,l,f,d,v){Z.ensureCache.prepare();const w=ia(f),T=f===w,M=Z.ensureFloat64(w);let I=0;d&&(I=Z.ensureFloat64(d));const N=Z._pe_geog_to_geog(Z.getPointer(s),l,M,I,v);return N&&Fn(f,l,M,T),N}i.geogToGeog=t})(Ty||(Ty={}));var Ey;(function(i){const t=(M,I,N,R,F,V)=>{Z.ensureCache.prepare();let W,H;switch(M){case"dd":W=Z._pe_geog_to_dd,H=me.PE_DD_MAX;break;case"ddm":W=Z._pe_geog_to_ddm,H=me.PE_DDM_MAX;break;case"dms":W=Z._pe_geog_to_dms,H=me.PE_DMS_MAX;break}let Y=0;I&&(Y=Z.getPointer(I));const it=ia(R),Q=Z.ensureFloat64(it),st=c1(N,H),nt=Z.ensureInt32(st),at=W(Y,N,Q,F,nt);if(at)for(let gt=0;gt<N;gt++)V[gt]=Z.UTF8ToString(st[gt]);return at},s=(M,I,N,R,F)=>{Z.ensureCache.prepare();let V;switch(M){case"dd":V=Z._pe_dd_to_geog;break;case"ddm":V=Z._pe_ddm_to_geog;break;case"dms":V=Z._pe_dms_to_geog;break}let W=0;I&&(W=Z.getPointer(I));const H=R.map(st=>Z.ensureString(st)),Y=Z.ensureInt32(H),it=Z.ensureFloat64(new Array(N*2)),Q=V(W,N,Y,it);return Q&&Fn(F,N,it),Q};function l(M,I,N,R,F){return t("dms",M,I,N,R,F)}i.geogToDms=l;function f(M,I,N,R){return s("dms",M,I,N,R)}i.dmsToGeog=f;function d(M,I,N,R,F){return t("ddm",M,I,N,R,F)}i.geogToDdm=d;function v(M,I,N,R){return s("ddm",M,I,N,R)}i.ddmToGeog=v;function w(M,I,N,R,F){return t("dd",M,I,N,R,F)}i.geogToDd=w;function T(M,I,N,R){return s("dd",M,I,N,R)}i.ddToGeog=T})(Ey||(Ey={}));var lf;(function(i){function t(){i.PE_MGRS_STYLE_NEW=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,i.PE_MGRS_STYLE_OLD=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,i.PE_MGRS_STYLE_AUTO=Z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,i.PE_MGRS_180_ZONE_1_PLUS=Z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,i.PE_MGRS_ADD_SPACES=Z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}i.init=t;function s(f,d,v,w,T,M,I){Z.ensureCache.prepare();let N=0;f&&(N=Z.getPointer(f));const R=ia(v),F=Z.ensureFloat64(R),V=c1(d,me.PE_MGRS_MAX),W=Z.ensureInt32(V),H=Z._pe_geog_to_mgrs_extended(N,d,F,w,T,M,W);if(H)for(let Y=0;Y<d;Y++)I[Y]=Z.UTF8ToString(V[Y]);return H}i.geogToMgrsExtended=s;function l(f,d,v,w,T){Z.ensureCache.prepare();let M=0;f&&(M=Z.getPointer(f));const I=v.map(V=>Z.ensureString(V)),N=Z.ensureInt32(I),R=Z.ensureFloat64(new Array(d*2)),F=Z._pe_mgrs_to_geog_extended(M,d,N,w,R);return F&&Fn(T,d,R),F}i.mgrsToGeogExtended=l})(lf||(lf={}));var xy;(function(i){function t(l,f,d,v,w,T,M){Z.ensureCache.prepare();let I=0;l&&(I=Z.getPointer(l));const N=ia(d),R=Z.ensureFloat64(N),F=c1(f,me.PE_MGRS_MAX),V=Z.ensureInt32(F),W=Z._pe_geog_to_usng(I,f,R,v,w,T,V);if(W)for(let H=0;H<f;H++)M[H]=Z.UTF8ToString(F[H]);return W}i.geogToUsng=t;function s(l,f,d,v){Z.ensureCache.prepare();let w=0;l&&(w=Z.getPointer(l));const T=d.map(R=>Z.ensureString(R)),M=Z.ensureInt32(T),I=Z.ensureFloat64(new Array(f*2)),N=Z._pe_usng_to_geog(w,f,M,I);return N&&Fn(v,f,I),N}i.usngToGeog=s})(xy||(xy={}));var hf;(function(i){function t(){i.PE_UTM_OPTS_NONE=Z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,i.PE_UTM_OPTS_ADD_SPACES=Z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,i.PE_UTM_OPTS_NS=Z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}i.init=t;function s(f,d,v,w,T){Z.ensureCache.prepare();let M=0;f&&(M=Z.getPointer(f));const I=ia(v),N=Z.ensureFloat64(I),R=c1(d,me.PE_UTM_MAX),F=Z.ensureInt32(R),V=Z._pe_geog_to_utm(M,d,N,w,F);if(V)for(let W=0;W<d;W++)T[W]=Z.UTF8ToString(R[W]);return V}i.geogToUtm=s;function l(f,d,v,w,T){Z.ensureCache.prepare();let M=0;f&&(M=Z.getPointer(f));const I=v.map(V=>Z.ensureString(V)),N=Z.ensureInt32(I),R=Z.ensureFloat64(new Array(d*2)),F=Z._pe_utm_to_geog(M,d,N,w,R);return F&&Fn(T,d,R),F}i.utmToGeog=l})(hf||(hf={}));var uf;(function(i){const t=new Map;function s(){i.PE_PCSINFO_OPTION_NONE=Z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,i.PE_PCSINFO_OPTION_DOMAIN=Z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,i.PE_POLE_OUTSIDE_BOUNDARY=Z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,i.PE_POLE_POINT=Z.PePCSInfo.prototype.PE_POLE_POINT}i.init=s;function l(f,d=i.PE_PCSINFO_OPTION_DOMAIN){let v=null,w=null;return t.has(f)&&(w=t.get(f),w[d]&&(v=w[d])),v||(v=Z.PePCSInfo.prototype.generate(f,d),w||(w=[],t.set(f,w)),w[d]=v),v}i.generate=l})(uf||(uf={}));var My;(function(i){function t(){return Z.PeVersion.prototype.version_string()}i.versionString=t})(My||(My={}));function P6(i){Z=i,me.init(),af.init(),lf.init(),hf.init(),uf.init(),A6=class extends Z.PeGCSExtent{destroy(){Z.destroy(this)}};function t(d,v,w){d[v]=w(d[v])}const s=[Z.PeDatum,Z.PeGeogcs,Z.PeGeogtran,Z.PeObject,Z.PeParameter,Z.PePrimem,Z.PeProjcs,Z.PeSpheroid,Z.PeUnit];for(const d of s)t(d.prototype,"getName",v=>function(){return v.call(this,new Array(me.PE_NAME_MAX))});for(const d of[Z.PeGeogtran,Z.PeProjcs])t(d.prototype,"getParameters",v=>function(){const w=new Array(me.PE_PARM_MAX);let T=v.call(this);for(let M=0;M<w.length;M++){const I=Z.getValue(T,"*");w[M]=I?Z.wrapPointer(I,Z.PeParameter):null,T+=Int32Array.BYTES_PER_ELEMENT}return w});t(Z.PeHorizon.prototype,"getCoord",d=>function(){const v=this.getSize();if(!v)return null;const w=[],T=d.call(this);return Fn(w,v,T),w}),t(Z.PeGTlistExtendedEntry.prototype,"getEntries",d=>{const v=Z._pe_getPeGTlistExtendedGTsSize();return function(){let w=null;const T=d.call(this);if(!Z.compare(T,Z.NULL)){w=[T];const M=this.getSteps();if(M>1){const I=Z.getPointer(T);for(let N=1;N<M;N++)w.push(Z.wrapPointer(I+v*N,Z.PeGTlistExtendedGTs))}}return w}});const l=Z._pe_getPeHorizonSize(),f=d=>function(){let v=this._cache;if(v||(v=new Map,this._cache=v),v.has(d))return v.get(d);let w=null;const T=d.call(this);if(!Z.compare(T,Z.NULL)){w=[T];const M=T.getNump();if(M>1){const I=Z.getPointer(T);for(let N=1;N<M;N++)w.push(Z.wrapPointer(I+l*N,Z.PeHorizon))}}return v.set(d,w),w};t(Z.PeProjcs.prototype,"horizonGcsGenerate",f),t(Z.PeProjcs.prototype,"horizonPcsGenerate",f),Z.PeObject.prototype.toString=function(d=me.PE_STR_OPTS_NONE){Z.ensureCache.prepare();const v=Z.getPointer(this),w=Z.ensureInt8(new Array(me.PE_BUFFER_MAX));return Z.UTF8ToString(Z._pe_object_to_string_ext(v,d,w))}}function hs(i){if(!i)return;const t=Z.getClass(i);if(!t)return;const s=Z.getCache(t);if(!s)return;const l=Z.getPointer(i);l&&delete s[l]}function c1(i,t){const s=[],l=new Array(t);for(let f=0;f<i;f++)s.push(Z.ensureInt8(l));return s}function ia(i){let t;return Array.isArray(i[0])?(t=[],i.forEach(s=>{t.push(s[0],s[1])})):t=i,t}function Fn(i,t,s,l=!1){if(l)for(let f=0;f<2*t;f++)i[f]=Z.getValue(s+f*Float64Array.BYTES_PER_ELEMENT,"double");else{const f=i.length===0;for(let d=0;d<t;d++)f&&(i[d]=new Array(2)),i[d][0]=Z.getValue(s,"double"),i[d][1]=Z.getValue(s+Float64Array.BYTES_PER_ELEMENT,"double"),s+=2*Float64Array.BYTES_PER_ELEMENT}}const gI=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return _y},get PeDefs(){return me},get PeFactory(){return Sy},get PeGCSExtent(){return A6},get PeGTTransformations(){return Ty},get PeGTlistExtended(){return af},get PeGTlistExtendedEntry(){return by},get PeNotationDms(){return Ey},get PeNotationMgrs(){return lf},get PeNotationUsng(){return xy},get PeNotationUtm(){return hf},get PePCSInfo(){return uf},get PeVersion(){return My},_init:P6,get _pe(){return Z},isLoaded:x6,isSupported:wI,load:M6},Symbol.toStringTag,{value:"Module"})),Xs=we.radius;//!< equatorial radius used for WGS84 ellipsoid
const or=we.eccentricitySquared,_I={a1:Xs*or,a2:Xs*or*Xs*or,a3:Xs*or*or/2,a4:Xs*or*Xs*or*2.5,a5:Xs*or+Xs*or*or/2,a6:1-or};1/294.9786982,1/298.257222101,we.radius,we.flattening,An.radius,An.flattening,1/192.0430107526882,_s.radius,_s.flattening,1/15.41440275981026,1/10.2079945799458,1/43.61604095563141,1/58.54373522458629,1/6.933333333333334,_s.radius;let bc=0;class Ya{static fromGE(t){const s=new Ya;return s._wkt=t.wkt,s._wkid=t.wkid,s._isInverse=t.isInverse,s}constructor(t){this.uid=bc++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null?t.isInverse===!0:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=bc++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=bc++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=bc++}getInverse(){const t=new Ya;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class gn{static cacheKey(t,s){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",s.wkid!==void 0&&s.wkid!==null?s.wkid.toString():"-1",s.wkt!==void 0&&s.wkt!==null?s.wkt.toString():""].join(",")}static fromGE(t){const s=new gn;let l="";for(const f of t.steps){const d=Ya.fromGE(f);s.steps.push(d),l+=d.uid.toString()+","}return s._cachedProjection={},s._gtlistentry=null,s._chain=l,s}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const s of t.steps)s instanceof Ya?this.steps.push(s):this.steps.push(new Ya({wkid:s.wkid,wkt:s.wkt,isInverse:s.isInverse}))}getInverse(){const t=new gn;t.steps=[];for(let s=this.steps.length-1;s>=0;s--){const l=this.steps[s];t.steps.push(l.getInverse())}return t}getGTListEntry(){let t="";for(const s of this.steps)t+=s.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,s,l){this._cachedProjection[gn.cacheKey(t,s)]=l}getCachedGeTransformation(t,s){let l="";for(const d of this.steps)l+=d.uid.toString()+",";l!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=l);const f=this._cachedProjection[gn.cacheKey(t,s)];return f===void 0?null:f}}function SI(i,t,s){if(t==null||s==null||s.vcsWkid||oi(t,s))return null;const l=G3(t),f=G3(s),d=l/f;if(d===1)return null;switch(i){case"point":case"esriGeometryPoint":return v=>bI(v,d);case"polyline":case"esriGeometryPolyline":return v=>EI(v,d);case"polygon":case"esriGeometryPolygon":return v=>TI(v,d);case"multipoint":case"esriGeometryMultipoint":return v=>xI(v,d);case"extent":case"esriGeometryEnvelope":return v=>MI(v,d);default:return null}}function bI(i,t){i&&i.z!=null&&(i.z*=t)}function TI(i,t){if(i)for(const s of i.rings)for(const l of s)l.length>2&&(l[2]*=t)}function EI(i,t){if(i)for(const s of i.paths)for(const l of s)l.length>2&&(l[2]*=t)}function xI(i,t){if(i)for(const s of i.points)s.length>2&&(s[2]*=t)}function MI(i,t){i&&i.zmin!=null&&i.zmax!=null&&(i.zmin*=t,i.zmax*=t)}let bn=null,bu=null,q1=null,Z1={};const I6=new g2;function ra(){return!!bn&&x6()}function sa(i){return q1==null&&(q1=Promise.all([M6(),pt(()=>Promise.resolve().then(()=>hz),void 0).then(t=>t.g),pt(()=>Promise.resolve().then(()=>mz),void 0)])),q1.then(([,t,{hydratedAdapter:s}])=>{Le(i),bu=s,bn=t.default,bn._enableProjection(gI),I6.notify()})}function Dl(i,t,s=null,l=null){return Array.isArray(i)?i.length===0?[]:Rv(bu,i,i[0].spatialReference,t,s,l):Rv(bu,[i],i.spatialReference,t,s,l)[0]}function Rv(i,t,s,l,f=null,d=null){if(s==null||l==null)return t;if(zn(s,l,f))return t.map(v=>CI(v,s,l));if(f==null){const v=gn.cacheKey(s,l);Z1[v]!==void 0?f=Z1[v]:(f=PI(s,l,void 0),f==null&&(f=new gn),Z1[v]=f)}if(bn==null||i==null)throw new xm;return d!=null?bn._project(i,t,s,l,f,d):bn._project(i,t,s,l,f)}function VH(i,t){const s=AI([i],t);return s.pending!=null?{pending:s.pending,geometry:null}:s.geometries!=null?{pending:null,geometry:s.geometries[0]}:{pending:null,geometry:null}}function AI(i,t){if(!ra()){for(const l of i)if(l!=null&&!oi(l.spatialReference,t)&&ti(l.spatialReference)&&ti(t)&&!zn(l.spatialReference,t))return It(I6),{pending:sa(),geometries:null}}return{pending:null,geometries:i.map(l=>l==null?null:oi(l.spatialReference,t)?l:!ti(l.spatialReference)||!ti(t)?null:II(l,t))}}function PI(i,t,s=null){if(i==null||t==null)return null;if(bn==null||bu==null)throw new xm;const l=bn._getTransformation(bu,i,t,s,s==null?void 0:s.spatialReference);return l!==null?gn.fromGE(l):null}class xm extends mt{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var J;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",i[i.WGS84=2]="WGS84",i[i.WEB_MERCATOR=3]="WEB_MERCATOR",i[i.WGS84_ECEF=4]="WGS84_ECEF",i[i.CGCS2000=5]="CGCS2000",i[i.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",i[i.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",i[i.GCSMARS2000=8]="GCSMARS2000",i[i.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",i[i.GCSMOON2000=10]="GCSMOON2000",i[i.LON_LAT=11]="LON_LAT",i[i.PLATE_CARREE=12]="PLATE_CARREE"})(J||(J={}));function II(i,t){try{const s=Dl(i,t);if(s==null)return null;"xmin"in i&&"xmin"in s&&(s.zmin=i.zmin,s.zmax=i.zmax);const l=SI(s.type,i.spatialReference,t);return l!=null&&l(s),s}catch(s){if(!(s instanceof xm))throw s;return null}}function zn(i,t,s){return s?!1:oi(i,t)?!0:ti(i)&&ti(t)&&!!L6(i,t,R6)}async function BH(i,t,s,l){if(ra())return T3(l);if(Array.isArray(i)){for(const{source:f,dest:d,geographicTransformation:v}of i)if(!zn(f,d,v))return sa(l)}else if(!zn(i,t,s))return sa(l);return T3(l)}function CI(i,t,s){return i?"x"in i?OI(i,t,new Pt,s,0):"xmin"in i?RI(i,t,new pe,s,0):"rings"in i?C6(i,t,new Nl,s,0):"paths"in i?LI(i,t,new Sa,s,0):"points"in i?NI(i,t,new Vu,s,0):null:null}function OI(i,t,s,l,f){ke[0]=i.x,ke[1]=i.y;const d=i.z;return ke[2]=d!==void 0?d:f,qu(ke,t,0,ke,l,0,1)?(s.x=ke[0],s.y=ke[1],s.spatialReference=l,d===void 0?(s.z=void 0,s.hasZ=!1):(s.z=ke[2],s.hasZ=!0),i.m===void 0?(s.m=void 0,s.hasM=!1):(s.m=i.m,s.hasM=!0),s):null}function NI(i,t,s,l,f){const{points:d,hasZ:v,hasM:w}=i,T=[],M=d.length,I=[];for(const N of d)I.push(N[0],N[1],v?N[2]:f);if(!qu(I,t,0,I,l,0,M))return null;for(let N=0;N<M;++N){const R=N*3,F=I[R],V=I[R+1];v&&w?T.push([F,V,I[R+2],d[N][3]]):v?T.push([F,V,I[R+2]]):w?T.push([F,V,d[N][2]]):T.push([F,V])}return s.points=T,s.spatialReference=l,s.hasZ=v,s.hasM=w,s}function LI(i,t,s,l,f){const{paths:d,hasZ:v,hasM:w}=i,T=[];return O6(d,v??!1,w??!1,t,T,l,f)?(s.paths=T,s.spatialReference=l,s.hasZ=v,s.hasM=w,s):null}function HH(i,t,s=t.spatialReference,l=0){return i.spatialReference!=null&&s!=null&&C6(i,i.spatialReference,t,s,l)!=null}function C6(i,t,s,l,f){const{rings:d,hasZ:v,hasM:w}=i,T=[];return O6(d,v??!1,w??!1,t,T,l,f)?(s.rings=T,s.spatialReference=l,s.hasZ=v,s.hasM=w,s):null}function RI(i,t,s,l,f){const{xmin:d,ymin:v,xmax:w,ymax:T,hasZ:M,hasM:I}=i,N=M?i.zmin:f;if(!Dv(d,v,N,t,ke,l))return null;s.xmin=ke[0],s.ymin=ke[1],M&&(s.zmin=ke[2]);const R=M?i.zmax:f;return Dv(w,T,R,t,ke,l)?(s.xmax=ke[0],s.ymax=ke[1],M&&(s.zmax=ke[2]),I&&(s.mmin=i.mmin,s.mmax=i.mmax),s.spatialReference=l,s):null}function WH(i,t,s,l=0){ke[0]=i.x,ke[1]=i.y;const f=i.z;return ke[2]=f!==void 0?f:l,qu(ke,i.spatialReference,0,t,s,0,1)}function Dv(i,t,s,l,f,d){return Tc[0]=i,Tc[1]=t,Tc[2]=s,qu(Tc,l,0,f,d,0,1)}function qu(i,t,s,l,f,d,v=1){const w=L6(t,f,R6);if(w==null)return!1;if(w===oe){if(i===l&&s===d)return!0;const M=s+3*v;for(let I=s,N=d;I<M;I++,N++)l[N]=i[I];return!0}const T=s+3*v;for(let M=s,I=d;M<T;M+=3,I+=3)w(i,M,l,I);return!0}function O6(i,t,s,l,f,d,v=0){const w=new Array;for(const M of i)for(const I of M)w.push(I[0],I[1],t?I[2]:v);if(!qu(w,l,0,w,d,0,w.length/3))return!1;let T=0;f.length=0;for(const M of i){const I=new Array;for(const N of M)t&&s?I.push([w[T++],w[T++],w[T++],N[3]]):t?I.push([w[T++],w[T++],w[T++]]):s?(I.push([w[T++],w[T++],N[2]]),T++):(I.push([w[T++],w[T++]]),T++);f.push(I)}return!0}function JH(i,t,s,l){if(i==null||l==null)return!1;const f=cf(i,ZI),d=cf(l,XI);if(f===d&&!jv(d)&&(f!==J.UNKNOWN||oi(i,l)))return vI(s,t),!0;if(jv(d)){const v=ch[f][J.LON_LAT],w=ch[J.LON_LAT][d];return v==null||w==null?!1:(v(t,0,Qs,0),w(Qs,0,tn,0),N6(Ur*Qs[0],Ur*Qs[1],s),s[12]=tn[0],s[13]=tn[1],s[14]=tn[2],!0)}if((d===J.WEB_MERCATOR||d===J.PLATE_CARREE)&&(f===J.WGS84||f===J.CGCS2000&&d===J.PLATE_CARREE||f===J.SPHERICAL_ECEF||f===J.WEB_MERCATOR)){const v=ch[f][J.LON_LAT],w=ch[J.LON_LAT][d];return v==null||w==null?!1:(v(t,0,Qs,0),w(Qs,0,tn,0),f===J.SPHERICAL_ECEF?DI(Ur*Qs[0],Ur*Qs[1],s):E6(s),s[12]=tn[0],s[13]=tn[1],s[14]=tn[2],!0)}return!1}function jv(i){return i===J.SPHERICAL_ECEF||i===J.SPHERICAL_MARS_PCPF||i===J.SPHERICAL_MOON_PCPF}function N6(i,t,s){const l=Math.sin(i),f=Math.cos(i),d=Math.sin(t),v=Math.cos(t),w=s;return w[0]=-l,w[4]=-d*f,w[8]=v*f,w[12]=0,w[1]=f,w[5]=-d*l,w[9]=v*l,w[13]=0,w[2]=0,w[6]=v,w[10]=d,w[14]=0,w[3]=0,w[7]=0,w[11]=0,w[15]=1,w}function DI(i,t,s){return N6(i,t,s),mI(s,s),s}function cf(i,t){return i?t.spatialReference===i?t.spatialReferenceId:(t.spatialReference=i,"metersPerUnit"in t&&(t.metersPerUnit=Cl(i,1)),i.wkt===hE.wkt?t.spatialReferenceId=J.SPHERICAL_ECEF:Uh(i)?t.spatialReferenceId=J.WGS84:Ro(i)?t.spatialReferenceId=J.WEB_MERCATOR:sE(i)?t.spatialReferenceId=J.PLATE_CARREE:i.wkt===uE.wkt?t.spatialReferenceId=J.WGS84_ECEF:i.wkid===Lo.CGCS2000?t.spatialReferenceId=J.CGCS2000:i.wkt===S5.wkt?t.spatialReferenceId=J.SPHERICAL_MARS_PCPF:i.wkt===b5.wkt?t.spatialReferenceId=J.SPHERICAL_MOON_PCPF:D2(i)?t.spatialReferenceId=J.GCSMARS2000:k2(i)?t.spatialReferenceId=J.GCSMOON2000:t.spatialReferenceId=J.UNKNOWN):J.UNKNOWN}function oe(i,t,s,l){i!==s&&(s[l++]=i[t++],s[l++]=i[t++],s[l]=i[t])}function qa(i,t,s,l){s[l++]=dl*(i[t++]/we.radius),s[l++]=dl*(Math.PI/2-2*Math.atan(Math.exp(-i[t++]/we.radius))),s[l]=i[t]}function jI(i,t,s,l){qa(i,t,s,l),_o(s,l,s,l)}function kI(i,t,s,l){qa(i,t,s,l),bo(s,l,s,l)}function FI(i,t,s,l,f){const d=.4999999*Math.PI,v=Hr(Ur*i[t+1],-d,d),w=Math.sin(v);s[l++]=Ur*i[t]*f.radius,s[l++]=f.halfSemiMajorAxis*Math.log((1+w)/(1-w)),s[l]=i[t+2]}function Tu(i,t,s,l){FI(i,t,s,l,we)}const kv=we.radius*Math.PI/180,Fv=180/(we.radius*Math.PI);function wo(i,t,s,l){s[l]=i[t]*kv,s[l+1]=i[t+1]*kv,s[l+2]=i[t+2]}function go(i,t,s,l){s[l]=i[t]*Fv,s[l+1]=i[t+1]*Fv,s[l+2]=i[t+2]}function zI(i,t,s,l){qa(i,t,s,l),wo(s,l,s,l)}function UI(i,t,s,l){To(i,t,s,l),wo(s,l,s,l)}function $I(i,t,s,l){So(i,t,s,l),wo(s,l,s,l)}function GI(i,t,s,l){go(i,t,s,l),_o(s,l,s,l)}function VI(i,t,s,l){go(i,t,s,l),Tu(s,l,s,l)}function BI(i,t,s,l){go(i,t,s,l),bo(s,l,s,l)}function Mm(i,t,s,l,f){const d=f+i[t+2],v=Ur*i[t+1],w=Ur*i[t],T=Math.cos(v);s[l++]=Math.cos(w)*T*d,s[l++]=Math.sin(w)*T*d,s[l]=Math.sin(v)*d}function zv(i,t,s,l){Mm(i,t,s,l,An.radius)}function Uv(i,t,s,l){Mm(i,t,s,l,_s.radius)}function _o(i,t,s,l){Mm(i,t,s,l,we.radius)}function Am(i,t,s,l,f){const d=i[t],v=i[t+1],w=i[t+2],T=Math.sqrt(d*d+v*v+w*w),M=iM(w/(T===0?1:T)),I=Math.atan2(v,d);s[l++]=dl*I,s[l++]=dl*M,s[l]=T-f}function $v(i,t,s,l){Am(i,t,s,l,An.radius)}function Gv(i,t,s,l){Am(i,t,s,l,_s.radius)}function So(i,t,s,l){Am(i,t,s,l,we.radius)}function HI(i,t,s,l){So(i,t,s,l),Tu(s,l,s,l)}function WI(i,t,s,l){So(i,t,s,l),bo(s,l,s,l)}function JI(i,t,s,l,f){const d=Ur*i[t],v=Ur*i[t+1],w=i[t+2],T=Math.sin(v),M=Math.cos(v),I=f.radius/Math.sqrt(1-f.eccentricitySquared*T*T);s[l++]=(I+w)*M*Math.cos(d),s[l++]=(I+w)*M*Math.sin(d),s[l++]=(I*(1-f.eccentricitySquared)+w)*T}function bo(i,t,s,l){JI(i,t,s,l,we)}function To(i,t,s,l){const f=_I,d=i[t],v=i[t+1],w=i[t+2];let T,M,I,N,R,F,V,W,H,Y,it,Q,st,nt,at,gt,wt,At,_t,Nt,Mt;T=Math.abs(w),M=d*d+v*v,I=Math.sqrt(M),N=M+w*w,R=Math.sqrt(N),Nt=Math.atan2(v,d),F=w*w/N,V=M/N,nt=f.a2/R,at=f.a3-f.a4/R,V>.3?(W=T/R*(1+V*(f.a1+nt+F*at)/R),_t=Math.asin(W),Y=W*W,H=Math.sqrt(1-Y)):(H=I/R*(1-F*(f.a5-nt-V*at)/R),_t=Math.acos(H),Y=1-H*H,W=Math.sqrt(Y)),it=1-we.eccentricitySquared*Y,Q=we.radius/Math.sqrt(it),st=f.a6*Q,nt=I-Q*H,at=T-st*W,wt=H*nt+W*at,gt=H*at-W*nt,At=gt/(st/it+wt),_t=_t+At,Mt=wt+gt*At/2,w<0&&(_t=-_t),s[l++]=dl*Nt,s[l++]=dl*_t,s[l]=Mt}function KI(i,t,s,l){To(i,t,s,l),_o(s,l,s,l)}function YI(i,t,s,l){To(i,t,s,l),Tu(s,l,s,l)}const ch={[J.WGS84]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:oe,[J.WGS84_COMPARABLE_LON_LAT]:oe,[J.SPHERICAL_ECEF]:_o,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:Tu,[J.PLATE_CARREE]:wo,[J.WGS84]:oe,[J.WGS84_ECEF]:bo},[J.CGCS2000]:{[J.CGCS2000]:oe,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:oe,[J.WGS84_COMPARABLE_LON_LAT]:oe,[J.SPHERICAL_ECEF]:_o,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:wo,[J.WGS84]:null,[J.WGS84_ECEF]:bo},[J.GCSMARS2000]:{[J.CGCS2000]:null,[J.GCSMARS2000]:oe,[J.GCSMOON2000]:null,[J.LON_LAT]:oe,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:Uv,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.GCSMOON2000]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:oe,[J.LON_LAT]:oe,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:zv,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.WEB_MERCATOR]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:qa,[J.WGS84_COMPARABLE_LON_LAT]:qa,[J.SPHERICAL_ECEF]:jI,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:oe,[J.PLATE_CARREE]:zI,[J.WGS84]:qa,[J.WGS84_ECEF]:kI},[J.WGS84_ECEF]:{[J.CGCS2000]:To,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:To,[J.WGS84_COMPARABLE_LON_LAT]:To,[J.SPHERICAL_ECEF]:KI,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:YI,[J.PLATE_CARREE]:UI,[J.WGS84]:To,[J.WGS84_ECEF]:oe},[J.SPHERICAL_ECEF]:{[J.CGCS2000]:So,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:So,[J.WGS84_COMPARABLE_LON_LAT]:So,[J.SPHERICAL_ECEF]:oe,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:HI,[J.PLATE_CARREE]:$I,[J.WGS84]:So,[J.WGS84_ECEF]:WI},[J.SPHERICAL_MARS_PCPF]:{[J.CGCS2000]:null,[J.GCSMARS2000]:Gv,[J.GCSMOON2000]:null,[J.LON_LAT]:Gv,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:oe,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.SPHERICAL_MOON_PCPF]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:$v,[J.LON_LAT]:$v,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:oe,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.UNKNOWN]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:null,[J.WGS84_COMPARABLE_LON_LAT]:null,[J.SPHERICAL_ECEF]:null,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:oe,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:null,[J.WGS84]:null,[J.WGS84_ECEF]:null},[J.LON_LAT]:{[J.CGCS2000]:oe,[J.GCSMARS2000]:oe,[J.GCSMOON2000]:oe,[J.LON_LAT]:oe,[J.WGS84_COMPARABLE_LON_LAT]:oe,[J.SPHERICAL_ECEF]:_o,[J.SPHERICAL_MARS_PCPF]:Uv,[J.SPHERICAL_MOON_PCPF]:zv,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:Tu,[J.PLATE_CARREE]:wo,[J.WGS84]:oe,[J.WGS84_ECEF]:bo},[J.WGS84_COMPARABLE_LON_LAT]:{[J.CGCS2000]:null,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:oe,[J.WGS84_COMPARABLE_LON_LAT]:oe,[J.SPHERICAL_ECEF]:_o,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:null,[J.PLATE_CARREE]:wo,[J.WGS84]:oe,[J.WGS84_ECEF]:bo},[J.PLATE_CARREE]:{[J.CGCS2000]:go,[J.GCSMARS2000]:null,[J.GCSMOON2000]:null,[J.LON_LAT]:go,[J.WGS84_COMPARABLE_LON_LAT]:go,[J.SPHERICAL_ECEF]:GI,[J.SPHERICAL_MARS_PCPF]:null,[J.SPHERICAL_MOON_PCPF]:null,[J.UNKNOWN]:null,[J.WEB_MERCATOR]:VI,[J.PLATE_CARREE]:oe,[J.WGS84]:go,[J.WGS84_ECEF]:BI}};function L6(i,t,s=Pm()){return i==null||t==null?null:qI(i,t,s).projector}function qI(i,t,s){if(i==null||t==null||s.source.spatialReference===i&&s.dest.spatialReference===t)return s;const l=cf(i,s.source),f=cf(t,s.dest);return l===J.UNKNOWN&&f===J.UNKNOWN?oi(i,t)?s.projector=oe:s.projector=null:s.projector=ch[l][f],s}function Pm(){return{source:{spatialReference:null,spatialReferenceId:J.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:J.UNKNOWN,metersPerUnit:1},projector:oe}}const ZI={spatialReference:null,spatialReferenceId:J.UNKNOWN},XI={spatialReference:null,spatialReferenceId:J.UNKNOWN},R6=Pm();Pm();const Ur=eM(1),dl=K5(1),Tc=Ol(),Qs=Ol(),tn=Ol(),ke=Ol();var Ay;let es=Ay=class extends bt{constructor(t){super(t),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new Ay({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};E([A({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],es.prototype,"cols",void 0);E([A({type:ze,json:{write:!0}})],es.prototype,"level",void 0);E([A({type:String,json:{write:!0}})],es.prototype,"levelValue",void 0);E([A({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],es.prototype,"origin",void 0);E([A({type:Number,json:{write:!0}})],es.prototype,"resolution",void 0);E([A({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],es.prototype,"rows",void 0);E([A({type:Number,json:{write:!0}})],es.prototype,"scale",void 0);es=Ay=E([q("esri.layers.support.LOD")],es);const cn=es;let QI=class{constructor(t,s,l,f,d=void 0){this.id=t,this.level=s,this.row=l,this.col=f,this.extent=d}};var hn;const Vv=new ii({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let qe=hn=class extends bt{static create(t={}){const{resolutionFactor:s=1,scales:l,size:f=256,spatialReference:d=fe.WebMercator,numLODs:v=24}=t;if(!ti(d)){const V=[];if(l)for(let W=0;W<l.length;W++){const H=l[W];V.push(new cn({level:W,scale:H,resolution:H}))}else{let W=5e-4;for(let H=v-1;H>=0;H--)V.unshift(new cn({level:H,scale:W,resolution:W})),W*=2}return new hn({dpi:96,lods:V,origin:new Pt(0,0,d),size:[f,f],spatialReference:d})}const w=Ss(d),T=t.origin?new Pt({x:t.origin.x,y:t.origin.y,spatialReference:d}):w?new Pt({x:w.origin[0],y:w.origin[1],spatialReference:d}):new Pt({x:0,y:0,spatialReference:d}),M=Cl(d),I=96,R=1/(M*39.37*I),F=[];if(l)for(let V=0;V<l.length;V++){const W=l[V],H=W*R;F.push(new cn({level:V,scale:W,resolution:H}))}else{let V=_5(d)?5916575275917094e-7*(512/f):591657527591555e-6*(256/f);const W=Math.ceil(v/s);F.push(new cn({level:0,scale:V,resolution:V*R}));for(let H=1;H<W;H++){const Y=V/2**s,it=Y*R;F.push(new cn({level:H,scale:Y,resolution:it})),V=Y}}return new hn({dpi:I,lods:F,origin:T,size:[f,f],spatialReference:d})}constructor(t){super(t),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:t,origin:s}=this;if(t&&s){const l=Ss(t);return t.isWrappable&&!!l&&Math.abs(l.origin[0]-s.x)<=l.dx}return!1}readOrigin(t,s){return Pt.fromJSON({spatialReference:s.spatialReference,...t})}set lods(t){let s=0,l=0;const f=[],d=this._levelToLOD={};t&&(s=-1/0,l=1/0,t.forEach(v=>{f.push(v.scale),s=v.scale>s?v.scale:s,l=v.scale<l?v.scale:l,d[v.level]=v})),this._set("scales",f),this._set("minScale",s),this._set("maxScale",l),this._set("lods",t),this._initializeUpsampleLevels()}readSize(t,s){return[s.cols,s.rows]}writeSize(t,s){s.cols=t[0],s.rows=t[1]}zoomToScale(t){const s=this.scales;if(t<=0)return s[0];if(t>=s.length-1)return s[s.length-1];const l=Math.floor(t),f=l+1;return s[l]/(s[l]/s[f])**(t-l)}scaleToZoom(t){const s=this.scales,l=s.length-1;let f=0;for(;f<l;f++){const d=s[f],v=s[f+1];if(d<=t)return f;if(v===t)return f+1;if(d>t&&v<t)return f+Math.log(d/t)/Math.log(d/v)}return f}snapScale(t,s=.95){const l=this.scaleToZoom(t);return l%Math.floor(l)>=s?this.zoomToScale(Math.ceil(l)):this.zoomToScale(Math.floor(l))}tileAt(t,s,l,f){const d=this.lodAt(t);if(!d)return null;let v,w;if(typeof s=="number")v=s,w=l;else if(oi(s.spatialReference,this.spatialReference))v=s.x,w=s.y,f=l;else{const I=i1(s,this.spatialReference);if(I==null)return null;v=I.x,w=I.y,f=l}const T=d.resolution*this.size[0],M=d.resolution*this.size[1];return f||(f=new QI(null,0,0,0,Wr())),f.level=t,f.row=Math.floor((this.origin.y-w)/M+.001),f.col=Math.floor((v-this.origin.x)/T+.001),this.updateTileInfo(f),f}updateTileInfo(t,s=hn.ExtrapolateOptions.NONE){let l=this.lodAt(t.level);if(!l&&s===hn.ExtrapolateOptions.POWER_OF_TWO){const w=this.lods[this.lods.length-1];w.level<t.level&&(l=w)}if(!l)return;const f=t.level-l.level,d=l.resolution*this.size[0]/2**f,v=l.resolution*this.size[1]/2**f;t.id=`${t.level}/${t.row}/${t.col}`,t.extent||(t.extent=Wr()),t.extent[0]=this.origin.x+t.col*d,t.extent[1]=this.origin.y-(t.row+1)*v,t.extent[2]=t.extent[0]+d,t.extent[3]=t.extent[1]+v}upsampleTile(t){const s=this._upsampleLevels[t.level];return!s||s.parentLevel===-1?!1:(t.level=s.parentLevel,t.row=Math.floor(t.row/s.factor+.001),t.col=Math.floor(t.col/s.factor+.001),this.updateTileInfo(t),!0)}getTileBounds(t,s){const l=this.lodAt(s.level);if(l==null)return null;const{resolution:f}=l,d=f*this.size[0],v=f*this.size[1];return t[0]=this.origin.x+s.col*d,t[1]=this.origin.y-(s.row+1)*v,t[2]=t[0]+d,t[3]=t[1]+v,t}lodAt(t){var s;return((s=this._levelToLOD)==null?void 0:s[t])??null}clone(){return hn.fromJSON(this.write({}))}getOrCreateCompatible(t,s){if(this.size[0]===256&&this.size[1]===256)return t===256?this:null;const l=[],f=this.lods.length;for(let d=0;d<f;d++){const v=this.lods[d],w=v.resolution*s;l.push(new cn({level:v.level,scale:v.scale,resolution:w}))}return new hn({size:[t,t],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:l})}_initializeUpsampleLevels(){const t=this.lods;this._upsampleLevels=[];let s=null;for(let l=0;l<t.length;l++){const f=t[l];this._upsampleLevels[f.level]={parentLevel:s?s.level:-1,factor:s?s.resolution/f.resolution:0},s=f}}};E([A({type:Number,json:{write:!0}})],qe.prototype,"compressionQuality",void 0);E([A({type:Number,json:{write:!0}})],qe.prototype,"dpi",void 0);E([A({type:String,json:{read:Vv.read,write:Vv.write,origins:{"web-scene":{read:!1,write:!1}}}})],qe.prototype,"format",void 0);E([A({readOnly:!0})],qe.prototype,"isWrappable",null);E([A({type:Pt,json:{write:!0}})],qe.prototype,"origin",void 0);E([ne("origin")],qe.prototype,"readOrigin",null);E([A({type:[cn],value:null,json:{write:!0}})],qe.prototype,"lods",null);E([A({readOnly:!0})],qe.prototype,"minScale",void 0);E([A({readOnly:!0})],qe.prototype,"maxScale",void 0);E([A({readOnly:!0})],qe.prototype,"scales",void 0);E([A({cast:i=>Array.isArray(i)?i:typeof i=="number"?[i,i]:[256,256]})],qe.prototype,"size",void 0);E([ne("size",["rows","cols"])],qe.prototype,"readSize",null);E([se("size",{cols:{type:ze},rows:{type:ze}})],qe.prototype,"writeSize",null);E([A({type:fe,json:{write:!0}})],qe.prototype,"spatialReference",void 0);qe=hn=E([q("esri.layers.support.TileInfo")],qe);(function(i){(function(t){t[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"})(i.ExtrapolateOptions||(i.ExtrapolateOptions={}))})(qe||(qe={}));const tC=qe,a0={widthBreakpoint:{getValue(i){const t=i.viewSize[0],s=i.breakpoints,l=this.values;return t<=s.xsmall?l.xsmall:t<=s.small?l.small:t<=s.medium?l.medium:t<=s.large?l.large:l.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(i){const t=i.viewSize[1],s=i.breakpoints,l=this.values;return t<=s.xsmall?l.xsmall:t<=s.small?l.small:t<=s.medium?l.medium:t<=s.large?l.large:l.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(i){const t=i.viewSize,s=t[0],l=t[1],f=this.values;return l>=s?f.portrait:f.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},X1={xsmall:544,small:768,medium:992,large:1200};function eC(i){const t=i;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function Q1(i,t){return t?a0[i].valueToClassName[t].split(" "):[]}const iC=i=>{let t=class extends i{constructor(...l){super(...l),this._breakpointsHandles=new $s,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=X1}initialize(){this._breakpointsHandles.add(Ct(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),ei))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=be(this._breakpointsHandles))}set breakpoints(l){const f=this._get("breakpoints");if(l===f)return;const d=eC(l);if(!d){const v=JSON.stringify(X1,null,2);console.warn("provided breakpoints are not valid, using defaults:"+v)}l=d?l:X1,this._set("breakpoints",{...l})}_updateClassNames(){if(!this.container)return;const l=yi.acquire(),f=yi.acquire();let d=!1,v;for(v in a0){const w=this[v],T=a0[v].getValue({viewSize:this.size,breakpoints:this.breakpoints});w!==T&&(d=!0,this[v]=T,Q1(v,w).forEach(M=>f.push(M)),Q1(v,T).forEach(M=>l.push(M)))}d&&(this._applyClassNameChanges(l,f),yi.release(l),yi.release(f))}_applyClassNameChanges(l,f){const d=this.container;d&&(f.forEach(v=>d.classList.remove(v)),l.forEach(v=>d.classList.add(v)))}_removeActiveClassNames(){const l=this.container;if(!l)return;let f;for(f in a0)Q1(f,this[f]).forEach(d=>l.classList.remove(d))}};return E([A()],t.prototype,"breakpoints",null),E([A()],t.prototype,"orientation",void 0),E([A()],t.prototype,"widthBreakpoint",void 0),E([A()],t.prototype,"heightBreakpoint",void 0),t=E([q("esri.views.BreakpointsOwner")],t),t};function Im(i){return typeof i=="string"?document.getElementById(i):i??null}function D6(i){for(;i.hasChildNodes();)i.removeChild(i.firstChild)}function Bv(i,t){const s=t.parentNode;s&&s.insertBefore(i,t)}function Hv(i,t){for(;;){const s=i.firstChild;if(!s)break;t.appendChild(s)}}let yl=class extends Et{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new $s,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(t,s,l={}){return this._installWatch(t,s,l,Ct)}addWhen(t,s,l={}){return this._installWatch(t,s,l,kn)}addOnCollectionChange(t,s,{initial:l=!1,final:f=!1}={}){const d=++this._handleId;return this._handles.add([wu(t,"after-changes",this._createSyncUpdatingCallback(),gu),wu(t,"change",s,{onListenerAdd:l?v=>s({added:v.toArray(),removed:[]}):void 0,onListenerRemove:f?v=>s({added:[],removed:v.toArray()}):void 0})],d),{remove:()=>this._handles.remove(d)}}addPromise(t){if(t==null)return t;const s=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(t)&&this._pendingPromises.size===0&&!this._handles.has(Ec)&&this._set("updating",!1)}},s),this._pendingPromises.add(t),this._set("updating",!0);const l=()=>this._handles.remove(s);return t.then(l,l),t}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(t,s,l={},f){const d=++this._handleId;l.sync||this._installSyncUpdatingWatch(t,d);const v=f(t,s,l);return this._handles.add(v,d),{remove:()=>this._handles.remove(d)}}_installSyncUpdatingWatch(t,s){const l=this._createSyncUpdatingCallback(),f=Ct(t,l,{sync:!0,equals:()=>!1});return this._handles.add(f,s),f}_createSyncUpdatingCallback(){return()=>{this._handles.remove(Ec),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add(zu(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(Ec))}),Ec)}}};E([A({readOnly:!0})],yl.prototype,"updating",void 0);yl=E([q("esri.core.support.WatchUpdatingTracking")],yl);const Ec=-42;/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */var rC=function(i){if(typeof i!="object"||i===null||Object.prototype.toString.call(i)!=="[object Object]")return!1;var t=Object.getPrototypeOf(i);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t},fo={exports:{}},Ae={},Eu={exports:{}},ba={};function j6(){var i={};return i["align-content"]=!1,i["align-items"]=!1,i["align-self"]=!1,i["alignment-adjust"]=!1,i["alignment-baseline"]=!1,i.all=!1,i["anchor-point"]=!1,i.animation=!1,i["animation-delay"]=!1,i["animation-direction"]=!1,i["animation-duration"]=!1,i["animation-fill-mode"]=!1,i["animation-iteration-count"]=!1,i["animation-name"]=!1,i["animation-play-state"]=!1,i["animation-timing-function"]=!1,i.azimuth=!1,i["backface-visibility"]=!1,i.background=!0,i["background-attachment"]=!0,i["background-clip"]=!0,i["background-color"]=!0,i["background-image"]=!0,i["background-origin"]=!0,i["background-position"]=!0,i["background-repeat"]=!0,i["background-size"]=!0,i["baseline-shift"]=!1,i.binding=!1,i.bleed=!1,i["bookmark-label"]=!1,i["bookmark-level"]=!1,i["bookmark-state"]=!1,i.border=!0,i["border-bottom"]=!0,i["border-bottom-color"]=!0,i["border-bottom-left-radius"]=!0,i["border-bottom-right-radius"]=!0,i["border-bottom-style"]=!0,i["border-bottom-width"]=!0,i["border-collapse"]=!0,i["border-color"]=!0,i["border-image"]=!0,i["border-image-outset"]=!0,i["border-image-repeat"]=!0,i["border-image-slice"]=!0,i["border-image-source"]=!0,i["border-image-width"]=!0,i["border-left"]=!0,i["border-left-color"]=!0,i["border-left-style"]=!0,i["border-left-width"]=!0,i["border-radius"]=!0,i["border-right"]=!0,i["border-right-color"]=!0,i["border-right-style"]=!0,i["border-right-width"]=!0,i["border-spacing"]=!0,i["border-style"]=!0,i["border-top"]=!0,i["border-top-color"]=!0,i["border-top-left-radius"]=!0,i["border-top-right-radius"]=!0,i["border-top-style"]=!0,i["border-top-width"]=!0,i["border-width"]=!0,i.bottom=!1,i["box-decoration-break"]=!0,i["box-shadow"]=!0,i["box-sizing"]=!0,i["box-snap"]=!0,i["box-suppress"]=!0,i["break-after"]=!0,i["break-before"]=!0,i["break-inside"]=!0,i["caption-side"]=!1,i.chains=!1,i.clear=!0,i.clip=!1,i["clip-path"]=!1,i["clip-rule"]=!1,i.color=!0,i["color-interpolation-filters"]=!0,i["column-count"]=!1,i["column-fill"]=!1,i["column-gap"]=!1,i["column-rule"]=!1,i["column-rule-color"]=!1,i["column-rule-style"]=!1,i["column-rule-width"]=!1,i["column-span"]=!1,i["column-width"]=!1,i.columns=!1,i.contain=!1,i.content=!1,i["counter-increment"]=!1,i["counter-reset"]=!1,i["counter-set"]=!1,i.crop=!1,i.cue=!1,i["cue-after"]=!1,i["cue-before"]=!1,i.cursor=!1,i.direction=!1,i.display=!0,i["display-inside"]=!0,i["display-list"]=!0,i["display-outside"]=!0,i["dominant-baseline"]=!1,i.elevation=!1,i["empty-cells"]=!1,i.filter=!1,i.flex=!1,i["flex-basis"]=!1,i["flex-direction"]=!1,i["flex-flow"]=!1,i["flex-grow"]=!1,i["flex-shrink"]=!1,i["flex-wrap"]=!1,i.float=!1,i["float-offset"]=!1,i["flood-color"]=!1,i["flood-opacity"]=!1,i["flow-from"]=!1,i["flow-into"]=!1,i.font=!0,i["font-family"]=!0,i["font-feature-settings"]=!0,i["font-kerning"]=!0,i["font-language-override"]=!0,i["font-size"]=!0,i["font-size-adjust"]=!0,i["font-stretch"]=!0,i["font-style"]=!0,i["font-synthesis"]=!0,i["font-variant"]=!0,i["font-variant-alternates"]=!0,i["font-variant-caps"]=!0,i["font-variant-east-asian"]=!0,i["font-variant-ligatures"]=!0,i["font-variant-numeric"]=!0,i["font-variant-position"]=!0,i["font-weight"]=!0,i.grid=!1,i["grid-area"]=!1,i["grid-auto-columns"]=!1,i["grid-auto-flow"]=!1,i["grid-auto-rows"]=!1,i["grid-column"]=!1,i["grid-column-end"]=!1,i["grid-column-start"]=!1,i["grid-row"]=!1,i["grid-row-end"]=!1,i["grid-row-start"]=!1,i["grid-template"]=!1,i["grid-template-areas"]=!1,i["grid-template-columns"]=!1,i["grid-template-rows"]=!1,i["hanging-punctuation"]=!1,i.height=!0,i.hyphens=!1,i.icon=!1,i["image-orientation"]=!1,i["image-resolution"]=!1,i["ime-mode"]=!1,i["initial-letters"]=!1,i["inline-box-align"]=!1,i["justify-content"]=!1,i["justify-items"]=!1,i["justify-self"]=!1,i.left=!1,i["letter-spacing"]=!0,i["lighting-color"]=!0,i["line-box-contain"]=!1,i["line-break"]=!1,i["line-grid"]=!1,i["line-height"]=!1,i["line-snap"]=!1,i["line-stacking"]=!1,i["line-stacking-ruby"]=!1,i["line-stacking-shift"]=!1,i["line-stacking-strategy"]=!1,i["list-style"]=!0,i["list-style-image"]=!0,i["list-style-position"]=!0,i["list-style-type"]=!0,i.margin=!0,i["margin-bottom"]=!0,i["margin-left"]=!0,i["margin-right"]=!0,i["margin-top"]=!0,i["marker-offset"]=!1,i["marker-side"]=!1,i.marks=!1,i.mask=!1,i["mask-box"]=!1,i["mask-box-outset"]=!1,i["mask-box-repeat"]=!1,i["mask-box-slice"]=!1,i["mask-box-source"]=!1,i["mask-box-width"]=!1,i["mask-clip"]=!1,i["mask-image"]=!1,i["mask-origin"]=!1,i["mask-position"]=!1,i["mask-repeat"]=!1,i["mask-size"]=!1,i["mask-source-type"]=!1,i["mask-type"]=!1,i["max-height"]=!0,i["max-lines"]=!1,i["max-width"]=!0,i["min-height"]=!0,i["min-width"]=!0,i["move-to"]=!1,i["nav-down"]=!1,i["nav-index"]=!1,i["nav-left"]=!1,i["nav-right"]=!1,i["nav-up"]=!1,i["object-fit"]=!1,i["object-position"]=!1,i.opacity=!1,i.order=!1,i.orphans=!1,i.outline=!1,i["outline-color"]=!1,i["outline-offset"]=!1,i["outline-style"]=!1,i["outline-width"]=!1,i.overflow=!1,i["overflow-wrap"]=!1,i["overflow-x"]=!1,i["overflow-y"]=!1,i.padding=!0,i["padding-bottom"]=!0,i["padding-left"]=!0,i["padding-right"]=!0,i["padding-top"]=!0,i.page=!1,i["page-break-after"]=!1,i["page-break-before"]=!1,i["page-break-inside"]=!1,i["page-policy"]=!1,i.pause=!1,i["pause-after"]=!1,i["pause-before"]=!1,i.perspective=!1,i["perspective-origin"]=!1,i.pitch=!1,i["pitch-range"]=!1,i["play-during"]=!1,i.position=!1,i["presentation-level"]=!1,i.quotes=!1,i["region-fragment"]=!1,i.resize=!1,i.rest=!1,i["rest-after"]=!1,i["rest-before"]=!1,i.richness=!1,i.right=!1,i.rotation=!1,i["rotation-point"]=!1,i["ruby-align"]=!1,i["ruby-merge"]=!1,i["ruby-position"]=!1,i["shape-image-threshold"]=!1,i["shape-outside"]=!1,i["shape-margin"]=!1,i.size=!1,i.speak=!1,i["speak-as"]=!1,i["speak-header"]=!1,i["speak-numeral"]=!1,i["speak-punctuation"]=!1,i["speech-rate"]=!1,i.stress=!1,i["string-set"]=!1,i["tab-size"]=!1,i["table-layout"]=!1,i["text-align"]=!0,i["text-align-last"]=!0,i["text-combine-upright"]=!0,i["text-decoration"]=!0,i["text-decoration-color"]=!0,i["text-decoration-line"]=!0,i["text-decoration-skip"]=!0,i["text-decoration-style"]=!0,i["text-emphasis"]=!0,i["text-emphasis-color"]=!0,i["text-emphasis-position"]=!0,i["text-emphasis-style"]=!0,i["text-height"]=!0,i["text-indent"]=!0,i["text-justify"]=!0,i["text-orientation"]=!0,i["text-overflow"]=!0,i["text-shadow"]=!0,i["text-space-collapse"]=!0,i["text-transform"]=!0,i["text-underline-position"]=!0,i["text-wrap"]=!0,i.top=!1,i.transform=!1,i["transform-origin"]=!1,i["transform-style"]=!1,i.transition=!1,i["transition-delay"]=!1,i["transition-duration"]=!1,i["transition-property"]=!1,i["transition-timing-function"]=!1,i["unicode-bidi"]=!1,i["vertical-align"]=!1,i.visibility=!1,i["voice-balance"]=!1,i["voice-duration"]=!1,i["voice-family"]=!1,i["voice-pitch"]=!1,i["voice-range"]=!1,i["voice-rate"]=!1,i["voice-stress"]=!1,i["voice-volume"]=!1,i.volume=!1,i["white-space"]=!1,i.widows=!1,i.width=!0,i["will-change"]=!1,i["word-break"]=!0,i["word-spacing"]=!0,i["word-wrap"]=!0,i["wrap-flow"]=!1,i["wrap-through"]=!1,i["writing-mode"]=!1,i["z-index"]=!1,i}function sC(i,t,s){}function nC(i,t,s){}var oC=/javascript\s*\:/img;function aC(i,t){return oC.test(t)?"":t}ba.whiteList=j6();ba.getDefaultWhiteList=j6;ba.onAttr=sC;ba.onIgnoreAttr=nC;ba.safeAttrValue=aC;var lC={indexOf:function(i,t){var s,l;if(Array.prototype.indexOf)return i.indexOf(t);for(s=0,l=i.length;s<l;s++)if(i[s]===t)return s;return-1},forEach:function(i,t,s){var l,f;if(Array.prototype.forEach)return i.forEach(t,s);for(l=0,f=i.length;l<f;l++)t.call(s,i[l],l,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(i){return String.prototype.trimRight?i.trimRight():i.replace(/(\s*$)/g,"")}},Zl=lC;function hC(i,t){i=Zl.trimRight(i),i[i.length-1]!==";"&&(i+=";");var s=i.length,l=!1,f=0,d=0,v="";function w(){if(!l){var I=Zl.trim(i.slice(f,d)),N=I.indexOf(":");if(N!==-1){var R=Zl.trim(I.slice(0,N)),F=Zl.trim(I.slice(N+1));if(R){var V=t(f,v.length,R,F,I);V&&(v+=V+"; ")}}}f=d+1}for(;d<s;d++){var T=i[d];if(T==="/"&&i[d+1]==="*"){var M=i.indexOf("*/",d+2);if(M===-1)break;d=M+1,f=d+1,l=!1}else T==="("?l=!0:T===")"?l=!1:T===";"?l||w():T===`
`&&w()}return Zl.trim(v)}var uC=hC,xc=ba,cC=uC;function Wv(i){return i==null}function fC(i){var t={};for(var s in i)t[s]=i[s];return t}function k6(i){i=fC(i||{}),i.whiteList=i.whiteList||xc.whiteList,i.onAttr=i.onAttr||xc.onAttr,i.onIgnoreAttr=i.onIgnoreAttr||xc.onIgnoreAttr,i.safeAttrValue=i.safeAttrValue||xc.safeAttrValue,this.options=i}k6.prototype.process=function(i){if(i=i||"",i=i.toString(),!i)return"";var t=this,s=t.options,l=s.whiteList,f=s.onAttr,d=s.onIgnoreAttr,v=s.safeAttrValue,w=cC(i,function(T,M,I,N,R){var F=l[I],V=!1;if(F===!0?V=F:typeof F=="function"?V=F(N):F instanceof RegExp&&(V=F.test(N)),V!==!0&&(V=!1),N=v(I,N),!!N){var W={position:M,sourcePosition:T,source:R,isWhite:V};if(V){var H=f(I,N,W);return Wv(H)?I+":"+N:H}else{var H=d(I,N,W);if(!Wv(H))return H}}});return w};var pC=k6;(function(i,t){var s=ba,l=pC;function f(v,w){var T=new l(w);return T.process(v)}t=i.exports=f,t.FilterCSS=l;for(var d in s)t[d]=s[d]})(Eu,Eu.exports);var Cm={indexOf:function(i,t){var s,l;if(Array.prototype.indexOf)return i.indexOf(t);for(s=0,l=i.length;s<l;s++)if(i[s]===t)return s;return-1},forEach:function(i,t,s){var l,f;if(Array.prototype.forEach)return i.forEach(t,s);for(l=0,f=i.length;l<f;l++)t.call(s,i[l],l,i)},trim:function(i){return String.prototype.trim?i.trim():i.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(i){var t=/\s|\n|\t/,s=t.exec(i);return s?s.index:-1}},dC=Eu.exports.FilterCSS,yC=Eu.exports.getDefaultWhiteList,ff=Cm;function F6(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var z6=new dC;function mC(i,t,s){}function vC(i,t,s){}function wC(i,t,s){}function gC(i,t,s){}function U6(i){return i.replace(SC,"&lt;").replace(bC,"&gt;")}function _C(i,t,s,l){if(s=W6(s),t==="href"||t==="src"){if(s=ff.trim(s),s==="#")return"#";if(!(s.substr(0,7)==="http://"||s.substr(0,8)==="https://"||s.substr(0,7)==="mailto:"||s.substr(0,4)==="tel:"||s.substr(0,11)==="data:image/"||s.substr(0,6)==="ftp://"||s.substr(0,2)==="./"||s.substr(0,3)==="../"||s[0]==="#"||s[0]==="/"))return""}else if(t==="background"){if(Mc.lastIndex=0,Mc.test(s))return""}else if(t==="style"){if(Jv.lastIndex=0,Jv.test(s)||(Kv.lastIndex=0,Kv.test(s)&&(Mc.lastIndex=0,Mc.test(s))))return"";l!==!1&&(l=l||z6,s=l.process(s))}return s=J6(s),s}var SC=/</g,bC=/>/g,TC=/"/g,EC=/&quot;/g,xC=/&#([a-zA-Z0-9]*);?/gim,MC=/&colon;?/gim,AC=/&newline;?/gim,Mc=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Jv=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Kv=/u\s*r\s*l\s*\(.*/gi;function $6(i){return i.replace(TC,"&quot;")}function G6(i){return i.replace(EC,'"')}function V6(i){return i.replace(xC,function(s,l){return l[0]==="x"||l[0]==="X"?String.fromCharCode(parseInt(l.substr(1),16)):String.fromCharCode(parseInt(l,10))})}function B6(i){return i.replace(MC,":").replace(AC," ")}function H6(i){for(var t="",s=0,l=i.length;s<l;s++)t+=i.charCodeAt(s)<32?" ":i.charAt(s);return ff.trim(t)}function W6(i){return i=G6(i),i=V6(i),i=B6(i),i=H6(i),i}function J6(i){return i=$6(i),i=U6(i),i}function PC(){return""}function IC(i,t){typeof t!="function"&&(t=function(){});var s=!Array.isArray(i);function l(v){return s?!0:ff.indexOf(i,v)!==-1}var f=[],d=!1;return{onIgnoreTag:function(v,w,T){if(l(v))if(T.isClosing){var M="[/removed]",I=T.position+M.length;return f.push([d!==!1?d:T.position,I]),d=!1,M}else return d||(d=T.position),"[removed]";else return t(v,w,T)},remove:function(v){var w="",T=0;return ff.forEach(f,function(M){w+=v.slice(T,M[0]),T=M[1]}),w+=v.slice(T),w}}}function CC(i){for(var t="",s=0;s<i.length;){var l=i.indexOf("<!--",s);if(l===-1){t+=i.slice(s);break}t+=i.slice(s,l);var f=i.indexOf("-->",l);if(f===-1)break;s=f+3}return t}function OC(i){var t=i.split("");return t=t.filter(function(s){var l=s.charCodeAt(0);return l===127?!1:l<=31?l===10||l===13:!0}),t.join("")}Ae.whiteList=F6();Ae.getDefaultWhiteList=F6;Ae.onTag=mC;Ae.onIgnoreTag=vC;Ae.onTagAttr=wC;Ae.onIgnoreTagAttr=gC;Ae.safeAttrValue=_C;Ae.escapeHtml=U6;Ae.escapeQuote=$6;Ae.unescapeQuote=G6;Ae.escapeHtmlEntities=V6;Ae.escapeDangerHtml5Entities=B6;Ae.clearNonPrintableCharacter=H6;Ae.friendlyAttrValue=W6;Ae.escapeAttrValue=J6;Ae.onIgnoreTagStripAll=PC;Ae.StripTagBody=IC;Ae.stripCommentTag=CC;Ae.stripBlankChar=OC;Ae.cssFilter=z6;Ae.getDefaultCSSWhiteList=yC;var f1={},fn=Cm;function NC(i){var t=fn.spaceIndex(i),s;return t===-1?s=i.slice(1,-1):s=i.slice(1,t+1),s=fn.trim(s).toLowerCase(),s.slice(0,1)==="/"&&(s=s.slice(1)),s.slice(-1)==="/"&&(s=s.slice(0,-1)),s}function LC(i){return i.slice(0,2)==="</"}function RC(i,t,s){var l="",f=0,d=!1,v=!1,w=0,T=i.length,M="",I="";t:for(w=0;w<T;w++){var N=i.charAt(w);if(d===!1){if(N==="<"){d=w;continue}}else if(v===!1){if(N==="<"){l+=s(i.slice(f,w)),d=w,f=w;continue}if(N===">"){l+=s(i.slice(f,d)),I=i.slice(d,w+1),M=NC(I),l+=t(d,l.length,M,I,LC(I)),f=w+1,d=!1;continue}if(N==='"'||N==="'")for(var R=1,F=i.charAt(w-R);F.trim()===""||F==="=";){if(F==="="){v=N;continue t}F=i.charAt(w-++R)}}else if(N===v){v=!1;continue}}return f<i.length&&(l+=s(i.substr(f))),l}var DC=/[^a-zA-Z0-9\\_:.-]/gim;function jC(i,t){var s=0,l=0,f=[],d=!1,v=i.length;function w(R,F){if(R=fn.trim(R),R=R.replace(DC,"").toLowerCase(),!(R.length<1)){var V=t(R,F||"");V&&f.push(V)}}for(var T=0;T<v;T++){var M=i.charAt(T),I,N;if(d===!1&&M==="="){d=i.slice(s,T),s=T+1,l=i.charAt(s)==='"'||i.charAt(s)==="'"?s:FC(i,T+1);continue}if(d!==!1&&T===l){if(N=i.indexOf(M,T+1),N===-1)break;I=fn.trim(i.slice(l+1,N)),w(d,I),d=!1,T=N,s=T+1;continue}if(/\s|\n|\t/.test(M))if(i=i.replace(/\s|\n|\t/g," "),d===!1)if(N=kC(i,T),N===-1){I=fn.trim(i.slice(s,T)),w(I),d=!1,s=T+1;continue}else{T=N-1;continue}else if(N=zC(i,T-1),N===-1){I=fn.trim(i.slice(s,T)),I=Yv(I),w(d,I),d=!1,s=T+1;continue}else continue}return s<i.length&&(d===!1?w(i.slice(s)):w(d,Yv(fn.trim(i.slice(s))))),fn.trim(f.join(" "))}function kC(i,t){for(;t<i.length;t++){var s=i[t];if(s!==" ")return s==="="?t:-1}}function FC(i,t){for(;t<i.length;t++){var s=i[t];if(s!==" ")return s==="'"||s==='"'?t:-1}}function zC(i,t){for(;t>0;t--){var s=i[t];if(s!==" ")return s==="="?t:-1}}function UC(i){return i[0]==='"'&&i[i.length-1]==='"'||i[0]==="'"&&i[i.length-1]==="'"}function Yv(i){return UC(i)?i.substr(1,i.length-2):i}f1.parseTag=RC;f1.parseAttr=jC;var $C=Eu.exports.FilterCSS,fr=Ae,K6=f1,GC=K6.parseTag,VC=K6.parseAttr,l0=Cm;function Ac(i){return i==null}function BC(i){var t=l0.spaceIndex(i);if(t===-1)return{html:"",closing:i[i.length-2]==="/"};i=l0.trim(i.slice(t+1,-1));var s=i[i.length-1]==="/";return s&&(i=l0.trim(i.slice(0,-1))),{html:i,closing:s}}function HC(i){var t={};for(var s in i)t[s]=i[s];return t}function WC(i){var t={};for(var s in i)Array.isArray(i[s])?t[s.toLowerCase()]=i[s].map(function(l){return l.toLowerCase()}):t[s.toLowerCase()]=i[s];return t}function Y6(i){i=HC(i||{}),i.stripIgnoreTag&&(i.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),i.onIgnoreTag=fr.onIgnoreTagStripAll),i.whiteList||i.allowList?i.whiteList=WC(i.whiteList||i.allowList):i.whiteList=fr.whiteList,i.onTag=i.onTag||fr.onTag,i.onTagAttr=i.onTagAttr||fr.onTagAttr,i.onIgnoreTag=i.onIgnoreTag||fr.onIgnoreTag,i.onIgnoreTagAttr=i.onIgnoreTagAttr||fr.onIgnoreTagAttr,i.safeAttrValue=i.safeAttrValue||fr.safeAttrValue,i.escapeHtml=i.escapeHtml||fr.escapeHtml,this.options=i,i.css===!1?this.cssFilter=!1:(i.css=i.css||{},this.cssFilter=new $C(i.css))}Y6.prototype.process=function(i){if(i=i||"",i=i.toString(),!i)return"";var t=this,s=t.options,l=s.whiteList,f=s.onTag,d=s.onIgnoreTag,v=s.onTagAttr,w=s.onIgnoreTagAttr,T=s.safeAttrValue,M=s.escapeHtml,I=t.cssFilter;s.stripBlankChar&&(i=fr.stripBlankChar(i)),s.allowCommentTag||(i=fr.stripCommentTag(i));var N=!1;s.stripIgnoreTagBody&&(N=fr.StripTagBody(s.stripIgnoreTagBody,d),d=N.onIgnoreTag);var R=GC(i,function(F,V,W,H,Y){var it={sourcePosition:F,position:V,isClosing:Y,isWhite:Object.prototype.hasOwnProperty.call(l,W)},Q=f(W,H,it);if(!Ac(Q))return Q;if(it.isWhite){if(it.isClosing)return"</"+W+">";var st=BC(H),nt=l[W],at=VC(st.html,function(gt,wt){var At=l0.indexOf(nt,gt)!==-1,_t=v(W,gt,wt,At);return Ac(_t)?At?(wt=T(W,gt,wt,I),wt?gt+'="'+wt+'"':gt):(_t=w(W,gt,wt,At),Ac(_t)?void 0:_t):_t});return H="<"+W,at&&(H+=" "+at),st.closing&&(H+=" /"),H+=">",H}else return Q=d(W,H,it),Ac(Q)?M(H):Q},M);return N&&(R=N.remove(R)),R};var JC=Y6;(function(i,t){var s=Ae,l=f1,f=JC;function d(w,T){var M=new f(T);return M.process(w)}t=i.exports=d,t.filterXSS=d,t.FilterXSS=f,function(){for(var w in s)t[w]=s[w];for(var T in l)t[T]=l[T]}();function v(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}v()&&(self.filterXSS=i.exports)})(fo,fo.exports);var KC=function(){function i(t,s){var l=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(d,v,w,T){return d==="a"&&v==="href"||(d==="img"||d==="source")&&v==="src"?l.sanitizeUrl(w):fo.exports.safeAttrValue(d,v,w,T)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var f;t&&!s?f=t:t&&s?(f=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(d){d==="whiteList"?f.whiteList=l._extendObjectOfArrays([l.arcgisWhiteList,t.whiteList||{}]):f[d]=t[d]})):(f=Object.create(this.arcgisFilterOptions),f.whiteList=this.arcgisWhiteList),this.xssFilterOptions=f,this._xssFilter=new fo.exports.FilterXSS(f)}return i.prototype.sanitize=function(t,s){switch(s===void 0&&(s={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,s);default:return s.allowUndefined&&typeof t>"u"?void 0:null}},i.prototype.sanitizeUrl=function(t,s){var l=(s??{}).isProtocolRequired,f=l===void 0?!0:l,d=this._trim(t.substring(0,t.indexOf(":"))),v=t==="/",w=/^#/.test(t),T=d&&this.allowedProtocols.indexOf(d.toLowerCase())>-1;return v||w||T?fo.exports.escapeAttrValue(t):!d&&!f?fo.exports.escapeAttrValue("https://".concat(t)):""},i.prototype.sanitizeHTMLAttribute=function(t,s,l,f){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,s,l,f):fo.exports.safeAttrValue(t,s,l,f)},i.prototype.validate=function(t,s){s===void 0&&(s={});var l=this.sanitize(t,s);return{isValid:t===l,sanitized:l}},i.prototype.encodeHTML=function(t){var s=this;return String(t).replace(/[&<>"'\/]/g,function(l){return s._entityMap[l]})},i.prototype.encodeAttrValue=function(t){var s=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(l,f){return s.test(l)?l:"&#x".concat(Number(t.charCodeAt(f)).toString(16),";")})},i.prototype._extendObjectOfArrays=function(t){var s={};return t.forEach(function(l){Object.keys(l).forEach(function(f){Array.isArray(l[f])&&Array.isArray(s[f])?s[f]=s[f].concat(l[f]):s[f]=l[f]})}),s},i.prototype._iterateOverObject=function(t,s){var l=this;s===void 0&&(s={});try{var f=!1,d=void 0;if(Array.isArray(t))d=t.reduce(function(w,T){var M=l.validate(T,s);return M.isValid?w.concat([T]):(f=!0,w.concat([M.sanitized]))},[]);else if(rC(t)){var v=Object.keys(t);d=v.reduce(function(w,T){var M=t[T],I=l.validate(M,s);return I.isValid?w[T]=M:(f=!0,w[T]=I.sanitized),w},{})}else return s.allowUndefined&&typeof t>"u"?void 0:null;return f?d:t}catch{return null}},i.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},i}();const p1=new Map;function q6(){p1.clear()}function YC(i){return p1.get(i)}function qC(i,t){p1.set(i,t)}function tp(i){p1.delete(i)}var na,ml,ZC=function(i){if("WebkitTransition"in i.style)na="webkitTransitionEnd",ml="webkitAnimationEnd";else if("transition"in i.style)na="transitionend",ml="animationend";else throw new Error("Your browser is not supported!")},Z6=function(i){na||ZC(i)},XC=function(i,t){return t===void 0&&(t=i+"-active"),function(s){Z6(s);var l=!1,f=function(d){l||(l=!0,s.removeEventListener(na,f),s.removeEventListener(ml,f),s.classList.remove(i),s.classList.remove(t))};s.classList.add(i),s.addEventListener(na,f),s.addEventListener(ml,f),requestAnimationFrame(function(){s.classList.add(t)})}},QC=function(i,t){return t===void 0&&(t=i+"-active"),function(s,l){Z6(s);var f=!1,d=function(v){f||(f=!0,s.removeEventListener(na,d),s.removeEventListener(ml,d),l())};s.classList.add(i),s.addEventListener(na,d),s.addEventListener(ml,d),requestAnimationFrame(function(){s.classList.add(t)})}};const tO=ct.getLogger("esri.widgets.support.widgetUtils");function eO(i){const t=yi.acquire();for(let l=0;l<arguments.length;l++){const f=arguments[l],d=typeof f;if(d==="string")t.push(f);else if(Array.isArray(f))t.push.apply(t,f);else if(d==="object")for(const v in f)f[v]&&t.push(v)}const s=t.join(" ");return yi.release(t),s}(()=>{const i=new Map,t=new ResizeObserver(s=>{var l;q6();for(const f of s)(l=i.get(f.target))==null||l(f)});return(s,l,f)=>(i.has(s)&&tO.error("Already observing element",s),i.set(s,l),t.observe(s,f),Al(()=>{t.unobserve(s),i.delete(s)}))})();function iO(i){const t=i==null?void 0:i.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function QH(i){const t="data-node-ref",s=i.getAttribute(t);this[s]=null}function tW(i){const t="data-node-ref",s=i.getAttribute(t);this[s]=i}function eW(i,t){return(i==="enter"?XC:QC)(t)}const rO=["animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],sO=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup",...rO],nO=sO.reduce((i,t)=>(i[t]=[],i),{}),oO=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],aO=(i,t,s)=>{const l=`${t}="${s}"`;if(oO.includes(t))return l},X6=new KC({whiteList:nO,onTagAttr:aO,stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function lO(i){return i==="Enter"||i===" "}const Q6="http://www.w3.org/",d1=`${Q6}2000/svg`,t_=`${Q6}1999/xlink`;let qv=[],Om=(i,t)=>{let s={};return Object.keys(i).forEach(l=>{s[l]=i[l]}),t&&Object.keys(t).forEach(l=>{s[l]=t[l]}),s},Nm=(i,t)=>i.vnodeSelector!==t.vnodeSelector?!1:i.properties&&t.properties?i.properties.key!==t.properties.key?!1:i.properties.bind===t.properties.bind:!i.properties&&!t.properties,e_=i=>{if(typeof i!="string")throw new Error("Style values must be strings")},hO=(i,t,s)=>{if(t.vnodeSelector!==""){for(let l=s;l<i.length;l++)if(Nm(i[l],t))return l}return-1},ep=(i,t,s,l)=>{let f=i[t];if(f.vnodeSelector==="")return;let d=f.properties;if(!(d?d.key===void 0?d.bind:d.key:void 0)){for(let w=0;w<i.length;w++)if(w!==t){let T=i[w];if(Nm(T,f))throw new Error(`${s.vnodeSelector} had a ${f.vnodeSelector} child ${l==="added"?l:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},uO=i=>{if(i.properties){let t=i.properties.enterAnimation;t&&t(i.domNode,i.properties)}},Py=[],Iy=!1,i_=i=>{(i.children||[]).forEach(i_),i.properties&&i.properties.afterRemoved&&i.properties.afterRemoved.apply(i.properties.bind||i.properties,[i.domNode])},Zv=()=>{Iy=!1,Py.forEach(i_),Py.length=0},Xv=i=>{Py.push(i),Iy||(Iy=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Zv,{timeout:16}):setTimeout(Zv,16))},Qv=i=>{let t=i.domNode;if(i.properties){let s=i.properties.exitAnimation;if(s){t.style.pointerEvents="none",s(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),Xv(i))},i.properties);return}}t.parentNode&&(t.parentNode.removeChild(t),Xv(i))},cO=(i,t,s)=>{if(!t)return;let l=s.eventHandlerInterceptor,f=Object.keys(t),d=f.length;for(let v=0;v<d;v++){let w=f[v],T=t[w];if(w==="className")throw new Error('Property "className" is not supported, use "class".');if(w==="class")Cy(i,T,!0);else if(w==="classes"){let M=Object.keys(T),I=M.length;for(let N=0;N<I;N++){let R=M[N];T[R]&&i.classList.add(R)}}else if(w==="styles"){let M=Object.keys(T),I=M.length;for(let N=0;N<I;N++){let R=M[N],F=T[R];F&&(e_(F),s.styleApplyer(i,R,F))}}else if(w!=="key"&&T!==null&&T!==void 0){let M=typeof T;M==="function"?(w.lastIndexOf("on",0)===0&&(l&&(T=l(w,T,i,t)),w==="oninput"&&function(){let I=T;T=function(N){I.apply(this,[N]),N.target["oninput-value"]=N.target.value}}()),i[w]=T):s.namespace===d1?w==="href"?i.setAttributeNS(t_,w,T):i.setAttribute(w,T):M==="string"&&w!=="value"?w==="innerHTML"?i[w]=X6.sanitize(T):r_(i)&&w in i?i[w]=T:i.setAttribute(w,T):i[w]=T}}};function r_(i){if(!(i instanceof Element)||!i.tagName.includes("-"))return!1;const t=window.customElements.get(i.tagName.toLowerCase());return!!t&&i instanceof t}let fO=(i,t,s)=>{if(t)for(let l of t)Ga(l,i,void 0,s)},s_=(i,t,s)=>{fO(i,t.children,s),t.text&&(i.textContent=t.text),cO(i,t.properties,s),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[i,s,t.vnodeSelector,t.properties,t.children])},Ga=(i,t,s,l)=>{let f,d=0,v=i.vnodeSelector,w=t.ownerDocument;if(v==="")f=i.domNode=w.createTextNode(i.text),s!==void 0?t.insertBefore(f,s):t.appendChild(f);else{for(let T=0;T<=v.length;++T){let M=v.charAt(T);if(T===v.length||M==="."||M==="#"){let I=v.charAt(d-1),N=v.slice(d,T);I==="."?f.classList.add(N):I==="#"?f.id=N:(N==="svg"&&(l=Om(l,{namespace:d1})),l.namespace!==void 0?f=i.domNode=w.createElementNS(l.namespace,N):(f=i.domNode=i.domNode||w.createElement(N),N==="input"&&i.properties&&i.properties.type!==void 0&&f.setAttribute("type",i.properties.type)),s!==void 0?t.insertBefore(f,s):f.parentNode!==t&&t.appendChild(f)),d=T+1}}s_(f,i,l)}},pf,Cy=(i,t,s)=>{t&&t.split(" ").forEach(l=>{l&&i.classList.toggle(l,s)})},pO=(i,t,s,l)=>{if(!s)return;let f=!1,d=Object.keys(s),v=d.length;for(let w=0;w<v;w++){let T=d[w],M=s[T],I=t[T];if(T==="class")I!==M&&(Cy(i,I,!1),Cy(i,M,!0));else if(T==="classes"){let N=i.classList,R=Object.keys(M),F=R.length;for(let V=0;V<F;V++){let W=R[V],H=!!M[W],Y=!!I[W];H!==Y&&(f=!0,H?N.add(W):N.remove(W))}}else if(T==="styles"){let N=Object.keys(M),R=N.length;for(let F=0;F<R;F++){let V=N[F],W=M[V],H=I[V];W!==H&&(f=!0,W?(e_(W),l.styleApplyer(i,V,W)):l.styleApplyer(i,V,""))}}else if(!M&&typeof I=="string"&&(M=""),T==="value"){let N=i[T];N!==M&&(i["oninput-value"]?N===i["oninput-value"]:M!==I)&&(i[T]=M,i["oninput-value"]=void 0),M!==I&&(f=!0)}else if(M!==I){let N=typeof M;(N!=="function"||!l.eventHandlerInterceptor)&&(l.namespace===d1?T==="href"?i.setAttributeNS(t_,T,M):i.setAttribute(T,M):N==="string"?T==="innerHTML"?i[T]=X6.sanitize(M):T==="role"&&M===""?i.removeAttribute(T):r_(i)&&T in i?i[T]=M:i.setAttribute(T,M):i[T]!==M&&(i[T]=M),f=!0)}}return f},dO=(i,t,s,l,f)=>{if(s===l)return!1;s=s||qv,l=l||qv;let d=s.length,v=l.length,w=0,T=0,M,I=!1;for(;T<v;){let N=w<d?s[w]:void 0,R=l[T];if(N!==void 0&&Nm(N,R))I=pf(N,R,f)||I,w++;else{let F=hO(s,R,w+1);if(F>=0){for(M=w;M<F;M++)Qv(s[M]),ep(s,M,i,"removed");I=pf(s[F],R,f)||I,w=F+1}else Ga(R,t,w<d?s[w].domNode:void 0,f),uO(R),ep(l,T,i,"added")}T++}if(d>w)for(M=w;M<d;M++)Qv(s[M]),ep(s,M,i,"removed");return I};pf=(i,t,s)=>{let l=i.domNode,f=!1;if(i===t)return!1;let d=!1;if(t.vnodeSelector===""){if(t.text!==i.text){let v=l.ownerDocument.createTextNode(t.text);return l.parentNode.replaceChild(v,l),t.domNode=v,f=!0,f}t.domNode=l}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(s=Om(s,{namespace:d1})),i.text!==t.text&&(d=!0,t.text===void 0?l.removeChild(l.firstChild):l.textContent=t.text),t.domNode=l,d=dO(t,l,i.children,t.children,s)||d,d=pO(l,i.properties,t.properties,s)||d,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[l,s,t.vnodeSelector,t.properties,t.children]);return d&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(l,t.properties,i.properties),f};let Xl=(i,t)=>({getLastRender:()=>i,update:s=>{if(i.vnodeSelector!==s.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let l=i;i=s,pf(l,s,t)},domNode:i.domNode});const yO={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(i,t,s)=>{t.charAt(0)==="-"?i.style.setProperty(t,s):i.style[t]=s}};let ja=i=>Om(yO,i),_n={create:(i,t)=>(t=ja(t),Ga(i,document.createElement("div"),void 0,t),Xl(i,t)),append:(i,t,s)=>(s=ja(s),Ga(t,i,void 0,s),Xl(t,s)),insertBefore:(i,t,s)=>(s=ja(s),Ga(t,i.parentNode,i,s),Xl(t,s)),merge:(i,t,s)=>(s=ja(s),t.domNode=i,s_(i,t,s),Xl(t,s)),replace:(i,t,s)=>(s=ja(s),Ga(t,i.parentNode,i,s),i.parentNode.removeChild(i),Xl(t,s))},mO=(i,t)=>{let s=[];for(;i&&i!==t;)s.push(i),i=i.parentNode;return s},Oy;Array.prototype.find?Oy=(i,t)=>i.find(t):Oy=(i,t)=>i.filter(t)[0];let vO=(i,t)=>{let s=i;return t.forEach(l=>{s=s&&s.children?Oy(s.children,f=>f.domNode===l):void 0}),s},wO=(i,t,s)=>{let l=function(f){s("domEvent",f);let d=t(),v=mO(f.currentTarget,d.domNode);v.reverse();let w=vO(d.getLastRender(),v);i.scheduleRender();let T;return w&&(T=w.properties[`on${f.type}`].apply(w.properties.bind||this,arguments)),s("domEventProcessed",f),T};return(f,d,v,w)=>l},tw=i=>{let t,s=ja(i),l=s.performanceLogger,f=!0,d,v=!1,w=[],T=[],M=(N,R,F)=>{let V,W=()=>V;s.eventHandlerInterceptor=wO(t,W,l),V=N(R,F(),s),w.push(V),T.push(F)},I=()=>{if(d=void 0,!!f){f=!1,l("renderStart",void 0);for(let N=0;N<w.length;N++){let R=T[N]();l("rendered",void 0),w[N].update(R),l("patched",void 0)}l("renderDone",void 0),f=!0}};return t={renderNow:I,scheduleRender:()=>{!d&&!v&&(d=requestAnimationFrame(I))},stop:()=>{d&&(cancelAnimationFrame(d),d=void 0),v=!0},resume:()=>{v=!1,f=!0,t.scheduleRender()},append:(N,R)=>{M(_n.append,N,R)},insertBefore:(N,R)=>{M(_n.insertBefore,N,R)},merge:(N,R)=>{M(_n.merge,N,R)},replace:(N,R)=>{M(_n.replace,N,R)},detach:N=>{for(let R=0;R<T.length;R++)if(T[R]===N)return T.splice(R,1),w.splice(R,1)[0];throw new Error("renderFunction was not found")}},t},Un=class extends Et{constructor(){super(...arguments),this.items=new kt,this._watchUpdatingTracking=new yl,this._callbacks=new Map,this._projector=tw(),this._hiddenProjector=tw()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,s=>{for(const l of s.added){const f=()=>l.render();this._callbacks.set(l,f),this._projector.append(this.surface,f)}for(const l of s.removed){const f=this._projector.detach(this._callbacks.get(l));this.surface.removeChild(f.domNode),this._callbacks.delete(l)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const s=this._hiddenSurface,l=this._hiddenProjector;let f;const d=()=>(f=t.render(),f);l.append(s,d),l.renderNow();const v={left:0,top:0,right:0,bottom:0};if(f&&f.domNode){const w=f.domNode.getBoundingClientRect();v.left=w.left,v.top=w.top,v.right=w.right,v.bottom=w.bottom}for(l.detach(d);s.firstChild;)s.removeChild(s.firstChild);return v}overlaps(t,s){const l=this.computeBoundingRect(t),f=this.computeBoundingRect(s);return Math.max(l.left,f.left)<=Math.min(l.right,f.right)&&Math.max(l.top,f.top)<=Math.min(l.bottom,f.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t){if(!this.items.some(l=>l.visible))return;const s=t.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(l=>{s.save(),l.renderCanvas(s),s.restore()}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};E([A({readOnly:!0})],Un.prototype,"surface",void 0);E([A({readOnly:!0})],Un.prototype,"items",void 0);E([A({readOnly:!0})],Un.prototype,"needsRender",null);E([A({readOnly:!0})],Un.prototype,"_watchUpdatingTracking",void 0);E([A({readOnly:!0})],Un.prototype,"updating",null);Un=E([q("esri.views.overlay.ViewOverlay")],Un);const ew=Un,ip=[0,0];function gO(i){const s=(i.ownerDocument||window.document).defaultView,l=i.getBoundingClientRect();return ip[0]=l.left+((s==null?void 0:s.pageXOffset)??0),ip[1]=l.top+((s==null?void 0:s.pageYOffset)??0),ip}function iw(i){i&&(D6(i),i.parentNode&&i.parentNode.removeChild(i))}function _O(i){const t=document.createElement("div");return i.appendChild(t),t}const Ql=16,Pc=750,SO=512,bO=2,TO=i=>{let t=class extends i{constructor(...l){super(...l),this._freqInfo={freq:Ql,time:Pc},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Ct(()=>this.cursor,f=>{const{surface:d}=this;d&&d.setAttribute("data-cursor",f)}),Ct(()=>this.navigating,f=>{const{surface:d}=this;d&&d.setAttribute("data-navigating",f.toString())})])}initialize(){this.addHandles([Ct(()=>this.ui,(l,f)=>this._handleUIChange(l,f),ei),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=be(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(l){const f=this._get("container"),d=Im(l);if(!d&&typeof l=="string"&&ct.getLogger(this.declaredClass).error("#container",`element with id '${l}' not found`),f===d)return;const v="dom-size";if(this.removeHandles(v),this._stopMeasuring(),f&&(f.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(iw(this.root),this._set("root",null)),this.userContent&&(Hv(this.userContent,f),iw(this.userContent),this._set("userContent",null))),!d){this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null);return}d.classList.add("esri-view");const w=document.createElement("div");w.className="esri-view-user-storage",Hv(d,w),d.appendChild(w),this._set("userContent",w);const T=document.createElement("div");T.className="esri-view-root",d.insertBefore(T,d.firstChild),this._set("root",T);const M=document.createElement("div");M.className="esri-view-surface",M.setAttribute("role","application"),M.tabIndex=0,T.appendChild(M),this._set("surface",M);const I=new ew;T.appendChild(I.surface),this._set("overlay",I),this.addHandles(Ct(()=>I.needsRender,N=>{N&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Qa({render:()=>{var R;return(R=this.overlay)==null?void 0:R.render()}}):this._overlayRenderTaskHandle=Me(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this.addHandles(Ct(()=>this.size,N=>{const[R,F]=N,V="esri-view-surface--inset-outline";R>=document.body.clientWidth||F>=document.body.clientHeight?M.classList.add(V):M.classList.remove(V)},ei),v),this._set("container",d),this._startMeasuring()}get focused(){const l=document.activeElement===this.surface;return document.hasFocus()&&l}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(l,f,d){const v=this.position;return l=l-(v?v[0]:0),f=f-(v?v[1]:0),d?(d[0]=l,d[1]=f):d=[l,f],d}containerToPage(l,f,d){const v=this.position;return l=l+(v?v[0]:0),f=f+(v?v[1]:0),d?(d[0]=l,d[1]=f):d=[l,f],d}_handleUIChange(l,f){this.removeHandles("ui"),f&&f!==l&&f.destroy(),l&&(l.view=this,this.addHandles(Ct(()=>this.root,d=>{l.container=d?_O(d):null},ei),"ui")),this._set("ui",l)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const l=this._freqInfo;l.freq=Ql,l.time=Pc,this.addHandles([(()=>{const f=()=>{l.freq=Ql,l.time=Pc};return window.addEventListener("resize",f),{remove(){window.removeEventListener("resize",f)}}})(),Qa({prepare:f=>{const d=this._measure(),v=this._freqInfo;if(v.time+=f.deltaTime,d&&(v.freq=Ql,this._get("resizing")||this._set("resizing",!0)),v.time<v.freq)return;v.time=0,this._position()||d?v.freq=Ql:v.freq=Math.min(Pc,v.freq*bO),!d&&v.freq>=SO&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const l=this.container,f=l?l.clientWidth:0,d=l?l.clientHeight:0;if(f===0||d===0)return this.suspended||this._set("suspended",!0),!1;const v=this.width,w=this.height;return f===v&&d===w?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",f),this._set("height",d),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:v,oldHeight:w,width:f,height:d}),!0)}_position(){const l=this.container,f=this.position,d=l&&gO(l);return d&&(!f||d[0]!==f[0]||d[1]!==f[1])?(this._set("position",[d[0],d[1]]),!0):!1}forceDOMReadyCycle(){}};return E([A()],t.prototype,"container",null),E([A({readOnly:!0})],t.prototype,"focused",null),E([A({readOnly:!0})],t.prototype,"height",void 0),E([A({type:ew})],t.prototype,"overlay",void 0),E([A({readOnly:!0})],t.prototype,"position",void 0),E([A({readOnly:!0})],t.prototype,"resizing",void 0),E([A({readOnly:!0})],t.prototype,"root",void 0),E([A({value:null,readOnly:!0})],t.prototype,"size",null),E([A({readOnly:!0})],t.prototype,"surface",void 0),E([A({readOnly:!0})],t.prototype,"suspended",void 0),E([A()],t.prototype,"ui",void 0),E([A({readOnly:!0})],t.prototype,"userContent",void 0),E([A({readOnly:!0})],t.prototype,"width",void 0),E([A()],t.prototype,"widthBreakpoint",void 0),t=E([q("esri.views.DOMContainer")],t),t};class EO{constructor(t,s){this._owner=s,this._properties={},this._afterDispatchHandle=null;for(const l in t){const f=t[l],d=new A9(f,void 0,void 0,2,2);this._properties[l]={pool:d,acquired:[]}}this._afterDispatchHandle=yb(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const s=this._properties[t];for(const l of s.acquired)x3(l)||s.pool.release(l);s.pool.destroy(),s.pool=null,s.acquired=null}this._properties=null,this._owner=null}get(t){const s=this._owner._get(t),l=this._properties[t];let f=l.pool.acquire();for(l.acquired.push(f);f===s;)l.acquired.push(f),f=l.pool.acquire();return f}_release(){for(const t in this._properties){const s=this._properties[t];let l=0;for(const f of s.acquired)x3(f)?s.acquired[l++]=f:s.pool.release(f);s.acquired.length=l}}}const xO=rt("mac")?"Meta":"Ctrl",y1={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let i=48;i<58;i++)y1[i]=String.fromCharCode(i);for(let i=1;i<25;i++)y1[111+i]=`F${i}`;for(let i=65;i<91;i++)y1[i]=[String.fromCharCode(i+32),String.fromCharCode(i)];function MO(i){if(i.key!==void 0)return YS(i);const t=y1[i.keyCode];return Array.isArray(t)?i.shiftKey?t[1]:t[0]:t}function AO(i){switch(i){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}class PO{constructor(t,s=[]){this.eventType=t,this.keyModifiers=s}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const s=t.modifiers;for(const l of this.keyModifiers)if(!s.has(l))return!1;return!0}}const rw=ct.getLogger("esri.views.input.InputHandler");class Ze{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const s=this._incoming[t];for(const l of s)this._incomingEventMatches.push(l.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){if(this._manager){rw.error("This InputHandler has already been registered with an InputManager");return}t.setEventCallback(s=>this._handleEvent(s)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t}onUninstall(){}registerIncoming(t,s,l){let f;typeof s=="function"?(l=s,f=[]):f=s||[];const d=typeof t=="string"?new PO(t,f):t,v=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},w=I=>{const N=this._incoming[I.match.eventType];if(N){const R=N.indexOf(I);N.splice(R,1),v(),this._manager&&this._manager.updateDependencies()}},T=new IO(d,l,{onPause:w,onRemove:w,onResume:I=>{const N=this._incoming[I.match.eventType];N&&!N.includes(I)&&(N.push(I),v(),this._manager&&this._manager.updateDependencies())}});let M=this._incoming[d.eventType];return M||(M=[],this._incoming[d.eventType]=M),M.push(T),v(),this._manager&&this._manager.updateDependencies(),T}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const s=new CO(t,{onEmit:(l,f,d,v)=>{var w;(w=this._manager)==null||w.emit(l.eventType,f,d,v)},onRemove:l=>{var f;delete this._outgoing[l.eventType],(f=this._manager)==null||f.updateDependencies()}});return this._outgoing[t]=s,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),s}startCapturingPointer(t){var s;(s=this._manager)==null||s.setPointerCapture(t,!0)}stopCapturingPointer(t){var s;(s=this._manager)==null||s.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){if(!this._manager){rw.error("This InputHandler is not registered with an InputManager");return}this.onUninstall(),this._manager=null}_handleEvent(t){var l;const s=this._incoming[t.type];if(s){for(const f of s)if(f.match.matches(t)&&((l=f.callback)==null||l.call(f,t),t.shouldStopPropagation()))break}}}class IO{constructor(t,s,l){this.match=t,this._callback=s,this._handler=l}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class CO{constructor(t,s){this.eventType=t,this._removed=!1,this._handler=s}emit(t,s,l){this._removed||this._handler.onEmit(this,t,s,l)}remove(){this._removed=!0,this._handler.onRemove(this)}}class OO extends Ze{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",s=>{this._update(s.data)})}_update(t){const s=t.native.pointerType==="touch"?"touch":"mouse",{x:l,y:f}=t;s===this._value&&this._x===l&&this._y===f||(this._value=s,this._x=l,this._y=f,this._onChange(s,l,f))}}class NO{constructor(t,s){this._observable=new g2,this._value=t,this._equalityFunction=s}get value(){return It(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}}function df(i,t=h9){return new NO(i,t)}class LO extends Ze{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=df(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}let is=class extends Et{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=xO,this._latestPointerType="mouse",this._propertiesPool=new EO({latestPointerLocation:jO},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const s of t)this.uninstallHandlers(s);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(t,s,l=Tn.INTERNAL){if(this._nameToGroup[t]){ct.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+t+"`");return}if(s.length===0){ct.getLogger(this.declaredClass).error("Can't register a group of zero handlers");return}const f={name:t,handlers:s.map(d=>({handler:d,active:!0,removed:!1,priorityIndex:0,groupPriority:l,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=f;for(let d=f.handlers.length-1;d>=0;d--){const v=f.handlers[d];this._handlers.push(v),v.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(w,T,M,I,N)=>{this._emitInputEvent(v.priorityIndex+1,w,T,M,N,I)},setPointerCapture:(w,T)=>{this._setPointerCapture(f,v,w,T)},setEventCallback:w=>{v.eventCallback=w},setUninstallCallback:w=>{v.uninstallCallback=w},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const s=this._nameToGroup[t];if(!s){ct.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+t+"`");return}s.handlers.forEach(l=>{var f;l.removed=!0,(f=l.uninstallCallback)==null||f.call(l)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()}hasHandlers(t){return this._nameToGroup[t]!==void 0}updateDependencies(){if(this._currentPropagation){this._updateDependenciesAfterPropagation=!0;return}this._updateDependenciesAfterPropagation=!1;const t=new Set,s=new Set;this._handlersPriority=[];for(let l=this._handlers.length-1;l>=0;l--){const f=this._handlers[l];f.priorityIndex=l,this._handlersPriority.push(f)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let l=this._handlersPriority.length-1;l>=0;l--){const f=this._handlersPriority[l];f.priorityIndex=l;let d=f.handler.hasSideEffects;if(!d){for(const v of f.handler.outgoingEventTypes)if(t.has(v)){d=!0;break}}if(d)for(const v of f.handler.incomingEventMatches){t.add(v.eventType);for(const w of v.keyModifiers)AO(w)||s.add(w)}f.active=d}this._sourceEvents=t,this._keyModifiers=s,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,s,l){this._latestPointerType=t;const f=this._get("latestPointerLocation");if(f==null||f.x!==s||f.y!==l){const d=this._propertiesPool.get("latestPointerLocation");d.x=s,d.y=l,this._set("latestPointerLocation",d)}}_onEventReceived(t,s){if(t==="pointer-capture-lost"){const d=s;this._pointerCaptures.delete(d.native.pointerId)}this._updateKeyModifiers(t,s);const l=this.test.timestamp!=null?this.test.timestamp:s.native?s.native.timestamp:void 0,f=s.native?s.native.cancelable:void 0;this._emitInputEventFromSource(t,s,l,f)}_updateKeyModifiers(t,s){if(!s)return;let l=!1;const f=()=>{if(!l){const w=new Set;this._activeKeyModifiers.forEach(T=>{w.add(T)}),this._activeKeyModifiers=w,l=!0}},d=(w,T)=>{T&&!this._activeKeyModifiers.has(w)?(f(),this._activeKeyModifiers.add(w)):!T&&this._activeKeyModifiers.has(w)&&(f(),this._activeKeyModifiers.delete(w))};if(t==="key-down"||t==="key-up"){const T=s.key;this._keyModifiers.has(T)&&d(T,t==="key-down")}const v=s.native;d("Alt",!!(v&&v.altKey)),d("Ctrl",!!(v&&v.ctrlKey)),d("Shift",!!(v&&v.shiftKey)),d("Meta",!!(v&&v.metaKey)),d("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new OO((t,s,l)=>this._setLatestPointer(t,s,l)),this._multiTouchHandler=new LO,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Tn.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Tn.INTERNAL)}_setPointerCapture(t,s,l,f){const d=t.name+"-"+s.priorityIndex,v=this._pointerCaptures.get(l.pointerId)||new Set;this._pointerCaptures.set(l.pointerId,v),f?(v.add(d),v.size===1&&this.eventSource&&this.eventSource.setPointerCapture(l,!0)):v.has(d)&&(v.delete(d),v.size===0&&(this._pointerCaptures.delete(l.pointerId),this.eventSource&&this.eventSource.setPointerCapture(l,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,s,l,f){this._emitInputEvent(0,t,s,l,f)}_emitInputEvent(t,s,l,f,d,v){const w=f!==void 0?f:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),T=d!==void 0?d:!1,I={event:new RO(s,l,w,v||this._activeKeyModifiers,T),priorityIndex:t};if(this._currentPropagation){this._currentPropagation.events.push(I);return}this._doNewPropagation(I)}_doNewPropagation(t){this._currentPropagation={events:new of,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var s,l;const t=Oi(this._currentPropagation);for(;t.events.length>0;){const{event:f,priorityIndex:d}=t.events.pop(),v=f.data&&f.data.eventId;if(!(v!=null&&this._stoppedPropagationEventIds.has(v)))for(t.currentHandler=this._handlersPriority[d];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!f.shouldStopPropagation()&&((l=(s=t.currentHandler).eventCallback)==null||l.call(s,f)),f.shouldStopPropagation()){v!=null&&this._stoppedPropagationEventIds.add(v);break}if(f.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:f,priorityIndex:t.currentHandler.priorityIndex+1});return}}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(t){const s=new of;s.push(t);const l=this._currentPropagation;if(l){for(;l.events.length;)s.push(l.events.pop());l.events=s,l.currentHandler=null}}_compareHandlerPriority(t,s){if(t.handler.hasSideEffects!==s.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==s.groupPriority)return t.groupPriority>s.groupPriority?-1:1;for(const l of t.handler.incomingEventMatches)for(const f of s.handler.incomingEventMatches){if(l.eventType!==f.eventType)continue;const d=l.keyModifiers.filter(T=>f.keyModifiers.includes(T)),v=d.length===l.keyModifiers.length,w=d.length===f.keyModifiers.length;if(v!==w)return l.keyModifiers.length>f.keyModifiers.length?-1:1}return t.priorityIndex>s.priorityIndex?-1:1}_sortHandlersPriority(t){const s=[];for(const l of t){let f=0;for(;f<s.length&&this._compareHandlerPriority(l,s[f])>=0;)f++;s.splice(f,0,l)}return s}get debug(){const t=s=>{const l=this._setPointerCapture;this._setPointerCapture=()=>{},s(),this._setPointerCapture=l};return{injectEvent:(s,l)=>{t(()=>{this._onEventReceived(s,l)})},disablePointerCapture:t}}};E([A({readOnly:!0})],is.prototype,"hasPendingInputs",null);E([A({constructOnly:!0})],is.prototype,"eventSource",void 0);E([A({constructOnly:!0})],is.prototype,"recognizers",void 0);E([A()],is.prototype,"_latestPointerType",void 0);E([A()],is.prototype,"latestPointerType",null);E([A()],is.prototype,"multiTouchActive",null);E([A({readOnly:!0})],is.prototype,"latestPointerLocation",void 0);is=E([q("esri.views.input.InputManager")],is);class RO{constructor(t,s,l,f,d){this.type=t,this.data=s,this.timestamp=l,this.modifiers=f,this.cancelable=d,this._propagationState=pn.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=pn.STOPPED}shouldStopPropagation(){return(this._propagationState&pn.STOPPED)!==0}async(t){this._propagationState|=pn.PAUSED;const s=(l,f)=>{this._propagationState&=~pn.PAUSED;const d=this._resumeCallback;if(this._resumeCallback=null,d&&d(),f)throw l;return l};return(typeof t=="function"?t():t).then(l=>s(l,!1),l=>s(l,!0))}shouldPausePropagation(t){return this._propagationState&pn.PAUSED?(this._resumeCallback=t,!0):!1}preventDefault(){this.data.native.preventDefault()}}var pn;(function(i){i[i.NONE=0]="NONE",i[i.STOPPED=1]="STOPPED",i[i.PAUSED=2]="PAUSED"})(pn||(pn={}));const Tn={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class DO{}const jO=DO;function us(i){return i!=null&&"open"in i&&"declaredClass"in i}const kO=i=>{let t=class extends i{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Ct(()=>[this.ui,this.popup],([l,f],d)=>{const v="popup",w="manual";if(d){const[T,M]=d;T&&us(M)&&(M.view=null,T.remove(M,v))}l&&us(f)&&(f.view=this,l.add(f,{key:v,position:w}))},ei),this.on("click",l=>{!this.popup||!this.popupEnabled||l.pointerType==="mouse"&&l.button!==0||(us(this.popup)?this.popup.viewModel.handleViewClick(l):l.async(()=>this.setupPopup()).then(()=>{us(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(l)},()=>{}))},Tn.WIDGET)]),Sm(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{pt(()=>import("./Popup-2c5dd042.js"),["assets/Popup-2c5dd042.js","assets/throttle-9d01e8e8.js","assets/ByteSizeUnit-c0a244d3.js","assets/AttachmentInfo-1c327abc.js","assets/AttachmentQuery-a81b6c0b.js","assets/widget-4c9f7fe2.js","assets/ColorStop-69649184.js","assets/utils-a7a5d95a.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/ItemCache-591d0f17.js","assets/MemCache-0b9a9ce4.js","assets/jsonUtils-fcc69467.js","assets/UniqueValueRenderer-9d1002cf.js","assets/LegendOptions-0798b0b9.js","assets/diffUtils-d9e7d9d5.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/jsonUtils-d970b431.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/DictionaryLoader-cef2ab61.js","assets/LRUCache-7d80c941.js","assets/FieldsIndex-19734375.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/executeQueryJSON-bf7b6e9c.js","assets/query-ad51ba53.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/pbfQueryUtils-0fea6fbe.js","assets/pbf-6f2a85bf.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/queryZScale-b5ad7594.js","assets/FeatureSet-b9324b47.js","assets/featureConversionUtils-c38cba79.js","assets/RelationshipQuery-df8a4aee.js","assets/TopFeaturesQuery-ef9a39c0.js","assets/FeatureLayer-5d8499e3.js","assets/MultiOriginJSONSupport-8a274e44.js","assets/sql-46e4bdd9.js","assets/FeatureLayerBase-6c8dbc52.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/serviceCapabilitiesUtils-c15cc356.js","assets/editsZScale-93f171ff.js","assets/APIKeyMixin-bb8d3f14.js","assets/ArcGISService-36126778.js","assets/BlendLayer-f2397c0f.js","assets/jsonUtils-83529e2a.js","assets/CustomParametersMixin-4f7843a4.js","assets/EditBusLayer-726c0dac.js","assets/FeatureReductionLayer-e0eca34b.js","assets/FeatureEffect-9a976584.js","assets/clusterUtils-2ed109d6.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/OperationalLayer-43bf6295.js","assets/OrderedLayer-9f7c5530.js","assets/PortalLayer-641234b2.js","assets/portalItemUtils-b3ac2156.js","assets/RefreshableLayer-7e7030e9.js","assets/ScaleRangeLayer-c00a5713.js","assets/TemporalLayer-dfef6fde.js","assets/FeatureTemplate-0ec4ad27.js","assets/FeatureType-d55aca33.js","assets/fieldProperties-9d112e1c.js","assets/versionUtils-7acaee31.js","assets/styleUtils-69730ec3.js","assets/popupUtils-28cf220f.js"])})}destroy(){this.destroyed||this.closePopup()}async openPopup(l){us(this.popup)&&this.popup.open(l);try{if(await this.setupPopup(),!this.popup){ct.getLogger(this.declaredClass).error(new mt("view:null-popup","Popup is null and can't be opened"));return}this.popup.open(l)}catch{}}closePopup(){var l;(l=this._popupSetupTask)==null||l.abort(),us(this.popup)&&this.popup.close()}async fetchPopupFeatures(l,f){await this.when();const{location:d,queryArea:v,layerViewsAndGraphics:w,clientOnlyGraphics:T}=await this._prepareFetchPopupFeatures(l,f),M=Promise.resolve(T),I=this._queryLayerPopupFeatures(v,w,f),N=I.map(F=>F.promise),R=qS([M,...N]).then(F=>Array.from(new Set(F.flat())));return{location:d,clientOnlyGraphics:T,allGraphicsPromise:R,promisesPerLayerView:I}}async setupPopup(){var l;if((l=this._popupSetupTask)==null||l.abort(),!(!this.popup||us(this.popup)))return this._popupSetupTask=E2(async f=>{const{default:d}=await pt(()=>import("./Popup-2c5dd042.js"),["assets/Popup-2c5dd042.js","assets/throttle-9d01e8e8.js","assets/ByteSizeUnit-c0a244d3.js","assets/AttachmentInfo-1c327abc.js","assets/AttachmentQuery-a81b6c0b.js","assets/widget-4c9f7fe2.js","assets/ColorStop-69649184.js","assets/utils-a7a5d95a.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/ItemCache-591d0f17.js","assets/MemCache-0b9a9ce4.js","assets/jsonUtils-fcc69467.js","assets/UniqueValueRenderer-9d1002cf.js","assets/LegendOptions-0798b0b9.js","assets/diffUtils-d9e7d9d5.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/jsonUtils-d970b431.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/DictionaryLoader-cef2ab61.js","assets/LRUCache-7d80c941.js","assets/FieldsIndex-19734375.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/executeQueryJSON-bf7b6e9c.js","assets/query-ad51ba53.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/pbfQueryUtils-0fea6fbe.js","assets/pbf-6f2a85bf.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/queryZScale-b5ad7594.js","assets/FeatureSet-b9324b47.js","assets/featureConversionUtils-c38cba79.js","assets/RelationshipQuery-df8a4aee.js","assets/TopFeaturesQuery-ef9a39c0.js","assets/FeatureLayer-5d8499e3.js","assets/MultiOriginJSONSupport-8a274e44.js","assets/sql-46e4bdd9.js","assets/FeatureLayerBase-6c8dbc52.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/serviceCapabilitiesUtils-c15cc356.js","assets/editsZScale-93f171ff.js","assets/APIKeyMixin-bb8d3f14.js","assets/ArcGISService-36126778.js","assets/BlendLayer-f2397c0f.js","assets/jsonUtils-83529e2a.js","assets/CustomParametersMixin-4f7843a4.js","assets/EditBusLayer-726c0dac.js","assets/FeatureReductionLayer-e0eca34b.js","assets/FeatureEffect-9a976584.js","assets/clusterUtils-2ed109d6.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/OperationalLayer-43bf6295.js","assets/OrderedLayer-9f7c5530.js","assets/PortalLayer-641234b2.js","assets/portalItemUtils-b3ac2156.js","assets/RefreshableLayer-7e7030e9.js","assets/ScaleRangeLayer-c00a5713.js","assets/TemporalLayer-dfef6fde.js","assets/FeatureTemplate-0ec4ad27.js","assets/FeatureType-d55aca33.js","assets/fieldProperties-9d112e1c.js","assets/versionUtils-7acaee31.js","assets/styleUtils-69730ec3.js","assets/popupUtils-28cf220f.js"]);if(Le(f),!this.popup||us(this.popup))return;const v=this.popup;delete v.open,delete v.close,this.popup=new d(v)}),this._popupSetupTask.promise}_queryLayerPopupFeatures(l,f,d){return f.map(({layerView:v,graphics:w})=>{const T={clientGraphics:w,event:d!=null?d.event:void 0,signal:d!=null?d.signal:void 0,defaultPopupTemplateEnabled:d!=null?!!d.defaultPopupTemplateEnabled:!1},M=v.fetchPopupFeatures(l,T);return{layerView:v,promise:M}})}_isValidPopupGraphic(l,f){return l&&!!l.getEffectivePopupTemplate(f!=null&&f.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(l,f){const{clientGraphics:d,queryArea:v,location:w}=await this._popupHitTestGraphics(l,f),T=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:M,clientOnlyGraphics:I}=this._graphicsPerFetchPopupLayerView(d,T);return{clientOnlyGraphics:I,layerViewsAndGraphics:M,queryArea:v,location:w}}async _popupHitTestGraphics(l,f){const d=await this.popupHitTest(l),v=d.results,w=d.mapPoint,T=v.filter(N=>N.type==="graphic"&&this._isValidPopupGraphic(N.graphic,f)),M=T.length?T[0].mapPoint:null;return{clientGraphics:T.map(N=>N.graphic),queryArea:w,location:w||M}}_getFetchPopupLayerViews(){const l=[];return this.allLayerViews.forEach(f=>{this._isValidPopupLayerView(f)&&l.push(f)}),this.graphicsView!=null&&this._isValidPopupLayerView(this.graphicsView)&&l.push(this.graphicsView),l.reverse()}_isValidPopupLayerView(l){return l!=null&&(!("layer"in l)||!l.suspended)&&"fetchPopupFeatures"in l}_graphicsPerFetchPopupLayerView(l,f){const d=[],v=new Map,w=f.map(T=>{const M=[];return"layer"in T?v.set(T.layer,M):v.set(T.graphics,M),{layerView:T,graphics:M}});for(const T of l){const M=v.get(T.layer)||v.get(T.sourceLayer)||null;M?M.push(T):d.push(T)}return{layerViewsAndGraphics:w,clientOnlyGraphics:d}}};return E([A({cast(s){return!s||us(s)||typeof s=="object"&&(s.open=l=>(I0(ct.getLogger(this.declaredClass),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(l)),s.close=()=>(I0(ct.getLogger(this.declaredClass),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),s}})],t.prototype,"popup",void 0),E([A()],t.prototype,"popupEnabled",void 0),t=E([q("esri.views.PopupView")],t),t},sw={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},FO={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function zO(i,t){const s=new Date(i,t+1,1);return s.setDate(0),s.getDate()}function rp(i,t,s){const l=new Date(i.getTime());if(t&&s){const f=FO[s],{getter:d,setter:v,multiplier:w}=f;if(s==="months"){const T=zO(l.getFullYear(),l.getMonth()+t);l.getDate()>T&&l.setDate(T)}l[v](l[d]()+t*w)}return l}function nw(i,t){switch(t){case"milliseconds":return new Date(i.getTime());case"seconds":return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds());case"minutes":return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes());case"hours":return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours());case"days":return new Date(i.getFullYear(),i.getMonth(),i.getDate());case"weeks":return new Date(i.getFullYear(),i.getMonth(),i.getDate()-i.getDay());case"months":return new Date(i.getFullYear(),i.getMonth(),1);case"years":return new Date(i.getFullYear(),0,1);case"decades":return new Date(i.getFullYear()-i.getFullYear()%10,0,1);case"centuries":return new Date(i.getFullYear()-i.getFullYear()%100,0,1);default:return new Date}}function oW(i,t,s){return i===0?0:i*sw[t]/sw[s]}var cr;let Ri=cr=class extends bt{static get allTime(){return ow}static get empty(){return UO}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,s){return s.end!=null?new Date(s.end):null}writeEnd(t,s){s.end=t?t.getTime():null}get isAllTime(){return this.equals(cr.allTime)}get isEmpty(){return this.equals(cr.empty)}readStart(t,s){return s.start!=null?new Date(s.start):null}writeStart(t,s){s.start=t?t.getTime():null}clone(){return new cr({end:this.end,start:this.start})}equals(t){if(!t)return!1;const s=this.start!=null?this.start.getTime():this.start,l=this.end!=null?this.end.getTime():this.end,f=t.start!=null?t.start.getTime():t.start,d=t.end!=null?t.end.getTime():t.end;return s===f&&l===d}expandTo(t){if(this.isEmpty||this.isAllTime)return this.clone();const s=yo(this.start,f=>nw(f,t)),l=yo(this.end,f=>{const d=nw(f,t);return f.getTime()===d.getTime()?d:rp(d,1,t)});return new cr({start:s,end:l})}intersection(t){var T,M,I,N;if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return cr.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const s=((T=this.start)==null?void 0:T.getTime())??-1/0,l=((M=this.end)==null?void 0:M.getTime())??1/0,f=((I=t.start)==null?void 0:I.getTime())??-1/0,d=((N=t.end)==null?void 0:N.getTime())??1/0;let v,w;if(f>=s&&f<=l?v=f:s>=f&&s<=d&&(v=s),l>=f&&l<=d?w=l:d>=s&&d<=l&&(w=d),v!=null&&w!=null&&!isNaN(v)&&!isNaN(w)){const R=new cr;return R.start=v===-1/0?null:new Date(v),R.end=w===1/0?null:new Date(w),R}return cr.empty}offset(t,s){if(this.isEmpty||this.isAllTime)return this.clone();const l=new cr,{start:f,end:d}=this;return f!=null&&(l.start=rp(f,t,s)),d!=null&&(l.end=rp(d,t,s)),l}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return ow.clone();const s=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,l=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new cr({start:s,end:l})}};E([A({type:Date,json:{write:{allowNull:!0}}})],Ri.prototype,"end",void 0);E([ne("end")],Ri.prototype,"readEnd",null);E([se("end")],Ri.prototype,"writeEnd",null);E([A({readOnly:!0,json:{read:!1}})],Ri.prototype,"isAllTime",null);E([A({readOnly:!0,json:{read:!1}})],Ri.prototype,"isEmpty",null);E([A({type:Date,json:{write:{allowNull:!0}}})],Ri.prototype,"start",void 0);E([ne("start")],Ri.prototype,"readStart",null);E([se("start")],Ri.prototype,"writeStart",null);Ri=cr=E([q("esri.TimeExtent")],Ri);const ow=new Ri,UO=new Ri({start:void 0,end:void 0}),$O=Ri,Lm=i=>{let t=class extends i{constructor(){super(...arguments),this._handles=new $s,this._updatingHandles=new yl}destroy(){this.destroyed||(this._handles.destroy(),this._updatingHandles.destroy())}get handles(){return this._handles}get updatingHandles(){return this._updatingHandles}};return E([A({readOnly:!0})],t.prototype,"handles",null),E([A({readOnly:!0})],t.prototype,"updatingHandles",null),t=E([q("esri.core.HandleOwner")],t),t};let yf=class extends Lm(Et){};yf=E([q("esri.core.HandleOwner")],yf);let xu=class extends Lm(kt){constructor(t){super(t),this.handles.add([this.on("before-add",s=>{s.item==null&&s.preventDefault()}),this.on("after-add",s=>this._own(s.item)),this.on("after-remove",s=>this._release(s.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(kt.ofType(this.itemType.Type))(t):new kt(t)}};E([A()],xu.prototype,"owner",null);xu=E([q("esri.core.support.OwningCollection")],xu);function n_(i,t){return{type:i,cast:r5,set(s){const l=No(s,this._get(t),i);l.owner=this,this._set(t,l)}}}var fh;const mf=Mi()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),o_=mf.jsonValues.slice();wS(o_,"orthometric");const Ih=Mi()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ar=fh=class extends bt{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,s,l){return mf.write(t,s,l)}readHeightModel(t,s,l){const f=mf.read(t);return f||(l&&l.messages&&l.messages.push(GO(t,{context:l})),null)}readHeightUnit(t,s,l){const f=Ih.read(t);return f||(l&&l.messages&&l.messages.push(aw(t,{context:l})),null)}readHeightUnitService(t,s,l){const f=x5(t)||Ih.read(t);return f||(l&&l.messages&&l.messages.push(aw(t,{context:l})),null)}readVertCRS(t,s){return s.vertCRS||s.ellipsoid||s.geoid}clone(){return new fh({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return t?this===t?!0:this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS:!1}static deriveUnitFromSR(t,s){const l=TE(s);return new fh({heightModel:t.heightModel,heightUnit:l,vertCRS:t.vertCRS})}write(t,s){return s={origin:"web-scene",...s},super.write(t,s)}static fromJSON(t){if(!t)return null;const s=new fh;return s.read(t,{origin:"web-scene"}),s}};E([A({type:mf.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:o_,default:"ellipsoidal"}}}})],Ar.prototype,"heightModel",void 0);E([se("web-scene","heightModel")],Ar.prototype,"writeHeightModel",null);E([ne(["web-scene","service"],"heightModel")],Ar.prototype,"readHeightModel",null);E([A({type:Ih.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Ih.jsonValues,write:Ih.write}}}})],Ar.prototype,"heightUnit",void 0);E([ne("web-scene","heightUnit")],Ar.prototype,"readHeightUnit",null);E([ne("service","heightUnit")],Ar.prototype,"readHeightUnitService",null);E([A({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ar.prototype,"vertCRS",void 0);E([ne("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ar.prototype,"readVertCRS",null);Ar=fh=E([q("esri.geometry.HeightModelInfo")],Ar);function aw(i,t){return new xs("height-unit:unsupported",`Height unit of value '${i}' is not supported`,t)}function GO(i,t){return new xs("height-model:unsupported",`Height model of value '${i}' is not supported`,t)}const Rm=Ar;let vf=class extends xu{constructor(t){super(t),this.handles.add(this.on("before-add",s=>{s.item!=null&&s.item.parent===this.owner&&(ct.getLogger(this.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),s.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};vf=E([q("esri.support.AnalysesCollection")],vf);let Mu=class extends xu{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};E([e5({Type:vu,ensureType:$e(vu)})],Mu.prototype,"itemType",void 0);Mu=E([q("esri.support.GraphicsCollection")],Mu);const lw=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Ta extends Error{}class VO extends Ta{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class BO extends Ta{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class HO extends Ta{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class ph extends Ta{}class a_ extends Ta{constructor(t){super(`Invalid unit ${t}`)}}class Bi extends Ta{}class en extends Ta{constructor(){super("Zone is an abstract class")}}const dt="numeric",Pr="short",Li="long",wf={year:dt,month:dt,day:dt},l_={year:dt,month:Pr,day:dt},WO={year:dt,month:Pr,day:dt,weekday:Pr},h_={year:dt,month:Li,day:dt},u_={year:dt,month:Li,day:dt,weekday:Li},c_={hour:dt,minute:dt},f_={hour:dt,minute:dt,second:dt},p_={hour:dt,minute:dt,second:dt,timeZoneName:Pr},d_={hour:dt,minute:dt,second:dt,timeZoneName:Li},y_={hour:dt,minute:dt,hourCycle:"h23"},m_={hour:dt,minute:dt,second:dt,hourCycle:"h23"},v_={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:Pr},w_={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:Li},g_={year:dt,month:dt,day:dt,hour:dt,minute:dt},__={year:dt,month:dt,day:dt,hour:dt,minute:dt,second:dt},S_={year:dt,month:Pr,day:dt,hour:dt,minute:dt},b_={year:dt,month:Pr,day:dt,hour:dt,minute:dt,second:dt},JO={year:dt,month:Pr,day:dt,weekday:Pr,hour:dt,minute:dt},T_={year:dt,month:Li,day:dt,hour:dt,minute:dt,timeZoneName:Pr},E_={year:dt,month:Li,day:dt,hour:dt,minute:dt,second:dt,timeZoneName:Pr},x_={year:dt,month:Li,day:dt,weekday:Li,hour:dt,minute:dt,timeZoneName:Li},M_={year:dt,month:Li,day:dt,weekday:Li,hour:dt,minute:dt,second:dt,timeZoneName:Li};class Zu{get type(){throw new en}get name(){throw new en}get ianaName(){return this.name}get isUniversal(){throw new en}offsetName(t,s){throw new en}formatOffset(t,s){throw new en}offset(t){throw new en}equals(t){throw new en}get isValid(){throw new en}}let sp=null;class m1 extends Zu{static get instance(){return sp===null&&(sp=new m1),sp}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:s,locale:l}){return P_(t,s,l)}formatOffset(t,s){return Oh(this.offset(t),s)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let h0={};function KO(i){return h0[i]||(h0[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),h0[i]}const YO={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function qO(i,t){const s=i.format(t).replace(/\u200E/g,""),l=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(s),[,f,d,v,w,T,M,I]=l;return[v,f,d,w,T,M,I]}function ZO(i,t){const s=i.formatToParts(t),l=[];for(let f=0;f<s.length;f++){const{type:d,value:v}=s[f],w=YO[d];d==="era"?l[w]=v:Gt(w)||(l[w]=parseInt(v,10))}return l}let Ic={};class Ds extends Zu{static create(t){return Ic[t]||(Ic[t]=new Ds(t)),Ic[t]}static resetCache(){Ic={},h0={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Ds.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:s,locale:l}){return P_(t,s,l,this.name)}formatOffset(t,s){return Oh(this.offset(t),s)}offset(t){const s=new Date(t);if(isNaN(s))return NaN;const l=KO(this.name);let[f,d,v,w,T,M,I]=l.formatToParts?ZO(l,s):qO(l,s);w==="BC"&&(f=-Math.abs(f)+1);const R=km({year:f,month:d,day:v,hour:T===24?0:T,minute:M,second:I,millisecond:0});let F=+s;const V=F%1e3;return F-=V>=0?V:1e3+V,(R-F)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let hw={};function XO(i,t={}){const s=JSON.stringify([i,t]);let l=hw[s];return l||(l=new Intl.ListFormat(i,t),hw[s]=l),l}let Ny={};function Ly(i,t={}){const s=JSON.stringify([i,t]);let l=Ny[s];return l||(l=new Intl.DateTimeFormat(i,t),Ny[s]=l),l}let Ry={};function QO(i,t={}){const s=JSON.stringify([i,t]);let l=Ry[s];return l||(l=new Intl.NumberFormat(i,t),Ry[s]=l),l}let Dy={};function tN(i,t={}){const{base:s,...l}=t,f=JSON.stringify([i,l]);let d=Dy[f];return d||(d=new Intl.RelativeTimeFormat(i,t),Dy[f]=d),d}let dh=null;function eN(){return dh||(dh=new Intl.DateTimeFormat().resolvedOptions().locale,dh)}function iN(i){const t=i.indexOf("-x-");t!==-1&&(i=i.substring(0,t));const s=i.indexOf("-u-");if(s===-1)return[i];{let l,f;try{l=Ly(i).resolvedOptions(),f=i}catch{const T=i.substring(0,s);l=Ly(T).resolvedOptions(),f=T}const{numberingSystem:d,calendar:v}=l;return[f,d,v]}}function rN(i,t,s){return(s||t)&&(i.includes("-u-")||(i+="-u"),s&&(i+=`-ca-${s}`),t&&(i+=`-nu-${t}`)),i}function sN(i){const t=[];for(let s=1;s<=12;s++){const l=Rt.utc(2016,s,1);t.push(i(l))}return t}function nN(i){const t=[];for(let s=1;s<=7;s++){const l=Rt.utc(2016,11,13+s);t.push(i(l))}return t}function Cc(i,t,s,l,f){const d=i.listingMode(s);return d==="error"?null:d==="en"?l(t):f(t)}function oN(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem==="latn"}class aN{constructor(t,s,l){this.padTo=l.padTo||0,this.floor=l.floor||!1;const{padTo:f,floor:d,...v}=l;if(!s||Object.keys(v).length>0){const w={useGrouping:!1,...l};l.padTo>0&&(w.minimumIntegerDigits=l.padTo),this.inf=QO(t,w)}}format(t){if(this.inf){const s=this.floor?Math.floor(t):t;return this.inf.format(s)}else{const s=this.floor?Math.floor(t):jm(t,3);return je(s,this.padTo)}}}class lN{constructor(t,s,l){this.opts=l,this.originalZone=void 0;let f;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const v=-1*(t.offset/60),w=v>=0?`Etc/GMT+${v}`:`Etc/GMT${v}`;t.offset!==0&&Ds.create(w).valid?(f=w,this.dt=t):(f="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,f=t.zone.name):(f="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const d={...this.opts};d.timeZone=d.timeZone||f,this.dtf=Ly(s,d)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(s=>{if(s.type==="timeZoneName"){const l=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...s,value:l}}else return s}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class hN{constructor(t,s,l){this.opts={style:"long",...l},!s&&A_()&&(this.rtf=tN(t,l))}format(t,s){return this.rtf?this.rtf.format(t,s):MN(s,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,s){return this.rtf?this.rtf.formatToParts(t,s):[]}}class ve{static fromOpts(t){return ve.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,s,l,f=!1){const d=t||De.defaultLocale,v=d||(f?"en-US":eN()),w=s||De.defaultNumberingSystem,T=l||De.defaultOutputCalendar;return new ve(v,w,T,d)}static resetCache(){dh=null,Ny={},Ry={},Dy={}}static fromObject({locale:t,numberingSystem:s,outputCalendar:l}={}){return ve.create(t,s,l)}constructor(t,s,l,f){const[d,v,w]=iN(t);this.locale=d,this.numberingSystem=s||v||null,this.outputCalendar=l||w||null,this.intl=rN(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=f,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=oN(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),s=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&s?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:ve.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,s=!1,l=!0){return Cc(this,t,l,O_,()=>{const f=s?{month:t,day:"numeric"}:{month:t},d=s?"format":"standalone";return this.monthsCache[d][t]||(this.monthsCache[d][t]=sN(v=>this.extract(v,f,"month"))),this.monthsCache[d][t]})}weekdays(t,s=!1,l=!0){return Cc(this,t,l,R_,()=>{const f=s?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},d=s?"format":"standalone";return this.weekdaysCache[d][t]||(this.weekdaysCache[d][t]=nN(v=>this.extract(v,f,"weekday"))),this.weekdaysCache[d][t]})}meridiems(t=!0){return Cc(this,void 0,t,()=>D_,()=>{if(!this.meridiemCache){const s={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Rt.utc(2016,11,13,9),Rt.utc(2016,11,13,19)].map(l=>this.extract(l,s,"dayperiod"))}return this.meridiemCache})}eras(t,s=!0){return Cc(this,t,s,j_,()=>{const l={era:t};return this.eraCache[t]||(this.eraCache[t]=[Rt.utc(-40,1,1),Rt.utc(2017,1,1)].map(f=>this.extract(f,l,"era"))),this.eraCache[t]})}extract(t,s,l){const f=this.dtFormatter(t,s),d=f.formatToParts(),v=d.find(w=>w.type.toLowerCase()===l);return v?v.value:null}numberFormatter(t={}){return new aN(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,s={}){return new lN(t,this.intl,s)}relFormatter(t={}){return new hN(this.intl,this.isEnglish(),t)}listFormatter(t={}){return XO(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let np=null;class hi extends Zu{static get utcInstance(){return np===null&&(np=new hi(0)),np}static instance(t){return t===0?hi.utcInstance:new hi(t)}static parseSpecifier(t){if(t){const s=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new hi(w1(s[1],s[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Oh(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Oh(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,s){return Oh(this.fixed,s)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class uN extends Zu{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function mn(i,t){if(Gt(i)||i===null)return t;if(i instanceof Zu)return i;if(cN(i)){const s=i.toLowerCase();return s==="default"?t:s==="local"||s==="system"?m1.instance:s==="utc"||s==="gmt"?hi.utcInstance:hi.parseSpecifier(s)||Ds.create(i)}else return Mo(i)?hi.instance(i):typeof i=="object"&&i.offset&&typeof i.offset=="number"?i:new uN(i)}let uw=()=>Date.now(),cw="system",fw=null,pw=null,dw=null,yw=60,mw;class De{static get now(){return uw}static set now(t){uw=t}static set defaultZone(t){cw=t}static get defaultZone(){return mn(cw,m1.instance)}static get defaultLocale(){return fw}static set defaultLocale(t){fw=t}static get defaultNumberingSystem(){return pw}static set defaultNumberingSystem(t){pw=t}static get defaultOutputCalendar(){return dw}static set defaultOutputCalendar(t){dw=t}static get twoDigitCutoffYear(){return yw}static set twoDigitCutoffYear(t){yw=t%100}static get throwOnInvalid(){return mw}static set throwOnInvalid(t){mw=t}static resetCaches(){ve.resetCache(),Ds.resetCache()}}function Gt(i){return typeof i>"u"}function Mo(i){return typeof i=="number"}function v1(i){return typeof i=="number"&&i%1===0}function cN(i){return typeof i=="string"}function fN(i){return Object.prototype.toString.call(i)==="[object Date]"}function A_(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function pN(i){return Array.isArray(i)?i:[i]}function vw(i,t,s){if(i.length!==0)return i.reduce((l,f)=>{const d=[t(f),f];return l&&s(l[0],d[0])===l[0]?l:d},null)[1]}function dN(i,t){return t.reduce((s,l)=>(s[l]=i[l],s),{})}function vl(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function ws(i,t,s){return v1(i)&&i>=t&&i<=s}function yN(i,t){return i-t*Math.floor(i/t)}function je(i,t=2){const s=i<0;let l;return s?l="-"+(""+-i).padStart(t,"0"):l=(""+i).padStart(t,"0"),l}function dn(i){if(!(Gt(i)||i===null||i===""))return parseInt(i,10)}function no(i){if(!(Gt(i)||i===null||i===""))return parseFloat(i)}function Dm(i){if(!(Gt(i)||i===null||i==="")){const t=parseFloat("0."+i)*1e3;return Math.floor(t)}}function jm(i,t,s=!1){const l=10**t;return(s?Math.trunc:Math.round)(i*l)/l}function Xu(i){return i%4===0&&(i%100!==0||i%400===0)}function Ch(i){return Xu(i)?366:365}function gf(i,t){const s=yN(t-1,12)+1,l=i+(t-s)/12;return s===2?Xu(l)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][s-1]}function km(i){let t=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(t=new Date(t),t.setUTCFullYear(i.year,i.month-1,i.day)),+t}function _f(i){const t=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7,s=i-1,l=(s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400))%7;return t===4||l===3?53:52}function jy(i){return i>99?i:i>De.twoDigitCutoffYear?1900+i:2e3+i}function P_(i,t,s,l=null){const f=new Date(i),d={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};l&&(d.timeZone=l);const v={timeZoneName:t,...d},w=new Intl.DateTimeFormat(s,v).formatToParts(f).find(T=>T.type.toLowerCase()==="timezonename");return w?w.value:null}function w1(i,t){let s=parseInt(i,10);Number.isNaN(s)&&(s=0);const l=parseInt(t,10)||0,f=s<0||Object.is(s,-0)?-l:l;return s*60+f}function I_(i){const t=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(t))throw new Bi(`Invalid unit value ${i}`);return t}function Sf(i,t){const s={};for(const l in i)if(vl(i,l)){const f=i[l];if(f==null)continue;s[t(l)]=I_(f)}return s}function Oh(i,t){const s=Math.trunc(Math.abs(i/60)),l=Math.trunc(Math.abs(i%60)),f=i>=0?"+":"-";switch(t){case"short":return`${f}${je(s,2)}:${je(l,2)}`;case"narrow":return`${f}${s}${l>0?`:${l}`:""}`;case"techie":return`${f}${je(s,2)}${je(l,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function g1(i){return dN(i,["hour","minute","second","millisecond"])}const mN=["January","February","March","April","May","June","July","August","September","October","November","December"],C_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vN=["J","F","M","A","M","J","J","A","S","O","N","D"];function O_(i){switch(i){case"narrow":return[...vN];case"short":return[...C_];case"long":return[...mN];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const N_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],L_=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],wN=["M","T","W","T","F","S","S"];function R_(i){switch(i){case"narrow":return[...wN];case"short":return[...L_];case"long":return[...N_];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const D_=["AM","PM"],gN=["Before Christ","Anno Domini"],_N=["BC","AD"],SN=["B","A"];function j_(i){switch(i){case"narrow":return[...SN];case"short":return[..._N];case"long":return[...gN];default:return null}}function bN(i){return D_[i.hour<12?0:1]}function TN(i,t){return R_(t)[i.weekday-1]}function EN(i,t){return O_(t)[i.month-1]}function xN(i,t){return j_(t)[i.year<0?0:1]}function MN(i,t,s="always",l=!1){const f={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},d=["hours","minutes","seconds"].indexOf(i)===-1;if(s==="auto"&&d){const N=i==="days";switch(t){case 1:return N?"tomorrow":`next ${f[i][0]}`;case-1:return N?"yesterday":`last ${f[i][0]}`;case 0:return N?"today":`this ${f[i][0]}`}}const v=Object.is(t,-0)||t<0,w=Math.abs(t),T=w===1,M=f[i],I=l?T?M[1]:M[2]||M[1]:T?f[i][0]:i;return v?`${w} ${I} ago`:`in ${w} ${I}`}function ww(i,t){let s="";for(const l of i)l.literal?s+=l.val:s+=t(l.val);return s}const AN={D:wf,DD:l_,DDD:h_,DDDD:u_,t:c_,tt:f_,ttt:p_,tttt:d_,T:y_,TT:m_,TTT:v_,TTTT:w_,f:g_,ff:S_,fff:T_,ffff:x_,F:__,FF:b_,FFF:E_,FFFF:M_};class li{static create(t,s={}){return new li(t,s)}static parseFormat(t){let s=null,l="",f=!1;const d=[];for(let v=0;v<t.length;v++){const w=t.charAt(v);w==="'"?(l.length>0&&d.push({literal:f||/^\s+$/.test(l),val:l}),s=null,l="",f=!f):f||w===s?l+=w:(l.length>0&&d.push({literal:/^\s+$/.test(l),val:l}),l=w,s=w)}return l.length>0&&d.push({literal:f||/^\s+$/.test(l),val:l}),d}static macroTokenToFormatOpts(t){return AN[t]}constructor(t,s){this.opts=s,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,s){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...s}).format()}formatDateTime(t,s={}){return this.loc.dtFormatter(t,{...this.opts,...s}).format()}formatDateTimeParts(t,s={}){return this.loc.dtFormatter(t,{...this.opts,...s}).formatToParts()}formatInterval(t,s={}){return this.loc.dtFormatter(t.start,{...this.opts,...s}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,s={}){return this.loc.dtFormatter(t,{...this.opts,...s}).resolvedOptions()}num(t,s=0){if(this.opts.forceSimple)return je(t,s);const l={...this.opts};return s>0&&(l.padTo=s),this.loc.numberFormatter(l).format(t)}formatDateTimeFromString(t,s){const l=this.loc.listingMode()==="en",f=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",d=(F,V)=>this.loc.extract(t,F,V),v=F=>t.isOffsetFixed&&t.offset===0&&F.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,F.format):"",w=()=>l?bN(t):d({hour:"numeric",hourCycle:"h12"},"dayperiod"),T=(F,V)=>l?EN(t,F):d(V?{month:F}:{month:F,day:"numeric"},"month"),M=(F,V)=>l?TN(t,F):d(V?{weekday:F}:{weekday:F,month:"long",day:"numeric"},"weekday"),I=F=>{const V=li.macroTokenToFormatOpts(F);return V?this.formatWithSystemDefault(t,V):F},N=F=>l?xN(t,F):d({era:F},"era"),R=F=>{switch(F){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return v({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return v({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return v({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return w();case"d":return f?d({day:"numeric"},"day"):this.num(t.day);case"dd":return f?d({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return M("short",!0);case"cccc":return M("long",!0);case"ccccc":return M("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return M("short",!1);case"EEEE":return M("long",!1);case"EEEEE":return M("narrow",!1);case"L":return f?d({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return f?d({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return T("short",!0);case"LLLL":return T("long",!0);case"LLLLL":return T("narrow",!0);case"M":return f?d({month:"numeric"},"month"):this.num(t.month);case"MM":return f?d({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return T("short",!1);case"MMMM":return T("long",!1);case"MMMMM":return T("narrow",!1);case"y":return f?d({year:"numeric"},"year"):this.num(t.year);case"yy":return f?d({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return f?d({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return f?d({year:"numeric"},"year"):this.num(t.year,6);case"G":return N("short");case"GG":return N("long");case"GGGGG":return N("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return I(F)}};return ww(li.parseFormat(s),R)}formatDurationFromString(t,s){const l=T=>{switch(T[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},f=T=>M=>{const I=l(M);return I?this.num(T.get(I),M.length):M},d=li.parseFormat(s),v=d.reduce((T,{literal:M,val:I})=>M?T:T.concat(I),[]),w=t.shiftTo(...v.map(l).filter(T=>T));return ww(d,f(w))}}class vr{constructor(t,s){this.reason=t,this.explanation=s}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const k_=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function jl(...i){const t=i.reduce((s,l)=>s+l.source,"");return RegExp(`^${t}$`)}function kl(...i){return t=>i.reduce(([s,l,f],d)=>{const[v,w,T]=d(t,f);return[{...s,...v},w||l,T]},[{},null,1]).slice(0,2)}function Fl(i,...t){if(i==null)return[null,null];for(const[s,l]of t){const f=s.exec(i);if(f)return l(f)}return[null,null]}function F_(...i){return(t,s)=>{const l={};let f;for(f=0;f<i.length;f++)l[i[f]]=dn(t[s+f]);return[l,null,s+f]}}const z_=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,PN=`(?:${z_.source}?(?:\\[(${k_.source})\\])?)?`,Fm=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,U_=RegExp(`${Fm.source}${PN}`),zm=RegExp(`(?:T${U_.source})?`),IN=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,CN=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ON=/(\d{4})-?(\d{3})/,NN=F_("weekYear","weekNumber","weekDay"),LN=F_("year","ordinal"),RN=/(\d{4})-(\d\d)-(\d\d)/,$_=RegExp(`${Fm.source} ?(?:${z_.source}|(${k_.source}))?`),DN=RegExp(`(?: ${$_.source})?`);function Za(i,t,s){const l=i[t];return Gt(l)?s:dn(l)}function jN(i,t){return[{year:Za(i,t),month:Za(i,t+1,1),day:Za(i,t+2,1)},null,t+3]}function zl(i,t){return[{hours:Za(i,t,0),minutes:Za(i,t+1,0),seconds:Za(i,t+2,0),milliseconds:Dm(i[t+3])},null,t+4]}function Qu(i,t){const s=!i[t]&&!i[t+1],l=w1(i[t+1],i[t+2]),f=s?null:hi.instance(l);return[{},f,t+3]}function tc(i,t){const s=i[t]?Ds.create(i[t]):null;return[{},s,t+1]}const kN=RegExp(`^T?${Fm.source}$`),FN=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function zN(i){const[t,s,l,f,d,v,w,T,M]=i,I=t[0]==="-",N=T&&T[0]==="-",R=(F,V=!1)=>F!==void 0&&(V||F&&I)?-F:F;return[{years:R(no(s)),months:R(no(l)),weeks:R(no(f)),days:R(no(d)),hours:R(no(v)),minutes:R(no(w)),seconds:R(no(T),T==="-0"),milliseconds:R(Dm(M),N)}]}const UN={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Um(i,t,s,l,f,d,v){const w={year:t.length===2?jy(dn(t)):dn(t),month:C_.indexOf(s)+1,day:dn(l),hour:dn(f),minute:dn(d)};return v&&(w.second=dn(v)),i&&(w.weekday=i.length>3?N_.indexOf(i)+1:L_.indexOf(i)+1),w}const $N=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function GN(i){const[,t,s,l,f,d,v,w,T,M,I,N]=i,R=Um(t,f,l,s,d,v,w);let F;return T?F=UN[T]:M?F=0:F=w1(I,N),[R,new hi(F)]}function VN(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const BN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,HN=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,WN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function gw(i){const[,t,s,l,f,d,v,w]=i;return[Um(t,f,l,s,d,v,w),hi.utcInstance]}function JN(i){const[,t,s,l,f,d,v,w]=i;return[Um(t,w,s,l,f,d,v),hi.utcInstance]}const KN=jl(IN,zm),YN=jl(CN,zm),qN=jl(ON,zm),ZN=jl(U_),G_=kl(jN,zl,Qu,tc),XN=kl(NN,zl,Qu,tc),QN=kl(LN,zl,Qu,tc),tL=kl(zl,Qu,tc);function eL(i){return Fl(i,[KN,G_],[YN,XN],[qN,QN],[ZN,tL])}function iL(i){return Fl(VN(i),[$N,GN])}function rL(i){return Fl(i,[BN,gw],[HN,gw],[WN,JN])}function sL(i){return Fl(i,[FN,zN])}const nL=kl(zl);function oL(i){return Fl(i,[kN,nL])}const aL=jl(RN,DN),lL=jl($_),hL=kl(zl,Qu,tc);function uL(i){return Fl(i,[aL,G_],[lL,hL])}const cL="Invalid Duration",V_={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},fL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...V_},zi=146097/400,xa=146097/4800,pL={years:{quarters:4,months:12,weeks:zi/7,days:zi,hours:zi*24,minutes:zi*24*60,seconds:zi*24*60*60,milliseconds:zi*24*60*60*1e3},quarters:{months:3,weeks:zi/28,days:zi/4,hours:zi*24/4,minutes:zi*24*60/4,seconds:zi*24*60*60/4,milliseconds:zi*24*60*60*1e3/4},months:{weeks:xa/7,days:xa,hours:xa*24,minutes:xa*24*60,seconds:xa*24*60*60,milliseconds:xa*24*60*60*1e3},...V_},co=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dL=co.slice(0).reverse();function rn(i,t,s=!1){const l={values:s?t.values:{...i.values,...t.values||{}},loc:i.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||i.conversionAccuracy,matrix:t.matrix||i.matrix};return new Ht(l)}function yL(i){return i<0?Math.floor(i):Math.ceil(i)}function B_(i,t,s,l,f){const d=i[f][s],v=t[s]/d,w=Math.sign(v)===Math.sign(l[f]),T=!w&&l[f]!==0&&Math.abs(v)<=1?yL(v):Math.trunc(v);l[f]+=T,t[s]-=T*d}function mL(i,t){dL.reduce((s,l)=>Gt(t[l])?s:(s&&B_(i,t,s,t,l),l),null)}function vL(i){const t={};for(const[s,l]of Object.entries(i))l!==0&&(t[s]=l);return t}class Ht{constructor(t){const s=t.conversionAccuracy==="longterm"||!1;let l=s?pL:fL;t.matrix&&(l=t.matrix),this.values=t.values,this.loc=t.loc||ve.create(),this.conversionAccuracy=s?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=l,this.isLuxonDuration=!0}static fromMillis(t,s){return Ht.fromObject({milliseconds:t},s)}static fromObject(t,s={}){if(t==null||typeof t!="object")throw new Bi(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Ht({values:Sf(t,Ht.normalizeUnit),loc:ve.fromObject(s),conversionAccuracy:s.conversionAccuracy,matrix:s.matrix})}static fromDurationLike(t){if(Mo(t))return Ht.fromMillis(t);if(Ht.isDuration(t))return t;if(typeof t=="object")return Ht.fromObject(t);throw new Bi(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,s){const[l]=sL(t);return l?Ht.fromObject(l,s):Ht.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,s){const[l]=oL(t);return l?Ht.fromObject(l,s):Ht.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,s=null){if(!t)throw new Bi("need to specify a reason the Duration is invalid");const l=t instanceof vr?t:new vr(t,s);if(De.throwOnInvalid)throw new HO(l);return new Ht({invalid:l})}static normalizeUnit(t){const s={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!s)throw new a_(t);return s}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,s={}){const l={...s,floor:s.round!==!1&&s.floor!==!1};return this.isValid?li.create(this.loc,l).formatDurationFromString(this,t):cL}toHuman(t={}){const s=co.map(l=>{const f=this.values[l];return Gt(f)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:l.slice(0,-1)}).format(f)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=jm(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const s=this.toMillis();if(s<0||s>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const l=this.shiftTo("hours","minutes","seconds","milliseconds");let f=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||l.seconds!==0||l.milliseconds!==0)&&(f+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||l.milliseconds!==0)&&(f+=".SSS"));let d=l.toFormat(f);return t.includePrefix&&(d="T"+d),d}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const s=Ht.fromDurationLike(t),l={};for(const f of co)(vl(s.values,f)||vl(this.values,f))&&(l[f]=s.get(f)+this.get(f));return rn(this,{values:l},!0)}minus(t){if(!this.isValid)return this;const s=Ht.fromDurationLike(t);return this.plus(s.negate())}mapUnits(t){if(!this.isValid)return this;const s={};for(const l of Object.keys(this.values))s[l]=I_(t(this.values[l],l));return rn(this,{values:s},!0)}get(t){return this[Ht.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const s={...this.values,...Sf(t,Ht.normalizeUnit)};return rn(this,{values:s})}reconfigure({locale:t,numberingSystem:s,conversionAccuracy:l,matrix:f}={}){const v={loc:this.loc.clone({locale:t,numberingSystem:s}),matrix:f,conversionAccuracy:l};return rn(this,v)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return mL(this.matrix,t),rn(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=vL(this.normalize().shiftToAll().toObject());return rn(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(v=>Ht.normalizeUnit(v));const s={},l={},f=this.toObject();let d;for(const v of co)if(t.indexOf(v)>=0){d=v;let w=0;for(const M in l)w+=this.matrix[M][v]*l[M],l[M]=0;Mo(f[v])&&(w+=f[v]);const T=Math.trunc(w);s[v]=T,l[v]=(w*1e3-T*1e3)/1e3;for(const M in f)co.indexOf(M)>co.indexOf(v)&&B_(this.matrix,f,M,s,v)}else Mo(f[v])&&(l[v]=f[v]);for(const v in l)l[v]!==0&&(s[d]+=v===d?l[v]:l[v]/this.matrix[d][v]);return rn(this,{values:s},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const s of Object.keys(this.values))t[s]=this.values[s]===0?0:-this.values[s];return rn(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function s(l,f){return l===void 0||l===0?f===void 0||f===0:l===f}for(const l of co)if(!s(this.values[l],t.values[l]))return!1;return!0}}const Ma="Invalid Interval";function wL(i,t){return!i||!i.isValid?Pe.invalid("missing or invalid start"):!t||!t.isValid?Pe.invalid("missing or invalid end"):t<i?Pe.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${t.toISO()}`):null}class Pe{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,s=null){if(!t)throw new Bi("need to specify a reason the Interval is invalid");const l=t instanceof vr?t:new vr(t,s);if(De.throwOnInvalid)throw new BO(l);return new Pe({invalid:l})}static fromDateTimes(t,s){const l=ih(t),f=ih(s),d=wL(l,f);return d??new Pe({start:l,end:f})}static after(t,s){const l=Ht.fromDurationLike(s),f=ih(t);return Pe.fromDateTimes(f,f.plus(l))}static before(t,s){const l=Ht.fromDurationLike(s),f=ih(t);return Pe.fromDateTimes(f.minus(l),f)}static fromISO(t,s){const[l,f]=(t||"").split("/",2);if(l&&f){let d,v;try{d=Rt.fromISO(l,s),v=d.isValid}catch{v=!1}let w,T;try{w=Rt.fromISO(f,s),T=w.isValid}catch{T=!1}if(v&&T)return Pe.fromDateTimes(d,w);if(v){const M=Ht.fromISO(f,s);if(M.isValid)return Pe.after(d,M)}else if(T){const M=Ht.fromISO(l,s);if(M.isValid)return Pe.before(w,M)}}return Pe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const s=this.start.startOf(t),l=this.end.startOf(t);return Math.floor(l.diff(s,t).get(t))+(l.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:s}={}){return this.isValid?Pe.fromDateTimes(t||this.s,s||this.e):this}splitAt(...t){if(!this.isValid)return[];const s=t.map(ih).filter(v=>this.contains(v)).sort(),l=[];let{s:f}=this,d=0;for(;f<this.e;){const v=s[d]||this.e,w=+v>+this.e?this.e:v;l.push(Pe.fromDateTimes(f,w)),f=w,d+=1}return l}splitBy(t){const s=Ht.fromDurationLike(t);if(!this.isValid||!s.isValid||s.as("milliseconds")===0)return[];let{s:l}=this,f=1,d;const v=[];for(;l<this.e;){const w=this.start.plus(s.mapUnits(T=>T*f));d=+w>+this.e?this.e:w,v.push(Pe.fromDateTimes(l,d)),l=d,f+=1}return v}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const s=this.s>t.s?this.s:t.s,l=this.e<t.e?this.e:t.e;return s>=l?null:Pe.fromDateTimes(s,l)}union(t){if(!this.isValid)return this;const s=this.s<t.s?this.s:t.s,l=this.e>t.e?this.e:t.e;return Pe.fromDateTimes(s,l)}static merge(t){const[s,l]=t.sort((f,d)=>f.s-d.s).reduce(([f,d],v)=>d?d.overlaps(v)||d.abutsStart(v)?[f,d.union(v)]:[f.concat([d]),v]:[f,v],[[],null]);return l&&s.push(l),s}static xor(t){let s=null,l=0;const f=[],d=t.map(T=>[{time:T.s,type:"s"},{time:T.e,type:"e"}]),v=Array.prototype.concat(...d),w=v.sort((T,M)=>T.time-M.time);for(const T of w)l+=T.type==="s"?1:-1,l===1?s=T.time:(s&&+s!=+T.time&&f.push(Pe.fromDateTimes(s,T.time)),s=null);return Pe.merge(f)}difference(...t){return Pe.xor([this].concat(t)).map(s=>this.intersection(s)).filter(s=>s&&!s.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Ma}toLocaleString(t=wf,s={}){return this.isValid?li.create(this.s.loc.clone(s),t).formatInterval(this):Ma}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Ma}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ma}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Ma}toFormat(t,{separator:s=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${s}${this.e.toFormat(t)}`:Ma}toDuration(t,s){return this.isValid?this.e.diff(this.s,t,s):Ht.invalid(this.invalidReason)}mapEndpoints(t){return Pe.fromDateTimes(t(this.s),t(this.e))}}class Oc{static hasDST(t=De.defaultZone){const s=Rt.now().setZone(t).set({month:12});return!t.isUniversal&&s.offset!==s.set({month:6}).offset}static isValidIANAZone(t){return Ds.isValidZone(t)}static normalizeZone(t){return mn(t,De.defaultZone)}static months(t="long",{locale:s=null,numberingSystem:l=null,locObj:f=null,outputCalendar:d="gregory"}={}){return(f||ve.create(s,l,d)).months(t)}static monthsFormat(t="long",{locale:s=null,numberingSystem:l=null,locObj:f=null,outputCalendar:d="gregory"}={}){return(f||ve.create(s,l,d)).months(t,!0)}static weekdays(t="long",{locale:s=null,numberingSystem:l=null,locObj:f=null}={}){return(f||ve.create(s,l,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:s=null,numberingSystem:l=null,locObj:f=null}={}){return(f||ve.create(s,l,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ve.create(t).meridiems()}static eras(t="short",{locale:s=null}={}){return ve.create(s,null,"gregory").eras(t)}static features(){return{relative:A_()}}}function _w(i,t){const s=f=>f.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),l=s(t)-s(i);return Math.floor(Ht.fromMillis(l).as("days"))}function gL(i,t,s){const l=[["years",(T,M)=>M.year-T.year],["quarters",(T,M)=>M.quarter-T.quarter+(M.year-T.year)*4],["months",(T,M)=>M.month-T.month+(M.year-T.year)*12],["weeks",(T,M)=>{const I=_w(T,M);return(I-I%7)/7}],["days",_w]],f={},d=i;let v,w;for(const[T,M]of l)s.indexOf(T)>=0&&(v=T,f[T]=M(i,t),w=d.plus(f),w>t?(f[T]--,i=d.plus(f)):i=w);return[i,f,w,v]}function _L(i,t,s,l){let[f,d,v,w]=gL(i,t,s);const T=t-f,M=s.filter(N=>["hours","minutes","seconds","milliseconds"].indexOf(N)>=0);M.length===0&&(v<t&&(v=f.plus({[w]:1})),v!==f&&(d[w]=(d[w]||0)+T/(v-f)));const I=Ht.fromObject(d,l);return M.length>0?Ht.fromMillis(T,l).shiftTo(...M).plus(I):I}const $m={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Sw={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},SL=$m.hanidec.replace(/[\[|\]]/g,"").split("");function bL(i){let t=parseInt(i,10);if(isNaN(t)){t="";for(let s=0;s<i.length;s++){const l=i.charCodeAt(s);if(i[s].search($m.hanidec)!==-1)t+=SL.indexOf(i[s]);else for(const f in Sw){const[d,v]=Sw[f];l>=d&&l<=v&&(t+=l-d)}}return parseInt(t,10)}else return t}function ar({numberingSystem:i},t=""){return new RegExp(`${$m[i||"latn"]}${t}`)}const TL="missing Intl.DateTimeFormat.formatToParts support";function ie(i,t=s=>s){return{regex:i,deser:([s])=>t(bL(s))}}const EL=String.fromCharCode(160),H_=`[ ${EL}]`,W_=new RegExp(H_,"g");function xL(i){return i.replace(/\./g,"\\.?").replace(W_,H_)}function bw(i){return i.replace(/\./g,"").replace(W_," ").toLowerCase()}function lr(i,t){return i===null?null:{regex:RegExp(i.map(xL).join("|")),deser:([s])=>i.findIndex(l=>bw(s)===bw(l))+t}}function Tw(i,t){return{regex:i,deser:([,s,l])=>w1(s,l),groups:t}}function Nc(i){return{regex:i,deser:([t])=>t}}function ML(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function AL(i,t){const s=ar(t),l=ar(t,"{2}"),f=ar(t,"{3}"),d=ar(t,"{4}"),v=ar(t,"{6}"),w=ar(t,"{1,2}"),T=ar(t,"{1,3}"),M=ar(t,"{1,6}"),I=ar(t,"{1,9}"),N=ar(t,"{2,4}"),R=ar(t,"{4,6}"),F=H=>({regex:RegExp(ML(H.val)),deser:([Y])=>Y,literal:!0}),W=(H=>{if(i.literal)return F(H);switch(H.val){case"G":return lr(t.eras("short",!1),0);case"GG":return lr(t.eras("long",!1),0);case"y":return ie(M);case"yy":return ie(N,jy);case"yyyy":return ie(d);case"yyyyy":return ie(R);case"yyyyyy":return ie(v);case"M":return ie(w);case"MM":return ie(l);case"MMM":return lr(t.months("short",!0,!1),1);case"MMMM":return lr(t.months("long",!0,!1),1);case"L":return ie(w);case"LL":return ie(l);case"LLL":return lr(t.months("short",!1,!1),1);case"LLLL":return lr(t.months("long",!1,!1),1);case"d":return ie(w);case"dd":return ie(l);case"o":return ie(T);case"ooo":return ie(f);case"HH":return ie(l);case"H":return ie(w);case"hh":return ie(l);case"h":return ie(w);case"mm":return ie(l);case"m":return ie(w);case"q":return ie(w);case"qq":return ie(l);case"s":return ie(w);case"ss":return ie(l);case"S":return ie(T);case"SSS":return ie(f);case"u":return Nc(I);case"uu":return Nc(w);case"uuu":return ie(s);case"a":return lr(t.meridiems(),0);case"kkkk":return ie(d);case"kk":return ie(N,jy);case"W":return ie(w);case"WW":return ie(l);case"E":case"c":return ie(s);case"EEE":return lr(t.weekdays("short",!1,!1),1);case"EEEE":return lr(t.weekdays("long",!1,!1),1);case"ccc":return lr(t.weekdays("short",!0,!1),1);case"cccc":return lr(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Tw(new RegExp(`([+-]${w.source})(?::(${l.source}))?`),2);case"ZZZ":return Tw(new RegExp(`([+-]${w.source})(${l.source})?`),2);case"z":return Nc(/[a-z_+-/]{1,256}?/i);case" ":return Nc(/[^\S\n\r]/);default:return F(H)}})(i)||{invalidReason:TL};return W.token=i,W}const PL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function IL(i,t){const{type:s,value:l}=i;if(s==="literal"){const v=/^\s+$/.test(l);return{literal:!v,val:v?" ":l}}const f=t[s];let d=PL[s];if(typeof d=="object"&&(d=d[f]),d)return{literal:!1,val:d}}function CL(i){return[`^${i.map(s=>s.regex).reduce((s,l)=>`${s}(${l.source})`,"")}$`,i]}function OL(i,t,s){const l=i.match(t);if(l){const f={};let d=1;for(const v in s)if(vl(s,v)){const w=s[v],T=w.groups?w.groups+1:1;!w.literal&&w.token&&(f[w.token.val[0]]=w.deser(l.slice(d,d+T))),d+=T}return[l,f]}else return[l,{}]}function NL(i){const t=d=>{switch(d){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let s=null,l;return Gt(i.z)||(s=Ds.create(i.z)),Gt(i.Z)||(s||(s=new hi(i.Z)),l=i.Z),Gt(i.q)||(i.M=(i.q-1)*3+1),Gt(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),Gt(i.u)||(i.S=Dm(i.u)),[Object.keys(i).reduce((d,v)=>{const w=t(v);return w&&(d[w]=i[v]),d},{}),s,l]}let op=null;function LL(){return op||(op=Rt.fromMillis(1555555555555)),op}function RL(i,t){if(i.literal)return i;const s=li.macroTokenToFormatOpts(i.val),l=Y_(s,t);return l==null||l.includes(void 0)?i:l}function J_(i,t){return Array.prototype.concat(...i.map(s=>RL(s,t)))}function K_(i,t,s){const l=J_(li.parseFormat(s),i),f=l.map(v=>AL(v,i)),d=f.find(v=>v.invalidReason);if(d)return{input:t,tokens:l,invalidReason:d.invalidReason};{const[v,w]=CL(f),T=RegExp(v,"i"),[M,I]=OL(t,T,w),[N,R,F]=I?NL(I):[null,null,void 0];if(vl(I,"a")&&vl(I,"H"))throw new ph("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:l,regex:T,rawMatches:M,matches:I,result:N,zone:R,specificOffset:F}}}function DL(i,t,s){const{result:l,zone:f,specificOffset:d,invalidReason:v}=K_(i,t,s);return[l,f,d,v]}function Y_(i,t){return i?li.create(t,i).formatDateTimeParts(LL()).map(f=>IL(f,i)):null}const q_=[0,31,59,90,120,151,181,212,243,273,304,334],Z_=[0,31,60,91,121,152,182,213,244,274,305,335];function Wi(i,t){return new vr("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${i}, which is invalid`)}function X_(i,t,s){const l=new Date(Date.UTC(i,t-1,s));i<100&&i>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const f=l.getUTCDay();return f===0?7:f}function Q_(i,t,s){return s+(Xu(i)?Z_:q_)[t-1]}function t7(i,t){const s=Xu(i)?Z_:q_,l=s.findIndex(d=>d<t),f=t-s[l];return{month:l+1,day:f}}function ky(i){const{year:t,month:s,day:l}=i,f=Q_(t,s,l),d=X_(t,s,l);let v=Math.floor((f-d+10)/7),w;return v<1?(w=t-1,v=_f(w)):v>_f(t)?(w=t+1,v=1):w=t,{weekYear:w,weekNumber:v,weekday:d,...g1(i)}}function Ew(i){const{weekYear:t,weekNumber:s,weekday:l}=i,f=X_(t,1,4),d=Ch(t);let v=s*7+l-f-3,w;v<1?(w=t-1,v+=Ch(w)):v>d?(w=t+1,v-=Ch(t)):w=t;const{month:T,day:M}=t7(w,v);return{year:w,month:T,day:M,...g1(i)}}function ap(i){const{year:t,month:s,day:l}=i,f=Q_(t,s,l);return{year:t,ordinal:f,...g1(i)}}function xw(i){const{year:t,ordinal:s}=i,{month:l,day:f}=t7(t,s);return{year:t,month:l,day:f,...g1(i)}}function jL(i){const t=v1(i.weekYear),s=ws(i.weekNumber,1,_f(i.weekYear)),l=ws(i.weekday,1,7);return t?s?l?!1:Wi("weekday",i.weekday):Wi("week",i.week):Wi("weekYear",i.weekYear)}function kL(i){const t=v1(i.year),s=ws(i.ordinal,1,Ch(i.year));return t?s?!1:Wi("ordinal",i.ordinal):Wi("year",i.year)}function e7(i){const t=v1(i.year),s=ws(i.month,1,12),l=ws(i.day,1,gf(i.year,i.month));return t?s?l?!1:Wi("day",i.day):Wi("month",i.month):Wi("year",i.year)}function i7(i){const{hour:t,minute:s,second:l,millisecond:f}=i,d=ws(t,0,23)||t===24&&s===0&&l===0&&f===0,v=ws(s,0,59),w=ws(l,0,59),T=ws(f,0,999);return d?v?w?T?!1:Wi("millisecond",f):Wi("second",l):Wi("minute",s):Wi("hour",t)}const lp="Invalid DateTime",Mw=864e13;function Lc(i){return new vr("unsupported zone",`the zone "${i.name}" is not supported`)}function hp(i){return i.weekData===null&&(i.weekData=ky(i.c)),i.weekData}function th(i,t){const s={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Rt({...s,...t,old:s})}function r7(i,t,s){let l=i-t*60*1e3;const f=s.offset(l);if(t===f)return[l,t];l-=(f-t)*60*1e3;const d=s.offset(l);return f===d?[l,f]:[i-Math.min(f,d)*60*1e3,Math.max(f,d)]}function Aw(i,t){i+=t*60*1e3;const s=new Date(i);return{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}function u0(i,t,s){return r7(km(i),t,s)}function Pw(i,t){const s=i.o,l=i.c.year+Math.trunc(t.years),f=i.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,d={...i.c,year:l,month:f,day:Math.min(i.c.day,gf(l,f))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},v=Ht.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),w=km(d);let[T,M]=r7(w,s,i.zone);return v!==0&&(T+=v,M=i.zone.offset(T)),{ts:T,o:M}}function eh(i,t,s,l,f,d){const{setZone:v,zone:w}=s;if(i&&Object.keys(i).length!==0||t){const T=t||w,M=Rt.fromObject(i,{...s,zone:T,specificOffset:d});return v?M:M.setZone(w)}else return Rt.invalid(new vr("unparsable",`the input "${f}" can't be parsed as ${l}`))}function Rc(i,t,s=!0){return i.isValid?li.create(ve.create("en-US"),{allowZ:s,forceSimple:!0}).formatDateTimeFromString(i,t):null}function up(i,t){const s=i.c.year>9999||i.c.year<0;let l="";return s&&i.c.year>=0&&(l+="+"),l+=je(i.c.year,s?6:4),t?(l+="-",l+=je(i.c.month),l+="-",l+=je(i.c.day)):(l+=je(i.c.month),l+=je(i.c.day)),l}function Iw(i,t,s,l,f,d){let v=je(i.c.hour);return t?(v+=":",v+=je(i.c.minute),(i.c.second!==0||!s)&&(v+=":")):v+=je(i.c.minute),(i.c.second!==0||!s)&&(v+=je(i.c.second),(i.c.millisecond!==0||!l)&&(v+=".",v+=je(i.c.millisecond,3))),f&&(i.isOffsetFixed&&i.offset===0&&!d?v+="Z":i.o<0?(v+="-",v+=je(Math.trunc(-i.o/60)),v+=":",v+=je(Math.trunc(-i.o%60))):(v+="+",v+=je(Math.trunc(i.o/60)),v+=":",v+=je(Math.trunc(i.o%60)))),d&&(v+="["+i.zone.ianaName+"]"),v}const s7={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},FL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},n7=["year","month","day","hour","minute","second","millisecond"],UL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$L=["year","ordinal","hour","minute","second","millisecond"];function Cw(i){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!t)throw new a_(i);return t}function Ow(i,t){const s=mn(t.zone,De.defaultZone),l=ve.fromObject(t),f=De.now();let d,v;if(Gt(i.year))d=f;else{for(const M of n7)Gt(i[M])&&(i[M]=s7[M]);const w=e7(i)||i7(i);if(w)return Rt.invalid(w);const T=s.offset(f);[d,v]=u0(i,T,s)}return new Rt({ts:d,zone:s,loc:l,o:v})}function Nw(i,t,s){const l=Gt(s.round)?!0:s.round,f=(v,w)=>(v=jm(v,l||s.calendary?0:2,!0),t.loc.clone(s).relFormatter(s).format(v,w)),d=v=>s.calendary?t.hasSame(i,v)?0:t.startOf(v).diff(i.startOf(v),v).get(v):t.diff(i,v).get(v);if(s.unit)return f(d(s.unit),s.unit);for(const v of s.units){const w=d(v);if(Math.abs(w)>=1)return f(w,v)}return f(i>t?-0:0,s.units[s.units.length-1])}function Lw(i){let t={},s;return i.length>0&&typeof i[i.length-1]=="object"?(t=i[i.length-1],s=Array.from(i).slice(0,i.length-1)):s=Array.from(i),[t,s]}class Rt{constructor(t){const s=t.zone||De.defaultZone;let l=t.invalid||(Number.isNaN(t.ts)?new vr("invalid input"):null)||(s.isValid?null:Lc(s));this.ts=Gt(t.ts)?De.now():t.ts;let f=null,d=null;if(!l)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(s))[f,d]=[t.old.c,t.old.o];else{const w=s.offset(this.ts);f=Aw(this.ts,w),l=Number.isNaN(f.year)?new vr("invalid input"):null,f=l?null:f,d=l?null:w}this._zone=s,this.loc=t.loc||ve.create(),this.invalid=l,this.weekData=null,this.c=f,this.o=d,this.isLuxonDateTime=!0}static now(){return new Rt({})}static local(){const[t,s]=Lw(arguments),[l,f,d,v,w,T,M]=s;return Ow({year:l,month:f,day:d,hour:v,minute:w,second:T,millisecond:M},t)}static utc(){const[t,s]=Lw(arguments),[l,f,d,v,w,T,M]=s;return t.zone=hi.utcInstance,Ow({year:l,month:f,day:d,hour:v,minute:w,second:T,millisecond:M},t)}static fromJSDate(t,s={}){const l=fN(t)?t.valueOf():NaN;if(Number.isNaN(l))return Rt.invalid("invalid input");const f=mn(s.zone,De.defaultZone);return f.isValid?new Rt({ts:l,zone:f,loc:ve.fromObject(s)}):Rt.invalid(Lc(f))}static fromMillis(t,s={}){if(Mo(t))return t<-Mw||t>Mw?Rt.invalid("Timestamp out of range"):new Rt({ts:t,zone:mn(s.zone,De.defaultZone),loc:ve.fromObject(s)});throw new Bi(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,s={}){if(Mo(t))return new Rt({ts:t*1e3,zone:mn(s.zone,De.defaultZone),loc:ve.fromObject(s)});throw new Bi("fromSeconds requires a numerical input")}static fromObject(t,s={}){t=t||{};const l=mn(s.zone,De.defaultZone);if(!l.isValid)return Rt.invalid(Lc(l));const f=De.now(),d=Gt(s.specificOffset)?l.offset(f):s.specificOffset,v=Sf(t,Cw),w=!Gt(v.ordinal),T=!Gt(v.year),M=!Gt(v.month)||!Gt(v.day),I=T||M,N=v.weekYear||v.weekNumber,R=ve.fromObject(s);if((I||w)&&N)throw new ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(M&&w)throw new ph("Can't mix ordinal dates with month/day");const F=N||v.weekday&&!I;let V,W,H=Aw(f,d);F?(V=UL,W=FL,H=ky(H)):w?(V=$L,W=zL,H=ap(H)):(V=n7,W=s7);let Y=!1;for(const wt of V){const At=v[wt];Gt(At)?Y?v[wt]=W[wt]:v[wt]=H[wt]:Y=!0}const it=F?jL(v):w?kL(v):e7(v),Q=it||i7(v);if(Q)return Rt.invalid(Q);const st=F?Ew(v):w?xw(v):v,[nt,at]=u0(st,d,l),gt=new Rt({ts:nt,zone:l,o:at,loc:R});return v.weekday&&I&&t.weekday!==gt.weekday?Rt.invalid("mismatched weekday",`you can't specify both a weekday of ${v.weekday} and a date of ${gt.toISO()}`):gt}static fromISO(t,s={}){const[l,f]=eL(t);return eh(l,f,s,"ISO 8601",t)}static fromRFC2822(t,s={}){const[l,f]=iL(t);return eh(l,f,s,"RFC 2822",t)}static fromHTTP(t,s={}){const[l,f]=rL(t);return eh(l,f,s,"HTTP",s)}static fromFormat(t,s,l={}){if(Gt(t)||Gt(s))throw new Bi("fromFormat requires an input string and a format");const{locale:f=null,numberingSystem:d=null}=l,v=ve.fromOpts({locale:f,numberingSystem:d,defaultToEN:!0}),[w,T,M,I]=DL(v,t,s);return I?Rt.invalid(I):eh(w,T,l,`format ${s}`,t,M)}static fromString(t,s,l={}){return Rt.fromFormat(t,s,l)}static fromSQL(t,s={}){const[l,f]=uL(t);return eh(l,f,s,"SQL",t)}static invalid(t,s=null){if(!t)throw new Bi("need to specify a reason the DateTime is invalid");const l=t instanceof vr?t:new vr(t,s);if(De.throwOnInvalid)throw new VO(l);return new Rt({invalid:l})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,s={}){const l=Y_(t,ve.fromObject(s));return l?l.map(f=>f?f.val:null).join(""):null}static expandFormat(t,s={}){return J_(li.parseFormat(t),ve.fromObject(s)).map(f=>f.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hp(this).weekYear:NaN}get weekNumber(){return this.isValid?hp(this).weekNumber:NaN}get weekday(){return this.isValid?hp(this).weekday:NaN}get ordinal(){return this.isValid?ap(this.c).ordinal:NaN}get monthShort(){return this.isValid?Oc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Oc.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Oc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Oc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Xu(this.year)}get daysInMonth(){return gf(this.year,this.month)}get daysInYear(){return this.isValid?Ch(this.year):NaN}get weeksInWeekYear(){return this.isValid?_f(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:s,numberingSystem:l,calendar:f}=li.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:s,numberingSystem:l,outputCalendar:f}}toUTC(t=0,s={}){return this.setZone(hi.instance(t),s)}toLocal(){return this.setZone(De.defaultZone)}setZone(t,{keepLocalTime:s=!1,keepCalendarTime:l=!1}={}){if(t=mn(t,De.defaultZone),t.equals(this.zone))return this;if(t.isValid){let f=this.ts;if(s||l){const d=t.offset(this.ts),v=this.toObject();[f]=u0(v,d,t)}return th(this,{ts:f,zone:t})}else return Rt.invalid(Lc(t))}reconfigure({locale:t,numberingSystem:s,outputCalendar:l}={}){const f=this.loc.clone({locale:t,numberingSystem:s,outputCalendar:l});return th(this,{loc:f})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const s=Sf(t,Cw),l=!Gt(s.weekYear)||!Gt(s.weekNumber)||!Gt(s.weekday),f=!Gt(s.ordinal),d=!Gt(s.year),v=!Gt(s.month)||!Gt(s.day),w=d||v,T=s.weekYear||s.weekNumber;if((w||f)&&T)throw new ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&f)throw new ph("Can't mix ordinal dates with month/day");let M;l?M=Ew({...ky(this.c),...s}):Gt(s.ordinal)?(M={...this.toObject(),...s},Gt(s.day)&&(M.day=Math.min(gf(M.year,M.month),M.day))):M=xw({...ap(this.c),...s});const[I,N]=u0(M,this.o,this.zone);return th(this,{ts:I,o:N})}plus(t){if(!this.isValid)return this;const s=Ht.fromDurationLike(t);return th(this,Pw(this,s))}minus(t){if(!this.isValid)return this;const s=Ht.fromDurationLike(t).negate();return th(this,Pw(this,s))}startOf(t){if(!this.isValid)return this;const s={},l=Ht.normalizeUnit(t);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks"&&(s.weekday=1),l==="quarters"){const f=Math.ceil(this.month/3);s.month=(f-1)*3+1}return this.set(s)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,s={}){return this.isValid?li.create(this.loc.redefaultToEN(s)).formatDateTimeFromString(this,t):lp}toLocaleString(t=wf,s={}){return this.isValid?li.create(this.loc.clone(s),t).formatDateTime(this):lp}toLocaleParts(t={}){return this.isValid?li.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:s=!1,suppressMilliseconds:l=!1,includeOffset:f=!0,extendedZone:d=!1}={}){if(!this.isValid)return null;const v=t==="extended";let w=up(this,v);return w+="T",w+=Iw(this,v,s,l,f,d),w}toISODate({format:t="extended"}={}){return this.isValid?up(this,t==="extended"):null}toISOWeekDate(){return Rc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:s=!1,includeOffset:l=!0,includePrefix:f=!1,extendedZone:d=!1,format:v="extended"}={}){return this.isValid?(f?"T":"")+Iw(this,v==="extended",s,t,l,d):null}toRFC2822(){return Rc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Rc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?up(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:s=!1,includeOffsetSpace:l=!0}={}){let f="HH:mm:ss.SSS";return(s||t)&&(l&&(f+=" "),s?f+="z":t&&(f+="ZZ")),Rc(this,f,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():lp}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const s={...this.c};return t.includeConfig&&(s.outputCalendar=this.outputCalendar,s.numberingSystem=this.loc.numberingSystem,s.locale=this.loc.locale),s}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,s="milliseconds",l={}){if(!this.isValid||!t.isValid)return Ht.invalid("created by diffing an invalid DateTime");const f={locale:this.locale,numberingSystem:this.numberingSystem,...l},d=pN(s).map(Ht.normalizeUnit),v=t.valueOf()>this.valueOf(),w=v?this:t,T=v?t:this,M=_L(w,T,d,f);return v?M.negate():M}diffNow(t="milliseconds",s={}){return this.diff(Rt.now(),t,s)}until(t){return this.isValid?Pe.fromDateTimes(this,t):this}hasSame(t,s){if(!this.isValid)return!1;const l=t.valueOf(),f=this.setZone(t.zone,{keepLocalTime:!0});return f.startOf(s)<=l&&l<=f.endOf(s)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const s=t.base||Rt.fromObject({},{zone:this.zone}),l=t.padding?this<s?-t.padding:t.padding:0;let f=["years","months","days","hours","minutes","seconds"],d=t.unit;return Array.isArray(t.unit)&&(f=t.unit,d=void 0),Nw(s,this.plus(l),{...t,numeric:"always",units:f,unit:d})}toRelativeCalendar(t={}){return this.isValid?Nw(t.base||Rt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Rt.isDateTime))throw new Bi("min requires all arguments be DateTimes");return vw(t,s=>s.valueOf(),Math.min)}static max(...t){if(!t.every(Rt.isDateTime))throw new Bi("max requires all arguments be DateTimes");return vw(t,s=>s.valueOf(),Math.max)}static fromFormatExplain(t,s,l={}){const{locale:f=null,numberingSystem:d=null}=l,v=ve.fromOpts({locale:f,numberingSystem:d,defaultToEN:!0});return K_(v,t,s)}static fromStringExplain(t,s,l={}){return Rt.fromFormatExplain(t,s,l)}static get DATE_SHORT(){return wf}static get DATE_MED(){return l_}static get DATE_MED_WITH_WEEKDAY(){return WO}static get DATE_FULL(){return h_}static get DATE_HUGE(){return u_}static get TIME_SIMPLE(){return c_}static get TIME_WITH_SECONDS(){return f_}static get TIME_WITH_SHORT_OFFSET(){return p_}static get TIME_WITH_LONG_OFFSET(){return d_}static get TIME_24_SIMPLE(){return y_}static get TIME_24_WITH_SECONDS(){return m_}static get TIME_24_WITH_SHORT_OFFSET(){return v_}static get TIME_24_WITH_LONG_OFFSET(){return w_}static get DATETIME_SHORT(){return g_}static get DATETIME_SHORT_WITH_SECONDS(){return __}static get DATETIME_MED(){return S_}static get DATETIME_MED_WITH_SECONDS(){return b_}static get DATETIME_MED_WITH_WEEKDAY(){return JO}static get DATETIME_FULL(){return T_}static get DATETIME_FULL_WITH_SECONDS(){return E_}static get DATETIME_HUGE(){return x_}static get DATETIME_HUGE_WITH_SECONDS(){return M_}}function ih(i){if(Rt.isDateTime(i))return i;if(i&&i.valueOf&&Mo(i.valueOf()))return Rt.fromJSDate(i);if(i&&typeof i=="object")return Rt.fromObject(i);throw new Bi(`Unknown datetime argument: ${i}, of type ${typeof i}`)}function GL(i,t="system"){if(!i||!lw.has(i.timeZone))return t;const s=lw.get(i.timeZone);return BL(i.timeZone)||i.respectsDaylightSaving?s:VL(s)}function VL(i){const t=Rt.local().setZone(i),s=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return s===0?"Etc/UTC":`Etc/GMT${hi.instance(-s).formatOffset(0,"narrow")}`}function BL(i){return i.startsWith("UTC")}let $n=class extends Xn(bt){constructor(t){super(t),this.legacy=null,this.timeZone="system"}readLegacy(t,s){const{timeZone:l,respectsDaylightSaving:f}=s;return{timeZone:l,respectsDaylightSaving:f}}readTimeZone(t,s){return"timeZoneIANA"in s?s.timeZoneIANA:GL(s)}writeTimeZone(t,s){s.timeZoneIANA=t}equals(t){return t==null||this.timeZone==null||t.timeZone==null?!1:this.timeZone===t.timeZone}};E([A()],$n.prototype,"legacy",void 0);E([ne("legacy",["timeZone"])],$n.prototype,"readLegacy",null);E([A({type:String,nonNullable:!0})],$n.prototype,"timeZone",void 0);E([ne("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],$n.prototype,"readTimeZone",null);E([se("timeZone")],$n.prototype,"writeTimeZone",null);$n=E([q("esri.time.TimeReference")],$n);const o7=$n;let Gn=class extends Et{constructor(t){super(t),this.view=null,this.baseLayerViews=new kt,this.referenceLayerViews=new kt,this._loadingHandle=Ct(()=>{var s,l;return(l=(s=this.view)==null?void 0:s.map)==null?void 0:l.basemap},s=>{s&&s.load().catch(()=>{})},ei)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?this.view.suspended:!0}get updating(){var s,l;if(this.view&&this.view.suspended)return!1;const t=(l=(s=this.view)==null?void 0:s.map)==null?void 0:l.basemap;return!t||!t.loaded?!1:this.baseLayerViews.some(f=>f.updating)||this.referenceLayerViews.some(f=>f.updating)}};E([A({constructOnly:!0})],Gn.prototype,"view",void 0);E([A({readOnly:!0})],Gn.prototype,"baseLayerViews",void 0);E([A({readOnly:!0})],Gn.prototype,"referenceLayerViews",void 0);E([A({readOnly:!0})],Gn.prototype,"suspended",null);E([A({type:Boolean,readOnly:!0})],Gn.prototype,"updating",null);Gn=E([q("esri.views.BasemapView")],Gn);function HL(i){return"tryRecycleWith"in i}class WL{constructor(t,s,l){this.layer=t,this.view=s,this.layerViewImporter=l,this._controller=new AbortController,this._deferred=Es(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Ki(this._controller.signal,()=>{const f=new mt("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(f)})}tryRecycle(t){if(!this.done||!this.layerView||!HL(this.layerView))return null;const s=this.layer.type,l=this._controller.signal;for(let f=0;f<t.length;f++){const d=t[f];if(d.type!==s)continue;const v=this.layerView.tryRecycleWith(d,{signal:l});if(v){t.splice(f,1),this.layer=d;const w=this.layerView,T=w.view;return this.promise=Promise.race([v.then(()=>(Le(this._controller.signal),d.emit("layerview-destroy",{view:T,layerView:w}),T.emit("layerview-destroy",{view:T,layerView:w}),d.emit("layerview-create",{view:T,layerView:w}),T.emit("layerview-create",{view:T,layerView:w}),w)),new Promise((M,I)=>Ki(this._controller.signal,()=>I(Te())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:s,view:l}=this;s.emit("layerview-destroy",{view:l,layerView:t}),l.emit("layerview-destroy",{layer:s,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var f,d,v;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:s,view:l}=this;this._map=l.map;try{await s.load({signal:t}),"prefetchResources"in s&&await((f=s.prefetchResources)==null?void 0:f.call(s,{signal:t}));let w;if(KL(s))w=await s.createLayerView(l,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(s))throw new mt("layer:view-not-supported","No layerview implementation was found");const N=await this.layerViewImporter.importLayerView(s);Le(t),"default"in N?w=new N.default({layer:s,view:l}):w=new N({layer:s,view:l})}let T;const M=()=>{T=Me(T),w.destroyed||w.destroy(),w.layer=null,w.parent=null,w.view=null,this.done=!0};T=Ki(t,M),Le(t);try{await w.when()}catch(N){throw M(),N}if(!((v=(d=this._map)==null?void 0:d.allLayers)==null?void 0:v.includes(s))){M(),this._deferred.reject(new mt("view:no-layerview-for-layer","The layer has been removed from the map",{layer:s}));return}this.layerView=w,s.emit("layerview-create",{view:l,layerView:w}),l.emit("layerview-create",{layer:s,layerView:w}),this.done=!0,this._deferred.resolve(w)}catch(w){s.emit("layerview-create-error",{view:l,error:w}),l.emit("layerview-create-error",{layer:s,error:w}),this.done=!0,this._deferred.reject(new mt("layerview:create-error","layerview creation failed",{layer:s,error:w}))}}}let tr=class extends Et{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new yl,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var l;const s=(l=this.view.map)==null?void 0:l.allLayers;if(s)for(const f of s)this.layerViewImporter.hasLayerViewModule(f)&&this.layerViewImporter.importLayerView(f)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=Es(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(zu(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var T,M,I;if(this.destroyed)return;const s=this.view.map;if(this._map!==s&&(this.clear(),this._map=s),this._workPromise==null){this.notifyChange("updating");return}this.removeHandles("reschedule"),this.removeHandles("collection-change");const l=new Set,f=[],d=this.view.ready,v=N=>{if(N!=null){for(const R of N)if(R){l.add(R);const F=this._layerLayerViewInfoMap.get(R);F&&d?F.start():!F&&!this._recyclingInfoMap.has(R)&&f.push(R),"layers"in R&&R.layers&&v(R.layers)}}};for(const N of this._rootCollectionNames)v(this.get(N));for(const[N,R]of this._layerLayerViewInfoMap)if(!l.has(N)){this._layerLayerViewInfoMap.delete(R.layer);const F=R.tryRecycle(f);F?(this._recyclingInfoMap.set(R.layer,R),F.then(()=>{this._recyclingInfoMap.delete(R.layer),this._layerLayerViewInfoMap.set(R.layer,R),this._reschedule()}).catch(()=>{this._recyclingInfoMap.delete(R.layer),R.destroy(),this._reschedule()})):R.destroy()}for(const[N,R]of this._recyclingInfoMap)l.has(N)||(this._recyclingInfoMap.delete(R.layer),R.destroy());for(const N of f)this._createLayerView(N);this._refreshCollections();const w=[(T=s==null?void 0:s.ground)==null?void 0:T.layers,(M=s==null?void 0:s.basemap)==null?void 0:M.baseLayers,(I=s==null?void 0:s.basemap)==null?void 0:I.referenceLayers,s==null?void 0:s.layers].filter(N=>!!N);l.forEach(N=>"layers"in N&&w.push(N.layers)),this.addHandles(w.map(N=>this._watchUpdatingTracking.addOnCollectionChange(()=>N,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.own([wu(()=>{var t,s;return(s=(t=this.view)==null?void 0:t.map)==null?void 0:s.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Ct(()=>{const t=this.view,s=t==null?void 0:t.map;return[s==null?void 0:s.basemap,s==null?void 0:s.ground,s==null?void 0:s.layers,t==null?void 0:t.ready]},()=>this._reschedule(),uo)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),V1(this._recyclingInfoMap),V1(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Te()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Xf(this._layerLayerViewInfoMap,t=>!t.done)}get updatingRemaining(){let t=0;for(const s of this._layerLayerViewInfoMap.values())s.done||++t;return t}clear(){this.destroyed||(V1(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new mt("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}_refreshCollections(){for(const[t,s]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(t),this.get(s),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,s,l){if(!t||!s){s&&s.removeAll();return}let f=0;for(const d of t){const v=this._layerLayerViewInfoMap.get(d);if(!v||!v.layerView)continue;const w=v.layerView;w.layer=d,w.parent=l,s.getItemAt(f)!==w&&s.splice(f,0,w),d.layers&&this._populateLayerViewsOwners(d.layers,w.layerViews,w),f+=1}f<s.length&&s.splice(f,s.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const s=new WL(t,this.view,this.layerViewImporter);s.promise.then(()=>this._refreshCollections(),l=>{(!l||!Gs(l)&&l.name!=="cancelled:layerview-create")&&ct.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:l}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,s),this.view.ready&&s.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};E([A()],tr.prototype,"_workPromise",void 0);E([A({readOnly:!0})],tr.prototype,"_watchUpdatingTracking",void 0);E([A({readOnly:!0})],tr.prototype,"_layersToLayerViews",null);E([A({readOnly:!0})],tr.prototype,"_rootCollectionNames",null);E([A()],tr.prototype,"layerViewImporter",void 0);E([A()],tr.prototype,"supportsGround",void 0);E([A({readOnly:!0})],tr.prototype,"updating",null);E([A({readOnly:!0})],tr.prototype,"updatingRemaining",null);E([A({constructOnly:!0})],tr.prototype,"view",void 0);tr=E([q("esri.views.LayerViewManager")],tr);const JL=tr;function KL(i){return"createLayerView"in i&&i.createLayerView!=null}let Di=class extends Et{constructor(t){super(t),this.factor=1.5,this.offset=mi(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};E([A({type:Number})],Di.prototype,"factor",void 0);E([A({nonNullable:!0})],Di.prototype,"offset",void 0);E([A()],Di.prototype,"position",void 0);E([A({type:Number,range:{min:0}})],Di.prototype,"size",void 0);E([A()],Di.prototype,"maskUrl",void 0);E([A()],Di.prototype,"maskEnabled",void 0);E([A()],Di.prototype,"overlayUrl",void 0);E([A()],Di.prototype,"overlayEnabled",void 0);E([A({readOnly:!0})],Di.prototype,"version",null);E([A({type:Boolean})],Di.prototype,"visible",void 0);Di=E([q("esri.views.Magnifier")],Di);const a7=Di;class YL{constructor(){this._tasks=new Array,this._running=df(!1)}get length(){return this._tasks.length}get running(){return this._running.value}destroy(){this.cancelAll()}runTask(t){for(;!t.done&&this._process(t);)t.madeProgress()}push(t,s,l){return this._running.value=!0,new Promise((f,d)=>this._tasks.push(new Rw(f,d,t,s,l)))}unshift(t,s,l){return this._running.value=!0,new Promise((f,d)=>this._tasks.unshift(new Rw(f,d,t,s,l)))}_process(t){var l;if(this._tasks.length===0)return!1;const s=this._tasks.shift();try{const f=Sr(s.signal);if(f&&!s.abortCallback)s.reject(Te());else{const d=f?(l=s.abortCallback)==null?void 0:l.call(s,Te()):s.callback(t);Vs(d)?d.then(s.resolve,s.reject):s.resolve(d)}}catch(f){s.reject(f)}return this._running.value=this._tasks.length>0,!0}cancelAll(){const t=Te();for(const s of this._tasks)if(s.abortCallback){const l=s.abortCallback(t);s.resolve(l)}else s.reject(t);this._tasks.length=0,this._running.value=!1}}let Rw=class{constructor(t,s,l,f=void 0,d=void 0){this.resolve=t,this.reject=s,this.callback=l,this.signal=f,this.abortCallback=d}},Au=class extends Et{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};E([A()],Au.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);E([A()],Au.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);Au=E([q("esri.views.support.DebugFlags")],Au);const qL=new Au;var Ii;(function(i){i[i.ANIMATING=0]="ANIMATING",i[i.INTERACTING=1]="INTERACTING",i[i.IDLE=2]="IDLE"})(Ii||(Ii={}));var Fy;(function(i){i[i.YIELD=1]="YIELD"})(Fy||(Fy={}));var Lt;(function(i){i.RESOURCE_CONTROLLER_IMMEDIATE="immediate",i.RESOURCE_CONTROLLER="schedule",i.SLIDE="slide",i.STREAM_DATA_LOADER="stream loader",i.ELEVATION_QUERY="elevation query",i.TERRAIN_SURFACE="terrain",i.SURFACE_GEOMETRY_UPDATES="surface geometry updates",i.LOD_RENDERER="LoD renderer",i.GRAPHICS_CORE="Graphics3D",i.I3S_CONTROLLER="I3S",i.POINT_CLOUD_LAYER="point cloud",i.FEATURE_TILE_FETCHER="feature fetcher",i.OVERLAY="overlay",i.STAGE="stage",i.GRAPHICS_DECONFLICTOR="graphics deconflictor",i.FILTER_VISIBILITY="Graphics3D filter visibility",i.SCALE_VISIBILITY="Graphics3D scale visibility",i.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",i.POINT_OF_INTEREST_FREQUENT="POI frequent",i.POINT_OF_INTEREST_INFREQUENT="POI infrequent",i.LABELER="labeler",i.FEATURE_QUERY_ENGINE="feature query",i.FEATURE_TILE_TREE="feature tile tree",i.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",i.ELEVATION_ALIGNMENT="elevation alignment",i.TEXT_TEXTURE_ATLAS="text texture atlas",i.TEXTURE_UNLOAD="texture unload",i.LINE_OF_SIGHT_TOOL="line of sight tool",i.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",i.ELEVATION_PROFILE="elevation profile",i.SNAPPING="snapping",i.SHADOW_ACCUMULATOR="shadow accumulator",i.CLOUDS_GENERATOR="clouds generator",i[i.NONE=0]="NONE",i[i.TEST_PRIO=1]="TEST_PRIO"})(Lt||(Lt={}));const Fr=0,Dw=new Map([[Lt.RESOURCE_CONTROLLER_IMMEDIATE,Fr],[Lt.RESOURCE_CONTROLLER,4],[Lt.SLIDE,Fr],[Lt.STREAM_DATA_LOADER,Fr],[Lt.ELEVATION_QUERY,Fr],[Lt.TERRAIN_SURFACE,1],[Lt.SURFACE_GEOMETRY_UPDATES,1],[Lt.LOD_RENDERER,2],[Lt.GRAPHICS_CORE,2],[Lt.I3S_CONTROLLER,2],[Lt.POINT_CLOUD_LAYER,2],[Lt.FEATURE_TILE_FETCHER,2],[Lt.OVERLAY,4],[Lt.STAGE,4],[Lt.GRAPHICS_DECONFLICTOR,4],[Lt.FILTER_VISIBILITY,4],[Lt.SCALE_VISIBILITY,4],[Lt.FRUSTUM_VISIBILITY,4],[Lt.CLOUDS_GENERATOR,4],[Lt.POINT_OF_INTEREST_FREQUENT,6],[Lt.POINT_OF_INTEREST_INFREQUENT,30],[Lt.LABELER,8],[Lt.FEATURE_QUERY_ENGINE,8],[Lt.FEATURE_TILE_TREE,16],[Lt.FEATURE_TILE_TREE_ACTIVE,Fr],[Lt.ELEVATION_ALIGNMENT,12],[Lt.TEXT_TEXTURE_ATLAS,12],[Lt.TEXTURE_UNLOAD,12],[Lt.LINE_OF_SIGHT_TOOL,16],[Lt.LINE_OF_SIGHT_TOOL_INTERACTIVE,Fr],[Lt.SNAPPING,Fr],[Lt.SHADOW_ACCUMULATOR,30]]);function jw(i){return Dw.has(i)?Dw.get(i):typeof i=="number"?i:1}const kw=6.5,Fw=1,ZL=30,zw=1e3/30,Uw=100,$w=.9;var zy;(function(i){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(d=>d.needsUpdate)}constructor(){this._updating=df(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new _h("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new l,this._state=Ii.INTERACTING,this._tasks=new Sh,this._runQueue=new Sh,this._load=0,this._idleStateCallbacks=new Sh,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=Ct(()=>qL.SCHEDULER_LOG_SLOW_TASKS,v=>this._debug=v,ei);for(const v of Object.keys(Lt))this.performanceInfo.tasks.set(Lt[v],new _h(Lt[v]));const d=this;this._test={FRAME_SAFETY_BUDGET:kw,INTERACTING_BUDGET:zw,IDLE_BUDGET:Uw,get availableBudget(){return d._budget.budget},usedBudget:0,getBudget:()=>d._budget,setBudget:v=>d._budget=v,updateTask:v=>this._updateTask(v),getState:v=>this._getState(v),getRuntime:v=>this._getRuntime(v),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(d=>d.remove()),this._tasks.clear(),Me(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(d){this._updatingChanged(),d&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(d,v){const w=jw(d),T=new s(this,d,v,w);return this._tasks.push(T),this._updatingChanged(),this.performanceInfo.tasks.has(d)||this.performanceInfo.tasks.set(d,new _h(d)),T}registerIdleStateCallbacks(d,v){const w={idleBegin:d,idleEnd:v};this._idleStateCallbacks.push(w),this.state===Ii.IDLE&&this._idleUpdatesStartFired&&w.idleBegin();const T=this;return{remove:()=>this._removeIdleStateCallbacks(w),set idleBegin(M){T._idleUpdatesStartFired&&(w.idleEnd(),T._state===Ii.IDLE&&M()),w.idleBegin=M},set idleEnd(M){w.idleEnd=M}}}get load(){return this._load}set state(d){this._state!==d&&(this._state=d,this.state!==Ii.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(v=>v.idleEnd())))}get state(){return this._state}updateBudget(d){this._test.usedBudget=0,++this._frameNumber;let v=kw,w=d.frameDuration,T=Fw;switch(this.state){case Ii.IDLE:v=0,w=Math.max(Uw,d.frameDuration),T=ZL;break;case Ii.INTERACTING:w=Math.max(zw,d.frameDuration);break;case Ii.ANIMATING:break}return w=w-d.elapsedFrameTime-v,this.state!==Ii.IDLE&&w<Fw&&!this._forceTask?(this._forceTask=!0,!1):(w=Math.max(w,T),this._budget.reset(w,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Ii.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(d=>d.idleBegin())),this._runIdle();break;case Ii.INTERACTING:this._runInteracting();break;default:this._runAnimating();break}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(d){this._idleUpdatesStartFired&&d.idleEnd(),this._idleStateCallbacks.removeUnordered(d)}removeTask(d){this._tasks.removeUnordered(d),this._runQueue.removeUnordered(d),this._updatingChanged()}_updateTask(d){this._tasks.forAll(v=>{v.name===d&&v.setPriority(d)})}_getState(d){if(this._runQueue.some(w=>w.name===d))return po.SCHEDULED;let v=po.IDLE;return this._tasks.forAll(w=>{w.name===d&&w.needsUpdate&&(w.schedulePriority<=1?v=po.READY:v!==po.READY&&(v=po.WAITING))}),v}_getRuntime(d){let v=0;return this._tasks.forAll(w=>{w.name===d&&(v+=w.runtime)}),v}_resetRuntimes(){this._tasks.forAll(d=>d.runtime=0)}_getRunning(){const d=new Map;if(this._tasks.forAll(w=>{w.needsUpdate&&d.set(w.name,(d.get(w.name)||0)+1)}),d.size===0)return null;let v="";return d.forEach((w,T)=>{w>1?v+=` ${w}x ${T}`:v+=` ${T}`}),v}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const d=this._tasks.reduce((v,w)=>w.needsUpdate?++v:v,0);this._load=this._load*$w+d*(1-$w)}_schedule(){for(this._runQueue.filterInPlace(d=>d.needsUpdate?!0:(d.schedulePriority=d.basePriority,!1)),this._tasks.forAll(d=>{d.basePriority===Fr&&d.needsUpdate&&!this._runQueue.includes(d)&&d.blockFrame!==this._frameNumber&&this._runQueue.unshift(d)});this._runQueue.length===0;){let d=!1,v=0;if(this._tasks.forAll(w=>{if(!(!w.needsUpdate||w.schedulePriority===0||w.basePriority===Fr||w.blockFrame===this._frameNumber))switch(d=!0,v=Math.max(v,w.basePriority),w.schedulePriority){case 1:w.schedulePriority=0,this._runQueue.push(w);break;default:--w.schedulePriority;break}}),!d)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const d=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const v=this._budget.now(),w=this._runQueue.pop();this._budget.resetProgress();try{w.task.runTask(this._budget)===Fy.YIELD&&(w.blockFrame=this._frameNumber)}catch(M){ct.getLogger("esri.views.support.Scheduler").error(`Exception in task "${w.name}"`,M)}!this._budget.hasProgressed&&w.blockFrame!==this._frameNumber&&w.needsUpdate&&(w.name,Lt.I3S_CONTROLLER,w.blockFrame=this._frameNumber),w.schedulePriority=w.basePriority;const T=this._budget.now()-v;if(w.runtime+=T,this._frameTaskTimes.set(w.priority,this._frameTaskTimes.get(w.priority)+T),this._debug&&T>2*this._budget.budget&&console.log("Task",w.name,"used",T,"of max",this._budget.budget,"ms"),this._budget.remaining<=0){this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-d);return}}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-d)}_startFrameTaskTimes(){for(const d of Object.keys(Lt))this._frameTaskTimes.set(Lt[d],0)}_recordFrameTaskTimes(d){this._frameTaskTimes.forEach((v,w)=>this.performanceInfo.tasks.get(w).record(v)),this.performanceInfo.total.record(d)}get test(){return this._test}}i.Scheduler=t;class s{get task(){return this._task.value}get updating(){return this._queue.running}constructor(d,v,w,T){this._scheduler=d,this.name=v,this._basePriority=T,this.blockFrame=0,this.runtime=0,this._queue=new YL,this._handles=new $s,this.schedulePriority=this._basePriority,this._task=df(w??this._queue),this._handles.add(kn(()=>this.task.running,M=>d.taskRunningChanged(M)))}remove(){this.processQueue(l7),this._scheduler.removeTask(this),this.schedule=Uy.schedule,this.reschedule=Uy.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(d){this.name=d;const v=jw(d);(this._basePriority===Fr||this.schedulePriority!==0)&&(this.schedulePriority=v),this._basePriority=v}get priority(){return this.name}set priority(d){this.setPriority(d)}get needsUpdate(){return this.updating||this.task.running}schedule(d,v,w){return this._queue.push(d,v,w)}reschedule(d,v,w){return this._queue.unshift(d,v,w)}processQueue(d){this._queue.runTask(d)}}class l{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Ii.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(d){return this.done?!1:(d()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(d){this._enabled=d}reset(d,v){this._begin=this.now(),this._budget=d,this._state=v,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}i.Budget=l})(zy||(zy={}));var po;(function(i){i.SCHEDULED="s",i.READY="r",i.WAITING="w",i.IDLE="i"})(po||(po={}));const l7=(()=>{const i=new zy.Budget;return i.enabled=!1,i})();class XL{remove(){}processQueue(){}schedule(t,s,l){try{if(Sr(s)){const f=Te();return l?Promise.resolve(l(f)):Promise.reject(f)}return Lp(t(l7))}catch(f){return Promise.reject(f)}}reschedule(t,s,l){return this.schedule(t,s,l)}}const Uy=new XL;let Pu=class extends Et{constructor(t,s){super({}),this._stage=t,this._textureRequests=new Map,this._frameTask=(s==null?void 0:s.registerTask(Lt.TEXTURE_UNLOAD))??Uy}normalizeCtorArgs(){return{}}destroy(){var t,s,l;super.destroy(),(t=this._frameTask)==null||t.remove(),(s=this._textureRequests)==null||s.forEach(f=>this._releaseTextureRequest(f)),(l=this._textureRequests)==null||l.clear()}get updating(){return this._frameTask.updating}fromData(t,s,l){const f=this.makeUid(t);let d=this._textureRequests.get(f);if(!d){const v=s();d={referenceCount:0,texture:v,textureAsync:null,abortController:null,onRemove:l},this._stage&&(this._stage.add(v),this._stage.loadImmediate(v)),this._textureRequests.set(f,d)}return d.referenceCount++,{uid:f,texture:d.texture,release:()=>this._release(f)}}_release(t){const s=this._textureRequests.get(t);s?(s.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+t),s.referenceCount--,s.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(t))):console.warn(`TextureCollection: texture doesn't exist: '${t}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(t){if(!this._textureRequests)return;const s=this._textureRequests.get(t);!s||s.referenceCount>0||(this._releaseTextureRequest(s),this._textureRequests.delete(t))}_releaseTextureRequest(t){var s;t.onRemove&&t.onRemove(),t.texture?(s=this._stage)==null||s.remove(t.texture):t.abortController&&(t.abortController.abort(),t.abortController=null)}makeUid(t,s=null){return s!=null?`${t}.${s}px`:t}};E([A()],Pu.prototype,"_frameTask",void 0);E([A()],Pu.prototype,"updating",null);Pu=E([q("esri.views.3d.support.TextureCollection")],Pu);var Gw;(function(i){i[i.Left=0]="Left",i[i.Middle=1]="Middle",i[i.Right=2]="Right"})(Gw||(Gw={}));const h7=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],u7={};h7.forEach(i=>{u7[i]=!0});function c7(i){return!!u7[i]}function QL(i){for(const t of i)if(!c7(t))return!1;return!0}class tR{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:s,priority:l},f)=>{var d;return(d=this.inputManager)==null?void 0:d.installHandlers(f,[s],l)})}disconnect(){this.inputManager&&this._handlers.forEach((t,s)=>{var l;return(l=this.inputManager)==null?void 0:l.uninstallHandlers(s)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,s,l,f){const d=Array.isArray(t)?t:t.split(",");if(!QL(d))return d.some(c7)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let v,w;Array.isArray(s)?w=s:(v=s,w=[]),typeof l=="function"?v=l:f=l,f=f??Tn.DEFAULT;const T=this._createUniqueGroupName(),M=new eR(this.view,d,w,v);this._handlers.set(T,{handler:M,priority:f});for(const I of d){const N=this._handlerCounts.get(I)||0;this._handlerCounts.set(I,N+1)}return this.inputManager&&this.inputManager.installHandlers(T,[M],f),{remove:()=>this._removeHandler(T,d)}}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,s){if(this._handlers.has(t)){this._handlers.delete(t);for(const l of s){const f=this._handlerCounts.get(l);f===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",l):f===1?this._handlerCounts.delete(l):this._handlerCounts.set(l,f-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class eR extends Ze{constructor(t,s,l,f){super(!0),this._latestDragStart=void 0,this.view=t;for(const d of s)switch(d){case"click":this.registerIncoming("click",l,v=>f(this._wrapClick(v)));break;case"double-click":this.registerIncoming("double-click",l,v=>f(this._wrapDoubleClick(v)));break;case"immediate-click":this.registerIncoming("immediate-click",l,v=>f(this._wrapImmediateClick(v)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",l,v=>f(this._wrapImmediateDoubleClick(v)));break;case"hold":this.registerIncoming("hold",l,v=>f(this._wrapHold(v)));break;case"drag":this.registerIncoming("drag",l,v=>{const w=this._wrapDrag(v);w&&f(w)});break;case"key-down":this.registerIncoming("key-down",l,v=>f(this._wrapKeyDown(v)));break;case"key-up":this.registerIncoming("key-up",l,v=>f(this._wrapKeyUp(v)));break;case"pointer-down":this.registerIncoming("pointer-down",l,v=>f(this._wrapPointer(v,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",l,v=>f(this._wrapPointer(v,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",l,v=>f(this._wrapPointer(v,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",l,v=>f(this._wrapPointerDrag(v)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",l,v=>f(this._wrapMouseWheel(v)));break;case"pointer-enter":this.registerIncoming("pointer-enter",l,v=>f(this._wrapPointer(v,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",l,v=>f(this._wrapPointer(v,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",l,v=>{f(this._wrapGamepad(v))});break;case"focus":this.registerIncoming("focus",l,v=>{f(this._wrapFocus(v))});break;case"blur":this.registerIncoming("blur",l,v=>{f(this._wrapBlur(v))});break}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:s=>t.async(s),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:s=>t.async(s),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:s,button:l,buttons:f,x:d,y:v,native:w,eventId:T}=t.data,{cancelable:M,timestamp:I}=t,N=mi(d,v),R=this._getMapPoint(d,v);return{type:"click",pointerType:s,button:l,buttons:f,x:d,y:v,native:w,timestamp:I,screenPoint:N,mapPoint:R,eventId:T,cancelable:M,stopPropagation:()=>t.stopPropagation(),async:F=>t.async(F),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:s,button:l,buttons:f,x:d,y:v,native:w,eventId:T}=t.data,{cancelable:M,timestamp:I}=t;return{type:"double-click",pointerType:s,button:l,buttons:f,x:d,y:v,native:w,timestamp:I,mapPoint:this._getMapPoint(d,v),eventId:T,cancelable:M,stopPropagation:()=>t.stopPropagation(),async:N=>t.async(N),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:s,button:l,buttons:f,x:d,y:v,native:w,eventId:T}=t.data,M=w.pointerId,{cancelable:I,timestamp:N}=t;return{type:"immediate-click",pointerId:M,pointerType:s,button:l,buttons:f,x:d,y:v,native:w,timestamp:N,mapPoint:this._getMapPoint(d,v),eventId:T,cancelable:I,stopPropagation:()=>t.stopPropagation(),async:R=>t.async(R),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:s,button:l,buttons:f,x:d,y:v,native:w,eventId:T}=t.data,M=w.pointerId,{cancelable:I,timestamp:N}=t;return{type:"immediate-double-click",pointerId:M,pointerType:s,button:l,buttons:f,x:d,y:v,native:w,timestamp:N,mapPoint:this._getMapPoint(d,v),eventId:T,cancelable:I,stopPropagation:()=>t.stopPropagation(),async:R=>t.async(R),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:s,button:l,buttons:f,x:d,y:v,native:w}=t.data,{cancelable:T,timestamp:M}=t;return{type:"hold",pointerType:s,button:l,buttons:f,x:d,y:v,native:w,timestamp:M,mapPoint:this._getMapPoint(d,v),cancelable:T,stopPropagation:()=>t.stopPropagation(),async:I=>t.async(I),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,s){return this.view.toMap(mi(t,s),{exclude:[]})}_wrapDrag(t){const s=t.data,{x:l,y:f}=s.center,{action:d,pointerType:v,button:w}=s;if(d==="start"&&(this._latestDragStart=s),!this._latestDragStart)return;const T=s.pointer.native,M=s.buttons,{cancelable:I,timestamp:N}=t,R={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return d==="end"&&(this._latestDragStart=void 0),{type:"drag",action:d,x:l,y:f,origin:R,pointerType:v,button:w,buttons:M,radius:s.radius,angle:K5(s.angle),native:T,timestamp:N,cancelable:I,stopPropagation:()=>t.stopPropagation(),async:F=>t.async(F),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:s,repeat:l,native:f}=t.data,{cancelable:d,timestamp:v}=t;return{type:"key-down",key:s,repeat:l,native:f,timestamp:v,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:w=>t.async(w),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:s,native:l}=t.data,{cancelable:f,timestamp:d}=t;return{type:"key-up",key:s,native:l,timestamp:d,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,s){const{x:l,y:f,button:d,buttons:v,native:w,eventId:T}=t.data,M=w.pointerId,I=w.pointerType,{cancelable:N,timestamp:R}=t;return{type:s,x:l,y:f,pointerId:M,pointerType:I,button:d,buttons:v,native:w,timestamp:R,eventId:T,cancelable:N,stopPropagation:()=>t.stopPropagation(),async:F=>t.async(F),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:s,y:l,buttons:f,native:d,eventId:v}=t.data.currentEvent,{button:w}=t.data.startEvent,T=t.data.startEvent.native.pointerId,M=t.data.startEvent.native.pointerType,I=t.data.action,N={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:R,timestamp:F}=t;return{type:"pointer-drag",x:s,y:l,pointerId:T,pointerType:M,button:w,buttons:f,action:I,origin:N,native:d,timestamp:F,eventId:v,cancelable:R,stopPropagation:()=>t.stopPropagation(),async:V=>t.async(V),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:s,data:l,timestamp:f}=t,{x:d,y:v,deltaY:w,native:T}=l;return{type:"mouse-wheel",x:d,y:v,deltaY:w,native:T,timestamp:f,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:M=>t.async(M),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:s,state:l,device:f}=t.data,{cancelable:d,timestamp:v}=t,{buttons:w,axes:T}=l;return{type:"gamepad",device:f,timestamp:v,action:s,buttons:w,axes:T,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:M=>t.async(M),preventDefault:()=>t.preventDefault()}}}var Iu;(function(i){i[i.USER=0]="USER",i[i.MANAGER=1]="MANAGER"})(Iu||(Iu={}));var Vw;(function(i){i[i.None=0]="None",i[i.Unfocused=1]="Unfocused",i[i.Focused=2]="Focused",i[i.Unselected=4]="Unselected",i[i.Selected=8]="Selected",i[i.All=15]="All"})(Vw||(Vw={}));var Bw;(function(i){i[i.None=0]="None",i[i.Custom1=16]="Custom1",i[i.Custom2=32]="Custom2",i[i.Custom3=64]="Custom3",i[i.Custom4=128]="Custom4",i[i.Custom5=256]="Custom5",i[i.Custom6=512]="Custom6",i[i.Custom7=1024]="Custom7",i[i.Custom8=2048]="Custom8",i[i.Custom9=4096]="Custom9",i[i.Custom10=8192]="Custom10",i[i.Custom11=16384]="Custom11",i[i.Custom12=32768]="Custom12",i[i.All=65520]="All"})(Bw||(Bw={}));function iR(i){return[i.on("before-add",t=>{const s=t.item;if(s==null||i.includes(s)){ct.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),t.preventDefault();return}s.onAdd()}),i.on("after-remove",t=>{const s=t.item;s.active&&(s.view.activeTool=null),s.destroy()})]}function $y(i){return i.visible&&i.getEditableFlag!=null&&i.getEditableFlag(Iu.USER)&&i.getEditableFlag(Iu.MANAGER)}function kr(i){return mi(i.x,i.y)}function f7(i,t){var l;const s=(l=i instanceof HTMLElement?i:i.surface)==null?void 0:l.getBoundingClientRect();return s?mi(t.clientX-s.left,t.clientY-s.top):mi(0,0)}function Hw(i,t){return t instanceof Event?f7(i,t):kr(t)}function Ww(i){if(i instanceof Event)return!0;if(typeof i=="object"&&"type"in i)switch(i.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;case"key-down":case"key-up":case"gamepad":case"focus":case"blur":return!1;default:return!1}return!1}class rR{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}isInteracting(){return this._hoveredManipulators.size>0||this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,s){const l=()=>t.stopPropagation();switch(t.type){case"pointer-move":Jw(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":{this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(l(),t.action==="end"&&(this._stopDrag=!1));break}case"pointer-down":{if(!Kw(t))break;const f=kr(t),d=this._intersect(f,t.pointerType,s.forEachTool);if(d==null)break;const v=d.manipulator,w=d.tool;v!=null&&w!=null&&v.interactive&&!(v.grabbable&&v.grabbableForEvent(t))&&v.grabbing&&!v.dragging&&this._ungrabManipulatorBeforeDragging(v,t,s),v!=null&&w!=null&&v.interactive&&v.grabbable&&v.grabbableForEvent(t)&&!v.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:v,tool:w,start:f,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&s.activeTool==null&&(this._revertToNullActiveTool=!0,s.setActiveTool(d.tool)),v.grabbing=!0,v.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:f}),l());break}case"pointer-up":{this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,s);break}case"pointer-drag":{if(!Kw(t))break;const f=this._grabbedManipulators.get(t.pointerId),d=yo(f,({manipulator:I})=>I),v=yo(f,({tool:I})=>I);if(d==null||v==null)break;const w=kr(t);w.x=Hr(w.x,0,s.view.width),w.y=Hr(w.y,0,s.view.height);const T=f.start,M=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":(t.action==="update"||this._grabbedManipulators.size===1)&&(d.dragging=!0,M?d.events.emit("drag",{action:"update",start:T,screenPoint:w}):d.events.emit("drag",{action:"start",start:T,screenPoint:w,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:v,manipulator:d,start:T}));break;case"end":d.dragging=!1,M&&d.events.emit("drag",{action:"end",start:T,screenPoint:w}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,s);break}l();break}case"immediate-click":{const f=kr(t),d=this._intersect(f,t.pointerType,s.forEachTool);if(sR(t)||s.forEachTool(M=>{if(!(d!=null&&d.tool===M&&!M.automaticManipulatorSelection)&&M.manipulators){let I=!1;M.manipulators.forEach(({manipulator:N})=>{N.selected&&(N.selected=!1,I=!0)}),I&&M.onManipulatorSelectionChanged&&M.onManipulatorSelectionChanged()}}),d==null)break;const{manipulator:v,tool:w}=d;if(!v.interactive)break;v.selectable&&w.automaticManipulatorSelection&&(v.selected=!v.selected,w.onManipulatorSelectionChanged&&w.onManipulatorSelectionChanged());const T=t.native.shiftKey;v.events.emit("immediate-click",{screenPoint:f,button:t.button,pointerType:t.pointerType,shiftKey:T,stopPropagation:l});break}case"click":{const f=kr(t),d=this._intersect(f,t.pointerType,s.forEachTool),v=d!=null?d.manipulator:null;if(v==null||!v.interactive)break;const w=t.native.shiftKey;v.events.emit(t.type,{screenPoint:f,button:t.button,pointerType:t.pointerType,shiftKey:w}),l();break}case"double-click":{const f=kr(t),d=this._intersect(f,t.pointerType,s.forEachTool),v=d!=null?d.manipulator:null;if(v==null||!v.interactive)break;const w=t.native.shiftKey;v.events.emit("double-click",{screenPoint:f,button:t.button,pointerType:t.pointerType,shiftKey:w,stopPropagation:l});break}case"immediate-double-click":{const f=kr(t),d=this._intersect(f,t.pointerType,s.forEachTool),v=d!=null?d.manipulator:null;if(v==null||!v.interactive)break;const w=t.native.shiftKey;v.events.emit("immediate-double-click",{screenPoint:f,button:t.button,pointerType:t.pointerType,shiftKey:w,stopPropagation:l});break}}this._onFocusChange(s.forEachTool)}_ungrabManipulatorBeforeDragging(t,s,l){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:s.pointerType,screenPoint:kr(s)}),this._grabbedManipulators.forEach(({manipulator:f},d)=>{f===t&&this._grabbedManipulators.delete(d)}),this._afterManipulatorUngrab(l.setActiveTool)}_handlePointerEnd(t,s){const l=yo(this._grabbedManipulators.get(t.pointerId),({manipulator:f})=>f);l!=null&&l.grabbing&&(l.grabbing=!1,l.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:kr(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorUngrab(s.setActiveTool))}_cursorFromMap(t){let s=null;return Xf(t,({manipulator:l})=>l==null||!l.interactive?!1:l.grabbing&&l.grabCursor?(s=l.grabCursor,!0):l.cursor?(s=l.cursor,!0):!1),s}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const s=new Set,l=new Set;this._grabbedManipulators.forEach(({tool:f})=>{s.add(f)}),this._hoveredManipulators.forEach(({tool:f})=>{l.add(f)}),t(f=>{f.hasGrabbedManipulators=s.has(f),f.hasHoveredManipulators=l.has(f);const d=this._grabbedManipulators.values(),v=yS(d,({tool:w})=>w===f);f.firstGrabbedManipulator=v!=null?v.manipulator:null})}clearPointers(t,{forEachTool:s,setActiveTool:l},f=!0,d){const v=(w,T)=>w===t&&(d==null||d===T);this._grabbedManipulators.forEach(({tool:w,manipulator:T,pointerType:M},I)=>{v(w,T)&&(this._grabbedManipulators.delete(I),T.grabbing=!1,T.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:M}))}),this._draggedManipulators.forEach(({tool:w,manipulator:T},M)=>{v(w,T)&&(this._draggedManipulators.delete(M),T.dragging=!1,T.events.emit("drag",{action:"cancel"}))}),f&&this._hoveredManipulators.forEach(({tool:w,manipulator:T},M)=>{v(w,T)&&(this._hoveredManipulators.delete(M),T.hovering=!1)}),this._afterManipulatorUngrab(l),this._onFocusChange(s)}_intersect(t,s,l){let f=null;return l(d=>{if(d.manipulators==null||!$y(d))return!1;const v=d.manipulators.intersect(t,s);return v==null?!1:(f={tool:d,manipulator:v},!0)}),f}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((s,l)=>{this._updateHoveredStateForPointerAtScreenPosition(mi(s.x,s.y),l,s.pointerType,t)})}handleHoverEvent(t,s){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!Jw(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(kr(t),t.pointerId,t.pointerType,s)}_updateHoveredStateForPointerAtScreenPosition(t,s,l,f){let d=this._intersect(t,l,f);const v=yo(this._hoveredManipulators.get(s),({manipulator:w})=>w);d!=null&&!d.manipulator.interactive&&(d=null),!(d!=null&&v===d.manipulator)&&(v!=null&&(v.hovering=!1),d!=null?(d.manipulator.hovering=!0,this._hoveredManipulators.set(s,d)):this._hoveredManipulators.delete(s),this._onFocusChange(f))}_afterManipulatorUngrab(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}}function Jw(i){return i==="mouse"}function Kw(i){return i.pointerType!=="mouse"||i.button===0}function sR(i){return!!i.native.shiftKey}const Yw="attached",cp="tools",nR=100;let Ir=class extends yf{constructor(t){super(t),this._manipulatorState=new rR,this.tools=new kt,this.cursor=null,this._interacting=!1,this._interactingTimeoutId=null,this._forEachTool=s=>{for(const l of this.tools.items)if(s(l))return}}initialize(){this.handles.add([this.view.on(h7,t=>{this._handleInputEvent(t)},Tn.TOOL),...iR(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready){ct.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");return}if(t===this.activeTool)return;const s=this.activeTool;this._set("activeTool",t),s!=null&&s.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const l of this.tools){this._updateToolEditableFlag(l);const f=$y(l);(this.activeTool==null||!f)&&this._manipulatorState.clearPointers(l,this._manipulatorStateEventArgs,!f)}this._updateCursor()}get updating(){var t;return this.updatingHandles.updating||this.tools.some(s=>s.updating)||(((t=this.textures)==null?void 0:t.updating)??!1)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutId!=null&&(clearTimeout(this._interactingTimeoutId),this._interactingTimeoutId=null)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutId=setTimeout(()=>this._interacting=!1,nR)}attach(){var t;this.view.type==="3d"?(this._set("textures",new Pu(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([Ct(()=>{const{state:s}=this.view;return"camera"in s&&s.camera},()=>this._forEachManipulator(s=>s.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",s=>this._forEachManipulator(l=>l.onElevationChange(s))),Al(()=>this._set("textures",be(this.textures)))],Yw)):this.handles.add(Ct(()=>this.view.extent,()=>this._forEachManipulator(s=>s.onViewChange())))}detach(){this.activeTool!=null&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(Yw),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(s=>{s.manipulators&&s.manipulators.forEach(({manipulator:l})=>t(l,s))})}_handleInputEvent(t){let s=!1;const l={...t,stopPropagation:()=>{s=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(l):this._forEachTool(f=>{!s&&f.visible&&f.handleInputEvent(l)}),!s&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(l,this._manipulatorStateEventArgs),!s&&this.activeTool!=null&&this.activeTool.handleInputEventAfter(l),this._manipulatorState.handleHoverEvent(l,this._forEachTool),this._updateCursor(),(this._manipulatorState.isInteracting()||s||this.activeTool!=null&&this.activeTool.interacting)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.handles.remove(cp),this._forEachTool(t=>{if(t instanceof Et){const s=Ct(()=>[t.cursor,t.visible,t.editable],()=>{$y(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.handles.add(s,cp)}t.manipulators&&this.handles.add([t.manipulators.on("after-remove",s=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,s.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],cp)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var s;(s=t.setEditableFlag)==null||s.call(t,Iu.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(s=>s.cursor!=null&&s.visible?(t=s.cursor,!0):!1),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(s=>(t==null||s!==t)&&!s.created&&s.removeIncompleteOnCancel).forEach(s=>{this.tools.remove(s)})}};E([A({constructOnly:!0,nonNullable:!0})],Ir.prototype,"view",void 0);E([A({readOnly:!0,nonNullable:!0})],Ir.prototype,"textures",void 0);E([A({value:null})],Ir.prototype,"activeTool",null);E([A({readOnly:!0,type:kt})],Ir.prototype,"tools",void 0);E([A({readOnly:!0})],Ir.prototype,"cursor",void 0);E([A({readOnly:!0})],Ir.prototype,"updating",null);E([A()],Ir.prototype,"_interacting",void 0);E([A({readOnly:!0})],Ir.prototype,"interacting",null);Ir=E([q("esri.views.ToolViewManager")],Ir);const oR=Ir;let wl=class extends Et{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":aR.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return lR[this.deviceType]}};E([A({nonNullable:!0,readOnly:!0})],wl.prototype,"nativeIndex",void 0);E([A({type:String,readOnly:!0})],wl.prototype,"deviceType",null);E([A({type:Number,readOnly:!0})],wl.prototype,"axisThreshold",null);wl=E([q("esri.views.input.gamepad.GamepadInputDevice")],wl);const aR=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),lR={standard:.15,spacemouse:.025,unknown:0},Gm=wl;let Cu=class extends Et{constructor(...t){super(...t),this.devices=new kt,this.enabledFocusMode="document"}};E([A({type:kt.ofType(Gm),readOnly:!0})],Cu.prototype,"devices",void 0);E([A({type:["document","view","none"]})],Cu.prototype,"enabledFocusMode",void 0);Cu=E([q("esri.views.input.gamepad.GamepadSettings")],Cu);const hR=Cu;let bf=class extends Et{constructor(){super(...arguments),this.gamepad=new hR}};E([A({readOnly:!0})],bf.prototype,"gamepad",void 0);bf=E([q("esri.views.input.Input")],bf);const uR=bf;let Vn=class extends Et{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};E([A({type:Boolean,nonNullable:!0})],Vn.prototype,"enabled",void 0);E([A({type:Gm})],Vn.prototype,"device",void 0);E([A({type:["pan","zoom"],nonNullable:!0})],Vn.prototype,"mode",void 0);E([A({type:["forward-down","forward-up"],nonNullable:!0})],Vn.prototype,"tiltDirection",void 0);E([A({type:Number,nonNullable:!0})],Vn.prototype,"velocityFactor",void 0);Vn=E([q("esri.views.navigation.gamepad.GamepadSettings")],Vn);const p7=Vn;let oa=class extends Et{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new p7,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};E([A({type:Boolean})],oa.prototype,"browserTouchPanEnabled",void 0);E([A({type:p7,nonNullable:!0})],oa.prototype,"gamepad",void 0);E([A({type:Boolean})],oa.prototype,"momentumEnabled",void 0);E([A({type:Boolean})],oa.prototype,"mouseWheelZoomEnabled",void 0);oa=E([q("esri.views.navigation.Navigation")],oa);const d7=oa,y7={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},m7=Object.values(y7),v7=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${m7.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),cR=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${m7.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),fR=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function AW(i){return!!v7.test(i)}function Vm(i){if(i==null)return null;const t=ji(i),s=t.path.match(v7)||t.path.match(cR);if(!s)return null;const[,l,f,d,v]=s,w=f.indexOf("/");return{title:w7(w!==-1?f.slice(w+1):f),serverType:y7[d.toLowerCase()],sublayer:v!=null&&v!==""?parseInt(v,10):null,url:{path:l}}}function pR(i){const s=ji(i).path.match(fR);return s?{serviceUrl:s[1],sublayerId:Number(s[2])}:null}function w7(i){return i=i.replace(/\s*[/_]+\s*/g," "),i[0].toUpperCase()+i.slice(1)}function PW(i,t){const s=[];if(i){const l=Vm(i);l!=null&&l.title&&s.push(l.title)}if(t){const l=w7(t);s.push(l)}if(s.length===2){if(s[0].toLowerCase().includes(s[1].toLowerCase()))return s[0];if(s[1].toLowerCase().includes(s[0].toLowerCase()))return s[1]}return s.join(" - ")}function IW(i){if(!i)return!1;i=i.toLowerCase();const t=".arcgis.com/",s="//services",l="//tiles",f="//features",d=i.includes(t),v=i.includes(s)||i.includes(l)||i.includes(f);return d&&v}function CW(i,t){return i&&y5(m5(i,t))}function OW(i){let{url:t}=i;if(!t)return{url:t};t=m5(t,i.logger);const s=ji(t),l=Vm(s.path);let f;if(l!=null)l.sublayer!=null&&i.layer.layerId==null&&(f=l.sublayer),t=l.url.path;else if(i.nonStandardUrlAllowed){const d=pR(s.path);d!=null&&(t=d.serviceUrl,f=d.sublayerId)}return{url:y5(t),layerId:f}}function NW(i,t,s,l,f){ul(t,l,"url",f),l.url&&i.layerId!=null&&(l.url=e1(l.url,s,i.layerId.toString()))}function LW(i){if(!i)return!1;const t=i.toLowerCase(),s=t.includes("/services/"),l=t.includes("/mapserver/wmsserver"),f=t.includes("/imageserver/wmsserver"),d=t.includes("/wmsserver");return s&&(l||f||d)}var qw;(function(i){i[i.Ok=0]="Ok",i[i.Units=1]="Units",i[i.HeightModel=2]="HeightModel",i[i.CRS=3]="CRS",i[i.Unsupported=4]="Unsupported"})(qw||(qw={}));function dR(i){var f;const t=i.url?Vm(i.url):void 0;return!(((f=i.spatialReference)==null?void 0:f.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&g7(i)&&i.heightModelInfo?i.heightModelInfo:yR(i)?Rm.deriveUnitFromSR(vR,i.spatialReference):null}function g7(i){return"heightModelInfo"in i}function _7(i){if(i.type==="unknown"||!("capabilities"in i))return!1;switch(i.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;case"imagery":case"map-image":case"map-notes":case"tile":case"vector-tile":case"scene":case null:return!1;default:return!1}}function yR(i){return _7(i)?!!(i.capabilities&&i.capabilities.data&&i.capabilities.data.supportsZ):S7(i)}function mR(i){return i.layers!=null||S7(i)||_7(i)||g7(i)}function S7(i){switch(i.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const vR=new Rm({heightModel:"gravity-related-height"});var Tf;(function(i){i[i.Global=1]="Global",i[i.Local=2]="Local"})(Tf||(Tf={}));let fp=null,Gy;async function wR(i){fp||(fp=pt(()=>import("./geometryServiceUtils-96bf801c.js"),[]).then(t=>Gy=t)),await fp,Le(i)}async function b7(i,t,s,l){if(!i)return null;const f=i.spatialReference;return ra()||zn(f,t)?Dl(i,t):Gy?Gy.projectGeometry(i,t,s,l):(await Promise.race([wR(l),sa(l)]),b7(i,t,s,l))}let le=class extends Et{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Lh(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference!=null?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var l,f,d,v;const t=(l=this.map)==null?void 0:l.call(this),s=[];return this.priorityCollection!=null&&s.push(this.priorityCollection),s.push({parent:t==null?void 0:t.basemap,layers:(f=t==null?void 0:t.basemap)==null?void 0:f.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(d=t==null?void 0:t.ground)==null?void 0:d.layers},{parent:t==null?void 0:t.basemap,layers:(v=t==null?void 0:t.basemap)==null?void 0:v.referenceLayers}),s}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:s}=this._allLayers;let l=null;for(const d of t){const v=this._getSupportedSpatialReferences(d);if(v.length>0){const w=this._narrowDownSpatialReferenceCandidates(l,v);w!=null&&(l=w)}if(l!=null&&l.length===1)break}if(s&&(l==null||l.length!==1))return{updating:!0};const f=this._pickSpatialReferenceCandidate(l);return{spatialReference:f!=null?f.spatialReference:null,viewingMode:f!=null?f.viewingMode:null,updating:!1}}get _tileInfoTask(){var l,f,d,v,w,T,M;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:s}=this._collectLayers([{parent:(f=(l=this.map)==null?void 0:l.call(this))==null?void 0:f.basemap,layers:(w=(v=(d=this.map)==null?void 0:d.call(this))==null?void 0:v.basemap)==null?void 0:w.baseLayers},{layers:(M=(T=this.map)==null?void 0:T.call(this))==null?void 0:M.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const I=t[0].tileInfo;return{tileInfo:I&&I.spatialReference.equals(this.spatialReference)?I:null,updating:!1}}return{updating:s}}get _heightModelInfoTask(){var l,f,d;if(!this.required.heightModelInfo||this.suspended&&((l=this._get("_heightModelInfoTask"))!=null&&l.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:s}=this._allLayers;for(const v of t)if(mR(v)){const w=dR(v);if(w)return{heightModelInfo:w,vcsWkid:(f=v.spatialReference)==null?void 0:f.vcsWkid,latestVcsWkid:(d=v.spatialReference)==null?void 0:d.latestVcsWkid,updating:!1}}return{updating:s}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,s=t.updating,l=[];for(const f of t.layers){const d="fullExtents"in f&&f.fullExtents||(f.fullExtent!=null?[f.fullExtent]:[]),v=this.requiresExtentInSpatialReference?null:d[0],w=d.find(T=>T.spatialReference.equals(this.spatialReference))??v;if(w)return{candidates:[{extent:w,layer:f}],updating:!1};if(this._getSupportedSpatialReferences(f).length>0)for(const T of d)l.push({extent:T,layer:f})}return{candidates:l,updating:s}}get _extentTask(){const{candidates:t,updating:s}=this._extentCandidatesTask;if(s)return{updating:s};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const l=this._pickExtentCandidate(t),f=this.spatialReference;return l.extent.equals(this._projectExtentTask.input)&&f.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Lh(this._projectExtentTask.task)),this._projectExtentTask={input:l.extent.clone(),output:null,spatialReference:f.clone(),task:E2(async d=>{try{const v=await b7(l.extent,f,"portalItem"in l.layer?l.layer.portalItem:void 0,d);this._projectExtentTask={...this._projectExtentTask,task:null,output:v}}catch{if(Sr(d))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,s){if(t==null)return s;const l=[],f=(d,v)=>d!=null?v!=null?d===v?d:!1:d:v;for(const d of t)for(const v of s){if(!d.spatialReference.equals(v.spatialReference))continue;const w=f(d.viewingMode,v.viewingMode);if(w!==!1){l.push({spatialReference:d.spatialReference,viewingMode:w});break}}return l.length>0?l:null}_pickSpatialReferenceCandidate(t){const s=this.defaultSpatialReference;return t==null||t.length<1?s!=null?{spatialReference:s,viewingMode:null}:null:(s!=null&&t.length>1&&t.some(({spatialReference:l})=>l.equals(s))&&(t=t.filter(({spatialReference:l})=>l.equals(s))),t.length>1&&t.some(({viewingMode:l})=>l!==Tf.Local)&&(t=t.filter(({viewingMode:l})=>l!==Tf.Local)),t[0])}_getSupportedSpatialReferences(t){const s="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(s.length===0)return[];const l=[];for(const f of s){const d=this.getSpatialReferenceSupport({spatialReference:f,layer:t});if(d!=null){const v=d.constraints!=null?d.constraints:[{spatialReference:f,viewingMode:null}];for(const{spatialReference:w,viewingMode:T}of v)(!this.requiresExtentInSpatialReference||this.userSpatialReference==null||w.equals(this.userSpatialReference))&&l.push({spatialReference:w,viewingMode:T})}}return l}_pickExtentCandidate(t){const s=this.spatialReference;return t.find(({extent:l})=>s.equals(l.spatialReference))||t[0]}_collectLayers(t){var l;if(this._loadMaybe((l=this.map)==null?void 0:l.call(this))!=="loaded")return{layers:[],updating:!0};const s=new gR;for(const f of t)if(this._collectCollection(f,s),s.preloading===this.sourcePreloadCount)break;return{layers:s.layers,updating:s.updating}}_collectCollection(t,s){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":s.updating=!0,++s.preloading;return;case"failed":return}for(const l of t.layers){switch(this._loadMaybe(l)){case"failed":continue;case"loading":s.updating=!0,++s.preloading;break;case"loaded":s.updating||s.layers.push(l),"layers"in l&&this._collectCollection({layers:l.layers},s);break}if(s.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return!t||!("loadStatus"in t)||t.loadStatus==null?"loaded":t.loadStatus==="not-loaded"?(t.load().catch(s=>console.log(s)),"loading"):t.loadStatus}};E([A()],le.prototype,"required",void 0);E([A({constructOnly:!0})],le.prototype,"map",void 0);E([A({constructOnly:!0})],le.prototype,"getSpatialReferenceSupport",void 0);E([A()],le.prototype,"defaultSpatialReference",void 0);E([A()],le.prototype,"userSpatialReference",void 0);E([A()],le.prototype,"sourcePreloadCount",void 0);E([A()],le.prototype,"priorityCollection",void 0);E([A()],le.prototype,"requiresExtentInSpatialReference",void 0);E([A()],le.prototype,"suspended",void 0);E([A({readOnly:!0})],le.prototype,"ready",null);E([A({readOnly:!0})],le.prototype,"heightModelInfoReady",null);E([A({readOnly:!0})],le.prototype,"spatialReference",null);E([A({readOnly:!0})],le.prototype,"extent",null);E([A({readOnly:!0})],le.prototype,"heightModelInfo",null);E([A({readOnly:!0})],le.prototype,"vcsWkid",null);E([A({readOnly:!0})],le.prototype,"latestVcsWkid",null);E([A({readOnly:!0})],le.prototype,"viewingMode",null);E([A({readOnly:!0})],le.prototype,"tileInfo",null);E([A({readOnly:!0})],le.prototype,"mapCollections",null);E([A({readOnly:!0})],le.prototype,"_allLayers",null);E([A({readOnly:!0})],le.prototype,"_spatialReferenceTask",null);E([A({readOnly:!0})],le.prototype,"_tileInfoTask",null);E([A({readOnly:!0})],le.prototype,"_heightModelInfoTask",null);E([A({readOnly:!0})],le.prototype,"_extentCandidatesTask",null);E([A()],le.prototype,"_extentTask",null);E([A()],le.prototype,"_projectExtentTask",void 0);le=E([q("esri.views.support.DefaultsFromMap")],le);class gR{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}}var yh;let St=yh=class extends Lm(qn.EventedMixin(S2(Et))){constructor(t){super(t),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Vh({getCollections:()=>{var s,l,f;return[(s=this.basemapView)==null?void 0:s.baseLayerViews,(l=this.groundView)==null?void 0:l.layerViews,this.layerViews,(f=this.basemapView)==null?void 0:f.referenceLayerViews]},getChildrenFunction:SR}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new Mu,this.analyses=new vf,this.typeSpecificPreconditionsReady=!0,this.layerViews=new kt,this.magnifier=new a7,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new o7,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new uR,this.navigation=new d7,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new tR(this),this.persistableViewModels=new kt,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add(Ct(()=>this.preconditionsReady,s=>{var l,f;s?(this._currentSpatialReference=this.spatialReference,yh.views.add(this)):(this._currentSpatialReference=null,yh.views.remove(this)),this.notifyChange("spatialReference"),!s&&this.ready?((l=this.toolViewManager)==null||l.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(f=this.layerViewManager)==null||f.clear(),this._teardown()):s&&!this.ready&&(this._startup(),this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach())},gu))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,Sm(()=>this.ready)))),this.basemapView=new Gn({view:this}),this.layerViewManager=new JL({view:this,layerViewImporter:{importLayerView:t=>this.importLayerView(t),hasLayerViewModule:t=>this.hasLayerViewModule(t)},supportsGround:this.supportsGround}),this.toolViewManager=new oR({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([Ct(()=>this.initialExtentRequired,t=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:t},{sync:!0,initial:!0}),Ct(()=>this.ready,t=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=t,this.defaultsFromMap.userSpatialReference=t?this.spatialReference:this._userSpatialReference)},{sync:!0}),Ct(()=>this._userSpatialReference,t=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=t)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let t=null;this.handles.add([Ct(()=>{var s;return(s=this.defaultsFromMap)==null?void 0:s.ready},s=>{var f;const l=((f=this.map)==null?void 0:f.allLayers.length)>0;if(s&&!this.spatialReference&&l){if(t!=null)return;const d=Al(()=>t=Lh(t));t=E2(async v=>{try{await C9(this.spatialReferenceWarningDelay,null,v)}catch{return}finally{t=null}ct.getLogger(this.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(d,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){var t,s;this.destroyed||(yh.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=be(this.graphics),this.analyses=be(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),be(this.analysisViewManager),this.toolViewManager=be(this.toolViewManager),this.layerViewManager=be(this.layerViewManager),this.basemapView=be(this.basemapView),(t=this.groundView)==null||t.destroy(),(s=this.layerViews)==null||s.forEach(l=>l.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.removeAll(),this.map=be(this.map))}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ct.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var t;return(t=this.toolViewManager)==null?void 0:t.activeTool}set activeTool(t){this.toolViewManager&&(this.toolViewManager.activeTool=t)}get animation(){return this._get("animation")}set animation(t){this._set("animation",t)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new le({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:t=>this.getSpatialReferenceSupport(t),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(t){this._set("extent",t)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var t;return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!xn.isLoadable(this.map)||this.map.loaded)&&this.width!==0&&this.height!==0&&this.spatialReference&&this._validateSpatialReference(this.spatialReference)&&(this._currentSpatialReference||(t=this.defaultsFromMap)!=null&&t.ready)&&this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(t){const s=this._get("map");t!==s&&(t!=null&&t.destroyed&&(ct.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:t}),t=null),xn.isLoadable(t)&&t.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",t))}get spatialReference(){var s,l;let t=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return t&&((l=(s=this.defaultsFromMap)==null?void 0:s.required)!=null&&l.heightModelInfo)&&(t=t.clone(),t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),t}set spatialReference(t){const s=!oi(t,this._get("spatialReference"));this._set("_userSpatialReference",t),s&&(this._set("spatialReference",t),this._spatialReferenceChanged(t))}_spatialReferenceChanged(t){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get tools(){var t;return(t=this.toolViewManager)==null?void 0:t.tools}get initialExtent(){var t;return(t=this.defaultsFromMap)==null?void 0:t.extent}get cursor(){const t=this.toolViewManager?this.toolViewManager.cursor:null;return t??(this._cursor||"default")}set cursor(t){this._cursor=t,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(t){var s;return((s=this.layerViewManager)==null?void 0:s.whenLayerView(t))??Promise.reject()}getDefaultSpatialReference(){var t;return(t=this.defaultsFromMap)==null?void 0:t.spatialReference}getDefaultHeightModelInfo(){var t;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((t=this.defaultsFromMap)==null?void 0:t.heightModelInfo)??null}importLayerView(t){throw new mt("importLayerView() not implemented")}hasLayerViewModule(t){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(t){return this.getSpatialReferenceSupport({spatialReference:t})!=null}when(t,s){return this.isResolved()&&!this.ready&&ct.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(t,s)}forceReadyCycle(){this.ready&&(kn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(t){this.toolViewManager.tools.add(t),this.activeTool=t}tryFatalErrorRecovery(){this.fatalError=null}};St.views=new kt;E([A()],St.prototype,"_userSpatialReference",void 0);E([A()],St.prototype,"activeTool",null);E([A({readOnly:!0})],St.prototype,"allLayerViews",void 0);E([A()],St.prototype,"groundView",void 0);E([A()],St.prototype,"animation",null);E([A()],St.prototype,"basemapView",void 0);E([A()],St.prototype,"center",null);E([A({readOnly:!0})],St.prototype,"_defaultsFromMapSettings",null);E([A()],St.prototype,"defaultsFromMap",null);E([A()],St.prototype,"fatalError",void 0);E([A({type:pe})],St.prototype,"extent",null);E([A(n_(Mu,"graphics"))],St.prototype,"graphics",void 0);E([A(n_(vf,"analyses"))],St.prototype,"analyses",void 0);E([A({readOnly:!0,type:Rm})],St.prototype,"heightModelInfo",null);E([A({readOnly:!0})],St.prototype,"interacting",null);E([A({readOnly:!0})],St.prototype,"navigating",null);E([A({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],St.prototype,"preconditionsReady",null);E([A({readOnly:!0})],St.prototype,"typeSpecificPreconditionsReady",void 0);E([A({type:kt,readOnly:!0})],St.prototype,"layerViews",void 0);E([A()],St.prototype,"resolution",null);E([A({type:a7})],St.prototype,"magnifier",void 0);E([A({value:null,type:T4})],St.prototype,"map",null);E([A()],St.prototype,"padding",void 0);E([A({readOnly:!0})],St.prototype,"ready",void 0);E([A({type:fe})],St.prototype,"spatialReference",null);E([A()],St.prototype,"spatialReferenceWarningDelay",void 0);E([A()],St.prototype,"stationary",null);E([A({readOnly:!0})],St.prototype,"supportsGround",void 0);E([A({type:$O})],St.prototype,"timeExtent",void 0);E([A({type:o7,nonNullable:!0})],St.prototype,"timeReference",void 0);E([A()],St.prototype,"tools",null);E([A()],St.prototype,"toolViewManager",void 0);E([A({readOnly:!0})],St.prototype,"type",void 0);E([A({type:Number})],St.prototype,"scale",void 0);E([A({readOnly:!0})],St.prototype,"updating",void 0);E([A({readOnly:!0})],St.prototype,"initialExtentRequired",void 0);E([A({readOnly:!0})],St.prototype,"initialExtent",null);E([A()],St.prototype,"cursor",null);E([A({readOnly:!0})],St.prototype,"input",void 0);E([A({type:d7,nonNullable:!0})],St.prototype,"navigation",void 0);E([A()],St.prototype,"layerViewManager",void 0);E([A()],St.prototype,"analysisViewManager",void 0);E([A()],St.prototype,"width",void 0);E([A()],St.prototype,"height",void 0);E([A({readOnly:!0})],St.prototype,"resizing",void 0);E([A({value:null,readOnly:!0})],St.prototype,"size",null);E([A({readOnly:!0})],St.prototype,"suspended",void 0);E([A({readOnly:!0})],St.prototype,"viewEvents",void 0);E([A({readOnly:!0})],St.prototype,"persistableViewModels",void 0);E([A()],St.prototype,"_isValid",void 0);E([A()],St.prototype,"_readyCycleForced",void 0);E([A()],St.prototype,"_currentSpatialReference",void 0);St=yh=E([q("esri.views.View")],St);const _R=St;function SR(i){return i.layerViews}let Bn=class extends C0{constructor(t){super(t),this.state="running",this.target=null,this._dfd=null}initialize(){this.addResolvingPromise(new Promise((t,s)=>this._dfd={resolve:t,reject:s}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._dfd)==null||t.reject(new mt("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._dfd)==null||t.resolve())}update(t,s){s||(Vs(t)?s="waiting-for-target":s="running"),this._set("target",t),this._set("state",s)}};E([A({readOnly:!0})],Bn.prototype,"done",null);E([A({readOnly:!0,type:String})],Bn.prototype,"state",void 0);E([A()],Bn.prototype,"target",void 0);Bn=E([q("esri.views.ViewAnimation")],Bn);(function(i){i.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}})(Bn||(Bn={}));const Vy=Bn;function aa(i,t,s,l){const f=3*i,d=3*(s-i)-f,v=1-f-d,w=3*t,T=3*(l-t)-w,M=1-w-T;function I(V){return((v*V+d)*V+f)*V}function N(V){return((M*V+T)*V+w)*V}function R(V){return(3*v*V+2*d)*V+f}function F(V,W){let H,Y,it,Q,st,nt;for(it=V,nt=0;nt<8;nt++){if(Q=I(it)-V,Math.abs(Q)<W)return it;if(st=R(it),Math.abs(st)<1e-6)break;it=it-Q/st}if(H=0,Y=1,it=V,it<H)return H;if(it>Y)return Y;for(;H<Y;){if(Q=I(it),Math.abs(Q-V)<W)return it;V>Q?H=it:Y=it,it=(Y-H)*.5+H}return it}return function(W,H=1e-6){return N(F(W,H))}}const bR=/^cubic-bezier\((.*)\)/,er={};function TR(i){let t=er[i]||null;if(!t){const s=bR.exec(i);if(s){const l=s[1].split(",").map(f=>parseFloat(f.trim()));l.length===4&&!l.some(f=>isNaN(f))&&(t=aa.apply(aa,l))}}return t}er.ease=aa(.25,.1,.25,1);er.linear=aa(0,0,1,1);er.easeIn=er["ease-in"]=aa(.42,0,1,1);er.easeOut=er["ease-out"]=aa(0,0,.58,1);er.easeInOut=er["ease-in-out"]=aa(.42,0,.58,1);function kW(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function FW(i,t,s,l,f,d,v){return i[0]=t,i[1]=s,i[2]=l,i[3]=f,i[4]=d,i[5]=v,i}function T7(i,t){const s=t[0],l=t[1],f=t[2],d=t[3],v=t[4],w=t[5];let T=s*d-l*f;return T?(T=1/T,i[0]=d*T,i[1]=-l*T,i[2]=-f*T,i[3]=s*T,i[4]=(f*w-d*v)*T,i[5]=(l*v-s*w)*T,i):null}function zW(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=s[0],I=s[1],N=s[2],R=s[3],F=s[4],V=s[5];return i[0]=l*M+d*I,i[1]=f*M+v*I,i[2]=l*N+d*R,i[3]=f*N+v*R,i[4]=l*F+d*V+w,i[5]=f*F+v*V+T,i}function Bm(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=Math.sin(s),I=Math.cos(s);return i[0]=l*I+d*M,i[1]=f*I+v*M,i[2]=l*-M+d*I,i[3]=f*-M+v*I,i[4]=w,i[5]=T,i}function E7(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=s[0],I=s[1];return i[0]=l*M,i[1]=f*M,i[2]=d*I,i[3]=v*I,i[4]=w,i[5]=T,i}function Ef(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=s[0],I=s[1];return i[0]=l,i[1]=f,i[2]=d,i[3]=v,i[4]=l*M+d*I+w,i[5]=f*M+v*I+T,i}function ER(i,t){const s=Math.sin(t),l=Math.cos(t);return i[0]=l,i[1]=s,i[2]=-s,i[3]=l,i[4]=0,i[5]=0,i}function xR(i,t){return i[0]=t[0],i[1]=0,i[2]=0,i[3]=t[1],i[4]=0,i[5]=0,i}function x7(i,t){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=t[0],i[5]=t[1],i}function Ao(){return[1,0,0,1,0,0]}function xf(i,t){return i[0]=t[0],i[1]=t[1],i}function ni(i,t,s){return i[0]=t,i[1]=s,i}function MR(i,t,s){return i[0]=t[0]+s[0],i[1]=t[1]+s[1],i}function Mf(i,t,s){return i[0]=t[0]-s[0],i[1]=t[1]-s[1],i}function _1(i,t,s){return i[0]=t[0]*s,i[1]=t[1]*s,i}function Hm(i,t){const s=t[0]-i[0],l=t[1]-i[1];return Math.sqrt(s*s+l*l)}function Zw(i,t){const s=t[0]-i[0],l=t[1]-i[1];return s*s+l*l}function Xw(i){const t=i[0],s=i[1];return Math.sqrt(t*t+s*s)}function AR(i,t){return i[0]=-t[0],i[1]=-t[1],i}function Qw(i,t){const s=t[0],l=t[1];let f=s*s+l*l;return f>0&&(f=1/Math.sqrt(f),i[0]=t[0]*f,i[1]=t[1]*f),i}function PR(i,t){return i[0]*t[0]+i[1]*t[1]}function IR(i,t,s){const l=t[0]*s[1]-t[1]*s[0];return i[0]=i[1]=0,i[2]=l,i}function UW(i,t,s,l){const f=t[0],d=t[1];return i[0]=f+l*(s[0]-f),i[1]=d+l*(s[1]-d),i}function ys(i,t,s){const l=t[0],f=t[1];return i[0]=s[0]*l+s[2]*f+s[4],i[1]=s[1]*l+s[3]*f+s[5],i}function $W(i,t,s,l){const f=t[0]-s[0],d=t[1]-s[1],v=Math.sin(l),w=Math.cos(l);return i[0]=f*w-d*v+s[0],i[1]=f*v+d*w+s[1],i}const M7=Mf;function Ue(){return[0,0]}function CR(i,t){return[i,t]}function GW(i,t){return new Float64Array(i,t,2)}function OR(){return Ue()}const VW=OR(),A7=96,P7=39.37,NR=180/Math.PI;function I7(i){return i.wkid?i:i.spatialReference||fe.WGS84}function Wm(i,t){return t.type?ni(i,t.x,t.y):xf(i,t)}function C7(i){return Cl(i)}function Nh(i,t){const s=Math.max(1,t[0]),l=Math.max(1,t[1]);return Math.max(i.width/s,i.height/l)*$R(i.spatialReference)}async function mh(i,t,s,l){var w,T;let f;if(!i||Array.isArray(i)&&!i.length)return null;if(kt.isCollection(i)&&(i=i.toArray()),Array.isArray(i)&&i.length&&typeof i[0]=="object"){const M=i.every(R=>"attributes"in R),I=i.some(R=>!R.geometry);let N=i;if(M&&I&&t&&t.allLayerViews){const R=new Map;for(const H of i){const Y=H.layer,it=R.get(Y)||[],Q=H.attributes[Y.objectIdField];Q!=null&&it.push(Q),R.set(Y,it)}const F=[];R.forEach((H,Y)=>{const it=t.allLayerViews.find(Q=>Q.layer.id===Y.id);if(it&&"queryFeatures"in it){const Q=Y.createQuery();Q.objectIds=H,Q.returnGeometry=!0,F.push(it.queryFeatures(Q))}});const V=await Promise.all(F),W=[];for(const H of V)if(H&&H.features&&H.features.length)for(const Y of H.features)Y.geometry!=null&&W.push(Y.geometry);N=W}for(const R of N)l=await mh(R,t,s,l);return l}if(Array.isArray(i)&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number")f=new Pt(i);else if(i instanceof Zn)f=i;else if("geometry"in i){if(i.geometry)f=i.geometry;else if(i.layer){const M=i.layer,I=t.allLayerViews.find(N=>N.layer.id===M.id);if(I&&"queryFeatures"in I){const N=M.createQuery();N.objectIds=[i.attributes[M.objectIdField]],N.returnGeometry=!0;const R=await I.queryFeatures(N);f=(T=(w=R==null?void 0:R.features)==null?void 0:w[0])==null?void 0:T.geometry}}}if(f==null)return null;let d;if(f.type==="point"?d=new pe({xmin:f.x,ymin:f.y,xmax:f.x,ymax:f.y,spatialReference:f.spatialReference}):d=f.extent,!d)return null;!ra()&&!zn(d.spatialReference,s)&&await sa();const v=Dl(d,s);return v?(l?l=l.union(v):l=v,l):null}function LR(i){if(!(!i||Array.isArray(i)&&typeof i[0]=="number")&&(typeof i=="object"||Array.isArray(i)&&typeof i[0]=="object")){if("layer"in i&&i.layer&&i.layer.minScale&&i.layer.maxScale){const t=i.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(i)&&i.length&&i.every(t=>"layer"in t)){let t=0,s=0;for(const l of i){const f=l.layer;f&&f.minScale&&f.maxScale&&(t=f.minScale<t?f.minScale:t,s=f.maxScale>s?f.maxScale:s)}return t&&s?{min:t,max:s}:null}}}function pp(i,t){return oi(I7(i),t)?i:Dl(i,t)}async function RR(i,t){if(!i||!t)return new $r({targetGeometry:new Pt,scale:0,rotation:0});let s=t.spatialReference;const{constraints:l,padding:f,viewpoint:d,size:v}=t,w=f?v[0]-f.left-f.right:v[0],T=f?v[1]-f.top-f.bottom:v[1],M=[w,T];let I=null;i instanceof $r?I=i:i.viewpoint?I=i.viewpoint:i.target&&i.target.declaredClass==="esri.Viewpoint"&&(I=i.target);let N=null;I&&I.targetGeometry?N=I.targetGeometry:i instanceof pe?N=i:(i||i&&("center"in i||"extent"in i||"target"in i))&&(N=await mh(i.center,t,s)||await mh(i.extent,t,s)||await mh(i.target,t,s)||await mh(i,t,s)),!N&&d&&d.targetGeometry?N=d.targetGeometry:!N&&t.extent&&(N=t.extent),s||(s=I7(t.spatialReference||t.extent||N)),!ra()&&!oi(N.spatialReference,s)&&!zn(N,s)&&await sa();const R=pp(N.center??N,s);let F=0;if(I&&I.targetGeometry!=null&&I.targetGeometry.type==="point")F=I.scale;else if("scale"in i&&i.scale)F=i.scale;else if("zoom"in i&&i.zoom!==-1&&l&&l.effectiveLODs)F=l.zoomToScale(i.zoom);else if(Array.isArray(N)||N.type==="point"||N.type==="extent"&&N.width===0&&N.height===0){const Y=pp(t.extent,s);Y!=null?F=Nh(Y,M):F=t.extent?Nh(t.extent,M):d.scale}else F=Nh(pp(N.extent,s),M);const V=LR(i);V&&(V.min&&V.min>F?F=V.min:V.max&&V.max<F&&(F=V.max));let W=0;I?W=I.rotation:i.hasOwnProperty("rotation")?W=i.rotation:d&&(W=d.rotation);let H=new $r({targetGeometry:R,scale:F,rotation:W});return l&&(H=l.fit(H),l.constrainByGeometry(H),l.rotationEnabled||(H.rotation=W)),H}function Nr(i,t){const s=i.targetGeometry,l=t.targetGeometry;return s.x=l.x,s.y=l.y,s.spatialReference=l.spatialReference,i.scale=t.scale,i.rotation=t.rotation,i}function DR(i,t,s){return s?ni(i,(t[0]-s.right+s.left)*.5,(t[1]-s.bottom+s.top)*.5):_1(i,t,.5)}const jR=function(){const i=Ue();return function(s,l,f){const d=l.targetGeometry;Wm(i,d);const v=Ul(l)*.5;return s.xmin=i[0]-v*f[0],s.ymin=i[1]-v*f[1],s.xmax=i[0]+v*f[0],s.ymax=i[1]+v*f[1],s.spatialReference=d.spatialReference,s}}();function kR(i,t,s,l,f){return By(i,t,s.center),i.scale=Nh(s,l),f&&f.constraints&&f.constraints.constrain(i),i}function FR(i,t,s,l){return Ym(i,t,s,l),T7(i,i)}const O7=function(){const i=Ue();return function(s,l,f){return M7(s,GR(s,l),DR(i,l,f))}}(),zR=function(){const i=Ao(),t=Ue();return function(l,f,d,v){const w=Ul(f),T=Jm(f);return ni(t,w,w),xR(i,t),Bm(i,i,T),Ef(i,i,O7(t,d,v)),Ef(i,i,[0,v.top-v.bottom]),ni(l,i[4],i[5])}}();function Ul(i){return i.scale*UR(i.targetGeometry)}function UR(i){return i!=null&&ti(i.spatialReference)?1/(C7(i.spatialReference)*P7*A7):1}function Jm(i){return J5(i.rotation)||0}function $R(i){return ti(i)?C7(i)*P7*A7:1}function GR(i,t){return _1(i,t,.5)}const Km=function(){const i=Ue(),t=Ue(),s=Ue();return function(l,f,d,v,w,T){return AR(i,f),_1(t,d,.5*T),ni(s,1/v*T,-1/v*T),x7(l,t),w&&Bm(l,l,w),E7(l,l,s),Ef(l,l,i),l}}(),Ym=function(){const i=Ue();return function(t,s,l,f){const d=Ul(s),v=Jm(s);return Wm(i,s.targetGeometry),Km(t,i,l,d,v,f)}}(),VR=function(){const i=Ue();return function(t,s,l,f){const d=Ul(s);return Wm(i,s.targetGeometry),Km(t,i,l,d,0,f)}}();function BR(i){const t=Ss(i);return t?t.valid[1]-t.valid[0]:0}function HR(i,t){return Math.round(BR(i)/t)}const WR=function(){const i=Ue(),t=Ue(),s=[0,0,0];return function(l,f,d){Mf(i,l,f),Qw(i,i),Mf(t,l,d),Qw(t,t),IR(s,i,t);let v=Math.acos(PR(i,t)/(Xw(i)*Xw(t)))*NR;return s[2]<0&&(v=-v),isNaN(v)&&(v=0),v}}(),JR=function(){const i=Ue();return function(s,l,f,d){const v=s.targetGeometry;return Nr(s,l),zR(i,l,f,d),v.x+=i[0],v.y+=i[1],s}}(),By=function(){return function(t,s,l){Nr(t,s);const f=t.targetGeometry;return f.x=l.x,f.y=l.y,f.spatialReference=l.spatialReference,t}}(),KR=function(){const i=Ue();return function(s,l,f,d,v){v||(v="center"),M7(i,f,d),_1(i,i,.5);const w=i[0],T=i[1];switch(v){case"center":ni(i,0,0);break;case"left":ni(i,-w,0);break;case"top":ni(i,0,T);break;case"right":ni(i,w,0);break;case"bottom":ni(i,0,-T);break;case"top-left":ni(i,-w,T);break;case"bottom-left":ni(i,-w,-T);break;case"top-right":ni(i,w,T);break;case"bottom-right":ni(i,w,-T);break}return S1(s,l,i),s}}();function BW(i,t,s){return Nr(i,t),i.rotation+=s,i}function YR(i,t,s){return Nr(i,t),i.rotation=s,i}const qR=function(){const i=Ue();return function(s,l,f,d,v){return Nr(s,l),!isNaN(f)&&f!==0&&(L7(i,d,l,v),s.scale=l.scale*f,R7(i,i,s,v),S1(s,s,ni(i,i[0]-d[0],d[1]-i[1]))),s}}();function tg(i,t,s){return Nr(i,t),i.scale=s,i}const N7=function(){const i=Ue();return function(s,l,f,d,v,w){return Nr(s,l),!isNaN(f)&&f!==0&&(L7(i,v,l,w),s.scale=l.scale*f,s.rotation+=d,R7(i,i,s,w),S1(s,s,ni(i,i[0]-v[0],v[1]-i[1]))),s}}(),HW=function(){const i=Ue(),t=Ue();return function(l,f,d,v,w,T,M){return O7(t,T,M),MR(i,w,t),v?N7(l,f,d,v,i,T):qR(l,f,d,i,T)}}(),L7=function(){const i=Ao();return function(s,l,f,d){return ys(s,l,FR(i,f,d,1))}}(),R7=function(){const i=Ao();return function(s,l,f,d){return ys(s,l,Ym(i,f,d,1))}}(),S1=function(){const i=Ue(),t=Ao();return function(l,f,d){Nr(l,f);const v=Ul(f),w=l.targetGeometry;return ER(t,Jm(f)),E7(t,t,CR(v,v)),ys(i,d,t),w.x+=i[0],w.y+=i[1],l}}();class ZR{constructor(t,s,l,f){const d=t.targetGeometry,v=s.targetGeometry;f?typeof f=="string"&&(f=TR(f)||er.ease):f=er.ease,this.easing=f,this.duration=l,this.sCenterX=d.x,this.sCenterY=d.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=v.x,this.tCenterY=v.y,this.tScale=s.scale,this.tRotation=s.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,s){const l=this.easing(s);let f,d,v,w;s>=1?(f=this.tCenterX,d=this.tCenterY,v=this.tRotation,w=this.tScale):(f=this.sCenterX+l*this.dCenterX,d=this.sCenterY+l*this.dCenterY,v=this.sRotation+l*this.dRotation,w=this.sScale+l*this.dScale),t.targetGeometry.x=f,t.targetGeometry.y=d,t.scale=w,t.rotation=v}}let js=class extends Et{constructor(t){super(t),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=er.ease,this.view=null,this.viewpoint=new $r({targetGeometry:new Pt,scale:0,rotation:0}),this._updateTask=Qa({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=Me(this._updateTask)}animate(t,s,l){this.stop();const f=this.viewpoint;Nr(f,s),this.transition=new ZR(this.viewpoint,t.target,l&&l.duration||this.duration,l&&l.easing||this.easing);const d=()=>{var v,w;this.animation===t&&this._updateTask&&(t.state==="finished"&&((v=this.transition)==null||v.applyRatio(this.viewpoint,1),(w=this.view)!=null&&w.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(d,d),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,s){this.stop(),this.updateFunction=s,this.viewpoint=t;const l=new Vy({target:t.clone()}),f=()=>{this.animation===l&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return l.when(f,f),this._startTime=performance.now(),this._updateTask.resume(),this.animation=l,l}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var l,f;const s=this.animation;if(!s||s.state===Vy.State.STOPPED){this._updateTask.pause();return}if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else{const d=this.transition,v=performance.now()-this._startTime,w=v/d.duration,T=w>=1;d.applyRatio(this.viewpoint,w),T&&((l=this.animation)==null||l.finish())}(f=this.view)!=null&&f.state&&(this.view.state.viewpoint=this.viewpoint.clone())}};E([A()],js.prototype,"animation",void 0);E([A()],js.prototype,"duration",void 0);E([A()],js.prototype,"transition",void 0);E([A()],js.prototype,"easing",void 0);E([A()],js.prototype,"view",void 0);E([A()],js.prototype,"viewpoint",void 0);js=E([q("esri.views.2d.AnimationManager")],js);const XR=js;class QR{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{var w,T;if(this._updateRequested=!1,(w=this.view)!=null&&w.destroyed)return;const{basemapView:s,graphicsView:l,labelManager:f,layerViews:d,state:{id:v}}=this.view;s==null||s.baseLayerViews.forEach(this._updateLayerView,this),d.forEach(this._updateLayerView,this),s==null||s.referenceLayerViews.forEach(this._updateLayerView,this),f!=null&&(f.lastUpdateId!==v&&(f.viewChange(),f.lastUpdateId=v),f.updateRequested&&f.processUpdate(this._updateParameters)),l!=null&&(l.lastUpdateId!==v&&(l.viewChange(),l.lastUpdateId=v),l.updateRequested&&l.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),!this.animationInProgress&&!this._updateRequested&&((T=this._frameTaskHandle)==null||T.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=Ct(()=>t.stationary,s=>{this.stationary=s,this.requestFrame()}),this._frameTaskHandle=Qa(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached){this.requestUpdate();return}const s=this.view.state,l=t.lastUpdateId;(l==null||!this.stationary&&!t.moving)&&(t.moving=!0,t.moveStart()),l!==s.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=s.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function xe(){return Promise.all([pt(()=>import("./webglDeps-6c291ad6.js"),["assets/webglDeps-6c291ad6.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/ProgramTemplate-2b3ade94.js","assets/programUtils-ff2de00e.js","assets/NestedMap-d4ac5d57.js"]),pt(()=>import("./mapViewDeps-0e20c2ee.js"),["assets/mapViewDeps-0e20c2ee.js","assets/MagnifierPrograms-abe4b178.js","assets/_commonjsHelpers-725317a4.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/rasterizingUtils-af90df02.js","assets/pbf-6f2a85bf.js","assets/imageutils-94080b09.js","assets/Matcher-a4f08982.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/defaultsJSON-b396ba80.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/CircularArray-7e036143.js","assets/DisjointTimerQuery-0b864cc8.js","assets/throttle-9d01e8e8.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/diffUtils-d9e7d9d5.js","assets/lengthUtils-81eb77d2.js","assets/sizeVariableUtils-2914222a.js","assets/BufferPool-b8b7310b.js","assets/enums-977a0ba8.js","assets/programUtils-ff2de00e.js","assets/NestedMap-d4ac5d57.js","assets/RenderingContext-ceb42fb4.js","assets/OrderIndependentTransparency-01632ab9.js","assets/basicInterfaces-cc58f4ac.js","assets/doublePrecisionUtils-a59b69fa.js","assets/imageUtils-42075577.js","assets/GraphicsView2D-8ab2d351.js","assets/normalizeUtilsSync-3b2fe059.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/jsonUtils-d970b431.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/util-47df0d76.js","assets/normalizeUtils-ec352ded.js","assets/GraphicContainer-bfba6e68.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/TileContainer-6c7bda90.js","assets/vec3f32-ec4c3c20.js","assets/requestImageUtils-61b55775.js"])])}const rh=()=>xe().then(()=>pt(()=>import("./TileLayerView2D-683fba9a.js"),["assets/TileLayerView2D-683fba9a.js","assets/MagnifierPrograms-abe4b178.js","assets/_commonjsHelpers-725317a4.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/rasterizingUtils-af90df02.js","assets/pbf-6f2a85bf.js","assets/imageutils-94080b09.js","assets/Matcher-a4f08982.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/defaultsJSON-b396ba80.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/CircularArray-7e036143.js","assets/DisjointTimerQuery-0b864cc8.js","assets/throttle-9d01e8e8.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/diffUtils-d9e7d9d5.js","assets/lengthUtils-81eb77d2.js","assets/sizeVariableUtils-2914222a.js","assets/BufferPool-b8b7310b.js","assets/enums-977a0ba8.js","assets/OrderIndependentTransparency-01632ab9.js","assets/basicInterfaces-cc58f4ac.js","assets/GraphicsView2D-8ab2d351.js","assets/normalizeUtilsSync-3b2fe059.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/jsonUtils-d970b431.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/util-47df0d76.js","assets/normalizeUtils-ec352ded.js","assets/vec3f32-ec4c3c20.js","assets/imageUtils-019f35fb.js","assets/BitmapTileContainer-687a47a1.js","assets/Bitmap-3f82808a.js","assets/TileContainer-6c7bda90.js","assets/LayerView-665e2ba7.js","assets/HighlightGraphicContainer-a5eecda3.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/RefreshableLayerView-b38561aa.js","assets/drapedUtils-121606f1.js","assets/scaleUtils-ae3cce9f.js","assets/floorFilterUtils-0e56040f.js","assets/sublayerUtils-17ef553a.js","assets/popupUtils-da1d44fc.js"])),Aa=()=>xe().then(()=>pt(()=>import("./FeatureLayerView2D-077b88f4.js"),["assets/FeatureLayerView2D-077b88f4.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/FeatureEffect-9a976584.js","assets/jsonUtils-83529e2a.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/FeatureSet-b9324b47.js","assets/LayerView-665e2ba7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/utils-a566d6cf.js","assets/MaterialKey-6ab638aa.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/visualVariablesUtils-0ad0554c.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/featureFlags-b0a4f6c7.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/util-47df0d76.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/floorFilterUtils-0e56040f.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),eg={"base-dynamic":()=>xe().then(()=>pt(()=>import("./BaseDynamicLayerView2D-ad047d0d.js"),["assets/BaseDynamicLayerView2D-ad047d0d.js","assets/BitmapContainer-de3400d3.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/ExportStrategy-de84a72b.js","assets/Bitmap-3f82808a.js","assets/RefreshableLayerView-b38561aa.js"])),"base-tile":rh,"bing-maps":rh,csv:Aa,"geo-rss":()=>xe().then(()=>pt(()=>import("./GeoRSSLayerView2D-57b88f2c.js"),["assets/GeoRSSLayerView2D-57b88f2c.js","assets/jsonUtils-fcc69467.js","assets/UniqueValueRenderer-9d1002cf.js","assets/LegendOptions-0798b0b9.js","assets/diffUtils-d9e7d9d5.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/ColorStop-69649184.js","assets/jsonUtils-d970b431.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/DictionaryLoader-cef2ab61.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/FieldsIndex-19734375.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/FeatureSet-b9324b47.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/LayerView-665e2ba7.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/GraphicContainer-bfba6e68.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/VertexArrayObject-7008af40.js","assets/TileContainer-6c7bda90.js","assets/WGLContainer-d2b18033.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/vec3f32-ec4c3c20.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/devEnvironmentUtils-e2e22b53.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/clusterUtils-2ed109d6.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js"])),feature:Aa,geojson:Aa,graphics:()=>xe().then(()=>pt(()=>import("./GraphicsLayerView2D-34c834f9.js"),["assets/GraphicsLayerView2D-34c834f9.js","assets/LayerView-665e2ba7.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/GraphicContainer-bfba6e68.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/VertexArrayObject-7008af40.js","assets/TileContainer-6c7bda90.js","assets/WGLContainer-d2b18033.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/lengthUtils-81eb77d2.js","assets/vec3f32-ec4c3c20.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js"])),group:()=>xe().then(()=>pt(()=>import("./GroupLayerView2D-de4b291b.js"),["assets/GroupLayerView2D-de4b291b.js","assets/GroupContainer-d90b658c.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js"])),imagery:()=>xe().then(()=>pt(()=>import("./ImageryLayerView2D-6cd5a7a5.js"),["assets/ImageryLayerView2D-6cd5a7a5.js","assets/RasterVFDisplayObject-dcdf4e05.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/dataUtils-3558ceff.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/normalizeUtils-ec352ded.js","assets/HighlightGraphicContainer-a5eecda3.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/TileContainer-6c7bda90.js","assets/vec3f32-ec4c3c20.js","assets/BitmapContainer-de3400d3.js","assets/Bitmap-3f82808a.js","assets/ExportStrategy-de84a72b.js","assets/rasterProjectionHelper-99eeca2e.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),"imagery-tile":()=>xe().then(()=>pt(()=>import("./ImageryTileLayerView2D-bfcf36c4.js"),["assets/ImageryTileLayerView2D-bfcf36c4.js","assets/multidimensionalUtils-46b4a0fe.js","assets/RasterVFDisplayObject-dcdf4e05.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/dataUtils-3558ceff.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/rasterUtils-4ef424e9.js","assets/TiledDisplayObject-7318709e.js","assets/TileContainer-6c7bda90.js","assets/RawBlockCache-4a04694e.js","assets/rasterProjectionHelper-99eeca2e.js","assets/util-47df0d76.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/lengthUtils-81eb77d2.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),kml:()=>xe().then(()=>pt(()=>import("./KMLLayerView2D-911a0069.js"),["assets/KMLLayerView2D-911a0069.js","assets/kmlUtils-e622ede7.js","assets/jsonUtils-fcc69467.js","assets/UniqueValueRenderer-9d1002cf.js","assets/LegendOptions-0798b0b9.js","assets/diffUtils-d9e7d9d5.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/ColorStop-69649184.js","assets/jsonUtils-d970b431.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/DictionaryLoader-cef2ab61.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/FieldsIndex-19734375.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/FeatureSet-b9324b47.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/Bitmap-3f82808a.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/BitmapContainer-de3400d3.js","assets/WGLContainer-d2b18033.js","assets/VertexArrayObject-7008af40.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/GraphicContainer-bfba6e68.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/TileContainer-6c7bda90.js","assets/vec3f32-ec4c3c20.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/devEnvironmentUtils-e2e22b53.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/clusterUtils-2ed109d6.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/rasterProjectionHelper-99eeca2e.js","assets/RenderingContext-ceb42fb4.js","assets/programUtils-ff2de00e.js","assets/NestedMap-d4ac5d57.js","assets/OrderIndependentTransparency-01632ab9.js","assets/basicInterfaces-cc58f4ac.js","assets/doublePrecisionUtils-a59b69fa.js","assets/DisjointTimerQuery-0b864cc8.js","assets/rasterUtils-4ef424e9.js"])),"knowledge-graph":()=>xe().then(()=>pt(()=>import("./KnowledgeGraphLayerView2D-d9b583d5.js"),["assets/KnowledgeGraphLayerView2D-d9b583d5.js","assets/LayerView-665e2ba7.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js"])),"link-chart":()=>xe().then(()=>pt(()=>import("./KnowledgeGraphLayerView2D-d9b583d5.js"),["assets/KnowledgeGraphLayerView2D-d9b583d5.js","assets/LayerView-665e2ba7.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js"])),"knowledge-graph-sublayer":Aa,"map-image":()=>xe().then(()=>pt(()=>import("./MapImageLayerView2D-99b0a109.js"),["assets/MapImageLayerView2D-99b0a109.js","assets/BitmapContainer-de3400d3.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/normalizeUtils-ec352ded.js","assets/HighlightGraphicContainer-a5eecda3.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/TileContainer-6c7bda90.js","assets/vec3f32-ec4c3c20.js","assets/ExportStrategy-de84a72b.js","assets/Bitmap-3f82808a.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/ExportImageParameters-4cafc1a5.js","assets/floorFilterUtils-0e56040f.js","assets/sublayerUtils-17ef553a.js","assets/RefreshableLayerView-b38561aa.js","assets/drapedUtils-121606f1.js","assets/scaleUtils-ae3cce9f.js","assets/popupUtils-da1d44fc.js"])),"map-notes":()=>xe().then(()=>pt(()=>import("./MapNotesLayerView2D-819c683b.js"),["assets/MapNotesLayerView2D-819c683b.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/GroupContainer-d90b658c.js","assets/WGLContainer-d2b18033.js","assets/VertexArrayObject-7008af40.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/GraphicContainer-bfba6e68.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/TileContainer-6c7bda90.js","assets/lengthUtils-81eb77d2.js","assets/vec3f32-ec4c3c20.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js"])),media:()=>xe().then(()=>pt(()=>import("./MediaLayerView2D-c8753d40.js"),["assets/MediaLayerView2D-c8753d40.js","assets/UniqueValueRenderer-9d1002cf.js","assets/LegendOptions-0798b0b9.js","assets/diffUtils-d9e7d9d5.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/ColorStop-69649184.js","assets/jsonUtils-d970b431.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/jsonUtils-fcc69467.js","assets/DictionaryLoader-cef2ab61.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/FieldsIndex-19734375.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/perspectiveUtils-4573d3bc.js","assets/normalizeUtilsSync-3b2fe059.js","assets/normalizeUtilsCommon-99b04a51.js","assets/mat3f64-c33d428a.js","assets/MagnifierPrograms-abe4b178.js","assets/_commonjsHelpers-725317a4.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/rasterizingUtils-af90df02.js","assets/pbf-6f2a85bf.js","assets/imageutils-94080b09.js","assets/Matcher-a4f08982.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/defaultsJSON-b396ba80.js","assets/devEnvironmentUtils-e2e22b53.js","assets/CircularArray-7e036143.js","assets/DisjointTimerQuery-0b864cc8.js","assets/throttle-9d01e8e8.js","assets/ComputedAttributeStorage-55909c32.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/BufferPool-b8b7310b.js","assets/enums-977a0ba8.js","assets/OrderIndependentTransparency-01632ab9.js","assets/basicInterfaces-cc58f4ac.js","assets/GraphicsView2D-8ab2d351.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/clusterUtils-2ed109d6.js","assets/util-47df0d76.js","assets/normalizeUtils-ec352ded.js","assets/vec3f32-ec4c3c20.js","assets/LayerView-665e2ba7.js"])),"ogc-feature":()=>xe().then(()=>pt(()=>import("./OGCFeatureLayerView2D-ddc2e828.js"),["assets/OGCFeatureLayerView2D-ddc2e828.js","assets/FeatureLayerView2D-077b88f4.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/FeatureEffect-9a976584.js","assets/jsonUtils-83529e2a.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/FeatureSet-b9324b47.js","assets/LayerView-665e2ba7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/utils-a566d6cf.js","assets/MaterialKey-6ab638aa.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/visualVariablesUtils-0ad0554c.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/featureFlags-b0a4f6c7.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/util-47df0d76.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/floorFilterUtils-0e56040f.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),"open-street-map":rh,"oriented-imagery":Aa,route:()=>xe().then(()=>pt(()=>import("./RouteLayerView2D-20a69ea3.js"),["assets/RouteLayerView2D-20a69ea3.js","assets/Stop-1343f3b9.js","assets/LayerView-665e2ba7.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/GraphicContainer-bfba6e68.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/VertexArrayObject-7008af40.js","assets/TileContainer-6c7bda90.js","assets/WGLContainer-d2b18033.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/lengthUtils-81eb77d2.js","assets/vec3f32-ec4c3c20.js","assets/normalizeUtils-ec352ded.js","assets/normalizeUtilsCommon-99b04a51.js","assets/GraphicsView2D-8ab2d351.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/normalizeUtilsSync-3b2fe059.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/Matcher-a4f08982.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/util-47df0d76.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js"])),stream:()=>xe().then(()=>pt(()=>import("./StreamLayerView2D-4b4da2d5.js"),["assets/StreamLayerView2D-4b4da2d5.js","assets/FeatureSet-b9324b47.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/FeatureLayerView2D-077b88f4.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/FeatureEffect-9a976584.js","assets/jsonUtils-83529e2a.js","assets/Query-b9f237df.js","assets/LayerView-665e2ba7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/utils-a566d6cf.js","assets/MaterialKey-6ab638aa.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/visualVariablesUtils-0ad0554c.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/featureFlags-b0a4f6c7.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/util-47df0d76.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/floorFilterUtils-0e56040f.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),"subtype-group":()=>xe().then(()=>pt(()=>import("./SubtypeGroupLayerView2D-23e949e6.js"),["assets/SubtypeGroupLayerView2D-23e949e6.js","assets/FeatureEffect-9a976584.js","assets/jsonUtils-83529e2a.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/Query-b9f237df.js","assets/Field-9647a27a.js","assets/fieldType-b14303b4.js","assets/FeatureLayerView2D-077b88f4.js","assets/Container-bcbb5c7f.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/FeatureSet-b9324b47.js","assets/LayerView-665e2ba7.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/diffUtils-d9e7d9d5.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/defaultsJSON-b396ba80.js","assets/jsonUtils-d970b431.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/VertexElementDescriptor-24e04d97.js","assets/utils-a566d6cf.js","assets/MaterialKey-6ab638aa.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/visualVariablesUtils-0ad0554c.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/featureFlags-b0a4f6c7.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/sizeVariableUtils-2914222a.js","assets/lengthUtils-81eb77d2.js","assets/util-47df0d76.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/floorFilterUtils-0e56040f.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),tile:rh,"vector-tile":()=>xe().then(()=>pt(()=>import("./VectorTileLayerView2D-325c2a12.js"),["assets/VectorTileLayerView2D-325c2a12.js","assets/diffUtils-d9e7d9d5.js","assets/enums-977a0ba8.js","assets/Rect-df8ea165.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/pbf-6f2a85bf.js","assets/rasterizingUtils-af90df02.js","assets/floatRGBA-413bea01.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/VertexArrayObject-7008af40.js","assets/config-c06e4a6d.js","assets/TiledDisplayObject-7318709e.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/StyleDefinition-edaaf36e.js","assets/enums-eb6e4255.js","assets/color-3f29be9c.js","assets/VertexElementDescriptor-24e04d97.js","assets/TileContainer-6c7bda90.js","assets/WGLContainer-d2b18033.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/StyleRepository-b0e64f66.js","assets/colorUtils-6f72410e.js","assets/GeometryUtils-26dde58c.js","assets/LayerView-665e2ba7.js"])),video:()=>xe().then(()=>pt(()=>import("./VideoLayerView2D-c8cbbbff.js"),["assets/VideoLayerView2D-c8cbbbff.js","assets/LayerView-665e2ba7.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js"])),wcs:()=>xe().then(()=>pt(()=>import("./ImageryTileLayerView2D-bfcf36c4.js"),["assets/ImageryTileLayerView2D-bfcf36c4.js","assets/multidimensionalUtils-46b4a0fe.js","assets/RasterVFDisplayObject-dcdf4e05.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/dataUtils-3558ceff.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/rasterUtils-4ef424e9.js","assets/TiledDisplayObject-7318709e.js","assets/TileContainer-6c7bda90.js","assets/RawBlockCache-4a04694e.js","assets/rasterProjectionHelper-99eeca2e.js","assets/util-47df0d76.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/lengthUtils-81eb77d2.js","assets/popupUtils-da1d44fc.js","assets/RefreshableLayerView-b38561aa.js"])),"web-tile":rh,wfs:Aa,wms:()=>xe().then(()=>pt(()=>import("./WMSLayerView2D-e3328595.js"),["assets/WMSLayerView2D-e3328595.js","assets/BitmapContainer-de3400d3.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/LayerView-665e2ba7.js","assets/ExportStrategy-de84a72b.js","assets/Bitmap-3f82808a.js","assets/RefreshableLayerView-b38561aa.js","assets/commonProperties-ac9466c5.js","assets/ElevationInfo-3858b8bb.js","assets/lengthUtils-81eb77d2.js","assets/ExportWMSImageParameters-b724de17.js"])),wmts:()=>xe().then(()=>pt(()=>import("./WMTSLayerView2D-dacf0623.js"),["assets/WMTSLayerView2D-dacf0623.js","assets/imageUtils-019f35fb.js","assets/BitmapTileContainer-687a47a1.js","assets/Bitmap-3f82808a.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/_commonjsHelpers-725317a4.js","assets/definitions-3f56d206.js","assets/enums-08489827.js","assets/TextureDescriptor-ee3ba00a.js","assets/TiledDisplayObject-7318709e.js","assets/WGLContainer-d2b18033.js","assets/VertexArrayObject-7008af40.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/TileContainer-6c7bda90.js","assets/LayerView-665e2ba7.js","assets/RefreshableLayerView-b38561aa.js"])),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function tD(i){const t=i.declaredClass?i.declaredClass.slice(i.declaredClass.lastIndexOf(".")+1):"Unknown",s=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new mt(`${s}:view-not-supported`,`${t} is not supported in 2D`)}const ig={hasLayerViewModule:i=>eg[i.type]!=null,importLayerView:i=>{const t=eg[i.type];if(t==null)throw tD(i);return t(i)}};function eD(i,t){const{spatialReference:s}=t,l=[t.x,t.y];let f=Number.POSITIVE_INFINITY,d=0,v=0;const w=[0,0],T=i.type==="extent"?[[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]]]:i.rings;for(const M of T)for(let I=0;I<M.length-1;I++){mM(w,l,M,I);const N=Hm(l,w);N<f&&(f=N,d=w[0],v=w[1])}return{coordinate:new Pt({x:d,y:v,spatialReference:s}),distance:f}}var Hy;let la=Hy=class extends K2(Et){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Dl(this.geometry,this.spatialReference)}catch(t){return ct.getLogger(this.declaredClass).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,s){if(this.normalizedGeometry==null)return t;const l=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?r1(this.normalizedGeometry,l):L5(this.normalizedGeometry,l))return t;const{coordinate:d}=eD(this.normalizedGeometry,l);return d&&(t.targetGeometry=d),t}clone(){var t,s;return new Hy({geometry:(t=this.geometry)==null?void 0:t.clone(),spatialReference:(s=this.spatialReference)==null?void 0:s.clone()})}};E([A({constructOnly:!0})],la.prototype,"geometry",void 0);E([A({readOnly:!0})],la.prototype,"normalizedGeometry",null);E([A({constructOnly:!0})],la.prototype,"spatialReference",void 0);la=Hy=E([q("esri.views.2d.constraints.GeometryConstraint")],la);var Wy;let Ou=Wy=class extends K2(Et){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,s){return!this.enabled||!s||this.rotationEnabled||(t.rotation=s.rotation),t}clone(){return new Wy({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};E([A()],Ou.prototype,"enabled",void 0);E([A()],Ou.prototype,"rotationEnabled",void 0);Ou=Wy=E([q("esri.views.2d.constraints.RotationConstraint")],Ou);const D7=Ou;var Jy;let xi=Jy=class extends K2(Et){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let{lods:t,minScale:s,maxScale:l,minZoom:f,maxZoom:d}=this,v=-1,w=-1,T=!1,M=!1;if(s!==0&&l!==0&&s<l&&([s,l]=[l,s]),!t||!t.length){this._set("effectiveMinScale",s),this._set("effectiveMaxScale",l);return}t=t.map(N=>N.clone()),t.sort((N,R)=>R.scale-N.scale),t.forEach((N,R)=>N.level=R);let I;for(const N of t)!T&&s>0&&s>=N.scale&&(v=N.level,T=!0),!M&&l>0&&l>=N.scale&&(w=I?I.level:-1,M=!0),I=N;f===-1&&(f=s===0?0:v),d===-1&&(d=l===0?t.length-1:w),f=Math.max(f,0),f=Math.min(f,t.length-1),d=Math.max(d,0),d=Math.min(d,t.length-1),f>d&&([f,d]=[d,f]),s=t[f].scale,l=t[d].scale,t.splice(0,f),t.splice(d-f+1,t.length),t.forEach((N,R)=>{this._lodByScale[N.scale]=N,this._scales[R]=N.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",f),this._set("effectiveMaxZoom",d),this._set("effectiveMinScale",s),this._set("effectiveMaxScale",l)}constrain(t,s){if(s&&t.scale===s.scale)return t;const l=this.effectiveMinScale,f=this.effectiveMaxScale,d=t.targetGeometry,v=s&&s.targetGeometry,w=f!==0&&t.scale<f,T=l!==0&&t.scale>l;if(w||T){const M=T?l:f;if(s&&v){const I=(M-s.scale)/(t.scale-s.scale);d.x=v.x+(d.x-v.x)*I,d.y=v.y+(d.y-v.y)*I}t.scale=M}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const s=this.scaleToZoom(t.scale),l=Math.abs(s-Math.floor(s));return t.scale=this.zoomToScale(l>.99?Math.round(s):Math.floor(s)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t=t-this.effectiveMinZoom,t=Math.max(0,t);const s=this._scales;if(t<=0)return s[0];if(t>=s.length)return s[s.length-1];const l=Math.round(t-.5),f=Math.round(t);return s[f]+(f-t)*(s[l]-s[f])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const s=this._scales;let l,f;if(t>=s[0])return this.effectiveMinZoom;if(t<=s[s.length-1])return this.effectiveMaxZoom;for(let d=0;d<s.length-1;d++){if(l=s[d],f=s[d+1],f===t)return d+this.effectiveMinZoom+1;if(l>t&&f<t)return d+this.effectiveMinZoom+1-(t-f)/(l-f)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const s=this.scaleToZoom(t);return this.zoomToScale(Math.round(s))}snapToNextScale(t,s=.5){if(!this.effectiveLODs)return t*s;const l=Math.round(this.scaleToZoom(t));return this.zoomToScale(l+1)}snapToPreviousScale(t,s=2){if(!this.effectiveLODs)return t*s;const l=Math.round(this.scaleToZoom(t));return this.zoomToScale(l-1)}clone(){return new Jy({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]?this._lodByScale[t].scale:(t=this._scales.reduce((s,l)=>Math.abs(l-t)<=Math.abs(s-t)?l:s,this._scales[0]),this._lodByScale[t].scale)}};E([A({readOnly:!0})],xi.prototype,"effectiveLODs",void 0);E([A({readOnly:!0})],xi.prototype,"effectiveMinZoom",void 0);E([A({readOnly:!0})],xi.prototype,"effectiveMaxZoom",void 0);E([A({readOnly:!0})],xi.prototype,"effectiveMinScale",void 0);E([A({readOnly:!0})],xi.prototype,"effectiveMaxScale",void 0);E([A()],xi.prototype,"lods",void 0);E([A()],xi.prototype,"minZoom",void 0);E([A()],xi.prototype,"maxZoom",void 0);E([A()],xi.prototype,"minScale",void 0);E([A()],xi.prototype,"maxScale",void 0);E([A()],xi.prototype,"snapToZoom",void 0);xi=Jy=E([q("esri.views.2d.constraints.ZoomConstraint")],xi);const j7=xi,iD={base:null,key:"type",typeMap:{extent:pe,polygon:Nl}};let Ie=class extends Et{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){if(!t){this._set("geometry",null);return}this._set("geometry",t)}get version(){var t,s,l;return`${(t=this._zoom)==null?void 0:t.uid}/${(s=this._rotation)==null?void 0:s.uid}/${(l=this._geometry)==null?void 0:l.uid}`}get _defaultLODs(){var l,f,d;const t=(f=(l=this.view)==null?void 0:l.defaultsFromMap)==null?void 0:f.tileInfo,s=(d=this.view)==null?void 0:d.spatialReference;return t&&s&&t.spatialReference.equals(s)?t.lods:null}get _geometry(){var t;return new la({geometry:this.geometry,spatialReference:(t=this.view)==null?void 0:t.spatialReference})}get _rotation(){return new D7({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),s=this.lods||this._defaultLODs,l=this.minZoom,f=this.maxZoom,d=this.minScale,v=this.maxScale,w=this.snapToZoom;return t&&t.lods===s&&t.minZoom===l&&t.maxZoom===f&&t.minScale===d&&t.maxScale===v&&t.snapToZoom===w?t:new j7({lods:s,minZoom:l,maxZoom:f,minScale:d,maxScale:v,snapToZoom:w})}canZoomInTo(t){const s=this.effectiveMaxScale;return s===0||t>=s}canZoomOutTo(t){const s=this.effectiveMinScale;return s===0||t<=s}constrain(t,s){return this._zoom.constrain(t,s),this._rotation.constrain(t,s),this._geometry.constrain(t,s),t}constrainByGeometry(t){return this._geometry.constrain(t)}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};E([A({readOnly:!0})],Ie.prototype,"effectiveLODs",null);E([A({readOnly:!0})],Ie.prototype,"effectiveMinScale",null);E([A({readOnly:!0})],Ie.prototype,"effectiveMaxScale",null);E([A({readOnly:!0})],Ie.prototype,"effectiveMinZoom",null);E([A({readOnly:!0})],Ie.prototype,"effectiveMaxZoom",null);E([A({types:iD,value:null})],Ie.prototype,"geometry",null);E([A({type:[cn]})],Ie.prototype,"lods",void 0);E([A()],Ie.prototype,"minScale",void 0);E([A()],Ie.prototype,"maxScale",void 0);E([A()],Ie.prototype,"minZoom",void 0);E([A()],Ie.prototype,"maxZoom",void 0);E([A()],Ie.prototype,"rotationEnabled",void 0);E([A()],Ie.prototype,"snapToZoom",void 0);E([A()],Ie.prototype,"view",void 0);E([A({readOnly:!0})],Ie.prototype,"version",null);E([A()],Ie.prototype,"_defaultLODs",null);E([A({type:la})],Ie.prototype,"_geometry",null);E([A({type:D7})],Ie.prototype,"_rotation",null);E([A({readOnly:!0,type:j7})],Ie.prototype,"_zoom",null);Ie=E([q("esri.views.2d.MapViewConstraints")],Ie);const k7=Ie;function rD(){const i=new Float32Array(6);return i[0]=1,i[3]=1,i}function sD(i,t,s,l){const f=t[l],d=t[l+1];i[l]=s[0]*f+s[2]*d+s[4],i[l+1]=s[1]*f+s[3]*d+s[5]}function ZW(i,t,s,l=0,f=0,d=2){const v=f||t.length/d;for(let w=l;w<v;w++){const T=w*d;sD(i,t,s,T)}}function XW(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],i}function nD(i,t,s,l,f,d,v,w,T,M){return i[0]=t,i[1]=s,i[2]=l,i[3]=f,i[4]=d,i[5]=v,i[6]=w,i[7]=T,i[8]=M,i}function oD(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function QW(i,t){if(i===t){const s=t[1],l=t[2],f=t[5];i[1]=t[3],i[2]=t[6],i[3]=s,i[5]=t[7],i[6]=l,i[7]=f}else i[0]=t[0],i[1]=t[3],i[2]=t[6],i[3]=t[1],i[4]=t[4],i[5]=t[7],i[6]=t[2],i[7]=t[5],i[8]=t[8];return i}function tJ(i,t){const s=t[0],l=t[1],f=t[2],d=t[3],v=t[4],w=t[5],T=t[6],M=t[7],I=t[8],N=I*v-w*M,R=-I*d+w*T,F=M*d-v*T;let V=s*N+l*R+f*F;return V?(V=1/V,i[0]=N*V,i[1]=(-I*l+f*M)*V,i[2]=(w*l-f*v)*V,i[3]=R*V,i[4]=(I*s-f*T)*V,i[5]=(-w*s+f*d)*V,i[6]=F*V,i[7]=(-M*s+l*T)*V,i[8]=(v*s-l*d)*V,i):null}function eJ(i,t){const s=t[0],l=t[1],f=t[2],d=t[3],v=t[4],w=t[5],T=t[6],M=t[7],I=t[8];return i[0]=v*I-w*M,i[1]=f*M-l*I,i[2]=l*w-f*v,i[3]=w*T-d*I,i[4]=s*I-f*T,i[5]=f*d-s*w,i[6]=d*M-v*T,i[7]=l*T-s*M,i[8]=s*v-l*d,i}function aD(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=t[6],I=t[7],N=t[8],R=s[0],F=s[1],V=s[2],W=s[3],H=s[4],Y=s[5],it=s[6],Q=s[7],st=s[8];return i[0]=R*l+F*v+V*M,i[1]=R*f+F*w+V*I,i[2]=R*d+F*T+V*N,i[3]=W*l+H*v+Y*M,i[4]=W*f+H*w+Y*I,i[5]=W*d+H*T+Y*N,i[6]=it*l+Q*v+st*M,i[7]=it*f+Q*w+st*I,i[8]=it*d+Q*T+st*N,i}function rg(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=t[6],I=t[7],N=t[8],R=s[0],F=s[1];return i[0]=l,i[1]=f,i[2]=d,i[3]=v,i[4]=w,i[5]=T,i[6]=R*l+F*v+M,i[7]=R*f+F*w+I,i[8]=R*d+F*T+N,i}function lD(i,t,s){const l=t[0],f=t[1],d=t[2],v=t[3],w=t[4],T=t[5],M=t[6],I=t[7],N=t[8],R=Math.sin(s),F=Math.cos(s);return i[0]=F*l+R*v,i[1]=F*f+R*w,i[2]=F*d+R*T,i[3]=F*v-R*l,i[4]=F*w-R*f,i[5]=F*T-R*d,i[6]=M,i[7]=I,i[8]=N,i}function iJ(i,t,s){const l=s[0],f=s[1],d=s[2];return i[0]=l*t[0],i[1]=l*t[1],i[2]=l*t[2],i[3]=f*t[3],i[4]=f*t[4],i[5]=f*t[5],i[6]=d*t[6],i[7]=d*t[7],i[8]=d*t[8],i}function rJ(i,t,s){const l=s[0],f=s[1];return i[0]=l*t[0],i[1]=l*t[1],i[2]=l*t[2],i[3]=f*t[3],i[4]=f*t[4],i[5]=f*t[5],i}function sJ(i,t){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=t[0],i[7]=t[1],i[8]=1,i}function nJ(i,t){const s=t[0],l=t[1],f=t[2],d=t[3],v=t[4],w=t[5],T=t[6],M=t[7],I=t[8],N=t[9],R=t[10],F=t[11],V=t[12],W=t[13],H=t[14],Y=t[15],it=s*w-l*v,Q=s*T-f*v,st=s*M-d*v,nt=l*T-f*w,at=l*M-d*w,gt=f*M-d*T,wt=I*W-N*V,At=I*H-R*V,_t=I*Y-F*V,Nt=N*H-R*W,Mt=N*Y-F*W,zt=R*Y-F*H;let Tt=it*zt-Q*Mt+st*Nt+nt*_t-at*At+gt*wt;return Tt?(Tt=1/Tt,i[0]=(w*zt-T*Mt+M*Nt)*Tt,i[1]=(T*_t-v*zt-M*At)*Tt,i[2]=(v*Mt-w*_t+M*wt)*Tt,i[3]=(f*Mt-l*zt-d*Nt)*Tt,i[4]=(s*zt-f*_t+d*At)*Tt,i[5]=(l*_t-s*Mt-d*wt)*Tt,i[6]=(W*gt-H*at+Y*nt)*Tt,i[7]=(H*st-V*gt-Y*Q)*Tt,i[8]=(V*at-W*st+Y*it)*Tt,i):null}function oJ(i){const t=Gu(),s=i[0],l=i[1],f=i[2],d=i[3],v=i[4],w=i[5],T=i[6],M=i[7],I=i[8];return Math.abs(1-(s*s+d*d+T*T))<=t&&Math.abs(1-(l*l+v*v+M*M))<=t&&Math.abs(1-(f*f+w*w+I*I))<=t}function dp(){const i=new Float32Array(9);return i[0]=1,i[4]=1,i[8]=1,i}function aJ(i){const t=new Float32Array(9);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t}function lJ(i,t,s,l,f,d,v,w,T){const M=new Float32Array(9);return M[0]=i,M[1]=t,M[2]=s,M[3]=l,M[4]=f,M[5]=d,M[6]=v,M[7]=w,M[8]=T,M}function hD(){return new Float32Array(2)}function Nu(i,t){const s=new Float32Array(2);return s[0]=i,s[1]=t,s}function uD(){return hD()}function cD(){return Nu(1,1)}function fD(){return Nu(1,0)}function pD(){return Nu(0,1)}const hJ=uD(),uJ=cD();fD();pD();function dD(i){return i instanceof Float32Array&&i.length>=2}function yD(i){return Array.isArray(i)&&i.length>=2}function yp(i){return dD(i)||yD(i)}var Ky;const cs=[0,0];let Hn=Ky=class extends bt{constructor(t){super(t),this._viewpoint2D={center:Ue(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new pe,this.id=0,this.inverseTransform=Ao(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Ao(),this.transformNoRotation=Ao(),this.displayMat3=dp(),this.displayViewMat3=dp(),this.viewMat3=dp(),this.viewMat2d=rD(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const s=this._viewpoint2D,l=t.targetGeometry;s.center[0]=l.x,s.center[1]=l.y,s.rotation=t.rotation,s.scale=t.scale,s.spatialReference=l.spatialReference}this._update()}copy(t){const s=this.size,l=this.viewpoint;return!l||!s?(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])):(this.viewpoint=Nr(l,t.viewpoint),this._set("size",xf(s,t.size))),this._set("pixelRatio",t.pixelRatio),this}clone(){return new Ky({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,s,l){return yp(s)?ys(t,s,this.inverseTransform):(cs[0]=s,cs[1]=l,ys(t,cs,this.inverseTransform))}toScreen(t,s,l){return yp(s)?ys(t,s,this.transform):(cs[0]=s,cs[1]=l,ys(t,cs,this.transform))}toScreenNoRotation(t,s,l){return yp(s)?ys(t,s,this.transformNoRotation):(cs[0]=s,cs[1]=l,ys(t,cs,this.transformNoRotation))}getScreenTransform(t,s){const{center:l}=this._viewpoint2D,f=this._get("pixelRatio")||1,d=this._get("size");return Km(t,l,d,s,0,f),t}_update(){const{center:t,spatialReference:s,scale:l,rotation:f}=this._viewpoint2D,d=this._get("pixelRatio")||1,v=this._get("size"),w=new $r({targetGeometry:new Pt(t[0],t[1],s),scale:l,rotation:f});if(this._set("viewpoint",w),!v||!s||!l)return;this.resolution=Ul(w),this.rotation=f,this.scale=l,this.spatialReference=s,xf(this.center,t);const T=v[0]!==0?2/v[0]:0,M=v[1]!==0?-2/v[1]:0;nD(this.displayMat3,T,0,0,0,M,0,-1,1,1);const I=oD(this.viewMat3),N=Nu(v[0]/2,v[1]/2),R=Nu(-v[0]/2,-v[1]/2),F=J5(f);rg(I,I,N),lD(I,I,F),rg(I,I,R),aD(this.displayViewMat3,this.displayMat3,I);const V=x7(this.viewMat2d,N);return Bm(V,V,F),Ef(V,V,R),jR(this.extent,w,v),Ym(this.transform,w,v,d),T7(this.inverseTransform,this.transform),VR(this.transformNoRotation,w,v,d),this.worldScreenWidth=HR(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};E([A({readOnly:!0})],Hn.prototype,"id",void 0);E([A({value:1,json:{write:!0}})],Hn.prototype,"pixelRatio",null);E([A({json:{write:!0}})],Hn.prototype,"size",null);E([A()],Hn.prototype,"spatialReference",void 0);E([A({type:$r,json:{write:!0}})],Hn.prototype,"viewpoint",null);Hn=Ky=E([q("esri.views.2d.ViewState")],Hn);const sg=Hn;var Yy,qy;let ks=Yy=class extends Et{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new Yy({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};E([A()],ks.prototype,"left",void 0);E([A()],ks.prototype,"top",void 0);E([A()],ks.prototype,"right",void 0);E([A()],ks.prototype,"bottom",void 0);ks=Yy=E([q("esri.views.2d.PaddedViewState.Padding")],ks);let gl=qy=class extends sg{constructor(...t){super(...t),this.paddedViewState=new sg,this._updateContent=(()=>{const s=Ue();return()=>{const l=this._get("size"),f=this._get("padding");if(!l||!f)return;const d=this.paddedViewState;ni(s,f.left+f.right,f.top+f.bottom),Mf(s,l,s),xf(d.size,s);const v=d.viewpoint;v&&(this.viewpoint=v)}})(),this.addHandles(Ct(()=>[this.size,this.padding],()=>this._updateContent(),gu)),this.padding=new ks,this.size=[0,0]}set padding(t){this._set("padding",t||new ks)}set viewpoint(t){if(t){const s=t.clone();this.paddedViewState.viewpoint=t,JR(s,t,this._get("size"),this._get("padding"));const l=this._viewpoint2D,f=s.targetGeometry;l.center[0]=f.x,l.center[1]=f.y,l.rotation=s.rotation,l.scale=s.scale,l.spatialReference=f.spatialReference,this._update()}}clone(){return new qy({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};E([A()],gl.prototype,"paddedViewState",void 0);E([A({type:ks})],gl.prototype,"padding",null);E([A()],gl.prototype,"viewpoint",null);gl=qy=E([q("esri.views.2d.PaddedViewState")],gl);const mD=gl;class vD{constructor(t,s){this.item=t,this.controller=s,this.promise=null}}class F7{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new of(t.peeker),this.process=t.process;const s=t.scheduler;t.priority&&s&&(this._task=s.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=Me(this._schedule),this._task=Me(this._task)}get length(){return this._processingItems.size+this._queue.length}abort(t){const s=this._controllers.get(t);s&&s.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(s=>t.push(s)),this._controllers.clear(),t.forEach(s=>s.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((s,l)=>t(l))}get(t){const s=this._deferreds.get(t);return s?s.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,s){const l=this.get(t);if(l)return l;const f=new AbortController;let d=null;s&&(d=Ki(s,()=>f.abort()));const v=()=>{const I=this._processingItems.get(t);I&&I.controller.abort(),w(),M.reject(Te())},w=()=>{T.remove(),d!=null&&d.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},T=p2(f.signal,v),M=Es();return this._deferreds.set(t,M),this._controllers.set(t,f),M.promise.then(w,w),this._queue.push(t),this._scheduleNext(),M.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(s=>t.push(s)),this._processingItems.clear();for(const s of t)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=zu(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,s){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(s))}_processError(t,s){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(s))}_canProcessFulfillment(t){return!(!this._deferreds.get(t.item)||this._processingItems.get(t.item)!==t)}_process(t){if(t==null)return;let s;const l=new AbortController,f=new vD(t,l);this._processingItems.set(t,f);try{s=this.process(t,l.signal)}catch(d){this._processError(f,d)}Vs(s)?(f.promise=s,s.then(d=>this._processResult(f,d),d=>this._processError(f,d))):this._processResult(f,s)}get test(){return{update:t=>this.runTask(t)}}}function wD(i,t){return i.length=0,t.forEach(s=>i.push(s)),i}const mp=new Set,Dc=[],Pa=new Map,ng=[0,0];let Wn=class extends Et{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:s}=this;this._queue=new F7({concurrency:t,process:(l,f)=>{const d=this._keyToItem.get(l);return s(d,{signal:f})},peeker:l=>l.values().next().value})}destroy(){this.clear(),this._queue=be(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const s=typeof t=="string"?t:t.id;this._queue.abort(s)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const s=typeof t=="string"?t:t.id;return this.has(s)&&this._queue.isOngoing(s)}pause(){this._queue.pause()}push(t,s){const l=t.key.id+"-"+s;if(this.has(l))return this.get(l);const f=this._queue.push(l),d=()=>{this._keyToItem.delete(l),this.notifyChange("updating")};return this._keyToItem.set(l,t),f.then(d,d),this.notifyChange("updating"),f}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const s=this.tileInfoView;let l=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY;t.forEach(I=>{const N=this._keyToItem.get(I),R=this.tileInfoView.getTileScale(N.key);Pa.has(R)||(Pa.set(R,[]),l=Math.max(R,l),f=Math.min(R,f)),Pa.get(R).push(N.key),mp.add(R)});let d=this.state.scale;Pa.has(d)||(wD(Dc,mp),Dc.sort((I,N)=>I-N),d=Dc.reduce((I,N)=>Math.abs(N-d)<Math.abs(I-d)?N:I,Dc[0])),d=Math.min(d,l),d=Math.max(d,f);const v=Pa.get(d),w=s.getClosestInfoForScale(d),T=w.getColumnForX(this.state.center[0]),M=w.getRowForY(this.state.center[1]);return v.sort((I,N)=>{const R=w.denormalizeCol(I.col,I.world),F=w.denormalizeCol(N.col,N.world);return Math.sqrt((T-R)*(T-R)+(M-I.row)*(M-I.row))-Math.sqrt((T-F)*(T-F)+(M-N.row)*(M-N.row))}),mp.clear(),Pa.clear(),v[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const s=this.tileInfoView,l=this.state.center;let f=Number.POSITIVE_INFINITY,d;return t.forEach(v=>{const w=this._keyToItem.get(v);s.getTileCoords(ng,w.key);const T=Hm(ng,l);T<f&&(f=T,d=w.key)}),d.id}};E([A({constructOnly:!0})],Wn.prototype,"concurrency",void 0);E([A({constructOnly:!0})],Wn.prototype,"process",void 0);E([A()],Wn.prototype,"state",void 0);E([A({constructOnly:!0})],Wn.prototype,"strategy",void 0);E([A({constructOnly:!0})],Wn.prototype,"tileInfoView",void 0);E([A({readOnly:!0})],Wn.prototype,"updating",null);Wn=E([q("esri.views.2d.tiling.PagedTileQueue")],Wn);class Si{static getId(t,s,l,f){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${s}/${l}/${f}`}constructor(t,s,l,f){this.set(t,s,l,f)}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=this.row&4095,s=this.col&4095,l=this.level&63;return(this.world&3)<<30|s<<22|t<<8|l}acquire(t,s,l,f){this.set(t,s,l,f)}contains(t){const s=t.level-this.level;return s>=0&&this.row===t.row>>s&&this.col===t.col>>s&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Si(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,s,l,f){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[d,v,w,T]=t.split("/");this.level=parseFloat(d),this.row=parseFloat(v),this.col=parseFloat(w),this.world=parseFloat(T)}else this.level=+t,this.row=+s,this.col=+l,this.world=+f||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Si(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,s=this.row<<1,l=this.col<<1,f=this.world;return[new Si(t,s,l,f),new Si(t,s,l+1,f),new Si(t,s+1,l,f),new Si(t,s+1,l+1,f)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}Si.pool=new Gr(Si,null,null,25,50);function sn(i,t){return[i,t]}function oo(i,t,s){return i[0]=t,i[1]=s,i}function gD(i,t,s,l,f){return i[0]=t,i[1]=s,i[2]=l,i[3]=f,i}const hr=new Si("0/0/0/0");class qm{static create(t,s,l=null){const f=Ss(t.spatialReference),d=s.origin||sn(t.origin.x,t.origin.y),v=sn(t.size[0]*s.resolution,t.size[1]*s.resolution),w=sn(-1/0,-1/0),T=sn(1/0,1/0),M=sn(1/0,1/0);l!=null&&(oo(w,Math.max(0,Math.floor((l.xmin-d[0])/v[0])),Math.max(0,Math.floor((d[1]-l.ymax)/v[1]))),oo(T,Math.max(0,Math.floor((l.xmax-d[0])/v[0])),Math.max(0,Math.floor((d[1]-l.ymin)/v[1]))),oo(M,T[0]-w[0]+1,T[1]-w[1]+1));const{cols:I,rows:N}=s;!l&&I&&N&&(oo(w,I[0],N[0]),oo(T,I[1],N[1]),oo(M,I[1]-I[0]+1,N[1]-N[0]+1));let R,F,V,W;return t.isWrappable?(R=sn(Math.ceil(Math.round((f.valid[1]-f.valid[0])/s.resolution)/t.size[0]),M[1]),F=sn(Math.floor((f.origin[0]-d[0])/v[0]),w[1]),V=sn(R[0]+F[0]-1,T[1]),W=!0):(F=w,V=T,R=M,W=!1),new qm(s.level,s.resolution,s.scale,d,w,T,M,v,F,V,R,W)}constructor(t,s,l,f,d,v,w,T,M,I,N,R){this.level=t,this.resolution=s,this.scale=l,this.origin=f,this.first=d,this.last=v,this.size=w,this.norm=T,this.worldStart=M,this.worldEnd=I,this.worldSize=N,this.wrap=R}normalizeCol(t){if(!this.wrap)return t;const s=this.worldSize[0];return t<0?s-1-Math.abs((t+1)%s):t%s}denormalizeCol(t,s){return this.wrap?this.worldSize[0]*s+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,s,l=!1){hr.set(s);const f=l?hr.col:this.denormalizeCol(hr.col,hr.world),d=hr.row;return gD(t,this.getXForColumn(f),this.getYForRow(d+1),this.getXForColumn(f+1),this.getYForRow(d)),t}getTileCoords(t,s,l=!1){hr.set(s);const f=l?hr.col:this.denormalizeCol(hr.col,hr.world);return Array.isArray(t)?oo(t,this.getXForColumn(f),this.getYForRow(hr.row)):(t.x=this.getXForColumn(f),t.y=this.getYForRow(hr.row)),t}}class _l{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,s){const{spans:l,lodInfo:f}=this,{level:d}=f;if(l.length!==0)for(const{row:v,colFrom:w,colTo:T}of l)for(let M=w;M<=T;M++)t.call(s,d,v,f.normalizeCol(M),f.getWorldForColumn(M))}}_l.pool=new Gr(_l);class vp{constructor(t,s,l){this.row=t,this.colFrom=s,this.colTo=l}}const ye=new Si("0/0/0/0");class Zm{static create(t,s){t[1]>s[1]&&([t,s]=[s,t]);const[l,f]=t,[d,v]=s,w=d-l,T=v-f,M=T!==0?w/T:0,I=(Math.ceil(f)-f)*M,N=(Math.floor(f)-f)*M;return new Zm(l,Math.floor(f),Math.ceil(v),M,w<0?I:N,w<0?N:I,w<0?d:l,w<0?l:d)}constructor(t,s,l,f,d,v,w,T){this.x=t,this.ymin=s,this.ymax=l,this.invM=f,this.leftAdjust=d,this.rightAdjust=v,this.leftBound=w,this.rightBound=T}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const Ai=[[0,0],[0,0],[0,0],[0,0]],_D=1e-6;class SD{constructor(t,s=null){this.tileInfo=t,this.fullExtent=s,this.scales=[],this._infoByScale={},this._infoByLevel={};const l=t.lods.slice();l.sort((d,v)=>v.scale-d.scale);const f=this._lodInfos=l.map(d=>qm.create(t,d,s));l.forEach((d,v)=>{this._infoByLevel[d.level]=f[v],this._infoByScale[d.scale]=f[v],this.scales[v]=d.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,s,l=!1){ye.set(s);const f=this._infoByLevel[ye.level];return f?f.getTileBounds(t,ye,l):t}getTileCoords(t,s,l=!1){ye.set(s);const f=this._infoByLevel[ye.level];return f?f.getTileCoords(t,ye,l):t}getTileCoverage(t,s=192,l="closest"){const f=l==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),d=_l.pool.acquire(f),v=this._wrap;let w,T=1/0,M=-1/0,I,N;const R=d.spans;Ai[0][0]=Ai[0][1]=Ai[1][1]=Ai[3][0]=-s,Ai[1][0]=Ai[2][0]=t.size[0]+s,Ai[2][1]=Ai[3][1]=t.size[1]+s;for(const H of Ai)t.toMap(H,H),H[0]=f.getColumnForX(H[0]),H[1]=f.getRowForY(H[1]);const F=[];let V=3;for(let H=0;H<4;H++){if(Ai[H][1]===Ai[V][1]){V=H;continue}const Y=Zm.create(Ai[H],Ai[V]);T=Math.min(Y.ymin,T),M=Math.max(Y.ymax,M),F[Y.ymin]===void 0&&(F[Y.ymin]=[]),F[Y.ymin].push(Y),V=H}if(T==null||M==null||M-T>100)return null;let W=[];for(w=T;w<M;){F[w]!=null&&(W=W.concat(F[w])),I=1/0,N=-1/0;for(let H=W.length-1;H>=0;H--){const Y=W[H];I=Math.min(I,Y.getLeftCol()),N=Math.max(N,Y.getRightCol())}if(I=Math.floor(I),N=Math.floor(N),w>=f.first[1]&&w<=f.last[1])if(!v)I>f.last[0]||N<f.first[0]||(I=Math.max(I,f.first[0]),N=Math.min(N,f.last[0]),R.push(new vp(w,I,N)));else if(f.size[0]<f.worldSize[0]){const H=Math.floor(N/f.worldSize[0]);for(let Y=Math.floor(I/f.worldSize[0]);Y<=H;Y++)R.push(new vp(w,Math.max(f.getFirstColumnForWorld(Y),I),Math.min(f.getLastColumnForWorld(Y),N)))}else R.push(new vp(w,I,N));w=w+1;for(let H=W.length-1;H>=0;H--){const Y=W[H];Y.ymax>=w?Y.incrRow():W.splice(H,1)}}return d}getTileParentId(t){ye.set(t);const s=this._infoByLevel[ye.level],l=this._lodInfos.indexOf(s)-1;return l<0?null:(this._getTileIdAtLOD(ye,this._lodInfos[l],ye),ye.id)}getTileResolution(t){const s=this._infoByLevel[typeof t=="object"?t.level:t];return s?s.resolution:-1}getTileScale(t){const s=this._infoByLevel[t.level];return s?s.scale:-1}intersects(t,s){ye.set(s);const l=this._infoByLevel[ye.level],f=t.lodInfo;if(f.resolution>l.resolution){this._getTileIdAtLOD(ye,f,ye);const w=f.denormalizeCol(ye.col,ye.world);for(const T of t.spans)if(T.row===ye.row&&T.colFrom<=w&&T.colTo>=w)return!0}if(f.resolution<l.resolution){const[w,T,M,I]=t.spans.reduce((H,Y)=>(H[0]=Math.min(H[0],Y.row),H[1]=Math.max(H[1],Y.row),H[2]=Math.min(H[2],Y.colFrom),H[3]=Math.max(H[3],Y.colTo),H),[1/0,-1/0,1/0,-1/0]),N=l.denormalizeCol(ye.col,ye.world),R=f.getColumnForX(l.getXForColumn(N)),F=f.getRowForY(l.getYForRow(ye.row)),V=f.getColumnForX(l.getXForColumn(N+1))-1,W=f.getRowForY(l.getYForRow(ye.row+1))-1;return!(R>I||V<M||F>T||W<w)}const d=f.denormalizeCol(ye.col,ye.world);return t.spans.some(w=>w.row===ye.row&&w.colFrom<=d&&w.colTo>=d)}normalizeBounds(t,s,l){if(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],this._wrap){const f=Ss(this.tileInfo.spatialReference),d=-l*(f.valid[1]-f.valid[0]);t[0]+=d,t[2]+=d}return t}getSmallestInfoForScale(t){const s=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>s[0])return this._infoByScale[s[0]];for(let l=1;l<s.length-1;l++)if(t>s[l]+_D)return this._infoByScale[s[l-1]];return this._infoByScale[s[s.length-1]]}getClosestInfoForScale(t){const s=this.scales;return this._infoByScale[t]?this._infoByScale[t]:(t=s.reduce((l,f)=>Math.abs(f-t)<Math.abs(l-t)?f:l,s[0]),this._infoByScale[t])}scaleToLevel(t){const s=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let l=s.length-1;l>=0;l--)if(t<s[l])return l===s.length-1?this._infoByScale[s[s.length-1]].level:this._infoByScale[s[l]].level+(s[l]-t)/(s[l]-s[l+1]);return this._infoByScale[s[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,s,l){const f=this._infoByLevel[l.level];return t.set(l),s.resolution<f.resolution?null:(s.resolution===f.resolution||(t.level=s.level,t.col=Math.floor(l.col*f.resolution/s.resolution+.01),t.row=Math.floor(l.row*f.resolution/s.resolution+.01)),t)}}function bD(i,t){return i.length=0,t.forEach(s=>i.push(s)),i}const wp=new Set,jc=[],Ia=new Map,og=[0,0];let Fs=class extends Et{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:s,strategy:l}=this;this._queue=new F7({concurrency:t,process:(f,d)=>{const v=this._keyToItem.get(f);return s(v,{signal:d})},peeker:l==="scale-first"?f=>this._peekByScaleFirst(f):f=>this._peekByCenterFirst(f)})}destroy(){this.clear(),this._queue=be(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const s=typeof t=="string"?t:t.id;this._queue.abort(s)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const s=typeof t=="string"?t:t.id;return this.has(s)&&this._queue.isOngoing(s)}pause(){this._queue.pause()}push(t){const s=t.key.id;if(this._queue.has(s))return this._queue.get(s);const l=this._queue.push(s),f=()=>{this._keyToItem.delete(s),this.notifyChange("updating")};return this._keyToItem.set(s,t),l.then(f,f),this.notifyChange("updating"),l}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const s=this.tileInfoView;let l=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY;t.forEach(I=>{const N=this._keyToItem.get(I),R=this.tileInfoView.getTileScale(N.key);Ia.has(R)||(Ia.set(R,[]),l=Math.max(R,l),f=Math.min(R,f)),Ia.get(R).push(N.key),wp.add(R)});let d=this.state.scale;Ia.has(d)||(bD(jc,wp),jc.sort((I,N)=>I-N),d=jc.reduce((I,N)=>Math.abs(N-d)<Math.abs(I-d)?N:I,jc[0])),d=Math.min(d,l),d=Math.max(d,f);const v=Ia.get(d),w=s.getClosestInfoForScale(d),T=w.getColumnForX(this.state.center[0]),M=w.getRowForY(this.state.center[1]);return v.sort((I,N)=>{const R=w.denormalizeCol(I.col,I.world),F=w.denormalizeCol(N.col,N.world);return Math.sqrt((T-R)*(T-R)+(M-I.row)*(M-I.row))-Math.sqrt((T-F)*(T-F)+(M-N.row)*(M-N.row))}),wp.clear(),Ia.clear(),v[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const s=this.tileInfoView,l=this.state.center;let f=Number.POSITIVE_INFINITY,d;return t.forEach(v=>{const w=this._keyToItem.get(v);s.getTileCoords(og,w.key);const T=Hm(og,l);T<f&&(f=T,d=w.key)}),d.id}};E([A({constructOnly:!0})],Fs.prototype,"concurrency",void 0);E([A({constructOnly:!0})],Fs.prototype,"process",void 0);E([A()],Fs.prototype,"state",void 0);E([A({constructOnly:!0})],Fs.prototype,"strategy",void 0);E([A({constructOnly:!0})],Fs.prototype,"tileInfoView",void 0);E([A({readOnly:!0})],Fs.prototype,"updating",null);Fs=E([q("esri.views.2d.tiling.TileQueue")],Fs);const mJ=Fs;class TD{constructor(t,s,l){this.maxSize=t,this._tileInfoView=s,this._removedFunc=l,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const s=this._tilePerId.get(t);if(!s)return;const l=s.key.level,f=this._tileKeysPerLevel[l];ag(this._tilePerId,t);for(let d=0;d<f.length;d++)if(f[d].id===t){f.splice(d,1);break}return s.visible=!0,s}add(t){t.visible=!1;const s=t.key,l=s.id;if(this._tilePerId.has(l))return;this._tilePerId.set(l,t);const f=s.level;this._tileKeysPerLevel[f]||(this._tileKeysPerLevel[f]=[]),this._tileKeysPerLevel[f].push(s)}prune(t,s,l){let f=this._tilePerId.size;if(f<=this.maxSize)return;let d=this._tileKeysPerLevel.length-1;for(;f>this.maxSize&&d>=0;)d!==t&&(f=this._pruneAroundCenterTile(f,s,l,d)),d--;f>this.maxSize&&(f=this._pruneAroundCenterTile(f,s,l,t))}_pruneAroundCenterTile(t,s,l,f){const d=this._tileKeysPerLevel[f];if(!d||d.length===0)return t;const{size:v,origin:w}=this._tileInfoView.tileInfo,T=l*v[0],M=l*v[1],I=[0,0],N=[0,0];for(d.sort((R,F)=>(I[0]=w.x+T*(R.col+.5),I[1]=w.y-M*(R.row+.5),N[0]=w.x+T*(F.col+.5),N[1]=w.y-M*(F.row+.5),Zw(I,s)-Zw(N,s)));d.length>0;){const R=d.pop();if(this._removeTile(R.id),t--,t===this.maxSize)break}return t}_removeTile(t){const s=this._tilePerId.get(t);this._removedFunc&&s&&this._removedFunc(s),ag(this._tilePerId,t)}}function ag(i,t){i.delete(t)}const ao=new Si(0,0,0,0),Ui=new Map,Ca=[],kc=[];class vJ{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new TD(t.cacheSize,this.tileInfoView,s=>{this.releaseTile(s)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:s,tileIndex:l}=this,f=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(kc.length=0,Ca.length=0,Ui.clear(),!f)return;const{minScale:d,maxScale:v}=this.tileInfoView.tileInfo,{spans:w,lodInfo:T}=f,{level:M}=T,{scale:I,center:N,resolution:R}=t.state,F=!t.stationary&&I>this._previousScale;if(this._previousScale=I,this.tiles.length=0,!s&&(I>d||I<v))return this.tiles.length=0,Ui.clear(),l.forEach(Y=>{this.releaseTile(Y)}),l.clear(),kc.length=0,Ca.length=0,Ui.clear(),_l.pool.release(f),!0;l.forEach(Y=>Y.visible=!0);let V=0,W=0;if(w.length>0)for(const{row:Y,colFrom:it,colTo:Q}of w)for(let st=it;st<=Q;st++){V++;const nt=ao.set(M,Y,T.normalizeCol(st),T.getWorldForColumn(st)).id;if(l.has(nt)){const at=l.get(nt);at.isReady?(Ui.set(nt,at),W++):F||this._addParentTile(nt,Ui)}else{let at;if(this._tileCache&&this._tileCache.has(nt)){if(at=this._tileCache.pop(nt),this.tileIndex.set(nt,at),at.isReady){Ui.set(nt,at),W++;continue}}else at=this.acquireTile(ao),this.tileIndex.set(nt,at);F||this._addParentTile(nt,Ui)}}const H=W===V;l.forEach((Y,it)=>{if(ao.set(it),Ui.has(it))return;const Q=this.tileInfoView.intersects(f,ao),st=this.cachePolicy==="purge"?ao.level!==M:ao.level>M;Q&&(F||!H)?Y.isReady?st&&this.cachePolicy==="purge"&&this._hasReadyAncestor(ao,M)?Ca.push(it):kc.push(it):st&&Ca.push(it):(st||!Q)&&Ca.push(it)});for(const Y of kc){const it=l.get(Y);it&&it.isReady&&Ui.set(Y,it)}for(const Y of Ca){const it=l.get(Y);this._tileCache?this._tileCache.add(it):this.releaseTile(it),l.delete(Y)}return Ui.forEach(Y=>this.tiles.push(Y)),l.forEach(Y=>{Ui.has(Y.key.id)||(Y.visible=!1)}),this._tileCache&&this._tileCache.prune(M,N,R),_l.pool.release(f),Ui.clear(),H}clear(t=!0){const{tileIndex:s}=this;t&&s.forEach(l=>{this.releaseTile(l)}),s.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,s){let l=t,f=null;for(;l=this.tileInfoView.getTileParentId(l),!!l;)if(this.tileIndex.has(l)){if(f=this.tileIndex.get(l),f&&f.isReady){s.has(f.key.id)||s.set(f.key.id,f);break}}else if(this._tileCache&&this._tileCache.has(l)&&(f=this._tileCache.pop(l),this.tileIndex.set(l,f),f&&f.isReady)){s.has(f.key.id)||s.set(f.key.id,f);break}}_hasReadyAncestor(t,s){const l=Wr();this.tileInfoView.getTileBounds(l,t,!0);for(const f of this.tileIndex.values())if(f.isReady&&f.key.level>=s&&f.key.level<t.level){const d=Wr();if(this.tileInfoView.getTileBounds(d,f.key,!0),CM(d,l))return!0}return!1}}function Xm(i,t){switch(t){case"primary":return i.pointerType==="touch"||i.button===0;case"secondary":return i.pointerType!=="touch"&&i.button===2;case"tertiary":return i.pointerType!=="touch"&&i.button===1}}class lg extends Ze{constructor(t,s){super(!0),this._view=t,this.registerIncoming("double-click",s,l=>this._handleDoubleClick(l,s))}_handleDoubleClick(t,s){Xm(t.data,"primary")&&(t.stopPropagation(),s?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class ED extends Ze{constructor(t,s,l){super(!0),this.view=t,this.pointerType=s,this.registerIncoming("double-tap-drag",l,f=>this._handleDoubleTapDrag(f))}_handleDoubleTapDrag(t){const{data:s}=t,{pointerType:l}=s;if(l!==this.pointerType)return;t.stopPropagation();const{action:f,delta:d}=s,{view:v}=this,{mapViewNavigation:w}=v;switch(f){case"begin":{const{scale:T}=v;this._startScale=T,this._currentScale=T,this._previousDelta=d,w.begin();break}case"update":{if(this._previousDelta.y===d.y)return;this._previousDelta=d;const T=1.015**d.y,M=this._startScale*T,I=M/this._currentScale;w.setViewpointImmediate(I),this._currentScale=M;break}case"end":{const{constraints:T}=v,{effectiveLODs:M,snapToZoom:I}=T;if(!I||!M){w.end();return}const N=T.snapScale(this._currentScale),F=(d.y>0?Math.max(N,T.snapToPreviousScale(this._startScale)):Math.min(N,T.snapToNextScale(this._startScale)))/this._currentScale;w.zoom(F);break}}}}class b1{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const s=t.data,l=s.pointers.size;switch(s.action){case"start":this._currentCount=l,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=l,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=l,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0;break}this._previousEvent=t}_emitStart(t){var s,l;this._startEvent=t,(l=(s=this._callbacks).condition)!=null&&l.call(s,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var s,l;(l=(s=this._callbacks).condition)!=null&&l.call(s,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var s,l;(l=(s=this._callbacks).condition)!=null&&l.call(s,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}}class xD extends Ze{constructor(t,s,l){super(!0),this.view=t,this.pointerAction=s,this.registerIncoming("drag",l,f=>this._handleDrag(f)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new b1({start:(s,l)=>{this.view.mapViewNavigation.pan.begin(this.view,l.data),l.stopPropagation()},update:(s,l)=>{this.view.mapViewNavigation.pan.update(this.view,l.data),l.stopPropagation()},end:(s,l)=>{this.view.mapViewNavigation.pan.end(this.view,l.data),l.stopPropagation()},condition:(s,l)=>s===1&&Xm(l.data,this.pointerAction)})}_handleDrag(t){const s=this.view.mapViewNavigation;if(s.pinch.zoomMomentum||s.pinch.rotateMomentum){this.stopMomentumNavigation();return}this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class MD extends Ze{constructor(t,s,l){super(!0),this._view=t,this.pointerAction=s;const f=this._view.mapViewNavigation;this._dragEventSeparator=new b1({start:(d,v)=>{f.rotate.begin(this._view,v.data),v.stopPropagation()},update:(d,v)=>{f.rotate.update(this._view,v.data),v.stopPropagation()},end:(d,v)=>{f.rotate.end(),v.stopPropagation()},condition:(d,v)=>d===1&&Xm(v.data,this.pointerAction)}),this.registerIncoming("drag",l,d=>this._dragEventSeparator.handle(d))}}function ur(i){let t=i*i;return i<0&&(t*=-1),t}function AD(i){return i.translation[0]=0,i.translation[1]=0,i.translation[2]=0,i.heading=0,i.tilt=0,i}function PD(i,t,s){const l=s,f=i.state,d=i.device,v=t.tiltDirection==="forward-down"?1:-1,w=1;return d.deviceType==="standard"?(l.translation[0]=ur(f.axes[0]),l.translation[1]=ur(f.axes[1]),l.translation[2]=ur(f.buttons[7])-ur(f.buttons[6]),l.heading=ur(f.axes[2]),l.tilt=ur(f.axes[3])):d.deviceType==="spacemouse"&&(l.translation[0]=1.2*ur(f.axes[0]),l.translation[1]=1.2*ur(f.axes[1]),l.translation[2]=2*-ur(f.axes[2]),l.heading=1.2*ur(f.axes[5]),l.tilt=1.2*ur(f.axes[3])),l.tilt*=v,Qx(l.translation,l.translation,w),l}function ID(i){return i.translation[0]===0&&i.translation[1]===0&&i.translation[2]===0&&i.heading===0&&i.tilt===0&&i.zoom===0}class CD extends Ze{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new $s,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",s=>this._handleGamePadEvent(s)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([Ct(()=>{var s;return(s=this._view.navigation.gamepad)==null?void 0:s.enabled},s=>{s?(this._handle.resume(),this._frameTask||(this._frameTask=Qa({update:l=>this._frameUpdate(l.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},ei)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const s=this._view.navigation.gamepad.device;s&&t.data.device!==s||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,AD(this._transformation)):(this._currentDevice=t.data.device,PD(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const s=this._transformation;if(ID(s))return;const l=this._view.viewpoint.clone(),f=this._view.navigation.gamepad.velocityFactor,d=ND*f*t;S1(l,l,[s.translation[0]*d,-s.translation[1]*d]);const v=1+s.translation[2]*LD*t,w=this._view.constraints.rotationEnabled?-s.heading*OD*t:0,T=this._view.size,M=[T[0]/2,T[1]];N7(l,l,v,w,M,T);const I=this._view.constraints.constrain(l,this._view.viewpoint);this._view.viewpoint=I}}const OD=.06,ND=.7,LD=6e-4;class RD extends Ze{constructor(t,s,l){super(!0),this.view=t,this.keys=s,this._pressed=!1,this._keyMap={[s.left]:"left",[s.right]:"right",[s.up]:"up",[s.down]:"down"},this.registerIncoming("key-down",l,f=>this._handleKeyDown(f)),this.registerIncoming("key-up",l,f=>this._handleKeyUp(f)),this.registerIncoming("blur",l,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,s){const l=this._keyMap[t.data.key];if(this._pressed=l!=null,this._pressed){if(s)switch(this.view.mapViewNavigation.begin(),l){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown();break}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class DD extends Ze{constructor(t,s,l){super(!0),this.view=t,this.keys=s,this._pressed=!1,this._keyToDirection={[s.clockwiseOption1]:"clockwise",[s.clockwiseOption2]:"clockwise",[s.counterClockwiseOption1]:"counterClockwise",[s.counterClockwiseOption2]:"counterClockwise",[s.resetOption1]:"reset",[s.resetOption2]:"reset"},this.registerIncoming("key-down",l,f=>this._handleKeyDown(f)),this.registerIncoming("key-up",l,f=>this._handleKeyUp(f)),this.registerIncoming("blur",l,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,s){const l=t.modifiers;if(l.size>0&&!l.has("Shift")||!this.view.constraints.rotationEnabled)return;const f=this._keyToDirection[t.data.key];if(this._pressed=f!=null,this._pressed){if(s)switch(this.view.mapViewNavigation.begin(),f){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation();break}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}var Va;(function(i){i[i.IN=0]="IN",i[i.OUT=1]="OUT"})(Va||(Va={}));class jD extends Ze{constructor(t,s,l){super(!0),this.view=t,this.keys=s,this._keysToZoomAction={},this.registerIncoming("key-down",l,f=>this._handleKeyDown(f)),s.zoomIn.forEach(f=>this._keysToZoomAction[f]=Va.IN),s.zoomOut.forEach(f=>this._keysToZoomAction[f]=Va.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const s=t.modifiers;if(s.size>0&&!s.has("Shift"))return;const{key:l}=t.data;if(!(l in this._keysToZoomAction))return;const f=this._keysToZoomAction[l],{mapViewNavigation:d}=this.view;let v=null;switch(f){case Va.IN:v=d.zoomIn();break;case Va.OUT:v=d.zoomOut();break;default:return}d.begin(),v.then(()=>d.end()),t.stopPropagation()}}const kD=.6;class FD extends Ze{constructor(t,s){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",s,l=>this._handleMouseWheel(l))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const s=this._view.mapViewNavigation,{x:l,y:f,deltaY:d}=t.data,v=1/kD**(1/60*d),w=s.zoom(v,[l,f]);w&&(this._canZoom=!1,w.catch(()=>{}).then(()=>{this._canZoom=!0,s.end()}))}}class zD extends Ze{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",l=>this._handleDrag(l)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const s=this.view.mapViewNavigation;this._dragEventSeparator=new b1({start:(l,f)=>{s.pinch.begin(this.view,f.data),f.stopPropagation()},update:(l,f)=>{s.pinch.update(this.view,f.data),f.stopPropagation()},end:(l,f)=>{s.pinch.end(this.view),f.stopPropagation()},condition:l=>l>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function hg(i){const t=i.native;return t?{buttons:t.buttons.map(s=>s.pressed?s.value||1:0),axes:t.axes.map(s=>GD(s,i.axisThreshold))}:{buttons:[],axes:[]}}function UD(i,t){if(i.axes.length!==t.axes.length||i.buttons.length!==t.buttons.length)return!1;for(let s=0;s<i.axes.length;s++)if(i.axes[s]!==t.axes[s])return!1;for(let s=0;s<i.buttons.length;s++)if(i.buttons[s]!==t.buttons[s])return!1;return!0}function $D(i){for(let t=0;t<i.axes.length;t++)if(i.axes[t]!==0)return!1;for(let t=0;t<i.buttons.length;t++)if(i.buttons[t]!==0)return!1;return!0}function GD(i,t){const s=Math.abs(i);return s<t?0:Math.sign(i)*(s-t)/(1-t)}class VD{constructor(t,s){this._element=t,this._input=s,this._hasEventListeners=!1;//!< wether we currently handle gamepad events in the browser
this._onConnectGamepad=d=>{this._connectGamepad(d.gamepad)},this._onDisconnectGamepad=d=>{const v=d.gamepad,w=v.index,T=this._inputDevices[w];T&&(this._emitGamepadEvent(v,hg(T),!1),this._inputDevices.splice(w,1),this._latestUpdate.splice(w,1),this._input.gamepad.devices.remove(T),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const l="getGamepads"in window.navigator,f=window.isSecureContext;this.supported=l&&f,this.supported&&(this._forEachGamepad(d=>this._connectGamepad(d)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const s=new Gm(t);s.deviceType!=="unknown"&&(this._inputDevices[t.index]=s,this._input.gamepad.devices.add(s)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Qa({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),s=this._element.contains(document.activeElement),l=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!s;this._forEachGamepad(f=>{const d=this._inputDevices[f.index];if(!d)return;const v=this._latestUpdate[f.index],w=hg(d),T=l||$D(w);v&&(v.timestamp===f.timestamp||!v.active&&T||UD(v.state,w))||this._emitGamepadEvent(f,w,!T)})}_forEachGamepad(t){const s=window.navigator.getGamepads();for(let l=0;l<s.length;l++){const f=s[l];this._validate(f)&&t(f)}}_emitGamepadEvent(t,s,l){const f=this._latestUpdate[t.index],d=f&&f.active;if(!d&&!l)return;const v=!d&&l?"start":d&&l?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:s,active:l},this._callback&&this._callback({device:this._inputDevices[t.index],state:s,action:v})}_validate(t){if(!t||!t.connected)return!1;for(let s=0;s<t.axes.length;s++)if(isNaN(t.axes[s]))return!1;return!0}}const ug=rt("edge"),BD=rt("chrome"),HD=rt("ff"),WD=rt("safari"),cg="esri-view-surface",Oa={touchNone:`${cg}--touch-none`,touchPan:`${cg}--touch-pan`};class T1{constructor(t,s){this._input=s,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new VD(t,this._input),this._gamepadSource.onEvent=l=>this._callback("gamepad",l)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=be(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const s in this._active)if(!t||!t.has(s)){const l=this._active[s];this._element.removeEventListener(gp[s],l),delete this._active[s]}t&&t.forEach(s=>{if(!this._active[s]&&gp[s]){const f=(this._eventHandlers[s]||this._handleDefault).bind(this,s);this._element.addEventListener(gp[s],f),this._active[s]=f}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,s){s?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Oa.touchNone:Oa.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Oa.touchPan:Oa.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Oa.touchNone),this._element.classList.remove(Oa.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,s){const l=f7(this._element,t);return T1.test.disableSubpixelCoordinates&&(l.x=Math.round(l.x),l.y=Math.round(l.y)),s.x=l.x,s.y=l.y,s}_handleKey(t,s){const l=MO(s);l&&t==="key-up"&&this._keyDownState.delete(l);const f={native:s,key:l,repeat:!!l&&this._keyDownState.has(l)};l&&t==="key-down"&&this._keyDownState.add(f.key),this._callback(t,f)}_handlePointer(t,s){const l=this._updateNormalizedPointerLikeEvent(s,{native:s,x:0,y:0,pointerType:s.pointerType,button:s.button,buttons:s.buttons,eventId:this._eventId++});this._callback(t,l)}_handlePointerPreventDefault(t,s){const l=this._updateNormalizedPointerLikeEvent(s,{native:s,x:0,y:0,pointerType:s.pointerType,button:s.button,buttons:s.buttons,eventId:this._eventId++});s.preventDefault(),this._callback(t,l)}_handleMouseWheel(t,s){let l=s.deltaY;switch(s.deltaMode){case 0:ug&&(l=l/document.documentElement.clientHeight*600);break;case 1:l*=30;break;case 2:l*=30*30;break}ug?l*=.7:BD||WD?l*=.6:HD&&(l*=1.375);const f=100,d=Math.abs(l);d>f&&(l=l/d*200/(1+Math.exp(-.02*(d-f))));const v=this._updateNormalizedPointerLikeEvent(s,{native:s,x:0,y:0,deltaY:l});this._callback(t,v)}_handlePointerCaptureLost(t,s){this._activePointerCaptures.delete(s.pointerId),this._handleDefault(t,s)}_handleDefault(t,s){const l={native:s};s.preventDefault(),this._callback(t,l)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}T1.test={disableSubpixelCoordinates:!1};const gp={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class JD extends Ze{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}function Qm(i,t){return Math.abs(t.x-i.x)+Math.abs(t.y-i.y)}function KD(i,t){const s=t.x-i.x,l=t.y-i.y;return Math.sqrt(s*s+l*l)}function YD(i,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:mi()},i.length===0)return t;if(i.length===1)return t.center.x=i[0].x,t.center.y=i[0].y,t;if(i.length===2){const[_t,Nt]=i,[Mt,zt]=[Nt.x-_t.x,Nt.y-_t.y];return t.radius=Math.sqrt(Mt*Mt+zt*zt)/2,t.center.x=(_t.x+Nt.x)/2,t.center.y=(_t.y+Nt.y)/2,t}let s=0,l=0;for(let _t=0;_t<i.length;_t++)s+=i[_t].x,l+=i[_t].y;s/=i.length,l/=i.length;const f=i.map(_t=>_t.x-s),d=i.map(_t=>_t.y-l);let v=0,w=0,T=0,M=0,I=0,N=0,R=0;for(let _t=0;_t<f.length;_t++){const Nt=f[_t],Mt=d[_t],zt=Nt*Nt,Tt=Mt*Mt;v+=zt,w+=Tt,T+=Nt*Mt,M+=zt*Nt,I+=Tt*Mt,N+=Nt*Tt,R+=Mt*zt}const F=v,V=T,W=T,H=w,Y=.5*(M+N),it=.5*(I+R),Q=F*H-W*V,st=Y*H-it*V,nt=F*it-W*Y,at=st/Q,gt=nt/Q,wt=mi(at+s,gt+l);return{radius:Math.sqrt(at*at+gt*gt+(v+w)/i.length),center:wt}}function Po(i){const{native:t}=i,{pointerId:s,button:l,pointerType:f}=t;return f==="mouse"?`${s}:${l}`:`${f}`}const Ji={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class qD extends Ze{constructor(t=Ji.maximumDoubleClickDelay,s=Ji.maximumDoubleClickDistance,l=Ji.maximumDoubleTouchDelay,f=Ji.maximumDoubleTouchDistance,d=Fu){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=s,this._maximumDoubleTouchDelay=l,this._maximumDoubleTouchDistance=f,this._clock=d,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Me(t.doubleClickTimer))}get hasPendingInputs(){return Xf(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,s){const l=this._pointerState.get(t);l&&(l.doubleClickTimer=Me(l.doubleClickTimer),s&&this._click.emit(l.event.data,void 0,l.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const s=this._pointerState.get(t);s.pointerDownCount===1&&this._click.emit(s.event.data,void 0,s.event.modifiers),s.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_getPointerId(t){const{pointerId:s,pointerType:l,button:f}=t.native;return l==="mouse"?`${s}:${f}`:`${l}`}_handleImmediateClick(t){const s=t.data,{pointerType:l}=s.native,f=this._getPointerId(s);if(!this._pointerState.has(f)){this._startClick(t);return}const d=this._pointerState.get(f),{data:v,modifiers:w}=d.event,T=l==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;Qm(v,s)>T?(this._clearDoubleClickTimer(f,!0),this._startClick(t)):(this._clearDoubleClickTimer(f,!1),d.pointerDownCount===2&&this._doubleClick.emit(v,void 0,w))}_handlePointerDown(t){const s=Po(t.data),l=this._pointerState.get(s);l&&(l.pointerDownCount+=1)}_startClick(t){const{data:s}=t,{native:{pointerType:l}}=s,f=Po(s),d=l==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,v=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(f),d),w=1;this._pointerState.set(f,{event:t,doubleClickTimer:v,pointerDownCount:w}),this.refreshHasPendingInputs()}}class ZD extends Ze{constructor(t=Ji.maximumDoubleClickDelay,s=Ji.maximumDoubleClickDistance,l=Ji.maximumDoubleTouchDelay,f=Ji.maximumDoubleTouchDistance,d=Fu){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=s,this._maximumDoubleTouchDelay=l,this._maximumDoubleTouchDistance=f,this._clock=d,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=mi(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new b1({start:(v,w)=>this._dragStart(v,w),update:(v,w)=>this._dragUpdate(w),end:(v,w)=>this._dragEnd(w)}),this.registerIncoming("drag",v=>this._dragEventSeparator.handle(v)),this.registerIncoming("pointer-down",v=>this._handlePointerDown(v)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Me(t.doubleTapTimeout)})}get hasPendingInputs(){return Xf(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const s=this._pointerState.get(t);s&&(s.doubleTapTimeout=Me(s.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,s,l){const{button:f,buttons:d,pointer:v,pointers:w,pointerType:T,timestamp:M}=l;return{action:t,delta:s,button:f,buttons:d,pointer:v,pointers:w,pointerType:T,timestamp:M}}_dragStart(t,s){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:l,modifiers:f}=s,{center:d}=l;this._dragStartCenter=d;const v=this._createDoubleTapDragData("begin",mi(0,0),l);this._doubleTapDrag.emit(v,void 0,f),s.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:s,modifiers:l}=t,{center:f}=s,d=mi(f.x-this._dragStartCenter.x,f.y-this._dragStartCenter.y),v=this._createDoubleTapDragData("update",d,s);this._doubleTapDrag.emit(v,void 0,l),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:s,modifiers:l}=t,{center:f}=s,d=mi(f.x-this._dragStartCenter.x,f.y-this._dragStartCenter.y),v=this._createDoubleTapDragData("end",d,s);this._doubleTapDrag.emit(v,void 0,l),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:s}=t,l=Po(s),f=this._pointerState.get(l),{pointerType:d}=s.native;if(!f)this._storePointerDown(t);else{const v=d==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(l),Qm(f.event.data,s)>v?this._storePointerDown(t):this._doubleTapDragReady=!0}}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:s}=t,{pointerType:l}=s.native,f=Po(s),d=l==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,v=this._clock.setTimeout(()=>this._clearPointerDown(f),d);this._pointerState.set(f,{event:t,doubleTapTimeout:v}),this.refreshHasPendingInputs()}}class XD extends Ze{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,s,l,f){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:s.buttons,timestamp:f,pointers:QD(this._activePointerMap),pointer:s,angle:l.angle,radius:l.radius,center:l.center}}_addPointer(t){const s=t.native.pointerId,l=Fc(this._activePointerMap).angle,f={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(s,f);const d=c0(f,z7(this._activePointerMap));f.initialAngle=d,f.lastAngle=d,this._updatePointerAngles(l)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const s=t.native.pointerId,l=this._activePointerMap.get(s);l?l.event=t:this._addPointer(t)}_removePointer(t){const s=Fc(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(s)}_updatePointerAngles(t){const s=Fc(this._activePointerMap);this._activePointerMap.forEach(l=>{l.initialAngle=c0(l,s)-t,l.lastAngle=c0(l,s)-t})}_emitEvent(t,s,l){const f=Fc(this._activePointerMap);this._drag.emit(this._createPayload(t,s,f,l),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const s=t.data.native.pointerId,l=t.timestamp;this._activePointerMap.get(s)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,l),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(s)):(this._removePointer(s),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const s=t.data,l=s.currentEvent,f=t.timestamp;switch(s.action){case"start":case"update":this._isDragging?this._activePointerMap.has(l.native.pointerId)?(this._updatePointer(l),!this._isCurrentDragSuppressed&&this._emitEvent("update",l,f)):(this._addPointer(l),this._emitEvent("added",l,f),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(l),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",l,f));break}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}}function z7(i){const t=[];return i.forEach(s=>{t.push(mi(s.event.x,s.event.y))}),YD(t)}function Fc(i){const t=z7(i);let s=0;return i.forEach(l=>{let f=c0(l,t),d=f-l.lastAngle;for(;d>Math.PI;)d-=2*Math.PI;for(;d<-Math.PI;)d+=2*Math.PI;f=l.lastAngle+d,l.lastAngle=f;const v=f-l.initialAngle;s+=v}),s/=i.size||1,{angle:s,radius:t.radius,center:t.center}}function QD(i){const t=new Map;return i.forEach((s,l)=>t.set(l,s.event)),t}function c0(i,t){const s=i.event,l=s.x-t.center.x,f=s.y-t.center.y;return Math.atan2(f,l)}var fg;(function(i){i[i.Left=0]="Left",i[i.Middle=1]="Middle",i[i.Right=2]="Right",i[i.Back=3]="Back",i[i.Forward=4]="Forward",i[i.Undefined=-1]="Undefined"})(fg||(fg={}));class tj extends Ze{constructor(t=Ji.maximumDoubleClickDelay,s=Ji.maximumDoubleClickDistance,l=Ji.maximumDoubleTouchDelay,f=Ji.maximumDoubleTouchDistance,d=Fu){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=s,this._maximumDoubleTouchDelay=l,this._maximumDoubleTouchDistance=f,this._clock=d,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const s=t.data,l=Po(s);if(!this._pointerState.has(l)){const f={downButton:s.native.button,immediateDoubleClick:null};this._pointerState.set(l,f),this.startCapturingPointer(s.native)}}_handlePointerUp(t){const s=t.data,l=Po(s),f=this._pointerState.get(l);if(f&&f.downButton===s.native.button){const d=f.immediateDoubleClick;if(!d)this._startImmediateDoubleClick(t,f);else{d.timeoutHandle.remove();const v=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;Qm(d,t.data)>v?this._startImmediateDoubleClick(t,f):(this._immediateDoubleClick.emit(t.data,void 0,d.modifiers),this._removeState(s))}}}_startImmediateDoubleClick(t,s){const l=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;s.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),l)}}_removeState(t){const s=Po(t);this._pointerState.delete(s),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const sh={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class ej extends Ze{constructor(t=sh.maximumClickDelay,s=sh.movementUntilMouseDrag,l=sh.movementUntilPenDrag,f=sh.movementUntilTouchDrag,d=sh.holdDelay,v=Fu){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=s,this._movementUntilPenDrag=l,this._movementUntilTouchDrag=f,this._holdDelay=d,this._clock=v,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",w=>{this._handlePointerLoss(w,"pointer-up")}),this.registerIncoming("pointer-capture-lost",w=>{this._handlePointerLoss(w,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",w=>{this._handlePointerLoss(w,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Me(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const s=t.data,l=s.native.pointerId;let f=null;this._pointerState.size===0&&(f=this._clock.setTimeout(()=>{const v=this._pointerState.get(l);if(v){if(!v.isDragging){const w=v.previousEvent;this._pointerHold.emit(w,void 0,t.modifiers),v.holdEmitted=!0}v.holdTimeout=null}},this._holdDelay));const d={startEvent:s,previousEvent:s,startTimestamp:t.timestamp,isDragging:!1,downButton:s.native.button,holdTimeout:f,modifiers:new Set};this._pointerState.set(l,d),this.startCapturingPointer(s.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,s,l){return{action:t,startEvent:s.startEvent,previousEvent:s.previousEvent,currentEvent:l}}_handlePointerMove(t){const s=t.data,l=s.native.pointerId,f=this._pointerState.get(l);if(f){if(f.isDragging)this._pointerDrag.emit(this._createPointerDragData("update",f,s),void 0,f.modifiers);else{const d=KD(s,f.startEvent),v=this._getDragThreshold(s.native.pointerType);d>v&&this._startDragging(t)}f.previousEvent=s}}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;case"mouse":default:return this._movementUntilMouseDrag}}_startDragging(t){const s=t.data,l=s.native.pointerId;this._pointerState.forEach(f=>{f.holdTimeout!=null&&(f.holdTimeout.remove(),f.holdTimeout=null),f.isDragging||(f.modifiers=t.modifiers,f.isDragging=!0,l===f.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",f,s)):this._pointerDrag.emit(this._createPointerDragData("start",f,f.previousEvent),t.timestamp))})}_handlePointerLoss(t,s){const l=t.data,f=l.native.pointerId,d=this._pointerState.get(f);d&&(d.holdTimeout!=null&&(d.holdTimeout.remove(),d.holdTimeout=null),d.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",d,s==="pointer-up"?l:d.previousEvent),void 0,d.modifiers):s==="pointer-up"&&d.downButton===l.native.button&&t.timestamp-d.startTimestamp<=this._maximumClickDelay&&!d.holdEmitted&&this._immediateClick.emit(l),this._pointerState.delete(f),this.stopCapturingPointer(l.native),this._pointerState.size===0&&this._moveHandle.pause())}}const zc={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let ha=class extends Et{constructor(){super(...arguments),this._handles=new $s}initialize(){const t=()=>{var s;return(s=this.view)==null?void 0:s.ready};this._handles.add([kn(()=>!t(),()=>this._disconnect()),kn(t,()=>this._connect())])}destroy(){this._handles=be(this._handles),this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=be(this._inputManager)}_connect(){const t=this.view.surface,s=new T1(t,this.view.input),l=[new tj,new ej,new qD,new XD(this.view.navigation),new ZD],f=new is({eventSource:s,recognizers:l});f.installHandlers("prevent-context-menu",[new JD],Tn.INTERNAL),f.installHandlers("navigation",[new zD(this.view),new CD(this.view),new FD(this.view),new lg(this.view),new lg(this.view,[zc.counter]),new xD(this.view,"primary"),new RD(this.view,zc.pan),new jD(this.view,zc.zoom),new DD(this.view,zc.rotate),new MD(this.view,"secondary"),new ED(this.view,"touch")],Tn.INTERNAL),this.view.viewEvents.connect(f),this._source=s,this._inputManager=f,Ct(()=>{var d,v;return(v=(d=this.view)==null?void 0:d.navigation)==null?void 0:v.browserTouchPanEnabled},d=>{this._source&&(this._source.browserTouchPanningEnabled=!d)},ei)}get test(){return{inputManager:this._inputManager}}};E([A()],ha.prototype,"view",void 0);E([A()],ha.prototype,"latestPointerType",null);E([A()],ha.prototype,"latestPointerLocation",null);E([A()],ha.prototype,"multiTouchActive",null);ha=E([q("esri.views.2d.input.MapViewInputManager")],ha);const ij=ha;var Zy={},rj={get exports(){return Zy},set exports(i){Zy=i}};(function(i){(function(t){{var s=t();s!==void 0&&(i.exports=s)}})(function(){function t(d,v,w,T,M){s(d,v,w||0,T||d.length-1,M||f)}function s(d,v,w,T,M){for(;T>w;){if(T-w>600){var I=T-w+1,N=v-w+1,R=Math.log(I),F=.5*Math.exp(2*R/3),V=.5*Math.sqrt(R*F*(I-F)/I)*(N-I/2<0?-1:1),W=Math.max(w,Math.floor(v-N*F/I+V)),H=Math.min(T,Math.floor(v+(I-N)*F/I+V));s(d,v,W,H,M)}var Y=d[v],it=w,Q=T;for(l(d,w,v),M(d[T],Y)>0&&l(d,w,T);it<Q;){for(l(d,it,Q),it++,Q--;M(d[it],Y)<0;)it++;for(;M(d[Q],Y)>0;)Q--}M(d[w],Y)===0?l(d,w,Q):(Q++,l(d,Q,T)),Q<=v&&(w=Q+1),v<=Q&&(T=Q-1)}}function l(d,v,w){var T=d[v];d[v]=d[w],d[w]=T}function f(d,v){return d<v?-1:d>v?1:0}return t})})(rj);const sj=Zy;function Af(i,t){if(!(this instanceof Af))return new Af(i,t);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}Af.prototype={all:function(){return this._all(this.data,[])},search:function(i){var t=this.data,s=[],l=this.toBBox;if(!$c(i,t))return s;for(var f=[],d,v,w,T;t;){for(d=0,v=t.children.length;d<v;d++)w=t.children[d],T=t.leaf?l(w):w,$c(i,T)&&(t.leaf?s.push(w):Sp(i,T)?this._all(w,s):f.push(w));t=f.pop()}return s},collides:function(i){var t=this.data,s=this.toBBox;if(!$c(i,t))return!1;for(var l=[],f,d,v,w;t;){for(f=0,d=t.children.length;f<d;f++)if(v=t.children[f],w=t.leaf?s(v):v,$c(i,w)){if(t.leaf||Sp(i,w))return!0;l.push(v)}t=l.pop()}return!1},load:function(i){if(!(i&&i.length))return this;if(i.length<this._minEntries){for(var t=0,s=i.length;t<s;t++)this.insert(i[t]);return this}var l=this._build(i.slice(),0,i.length-1,0);if(!this.data.children.length)this.data=l;else if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var f=this.data;this.data=l,l=f}this._insert(l,this.data.height-l.height-1,!0)}return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=ka([]),this},remove:function(i,t){if(!i)return this;for(var s=this.data,l=this.toBBox(i),f=[],d=[],v,w,T,M;s||f.length;){if(s||(s=f.pop(),w=f[f.length-1],v=d.pop(),M=!0),s.leaf&&(T=nj(i,s.children,t),T!==-1))return s.children.splice(T,1),f.push(s),this._condense(f),this;!M&&!s.leaf&&Sp(s,l)?(f.push(s),d.push(v),v=0,w=s,s=s.children[0]):w?(v++,s=w.children[v],M=!1):s=null}return this},toBBox:function(i){return i},compareMinX:pg,compareMinY:dg,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,t){for(var s=[];i;)i.leaf?t.push.apply(t,i.children):s.push.apply(s,i.children),i=s.pop();return t},_build:function(i,t,s,l){var f=s-t+1,d=this._maxEntries,v;if(f<=d)return v=ka(i.slice(t,s+1)),Na(v,this.toBBox),v;l||(l=Math.ceil(Math.log(f)/Math.log(d)),d=Math.ceil(f/Math.pow(d,l-1))),v=ka([]),v.leaf=!1,v.height=l;var w=Math.ceil(f/d),T=w*Math.ceil(Math.sqrt(d)),M,I,N,R;for(yg(i,t,s,T,this.compareMinX),M=t;M<=s;M+=T)for(N=Math.min(M+T-1,s),yg(i,M,N,w,this.compareMinY),I=M;I<=N;I+=w)R=Math.min(I+w-1,N),v.children.push(this._build(i,I,R,l-1));return Na(v,this.toBBox),v},_chooseSubtree:function(i,t,s,l){for(var f,d,v,w,T,M,I,N;l.push(t),!(t.leaf||l.length-1===s);){for(I=N=1/0,f=0,d=t.children.length;f<d;f++)v=t.children[f],T=_p(v),M=oj(i,v)-T,M<N?(N=M,I=T<I?T:I,w=v):M===N&&T<I&&(I=T,w=v);t=w||t.children[0]}return t},_insert:function(i,t,s){var l=this.toBBox,f=s?i:l(i),d=[],v=this._chooseSubtree(f,this.data,t,d);for(v.children.push(i),wh(v,f);t>=0&&d[t].children.length>this._maxEntries;)this._split(d,t),t--;this._adjustParentBBoxes(f,d,t)},_split:function(i,t){var s=i[t],l=s.children.length,f=this._minEntries;this._chooseSplitAxis(s,f,l);var d=this._chooseSplitIndex(s,f,l),v=ka(s.children.splice(d,s.children.length-d));v.height=s.height,v.leaf=s.leaf,Na(s,this.toBBox),Na(v,this.toBBox),t?i[t-1].children.push(v):this._splitRoot(s,v)},_splitRoot:function(i,t){this.data=ka([i,t]),this.data.height=i.height+1,this.data.leaf=!1,Na(this.data,this.toBBox)},_chooseSplitIndex:function(i,t,s){var l,f,d,v,w,T,M,I;for(T=M=1/0,l=t;l<=s-t;l++)f=vh(i,0,l,this.toBBox),d=vh(i,l,s,this.toBBox),v=aj(f,d),w=_p(f)+_p(d),v<T?(T=v,I=l,M=w<M?w:M):v===T&&w<M&&(M=w,I=l);return I},_chooseSplitAxis:function(i,t,s){var l=i.leaf?this.compareMinX:pg,f=i.leaf?this.compareMinY:dg,d=this._allDistMargin(i,t,s,l),v=this._allDistMargin(i,t,s,f);d<v&&i.children.sort(l)},_allDistMargin:function(i,t,s,l){i.children.sort(l);var f=this.toBBox,d=vh(i,0,t,f),v=vh(i,s-t,s,f),w=Uc(d)+Uc(v),T,M;for(T=t;T<s-t;T++)M=i.children[T],wh(d,i.leaf?f(M):M),w+=Uc(d);for(T=s-t-1;T>=t;T--)M=i.children[T],wh(v,i.leaf?f(M):M),w+=Uc(v);return w},_adjustParentBBoxes:function(i,t,s){for(var l=s;l>=0;l--)wh(t[l],i)},_condense:function(i){for(var t=i.length-1,s;t>=0;t--)i[t].children.length===0?t>0?(s=i[t-1].children,s.splice(s.indexOf(i[t]),1)):this.clear():Na(i[t],this.toBBox)},_initFormat:function(i){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(i[0])),this.compareMinY=new Function("a","b",t.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};function nj(i,t,s){if(!s)return t.indexOf(i);for(var l=0;l<t.length;l++)if(s(i,t[l]))return l;return-1}function Na(i,t){vh(i,0,i.children.length,t,i)}function vh(i,t,s,l,f){f||(f=ka(null)),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0;for(var d=t,v;d<s;d++)v=i.children[d],wh(f,i.leaf?l(v):v);return f}function wh(i,t){return i.minX=Math.min(i.minX,t.minX),i.minY=Math.min(i.minY,t.minY),i.maxX=Math.max(i.maxX,t.maxX),i.maxY=Math.max(i.maxY,t.maxY),i}function pg(i,t){return i.minX-t.minX}function dg(i,t){return i.minY-t.minY}function _p(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Uc(i){return i.maxX-i.minX+(i.maxY-i.minY)}function oj(i,t){return(Math.max(t.maxX,i.maxX)-Math.min(t.minX,i.minX))*(Math.max(t.maxY,i.maxY)-Math.min(t.minY,i.minY))}function aj(i,t){var s=Math.max(i.minX,t.minX),l=Math.max(i.minY,t.minY),f=Math.min(i.maxX,t.maxX),d=Math.min(i.maxY,t.maxY);return Math.max(0,f-s)*Math.max(0,d-l)}function Sp(i,t){return i.minX<=t.minX&&i.minY<=t.minY&&t.maxX<=i.maxX&&t.maxY<=i.maxY}function $c(i,t){return t.minX<=i.maxX&&t.minY<=i.maxY&&t.maxX>=i.minX&&t.maxY>=i.minY}function ka(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function yg(i,t,s,l,f){for(var d=[t,s],v;d.length;)s=d.pop(),t=d.pop(),!(s-t<=l)&&(v=t+Math.ceil((s-t)/l/2)*l,sj(i,v,t,s,f),d.push(t,v,v,s))}var Xy;const mg=new ii({upperLeft:"upper-left",lowerLeft:"lower-left"});let ua=Xy=class extends bt{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Xy(ht({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};E([A({type:pe,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],ua.prototype,"extent",void 0);E([A({type:["view","edit"],json:{write:!0}})],ua.prototype,"mode",void 0);E([A({type:String,json:{read:mg.read,write:mg.write}})],ua.prototype,"originPosition",void 0);E([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],ua.prototype,"tolerance",void 0);ua=Xy=E([q("esri.rest.support.QuantizationParameters")],ua);const lj=ua;class Pf{constructor(t,s){this.key=new Si(0,0,0,0),this.bounds=Wr(),this.objectIds=new Set,this.key.set(s);const l=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=l.resolution,this.scale=l.scale,this.level=l.level}get id(){return this.key.id}get extent(){return pe.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),s=yi.acquire();for(let l=0;l<t.length;l++)s[l]=new Pf(this.tileInfoView,t[l]);return s}getQuantizationParameters(){return lj.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}const lo={added:[],removed:[]},bp=new Set,hj=new Si(0,0,0,0);class uj extends qn{constructor(t){super(),this._tiles=new Map,this._index=Af(9,rt("esri-csp-restrictions")?s=>({minX:s.bounds[0],minY:s.bounds[1],maxX:s.bounds[2],maxY:s.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const s={added:[],removed:[]};for(const l of t.added)if(!this.has(l)){const f=new Pf(this.tileScheme,l);this._tiles.set(l,f),this._index.insert(f),s.added.push(f)}for(const l of t.removed)if(this.has(l)){const f=this.get(l);this._tiles.delete(l),this._index.remove(f),s.removed.push(f)}this.tiles.length=0,this._tiles.forEach(l=>this.tiles.push(l)),(s.added.length||s.removed.length)&&this.emit("update",s)}setViewState(t){const s=this.tileScheme.getTileCoverage(t,0);if(!s)return;const{spans:l,lodInfo:f}=s,{level:d}=f;if(l.length>0)for(const{row:v,colFrom:w,colTo:T}of l)for(let M=w;M<=T;M++){const I=hj.set(d,v,f.normalizeCol(M),f.getWorldForColumn(M)).id;if(bp.add(I),!this.has(I)){const N=new Pf(this.tileScheme,I);this._tiles.set(I,N),this._index.insert(N),this.tiles.push(N),lo.added.push(N)}}for(let v=this.tiles.length-1;v>=0;v--){const w=this.tiles[v];bp.has(w.id)||(this._tiles.delete(w.id),this.tiles.splice(v,1),this._index.remove(w),lo.removed.push(w))}(lo.added.length||lo.removed.length)&&this.emit("update",lo),_l.pool.release(s),bp.clear(),lo.added.length=0,lo.removed.length=0}}let ca=class extends Et{constructor(){super(...arguments),this.color=new ae([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity}};E([A({type:ae})],ca.prototype,"color",void 0);E([A({type:ae})],ca.prototype,"haloColor",void 0);E([A()],ca.prototype,"haloOpacity",void 0);E([A()],ca.prototype,"fillOpacity",void 0);ca=E([q("esri.views.2d.support.HighlightOptions")],ca);const U7=ca,cj=i=>i.includes("Brush");class $7{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),cj(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}function fj(i,t,s,l,f,d,v,w){i.ignorePadding&&(l={left:0,right:0,top:0,bottom:0});let T=null;i.width!=null&&i.height!=null?T=[i.width,i.height]:i.width==null&&i.height!=null?T=[i.height,i.height]:i.width!=null&&i.height==null?T=[i.width,i.width]:i.width==null&&i.height==null&&(T=null);const M=s[0]-(l.left+l.right),I=s[1]-(l.top+l.bottom);let N=i.area||{x:0,y:0,width:M,height:I};if(T){const W=M/I,H=T[0]/T[1];if(H>W){const Y=N.width/H;N={x:N.x,y:Math.round(N.y+(N.height-Y)/2),width:N.width,height:Math.round(Y)}}else{const Y=N.height*H;N={x:Math.round(N.x+(N.width-Y)/2),y:N.y,width:Math.round(Y),height:N.height}}}else T=[N.width,N.height];let R,F;return T[0]>N.width?(R=Math.min(T[0]/N.width,t),F=T[0]/N.width/R):(R=1,F=T[0]/N.width),{resolutionScale:R,cropArea:{x:Math.round((N.x+l.left)*R),y:Math.round((N.y+l.top)*R),width:Math.round(N.width*R),height:Math.round(N.height*R)},outputScale:F,format:f,quality:d,children:v,rotation:w}}function pj(i,t,s){const{ctx:l,canvas:f}=G7(i,s),d=l.getImageData(0,0,i.width,i.height),v=mj(f,t);return V7(f),{dataUrl:v,data:d}}function dj(i,t){const{ctx:s,canvas:l}=G7(i,t),f=s.getImageData(0,0,i.width,i.height);return V7(l),f}function G7(i,t){const s=yj();t.premultipliedAlpha&&Sj(i),s.width=i.width,s.height=i.height;const l=s.getContext("2d",{willReadFrequently:!0});return l.putImageData(i,0,0),t.flipY&&_j(l),{ctx:l,canvas:s}}function V7(i){i.width=0,i.height=0}function yj(){return Tp==null&&(Tp=document.createElement("canvas")),Tp}let Tp=null;function mj(i,t){const s=bj[t.format],l=t.quality/100;return i.toDataURL(s,l)}function vj(i,t){const s=gj(i),l=Tj[s],f=Hr(t??l,0,100);return{format:s,quality:f}}function wj(i,t){return t/Math.max(i[0],i[1])}function SJ(i,t,s,l=0,f=0,d=i.width-l,v=i.height-f,w=!1){const{data:T}=i,{width:M,height:I,data:N}=t,R=d/M,F=v/I,V=Math.ceil(R/2),W=Math.ceil(F/2),H=i.width;for(let Y=0;Y<I;Y++)for(let it=0;it<M;it++){const Q=(it+(w?I-Y-1:Y)*M)*4;let st=0,nt=0,at=0,gt=0,wt=0,At=0;const _t=(Y+.5)*F;for(let Nt=Math.floor(Y*F);Nt<(Y+1)*F;Nt++){const Mt=Math.abs(_t-(Nt+.5))/W,zt=(it+.5)*R,Tt=Mt*Mt;for(let fi=Math.floor(it*R);fi<(it+1)*R;fi++){const eo=Math.abs(zt-(fi+.5))/V,rr=Math.sqrt(Tt+eo*eo);if(rr>=1)continue;let he=2*rr*rr*rr-3*rr*rr+1;const Bs=4*(l+fi+(f+Nt)*H);At+=he*T[Bs+3],nt+=he,!s&&T[Bs+3]<255&&(he=he*T[Bs+3]/255),at+=he*T[Bs],gt+=he*T[Bs+1],wt+=he*T[Bs+2],st+=he}}N[Q]=at/st,N[Q+1]=gt/st,N[Q+2]=wt/st,N[Q+3]=At/nt}return t}function gj(i){switch(i){case"png":case"jpg":case"jpeg":return i;case null:case void 0:return wg;default:return wg}}function _j(i){i.save(),i.globalCompositeOperation="copy",i.scale(1,-1),i.translate(0,-i.canvas.height),i.drawImage(i.canvas,0,0),i.restore()}function Sj(i){const t=i.data,s=t.length;for(let l=0;l<s;l+=4){const f=t[l+3];if(f!==255&&f>0){const d=255/f;t[l]=t[l]*d,t[l+1]=t[l+1]*d,t[l+2]=t[l+2]*d}}}const bj={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},vg=98,wg="png",Tj={png:100,jpg:vg,jpeg:vg};var Fe;(function(i){i[i.WEBGL1=1]="WEBGL1",i[i.WEBGL2=2]="WEBGL2"})(Fe||(Fe={}));function Qy(i,t,s={}){const l=t===Fe.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];for(const f of l){const d=i.getContext(f,s);if(d)return d}return null}function bJ(i,t,s={}){const l=B7(i);for(const f of l){const d=Qy(t,f,s);if(d)return d}return null}function B7(i){if(i==="3d")return[Fe.WEBGL2];const t=rt("esri-force-webgl");return t===Fe.WEBGL1||t===Fe.WEBGL2?[t]:rt("mac")&&rt("chrome")?[Fe.WEBGL1,Fe.WEBGL2]:[Fe.WEBGL2,Fe.WEBGL1]}let Ep,xp;function Ej(i){const t=B7(i);for(;t.length>1;){const s=gg(t.shift());if(s.available)return s}return gg(t.shift())}function gg(i){switch(i){case Fe.WEBGL1:return xj();case Fe.WEBGL2:return Mj()}}function xj(){return Ep||(Ep=Ij()),Ep}function Mj(){return xp||(xp=Cj()),xp}class H7{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class Aj extends H7{constructor(){super(...arguments),this.type=Fe.WEBGL1}}class Pj extends H7{constructor(){super(...arguments),this.type=Fe.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function W7(i,t){if(i===Fe.WEBGL1&&typeof WebGLRenderingContext>"u"||i===Fe.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const s=document.createElement("canvas");if(!s)return null;let l=Qy(s,i,{failIfMajorPerformanceCaveat:!0});if(l==null&&(l=Qy(s,i),l!=null&&(t.majorPerformanceCaveat=!0)),l==null)return l;if(i===Fe.WEBGL1){const d=l.getParameter(l.VERSION),v=d==null?void 0:d.match(/^WebGL\s+([\d.]*)/);if(v){const w=parseFloat(v[1]);t.available=w>=.94}}else t.available=!0;t.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=l.getParameter(l.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const f=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT);return f&&(t.supportsHighPrecisionFragment=f.precision>0),l}function Ij(){const i=new Aj,t=W7(Fe.WEBGL1,i);return t==null||(i.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,i.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,i.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,i.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,i.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,i.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,i.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,i.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),i}function Cj(){const i=new Pj,t=W7(Fe.WEBGL2,i);return t==null||(i.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,i.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,i.supportsColorBufferHalfFloat=i.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),i}function Oj(i){const t=Ej(i);if(!t.available)return i==="3d"?new mt("webgl:required","WebGL2 is required but not supported.",new Error().stack):new mt("webgl:required","WebGL is required but not supported.",new Error().stack);if(i==="3d"&&t.majorPerformanceCaveat)return new mt("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new mt("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new mt("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===Fe.WEBGL1){if(!t.supportsElementIndexUint)return new mt("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new mt("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new mt("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function Nj(i){return i&&"nodeType"in i}function Lj(i){return i&&typeof i.render=="function"}const _g={component:"esri-component"};let fa=class extends Et{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){return this.get("widget.id")||this.get("node.id")}set node(t){const s=this._get("node");t!==s&&(t&&t.classList.add(_g.component),s&&s.classList.remove(_g.component),this._set("node",t))}castNode(t){var s;return(s=this.widget)==null||s.destroy(),t?typeof t=="string"||Nj(t)?(this._set("widget",null),Im(t)):(Lj(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};E([A({dependsOn:[]})],fa.prototype,"id",null);E([A()],fa.prototype,"node",null);E([_i("node")],fa.prototype,"castNode",null);E([A({readOnly:!0})],fa.prototype,"widget",void 0);fa=E([q("esri.views.ui.Component")],fa);const f0=fa,J7="calcite-mode-";function Rj(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"")}function Dj(){return Rj().startsWith("dark")}function jj(){return`${J7}${Dj()?"dark":"light"}`}function kj(i){Fj(i),i.classList.add(jj())}function Fj(i){Array.from(i.classList).forEach(t=>{t.startsWith(J7)&&i.classList.remove(t)})}const zj={left:0,top:0,bottom:0,right:0},K7={bottom:30,top:15,right:15,left:15},fs="esri-ui",pi={ui:fs,corner:`${fs}-corner`,innerContainer:`${fs}-inner-container`,manualContainer:`${fs}-manual-container`,cornerContainer:`${fs}-corner-container`,topLeft:`${fs}-top-left`,topRight:`${fs}-top-right`,bottomLeft:`${fs}-bottom-left`,bottomRight:`${fs}-bottom-right`};function Uj(i){return i&&!i._started&&typeof i.postMixInProperties=="function"&&typeof i.buildRendering=="function"&&typeof i.postCreate=="function"&&typeof i.startup=="function"}function Gc(i){return i===0?"0":`${i}px`}function Mp(i){const t=typeof i=="object"&&i!==null&&Object.getPrototypeOf(i);return(t===null||t===Object.prototype)&&("component"in i||"index"in i||"position"in i)?i:null}function Ap(i,{top:t,bottom:s,left:l,right:f}){i.style.top=t,i.style.bottom=s,i.style.left=l,i.style.right=f}let rs=class extends qn.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._locale=gr(),this.view=null,this._applyViewPadding=()=>{const s=this.container;s&&Ap(s,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const s=this._innerContainer;s&&Ap(s,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Ct(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,ei),Ct(()=>this.padding,this._applyUIPadding,ei),Ct(()=>[this.container,this._locale],([t,s])=>{t&&t.setAttribute("lang",s)},ei),F5(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentToKey.clear()}set container(t){const s=this._get("container");t!==s&&(t&&(t.classList.add(pi.ui),kj(t),this._attachContainers(t)),s&&(s.classList.remove(pi.ui),Ap(s,{top:"",bottom:"",left:"",right:""}),D6(s)),this._set("container",t))}get height(){var d;const t=((d=this.view)==null?void 0:d.height)??0;if(t===0)return t;const s=this._getViewPadding(),{top:l,bottom:f}=s;return Math.max(t-l-f,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...K7,...t}}get width(){var d;const t=((d=this.view)==null?void 0:d.width)??0;if(t===0)return t;const s=this._getViewPadding(),{left:l,right:f}=s;return Math.max(t-l-f,0)}get test(){return{components:this._components}}add(t,s){let l,f;if(Array.isArray(t)){t.forEach(v=>this.add(v,s));return}const d=Mp(t);d&&({index:l,position:s,component:t,key:f}=d),s&&typeof s=="object"&&({index:l,key:f,position:s}=s),!(!t||s&&!this._isValidPosition(s))&&this._add(t,s,l,f)}remove(t,s){if(!t)return;if(Array.isArray(t))return t.map(f=>this.remove(f,s));const l=this._find(t);if(l){if(this._componentToKey.has(t)&&this._componentToKey.get(t)!==s)return;const f=this._components.indexOf(l),d=l.node.parentNode;return d==null||d.removeChild(l.node),this._componentToKey.delete(t),this._components.splice(f,1)[0]}}empty(t){return Array.isArray(t)?t.map(s=>this.empty(s)).reduce((s,l)=>s.concat(l)):(t??(t="manual"),t==="manual"?Array.prototype.slice.call(this._manualContainer.children).filter(l=>!l.classList.contains(pi.corner)).map(l=>this.remove(l)):this._isValidPosition(t)?Array.prototype.slice.call(this._cornerNameToContainerLookup[t].children).map(this.remove,this):null)}move(t,s){if(Array.isArray(t)&&t.forEach(v=>this.move(v,s)),!t)return;let l;const f=Mp(t)||Mp(s);if(f&&(l=f.index,s=f.position,t=f.component||t),s&&!this._isValidPosition(s))return;const d=this.remove(t);d&&this.add(d,{position:s,index:l})}find(t){if(!t)return null;const s=this._findById(t);return s&&(s.widget||s.node)}getComponents(t){return t?Array.isArray(t)?t.map(s=>this._getComponentsAtPosition(s)).flat():this._getComponentsAtPosition(t):this._components.map(({widget:s,node:l})=>s??l)}getPosition(t){for(const s in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[s].contains(t))return s;return null}_add(t,s,l,f){t instanceof f0||(t=new f0({node:t})),this._place({component:t,position:s,index:l}),this._components.push(t),f&&this._componentToKey.set(t,f)}_find(t){return t?t instanceof f0?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??zj}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(pi.innerContainer,pi.cornerContainer);const s=document.createElement("div");s.classList.add(pi.innerContainer,pi.manualContainer);const l=document.createElement("div");l.classList.add(pi.topLeft,pi.corner),t.appendChild(l);const f=document.createElement("div");f.classList.add(pi.topRight,pi.corner),t.appendChild(f);const d=document.createElement("div");d.classList.add(pi.bottomLeft,pi.corner),t.appendChild(d);const v=document.createElement("div");v.classList.add(pi.bottomRight,pi.corner),t.appendChild(v),this._innerContainer=t,this._manualContainer=s;const w=iO();this._cornerNameToContainerLookup={"top-left":l,"top-right":f,"bottom-left":d,"bottom-right":v,"top-leading":w?f:l,"top-trailing":w?l:f,"bottom-leading":w?v:d,"bottom-trailing":w?d:v},this._positionNameToContainerLookup={manual:s,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const s=t.position??"manual",{component:l,index:f}=t,d=this._positionNameToContainerLookup[s],v=f!=null&&f>-1;if(Uj(l.widget)&&l.widget.startup(),!v){d.appendChild(l.node);return}const w=Array.prototype.slice.call(d.children);if(f===0){d.firstChild?Bv(l.node,d.firstChild):d.appendChild(l.node);return}if(f>=w.length){d.appendChild(l.node);return}Bv(l.node,w[f])}_toPixelPosition(t){return{top:Gc(t.top),left:Gc(t.left),right:Gc(t.right),bottom:Gc(t.bottom)}}_findByComponent(t){return this._components.find(s=>s===t)??null}_findById(t){return this._components.find(({id:s})=>s===t)??null}_findByNode(t){return this._components.find(({node:s})=>s===t)??null}_getComponentsAtPosition(t){const s=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(s.children).map(d=>this._findByNode(d)).filter(En).map(({widget:d,node:v})=>d??v)}};E([A()],rs.prototype,"_locale",void 0);E([A()],rs.prototype,"container",null);E([A()],rs.prototype,"height",null);E([A({value:K7})],rs.prototype,"padding",null);E([_i("padding")],rs.prototype,"castPadding",null);E([A()],rs.prototype,"view",void 0);E([A()],rs.prototype,"width",null);rs=E([q("esri.views.ui.UI")],rs);const $j=rs,Gj="randomUUID"in crypto;function Y7(){if(Gj)return crypto.randomUUID();const i=crypto.getRandomValues(new Uint16Array(8));i[3]=i[3]&4095|16384,i[4]=i[4]&16383|32768;const t=s=>i[s].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function xJ(){return`{${Y7()}}`}const Vj={handleInterceptedEvent:(i,t,s,l)=>(i.scheduleRender(),t.properties[`on${l.type}`].apply(t.properties.bind||s,[l]))},Bj={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(i,t,s)=>{i.style[t]=s}},Hj=i=>({...Bj,...i}),Wj=(i,t)=>{const s=[];for(;i&&i!==t;)s.push(i),i=i.parentNode;return s},Jj=(i,t)=>i.find(t),Sg=(i,t,s=!1)=>{let l=i;return t.forEach((f,d)=>{const v=l!=null&&l.children?Jj(l.children,w=>w.domNode===f):void 0;(!s||v||d===t.length-1)&&(l=v)}),l},Kj=i=>{let t;const s={...Vj,...i},l=Hj(s),f=l.performanceLogger;let d=!0,v,w=!1;const T=[],M=[],I=(R,F,V)=>{var Y;let W;l.eventHandlerInterceptor=(it,Q,st,nt)=>function(at){f("domEvent",at);let gt;const wt=Wj(at.currentTarget,W.domNode),At=wt.some(Mt=>{var zt;return customElements.get((zt=Mt==null?void 0:Mt.tagName)==null?void 0:zt.toLowerCase())});if(at.eventPhase===Event.CAPTURING_PHASE||!At)wt.reverse(),gt=Sg(W.getLastRender(),wt);else{const Mt=at.composedPath(),zt=Mt.slice(Mt.indexOf(at.currentTarget),Mt.indexOf(W.domNode)).filter(Tt=>Tt.getRootNode()===Tt.ownerDocument).reverse();gt=Sg(W.getLastRender(),zt,!0)}let Nt;return gt&&(Nt=s.handleInterceptedEvent(t,gt,this,at)),f("domEventProcessed",at),Nt},(Y=s.postProcessProjectionOptions)==null||Y.call(s,l);const H=V();W=R(F,H,l),T.push(W),M.push(V),s.afterFirstVNodeRendered&&s.afterFirstVNodeRendered(W,H)};let N=()=>{if(v=void 0,!!d){d=!1,f("renderStart",void 0);for(let R=0;R<T.length;R++){const F=M[R]();f("rendered",void 0),T[R].update(F),f("patched",void 0)}f("renderDone",void 0),d=!0}};return s.modifyDoRenderImplementation&&(N=s.modifyDoRenderImplementation(N,T,M)),t={renderNow:N,scheduleRender:()=>{!v&&!w&&(v=requestAnimationFrame(N))},stop:()=>{v&&(cancelAnimationFrame(v),v=void 0),w=!0},resume:()=>{w=!1,d=!0,t.scheduleRender()},append:(R,F)=>{I(_n.append,R,F)},insertBefore:(R,F)=>{I(_n.insertBefore,R,F)},merge:(R,F)=>{I(_n.merge,R,F)},replace:(R,F)=>{I(_n.replace,R,F)},detach:R=>{for(let F=0;F<M.length;F++)if(M[F]===R)return M.splice(F,1),T.splice(F,1)[0];throw new Error("renderFunction was not found")}},t},Fa={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let za,q7,E1,Z7=!1,If=!1,t3=!1,Ci=!1,bg=null,t2=!1;const MJ=i=>{const t=new URL(i,ri.$resourcesUrl$);return t.origin!==rc.location.origin?t.href:t.pathname},Yj=i=>ri.$resourcesUrl$=i,pa=(i,t="")=>()=>{},Tg="http://www.w3.org/1999/xlink",Eg={},qj="http://www.w3.org/2000/svg",Zj="http://www.w3.org/1999/xhtml",Xj=i=>i!=null,e3=i=>(i=typeof i,i==="object"||i==="function");function Qj(i){var t,s,l;return(l=(s=(t=i.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||s===void 0?void 0:s.getAttribute("content"))!==null&&l!==void 0?l:void 0}const X7=(i,t,...s)=>{let l=null,f=null,d=null,v=!1,w=!1;const T=[],M=N=>{for(let R=0;R<N.length;R++)l=N[R],Array.isArray(l)?M(l):l!=null&&typeof l!="boolean"&&((v=typeof i!="function"&&!e3(l))&&(l=String(l)),v&&w?T[T.length-1].$text$+=l:T.push(v?Cf(null,l):l),w=v)};if(M(s),t){t.key&&(f=t.key),t.name&&(d=t.name);{const N=t.className||t.class;N&&(t.class=typeof N!="object"?N:Object.keys(N).filter(R=>N[R]).join(" "))}}if(typeof i=="function")return i(t===null?{}:t,T,ik);const I=Cf(i,null);return I.$attrs$=t,T.length>0&&(I.$children$=T),I.$key$=f,I.$name$=d,I},Cf=(i,t)=>{const s={$flags$:0,$tag$:i,$text$:t,$elm$:null,$children$:null};return s.$attrs$=null,s.$key$=null,s.$name$=null,s},tk={},ek=i=>i&&i.$tag$===tk,ik={forEach:(i,t)=>i.map(xg).forEach(t),map:(i,t)=>i.map(xg).map(t).map(rk)},xg=i=>({vattrs:i.$attrs$,vchildren:i.$children$,vkey:i.$key$,vname:i.$name$,vtag:i.$tag$,vtext:i.$text$}),rk=i=>{if(typeof i.vtag=="function"){const s=Object.assign({},i.vattrs);return i.vkey&&(s.key=i.vkey),i.vname&&(s.name=i.vname),X7(i.vtag,s,...i.vchildren||[])}const t=Cf(i.vtag,i.vtext);return t.$attrs$=i.vattrs,t.$children$=i.vchildren,t.$key$=i.vkey,t.$name$=i.vname,t},sk=i=>Ok.map(t=>t(i)).find(t=>!!t),nk=(i,t)=>i!=null&&!e3(i)?t&4?i==="false"?!1:i===""||!!i:t&2?parseFloat(i):t&1?String(i):i:i,ok=i=>i,AJ=(i,t,s)=>{const l=ok(i);return{emit:f=>ak(l,t,{bubbles:!!(s&4),composed:!!(s&2),cancelable:!!(s&1),detail:f})}},ak=(i,t,s)=>{const l=ri.ce(t,s);return i.dispatchEvent(l),l},Mg=new WeakMap,lk=(i,t,s)=>{let l=Nf.get(i);Rk&&s?(l=l||new CSSStyleSheet,typeof l=="string"?l=t:l.replaceSync(t)):l=t,Nf.set(i,l)},hk=(i,t,s,l)=>{var f;let d=Q7(t,s);const v=Nf.get(d);if(i=i.nodeType===11?i:_r,v)if(typeof v=="string"){i=i.head||i;let w=Mg.get(i),T;if(w||Mg.set(i,w=new Set),!w.has(d)){{T=_r.createElement("style"),T.innerHTML=v;const M=(f=ri.$nonce$)!==null&&f!==void 0?f:Qj(_r);M!=null&&T.setAttribute("nonce",M),i.insertBefore(T,i.querySelector("link"))}w&&w.add(d)}}else i.adoptedStyleSheets.includes(v)||(i.adoptedStyleSheets=[...i.adoptedStyleSheets,v]);return d},uk=i=>{const t=i.$cmpMeta$,s=i.$hostElement$,l=t.$flags$,f=pa("attachStyles",t.$tagName$),d=hk(s.shadowRoot?s.shadowRoot:s.getRootNode(),t,i.$modeName$);l&10&&(s["s-sc"]=d,s.classList.add(d+"-h"),l&2&&s.classList.add(d+"-s")),f()},Q7=(i,t)=>"sc-"+(t&&i.$flags$&32?i.$tagName$+"-"+t:i.$tagName$),Ag=(i,t,s,l,f,d)=>{if(s!==l){let v=Og(i,t),w=t.toLowerCase();if(t==="class"){const T=i.classList,M=Pg(s),I=Pg(l);T.remove(...M.filter(N=>N&&!I.includes(N))),T.add(...I.filter(N=>N&&!M.includes(N)))}else if(t==="style"){for(const T in s)(!l||l[T]==null)&&(T.includes("-")?i.style.removeProperty(T):i.style[T]="");for(const T in l)(!s||l[T]!==s[T])&&(T.includes("-")?i.style.setProperty(T,l[T]):i.style[T]=l[T])}else if(t!=="key")if(t==="ref")l&&l(i);else if(!i.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):Og(rc,w)?t=w.slice(2):t=w[2]+t.slice(3),s&&ri.rel(i,t,s,!1),l&&ri.ael(i,t,l,!1);else{const T=e3(l);if((v||T&&l!==null)&&!f)try{if(i.tagName.includes("-"))i[t]=l;else{const I=l??"";t==="list"?v=!1:(s==null||i[t]!=I)&&(i[t]=I)}}catch{}let M=!1;w!==(w=w.replace(/^xlink\:?/,""))&&(t=w,M=!0),l==null||l===!1?(l!==!1||i.getAttribute(t)==="")&&(M?i.removeAttributeNS(Tg,t):i.removeAttribute(t)):(!v||d&4||f)&&!T&&(l=l===!0?"":l,M?i.setAttributeNS(Tg,t,l):i.setAttribute(t,l))}}},ck=/\s/,Pg=i=>i?i.split(ck):[],t8=(i,t,s,l)=>{const f=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,d=i&&i.$attrs$||Eg,v=t.$attrs$||Eg;for(l in d)l in v||Ag(f,l,d[l],void 0,s,t.$flags$);for(l in v)Ag(f,l,d[l],v[l],s,t.$flags$)},Of=(i,t,s,l)=>{const f=t.$children$[s];let d=0,v,w,T;if(Z7||(t3=!0,f.$tag$==="slot"&&(za&&l.classList.add(za+"-s"),f.$flags$|=f.$children$?2:1)),f.$text$!==null)v=f.$elm$=_r.createTextNode(f.$text$);else if(f.$flags$&1)v=f.$elm$=_r.createTextNode("");else{if(Ci||(Ci=f.$tag$==="svg"),v=f.$elm$=_r.createElementNS(Ci?qj:Zj,f.$flags$&2?"slot-fb":f.$tag$),Ci&&f.$tag$==="foreignObject"&&(Ci=!1),t8(null,f,Ci),Xj(za)&&v["s-si"]!==za&&v.classList.add(v["s-si"]=za),f.$children$)for(d=0;d<f.$children$.length;++d)w=Of(i,f,d,v),w&&v.appendChild(w);f.$tag$==="svg"?Ci=!1:v.tagName==="foreignObject"&&(Ci=!0)}return v["s-hn"]=E1,f.$flags$&3&&(v["s-sr"]=!0,v["s-cr"]=q7,v["s-sn"]=f.$name$||"",T=i&&i.$children$&&i.$children$[s],T&&T.$tag$===f.$tag$&&i.$elm$&&Lu(i.$elm$,!1)),v},Lu=(i,t)=>{ri.$flags$|=1;const s=i.childNodes;for(let l=s.length-1;l>=0;l--){const f=s[l];f["s-hn"]!==E1&&f["s-ol"]&&(r8(f).insertBefore(f,i3(f)),f["s-ol"].remove(),f["s-ol"]=void 0,t3=!0),t&&Lu(f,t)}ri.$flags$&=-2},e8=(i,t,s,l,f,d)=>{let v=i["s-cr"]&&i["s-cr"].parentNode||i,w;for(v.shadowRoot&&v.tagName===E1&&(v=v.shadowRoot);f<=d;++f)l[f]&&(w=Of(null,s,f,i),w&&(l[f].$elm$=w,v.insertBefore(w,i3(t))))},i8=(i,t,s,l,f)=>{for(;t<=s;++t)(l=i[t])&&(f=l.$elm$,o8(l),If=!0,f["s-ol"]?f["s-ol"].remove():Lu(f,!0),f.remove())},fk=(i,t,s,l)=>{let f=0,d=0,v=0,w=0,T=t.length-1,M=t[0],I=t[T],N=l.length-1,R=l[0],F=l[N],V,W;for(;f<=T&&d<=N;)if(M==null)M=t[++f];else if(I==null)I=t[--T];else if(R==null)R=l[++d];else if(F==null)F=l[--N];else if(Vc(M,R))Ua(M,R),M=t[++f],R=l[++d];else if(Vc(I,F))Ua(I,F),I=t[--T],F=l[--N];else if(Vc(M,F))(M.$tag$==="slot"||F.$tag$==="slot")&&Lu(M.$elm$.parentNode,!1),Ua(M,F),i.insertBefore(M.$elm$,I.$elm$.nextSibling),M=t[++f],F=l[--N];else if(Vc(I,R))(M.$tag$==="slot"||F.$tag$==="slot")&&Lu(I.$elm$.parentNode,!1),Ua(I,R),i.insertBefore(I.$elm$,M.$elm$),I=t[--T],R=l[++d];else{for(v=-1,w=f;w<=T;++w)if(t[w]&&t[w].$key$!==null&&t[w].$key$===R.$key$){v=w;break}v>=0?(W=t[v],W.$tag$!==R.$tag$?V=Of(t&&t[d],s,v,i):(Ua(W,R),t[v]=void 0,V=W.$elm$),R=l[++d]):(V=Of(t&&t[d],s,d,i),R=l[++d]),V&&r8(M.$elm$).insertBefore(V,i3(M.$elm$))}f>T?e8(i,l[N+1]==null?null:l[N+1].$elm$,s,l,d,N):d>N&&i8(t,f,T)},Vc=(i,t)=>i.$tag$===t.$tag$?i.$tag$==="slot"?i.$name$===t.$name$:i.$key$===t.$key$:!1,i3=i=>i&&i["s-ol"]||i,r8=i=>(i["s-ol"]?i["s-ol"]:i).parentNode,Ua=(i,t)=>{const s=t.$elm$=i.$elm$,l=i.$children$,f=t.$children$,d=t.$tag$,v=t.$text$;let w;v===null?(Ci=d==="svg"?!0:d==="foreignObject"?!1:Ci,d==="slot"||t8(i,t,Ci),l!==null&&f!==null?fk(s,l,t,f):f!==null?(i.$text$!==null&&(s.textContent=""),e8(s,null,t,f,0,f.length-1)):l!==null&&i8(l,0,l.length-1),Ci&&d==="svg"&&(Ci=!1)):(w=s["s-cr"])?w.parentNode.textContent=v:i.$text$!==v&&(s.data=v)},s8=i=>{const t=i.childNodes;let s,l,f,d,v,w;for(l=0,f=t.length;l<f;l++)if(s=t[l],s.nodeType===1){if(s["s-sr"]){for(v=s["s-sn"],s.hidden=!1,d=0;d<f;d++)if(w=t[d].nodeType,t[d]["s-hn"]!==s["s-hn"]||v!==""){if(w===1&&v===t[d].getAttribute("slot")){s.hidden=!0;break}}else if(w===1||w===3&&t[d].textContent.trim()!==""){s.hidden=!0;break}}s8(s)}},yr=[],n8=i=>{let t,s,l,f,d,v,w=0;const T=i.childNodes,M=T.length;for(;w<M;w++){if(t=T[w],t["s-sr"]&&(s=t["s-cr"])&&s.parentNode)for(l=s.parentNode.childNodes,f=t["s-sn"],v=l.length-1;v>=0;v--)s=l[v],!s["s-cn"]&&!s["s-nr"]&&s["s-hn"]!==t["s-hn"]&&(Ig(s,f)?(d=yr.find(I=>I.$nodeToRelocate$===s),If=!0,s["s-sn"]=s["s-sn"]||f,d?d.$slotRefNode$=t:yr.push({$slotRefNode$:t,$nodeToRelocate$:s}),s["s-sr"]&&yr.map(I=>{Ig(I.$nodeToRelocate$,s["s-sn"])&&(d=yr.find(N=>N.$nodeToRelocate$===s),d&&!I.$slotRefNode$&&(I.$slotRefNode$=d.$slotRefNode$))})):yr.some(I=>I.$nodeToRelocate$===s)||yr.push({$nodeToRelocate$:s}));t.nodeType===1&&n8(t)}},Ig=(i,t)=>i.nodeType===1?i.getAttribute("slot")===null&&t===""||i.getAttribute("slot")===t:i["s-sn"]===t?!0:t==="",o8=i=>{i.$attrs$&&i.$attrs$.ref&&i.$attrs$.ref(null),i.$children$&&i.$children$.map(o8)},pk=(i,t)=>{const s=i.$hostElement$,l=i.$cmpMeta$,f=i.$vnode$||Cf(null,null),d=ek(t)?t:X7(null,null,t);E1=s.tagName,l.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},l.$attrsToReflect$.map(([v,w])=>d.$attrs$[w]=s[v])),d.$tag$=null,d.$flags$|=4,i.$vnode$=d,d.$elm$=f.$elm$=s.shadowRoot||s,za=s["s-sc"],q7=s["s-cr"],Z7=(l.$flags$&1)!==0,If=!1,Ua(f,d);{if(ri.$flags$|=1,t3){n8(d.$elm$);let v,w,T,M,I,N,R=0;for(;R<yr.length;R++)v=yr[R],w=v.$nodeToRelocate$,w["s-ol"]||(T=_r.createTextNode(""),T["s-nr"]=w,w.parentNode.insertBefore(w["s-ol"]=T,w));for(R=0;R<yr.length;R++)if(v=yr[R],w=v.$nodeToRelocate$,v.$slotRefNode$){for(M=v.$slotRefNode$.parentNode,I=v.$slotRefNode$.nextSibling,T=w["s-ol"];T=T.previousSibling;)if(N=T["s-nr"],N&&N["s-sn"]===w["s-sn"]&&M===N.parentNode&&(N=N.nextSibling,!N||!N["s-nr"])){I=N;break}(!I&&M!==w.parentNode||w.nextSibling!==I)&&w!==I&&(!w["s-hn"]&&w["s-ol"]&&(w["s-hn"]=w["s-ol"].parentNode.nodeName),M.insertBefore(w,I))}else w.nodeType===1&&(w.hidden=!0)}If&&s8(d.$elm$),ri.$flags$&=-2,yr.length=0}},dk=(i,t)=>{},r3=(i,t)=>(i.$flags$|=16,dk(i,i.$ancestorComponent$),kk(()=>yk(i,t))),yk=(i,t)=>{const s=i.$hostElement$,l=pa("scheduleUpdate",i.$cmpMeta$.$tagName$),f=s;let d;return t?d=Xa(f,"componentWillLoad"):d=Xa(f,"componentWillUpdate"),d=Cg(d,()=>Xa(f,"componentWillRender")),l(),Cg(d,()=>mk(i,f,t))},mk=async(i,t,s)=>{const l=i.$hostElement$,f=pa("update",i.$cmpMeta$.$tagName$);l["s-rc"],s&&uk(i);const d=pa("render",i.$cmpMeta$.$tagName$);vk(i,t,l),d(),f(),wk(i)},vk=(i,t,s)=>{try{bg=t,t=t.render&&t.render(),i.$flags$&=-17,i.$flags$|=2,(Fa.hasRenderFn||Fa.reflect)&&(Fa.vdomRender||Fa.reflect)&&(Fa.hydrateServerSide||pk(i,t))}catch(w){ic(w,i.$hostElement$)}return bg=null,null},wk=i=>{const t=i.$cmpMeta$.$tagName$,s=i.$hostElement$,l=pa("postUpdate",t),f=s;i.$ancestorComponent$,Xa(f,"componentDidRender"),i.$flags$&64?(Xa(f,"componentDidUpdate"),l()):(i.$flags$|=64,Xa(f,"componentDidLoad"),l())},PJ=i=>{{const t=ec(i),s=t.$hostElement$.isConnected;return s&&(t.$flags$&18)===2&&r3(t,!1),s}},Xa=(i,t,s)=>{if(i&&i[t])try{return i[t](s)}catch(l){ic(l)}},Cg=(i,t)=>i&&i.then?i.then(t):t(),gk=(i,t)=>ec(i).$instanceValues$.get(t),_k=(i,t,s,l)=>{const f=ec(i),d=i,v=f.$instanceValues$.get(t),w=f.$flags$,T=d;s=nk(s,l.$members$[t][0]);const M=Number.isNaN(v)&&Number.isNaN(s);if(s!==v&&!M){f.$instanceValues$.set(t,s);{if(l.$watchers$&&w&128){const N=l.$watchers$[t];N&&N.map(R=>{try{T[R](s,v,t)}catch(F){ic(F,d)}})}if((w&18)===2){if(T.componentShouldUpdate&&T.componentShouldUpdate(s,v,t)===!1)return;r3(f,!1)}}}},Sk=(i,t,s)=>{if(t.$members$){i.watchers&&(t.$watchers$=i.watchers);const l=Object.entries(t.$members$),f=i.prototype;l.map(([d,[v]])=>{(v&31||v&32)&&Object.defineProperty(f,d,{get(){return gk(this,d)},set(w){_k(this,d,w,t)},configurable:!0,enumerable:!0})});{const d=new Map;f.attributeChangedCallback=function(v,w,T){ri.jmp(()=>{const M=d.get(v);if(this.hasOwnProperty(M))T=this[M],delete this[M];else if(f.hasOwnProperty(M)&&typeof this[M]=="number"&&this[M]==T)return;this[M]=T===null&&typeof this[M]=="boolean"?!1:T})},i.observedAttributes=l.filter(([v,w])=>w[0]&15).map(([v,w])=>{const T=w[1]||v;return d.set(T,v),w[0]&512&&t.$attrsToReflect$.push([v,T]),T})}}return i},bk=async(i,t,s,l,f)=>{if(!(t.$flags$&32)&&(f=i.constructor,t.$flags$|=32,customElements.whenDefined(s.$tagName$).then(()=>t.$flags$|=128),f.style)){let v=f.style;typeof v!="string"&&(v=v[t.$modeName$=sk(i)]);const w=Q7(s,t.$modeName$);if(!Nf.has(w)){const T=pa("registerStyles",s.$tagName$);lk(w,v,!!(s.$flags$&1)),T()}}t.$ancestorComponent$,(()=>r3(t,!0))()},Tk=i=>{},Ek=i=>{if(!(ri.$flags$&1)){const t=ec(i),s=t.$cmpMeta$,l=pa("connectedCallback",s.$tagName$);t.$flags$&1?(a8(i,t,s.$listeners$),Tk(t.$lazyInstance$)):(t.$flags$|=1,s.$flags$&12&&xk(i),s.$members$&&Object.entries(s.$members$).map(([f,[d]])=>{if(d&31&&i.hasOwnProperty(f)){const v=i[f];delete i[f],i[f]=v}}),bk(i,t,s)),l()}},xk=i=>{const t=i["s-cr"]=_r.createComment("");t["s-cn"]=!0,i.insertBefore(t,i.firstChild)},Mk=i=>{if(!(ri.$flags$&1)){const t=ec(i);t.$rmListeners$&&(t.$rmListeners$.map(s=>s()),t.$rmListeners$=void 0)}},IJ=(i,t)=>{const s={$flags$:t[0],$tagName$:t[1]};s.$members$=t[2],s.$listeners$=t[3],s.$watchers$=i.$watchers$,s.$attrsToReflect$=[];const l=i.prototype.connectedCallback,f=i.prototype.disconnectedCallback;return Object.assign(i.prototype,{__registerHost(){Ck(this,s)},connectedCallback(){Ek(this),l&&l.call(this)},disconnectedCallback(){Mk(this),f&&f.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(s.$flags$&16)})}}),i.is=s.$tagName$,Sk(i,s)},CJ=(i,t)=>t,a8=(i,t,s,l)=>{s&&s.map(([f,d,v])=>{const w=Pk(i,f),T=Ak(t,v),M=Ik(f);ri.ael(w,d,T,M),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>ri.rel(w,d,T,M))})},Ak=(i,t)=>s=>{try{Fa.lazyLoad||i.$hostElement$[t](s)}catch(l){ic(l)}},Pk=(i,t)=>t&4?_r:t&8?rc:t&16?_r.body:i,Ik=i=>Nk?{passive:(i&1)!==0,capture:(i&2)!==0}:(i&2)!==0,l8=new WeakMap,ec=i=>l8.get(i),Ck=(i,t)=>{const s={$flags$:0,$hostElement$:i,$cmpMeta$:t,$instanceValues$:new Map};return a8(i,s,t.$listeners$),l8.set(i,s)},Og=(i,t)=>t in i,ic=(i,t)=>(0,console.error)(i,t),Nf=new Map,Ok=[],rc=typeof window<"u"?window:{},_r=rc.document||{head:{}},OJ=rc.HTMLElement||class{},ri={$flags$:0,$resourcesUrl$:"",jmp:i=>i(),raf:i=>requestAnimationFrame(i),ael:(i,t,s,l)=>i.addEventListener(t,s,l),rel:(i,t,s,l)=>i.removeEventListener(t,s,l),ce:(i,t)=>new CustomEvent(i,t)},Nk=(()=>{let i=!1;try{_r.addEventListener("e",null,Object.defineProperty({},"passive",{get(){i=!0}}))}catch{}return i})(),Lk=i=>Promise.resolve(i),Rk=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Ng=[],h8=[],Dk=(i,t)=>s=>{i.push(s),t2||(t2=!0,t&&ri.$flags$&4?jk(e2):ri.raf(e2))},Lg=i=>{for(let t=0;t<i.length;t++)try{i[t](performance.now())}catch(s){ic(s)}i.length=0},e2=()=>{Lg(Ng),Lg(h8),(t2=Ng.length>0)&&ri.raf(e2)},jk=i=>Lk().then(i),kk=Dk(h8,!0);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.2.0
 */const u8="calcite-mode-auto",c8="calcite-mode-dark",Fk="calcite-mode-light",NJ={autoMode:u8,darkMode:c8,lightMode:Fk,rtl:"calcite--rtl"};/*!
* tabbable 6.1.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var f8=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Lf=f8.join(","),p8=typeof Element>"u",da=p8?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Rf=!p8&&Element.prototype.getRootNode?function(i){var t;return i==null||(t=i.getRootNode)===null||t===void 0?void 0:t.call(i)}:function(i){return i==null?void 0:i.ownerDocument},Df=function i(t,s){var l;s===void 0&&(s=!0);var f=t==null||(l=t.getAttribute)===null||l===void 0?void 0:l.call(t,"inert"),d=f===""||f==="true",v=d||s&&t&&i(t.parentNode);return v},zk=function(t){var s,l=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"contenteditable");return l===""||l==="true"},d8=function(t,s,l){if(Df(t))return[];var f=Array.prototype.slice.apply(t.querySelectorAll(Lf));return s&&da.call(t,Lf)&&f.unshift(t),f=f.filter(l),f},y8=function i(t,s,l){for(var f=[],d=Array.from(t);d.length;){var v=d.shift();if(!Df(v,!1))if(v.tagName==="SLOT"){var w=v.assignedElements(),T=w.length?w:v.children,M=i(T,!0,l);l.flatten?f.push.apply(f,M):f.push({scopeParent:v,candidates:M})}else{var I=da.call(v,Lf);I&&l.filter(v)&&(s||!t.includes(v))&&f.push(v);var N=v.shadowRoot||typeof l.getShadowRoot=="function"&&l.getShadowRoot(v),R=!Df(N,!1)&&(!l.shadowRootFilter||l.shadowRootFilter(v));if(N&&R){var F=i(N===!0?v.children:N.children,!0,l);l.flatten?f.push.apply(f,F):f.push({scopeParent:v,candidates:F})}else d.unshift.apply(d,v.children)}}return f},m8=function(t,s){return t.tabIndex<0&&(s||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||zk(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},Uk=function(t,s){return t.tabIndex===s.tabIndex?t.documentOrder-s.documentOrder:t.tabIndex-s.tabIndex},v8=function(t){return t.tagName==="INPUT"},$k=function(t){return v8(t)&&t.type==="hidden"},Gk=function(t){var s=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(l){return l.tagName==="SUMMARY"});return s},Vk=function(t,s){for(var l=0;l<t.length;l++)if(t[l].checked&&t[l].form===s)return t[l]},Bk=function(t){if(!t.name)return!0;var s=t.form||Rf(t),l=function(w){return s.querySelectorAll('input[type="radio"][name="'+w+'"]')},f;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")f=l(window.CSS.escape(t.name));else try{f=l(t.name)}catch(v){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",v.message),!1}var d=Vk(f,t.form);return!d||d===t},Hk=function(t){return v8(t)&&t.type==="radio"},Wk=function(t){return Hk(t)&&!Bk(t)},Jk=function(t){var s,l=t&&Rf(t),f=(s=l)===null||s===void 0?void 0:s.host,d=!1;if(l&&l!==t){var v,w,T;for(d=!!((v=f)!==null&&v!==void 0&&(w=v.ownerDocument)!==null&&w!==void 0&&w.contains(f)||t!=null&&(T=t.ownerDocument)!==null&&T!==void 0&&T.contains(t));!d&&f;){var M,I,N;l=Rf(f),f=(M=l)===null||M===void 0?void 0:M.host,d=!!((I=f)!==null&&I!==void 0&&(N=I.ownerDocument)!==null&&N!==void 0&&N.contains(f))}}return d},Rg=function(t){var s=t.getBoundingClientRect(),l=s.width,f=s.height;return l===0&&f===0},Kk=function(t,s){var l=s.displayCheck,f=s.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var d=da.call(t,"details>summary:first-of-type"),v=d?t.parentElement:t;if(da.call(v,"details:not([open]) *"))return!0;if(!l||l==="full"||l==="legacy-full"){if(typeof f=="function"){for(var w=t;t;){var T=t.parentElement,M=Rf(t);if(T&&!T.shadowRoot&&f(T)===!0)return Rg(t);t.assignedSlot?t=t.assignedSlot:!T&&M!==t.ownerDocument?t=M.host:t=T}t=w}if(Jk(t))return!t.getClientRects().length;if(l!=="legacy-full")return!0}else if(l==="non-zero-area")return Rg(t);return!1},Yk=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var s=t.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var l=0;l<s.children.length;l++){var f=s.children.item(l);if(f.tagName==="LEGEND")return da.call(s,"fieldset[disabled] *")?!0:!f.contains(t)}return!0}s=s.parentElement}return!1},jf=function(t,s){return!(s.disabled||Df(s)||$k(s)||Kk(s,t)||Gk(s)||Yk(s))},i2=function(t,s){return!(Wk(s)||m8(s)<0||!jf(t,s))},qk=function(t){var s=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},Zk=function i(t){var s=[],l=[];return t.forEach(function(f,d){var v=!!f.scopeParent,w=v?f.scopeParent:f,T=m8(w,v),M=v?i(f.candidates):w;T===0?v?s.push.apply(s,M):s.push(w):l.push({documentOrder:d,tabIndex:T,item:f,isScope:v,content:M})}),l.sort(Uk).reduce(function(f,d){return d.isScope?f.push.apply(f,d.content):f.push(d.content),f},[]).concat(s)},Xk=function(t,s){s=s||{};var l;return s.getShadowRoot?l=y8([t],s.includeContainer,{filter:i2.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:qk}):l=d8(t,s.includeContainer,i2.bind(null,s)),Zk(l)},LJ=function(t,s){s=s||{};var l;return s.getShadowRoot?l=y8([t],s.includeContainer,{filter:jf.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):l=d8(t,s.includeContainer,jf.bind(null,s)),l},RJ=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return da.call(t,Lf)===!1?!1:i2(s,t)},Qk=f8.concat("iframe").join(","),DJ=function(t,s){if(s=s||{},!t)throw new Error("No node provided");return da.call(t,Qk)===!1?!1:jf(s,t)};const tF={getShadowRoot:!0};function jJ(i){const t="dir",s=`[${t}]`,l=eF(i,s);return l?l.getAttribute(t):"ltr"}function kJ(i,t,s){const l=`[${t}]`,f=i.closest(l);return f?f.getAttribute(t):s}function w8(i){return i.getRootNode()}function g8(i){return i.host||null}function FJ(i,{selector:t,id:s}){function l(f){if(!f)return null;f.assignedSlot&&(f=f.assignedSlot);const d=w8(f),v=s?"getElementById"in d?d.getElementById(s):null:t?d.querySelector(t):null,w=g8(d);return v||(w?l(w):null)}return l(i)}function eF(i,t){function s(l){return l?l.closest(t)||s(g8(w8(l))):null}return s(i)}function iF(i,t){return _8(i,t)}function _8(i,t){if(!i)return;const s=t(i);if(s!==void 0)return s;const{parentNode:l}=i;return _8(l instanceof ShadowRoot?l.host:l,t)}function zJ(i,t){return!!iF(t,s=>s===i?!0:void 0)}function rF(i){return typeof(i==null?void 0:i.setFocus)=="function"}async function UJ(i){if(i)return rF(i)?i.setFocus():i.focus()}function $J(i){i&&(Xk(i,tF)[0]||i).focus()}const Ru=":not([slot])";function GJ(i,t,s){t&&!Array.isArray(t)&&typeof t!="string"&&(s=t,t=null);const l=t?Array.isArray(t)?t.map(f=>`[slot="${f}"]`).join(","):`[slot="${t}"]`:Ru;return s!=null&&s.all?sF(i,l,s):nF(i,l,s)}function S8(i,t){return i?Array.from(i.children||[]).filter(s=>s==null?void 0:s.matches(t)):[]}function sF(i,t,s){let l=t===Ru?S8(i,Ru):Array.from(i.querySelectorAll(t));l=s&&s.direct===!1?l:l.filter(d=>d.parentElement===i),l=s!=null&&s.matches?l.filter(d=>d==null?void 0:d.matches(s.matches)):l;const f=s==null?void 0:s.selector;return f?l.map(d=>Array.from(d.querySelectorAll(f))).reduce((d,v)=>[...d,...v],[]).filter(d=>!!d):l}function nF(i,t,s){let l=t===Ru?S8(i,Ru)[0]||null:i.querySelector(t);l=s&&s.direct===!1||(l==null?void 0:l.parentElement)===i?l:null,l=s!=null&&s.matches?l!=null&&l.matches(s.matches)?l:null:l;const f=s==null?void 0:s.selector;return f?l==null?void 0:l.querySelector(f):l}function VJ(i,t,s){if(typeof t=="string"&&t!=="")return t;if(t==="")return i[s]}function BJ(i){return(!!i).toString()}function HJ(i){return!!oF(i).length}function oF(i){return i.target.assignedElements({flatten:!0})}function WJ(i){return!!(i.isPrimary&&i.button===0)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.2.0
 */function Dg(){const{classList:i}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,s=()=>i.contains(c8)||i.contains(u8)&&t?"dark":"light",l=v=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:v}})),f=v=>{d!==v&&l(v),d=v};let d=s();l(d),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",v=>f(v.matches?"dark":"light")),new MutationObserver(()=>f(s())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function aF(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&(document.readyState==="interactive"?Dg():document.addEventListener("DOMContentLoaded",()=>Dg(),{once:!0}))}const lF=aF;lF();let r2;rt("esri-disable-components-assets-path")||(r2="components/assets");function hF(){r2&&Yj(Hi(Zt(r2)))}function JJ(i){var s;const t=[];for(const l of Object.keys(i))customElements.get(`calcite-${l}`)||t.push((s=i[l])==null?void 0:s.call(i));return Promise.all(t)}const b8=Symbol("widget"),uF=Symbol("widget-test-data"),cF=[],fF={},kf=new WeakMap;function T8(i,t){let s=t.children;if(s&&s.length)for(let f=0;f<s.length;++f)s[f]=T8(i,s[f]);else s=cF;const l=t.vnodeSelector;if(s3(l)){const f=t.properties||fF,d=f.key||l;return{vnodeSelector:"div",properties:{key:d,afterCreate:pF,afterUpdate:dF,afterRemoved:E8,parentWidget:i,widgetConstructor:l,widgetProperties:{...f,key:d,children:s}},children:void 0,text:void 0,domNode:null}}return t}function pF(i,t,s,{parentWidget:l,widgetConstructor:f,widgetProperties:d}){var w;const v=new f(d);v.container=i,kf.set(i,v),(w=v.afterCreate)==null||w.call(v,v,i),l._internalHandles.add(Al(()=>E8(i)))}function dF(i,t,s,{widgetProperties:l}){var d;const f=kf.get(i);f&&(f.set(l),(d=f.afterUpdate)==null||d.call(f,f,i))}function E8(i){var s;const t=kf.get(i);t&&((s=t.afterRemoved)==null||s.call(t,t,i),t.destroy(),kf.delete(i))}function s3(i){return typeof i=="function"&&i[b8]}const jg=new Set;function yF(i){jg.add(i),i.finally(()=>jg.delete(i))}var x8;const mF="esri.widgets.Widget";let vF=0;const wF={widgetIcon:"esri-icon-checkbox-unchecked"};function M8(i,t){for(const s in t)i[s]!=null&&(typeof i[s]=="object"&&typeof t[s]=="object"?M8(i[s],t==null?void 0:t[s]):i[s]=t[s]);return i}const gF=Kj({postProcessProjectionOptions(i){const t=i.eventHandlerInterceptor,s=/capture$/i;i.eventHandlerInterceptor=(l,f,d,v)=>{const w=t==null?void 0:t(l,f,d,v),T=s.test(l);if(l=l.replace(s,""),!(l.toLowerCase()in d)||T){const N=l[2].toLowerCase()+l.slice(3),R=W=>w==null?void 0:w.call(d,W);d.addEventListener(N,R,T);const F=()=>d.removeEventListener(N,R,T),V=v.afterRemoved;v.afterRemoved=W=>{V==null||V(W),F()}}return w}},handleInterceptedEvent(i,t,s,l){const{eventPhase:f,type:d}=l,v=f===Event.CAPTURING_PHASE;let w=`on${d}${v?"capture":""}`;const T=t.properties;(!T||!(w in T))&&(w=`on${d[0].toUpperCase()}${d.slice(1)}${v?"Capture":""}`,!T||!(w in T))||(q6(),i.scheduleRender(),T[w].call(T.bind||s,l))}});let Pp=!1,Ge=class extends S2(qn.EventedAccessor){constructor(t,s){super(t,s),this._attached=!1,this._internalHandles=new $s,this._projector=gF,this._readyForTrueRender=!1,this.iconClass=wF.widgetIcon,this.icon=null,this.key=this,this._loadLocale=ZS(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const v=await ga(this._messageBundleProps.map(async({bundlePath:w,propertyName:T})=>{if(this.destroyed)return;let M=await G5(w);this.uiStrings&&Object.keys(this.uiStrings)&&(M=M8(ht(M),this.uiStrings)),this[T]=M}));if(this.destroyed)return;for(const w of v)w.error&&ct.getLogger(this.declaredClass).error("widget-intl:locale-error",this.declaredClass,w.error)}await this.loadLocale()}),hF();const l="esri-widget-uid-"+Y7(),f=this.render.bind(this);this._trackingTarget=new Zf(()=>this.scheduleRender());const d=()=>{var N;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:l,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const v=f();let{properties:w}=v;w||(v.properties=w={});let{key:T,styles:M}=w;T||(w.key=l),M||(w.styles=M={}),M.display||(M.display="");let I=0;return(N=v.children)==null||N.forEach(R=>{if(s3(R.vnodeSelector))return;let{properties:F}=R;F||(R.properties=F={}),F.key||(F.key=`${this.id}--${I++}`)}),T8(this,v)};this.render=()=>{if(Pp)return d();let v=YC(this)??null;if(v)return v;this._trackingTarget.clear(),Pp=!0;try{v=Ts(this._trackingTarget,d)}catch(w){throw console.error(w),w}finally{Pp=!1}return v&&qC(this,v),v},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),yF(this._resourcesFetch)}normalizeCtorArgs(t,s){const l={...t};return s&&(l.container=s),l}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(S3)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(be(this._trackingTarget),be(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,tp(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return Im(t)}get domNode(){return this.container}set domNode(t){this.container=t}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+vF++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(x8=b8,uF)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(tp(this),this._projector.scheduleRender())}classes(...t){return eO.apply(this,t)}renderNow(){tp(this),this._projector.renderNow()}_postInitialize(){var s;if(this.destroyed)return;this.scheduleRender(),(s=this._delegatedEventNames)!=null&&s.length&&this._internalHandles.add(Ct(()=>this.viewModel,(l,f)=>{f&&this._internalHandles.remove("delegated-events"),l&&Kf(l)&&this._internalHandles.add(this._delegatedEventNames.map(d=>Yf(l,d,v=>{this.emit(d,v)})),"delegated-events")},ei)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(S3),this.scheduleRender()};this._internalHandles.add([F5(t),Ct(()=>this.uiStrings,t),kn(()=>this.container,l=>{this.destroyed||this._attach(l)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var s;this._attached&&(this._projector.detach(this.render),this._attached=!1),(s=t==null?void 0:t.parentNode)==null||s.removeChild(t)}};Ge[x8]=!0;E([A()],Ge.prototype,"_readyForTrueRender",void 0);E([A({value:null})],Ge.prototype,"container",null);E([_i("container")],Ge.prototype,"castContainer",null);E([A()],Ge.prototype,"iconClass",void 0);E([A()],Ge.prototype,"icon",void 0);E([A()],Ge.prototype,"id",null);E([A()],Ge.prototype,"label",null);E([A()],Ge.prototype,"renderable",null);E([A()],Ge.prototype,"uiStrings",void 0);E([A()],Ge.prototype,"viewModel",void 0);E([A({value:!0})],Ge.prototype,"visible",null);E([A()],Ge.prototype,"key",void 0);E([A()],Ge.prototype,"children",void 0);E([A()],Ge.prototype,"afterCreate",void 0);E([A()],Ge.prototype,"afterUpdate",void 0);E([A()],Ge.prototype,"afterRemoved",void 0);Ge=E([q(mF)],Ge);const $l=Ge;function kg(i,t){return i&&"copyright"in i&&(!t||typeof i.originOf=="function"&&i.originOf("copyright")==="user")}function _F(i,t){return i.length!==t.length||i.some((s,l)=>s.text!==t[l].text)}function nh(i,t,s){if(!s||!t)return;i.find(f=>f.layerView===t&&f.text===s)||i.push({text:s,layerView:t})}function SF(i){return i.type==="bing-maps"}const ps=[];let Sl=class extends yf{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new kt,this.view=null,this._allLayerViewsChange=s=>{this.handles.remove("suspension");const l=this.get("view.allLayerViews");l&&this.handles.add(l.map(f=>Ct(()=>{var d;return[f.suspended,(d=f.layer)==null?void 0:d.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),s&&s.removed&&s.removed.forEach(f=>{this._pendingAttributions.delete(f),this._fetchedAttributionData.delete(f)}),this._updateAttributionItems()},this.handles.add([wu(()=>{var s;return(s=this.view)==null?void 0:s.allLayerViews},"change",s=>this._allLayerViewsChange(s),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),kn(()=>{var s;return((s=this.view)==null?void 0:s.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,s=t==null?void 0:t.allLayerViews;if(ps.length=0,!t||!s){this._clear();return}s.forEach(l=>{var v;if(l.suspended||!((v=l.layer)!=null&&v.attributionVisible))return;const f=l.layer;if(kg(f,"user")){nh(ps,l,f.copyright);return}if(f.hasAttributionData){if(this._fetchedAttributionData.has(l)){const w=this._fetchedAttributionData.get(l);w?nh(ps,l,this._getDynamicAttribution(w,t,f)):kg(f)&&nh(ps,l,f.copyright);return}this._fetchAttributionData(l);return}const d=f.get("portalItem.accessInformation");if(d){nh(ps,l,d);return}nh(ps,l,f.copyright)}),_F(this.items,ps)&&(this.items.removeAll(),this.items.addMany(ps)),ps.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const s=await a5(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const l=s.ok?this._createContributionIndex(s.value,SF(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,l)}this._updateAttributionItems()}_createContributionIndex(t,s){const l=t.contributors,f={};if(!l)return f;for(let v=0;v<l.length;v++){const w=l[v],T=w.coverageAreas;if(!T)return;for(const M of T){const I=M.bbox,N=M.zoomMin-(s&&M.zoomMin?1:0),R=M.zoomMax-(s&&M.zoomMax?1:0),F=new pe({xmin:I[1],ymin:I[0],xmax:I[3],ymax:I[2],spatialReference:fe.WGS84}),V={extent:xh(F),attribution:w.attribution||"",score:M.score!=null?M.score:100,id:v};for(let W=N;W<=R;W++){var d;f[d=W]??(f[d]=[]),f[W].push(V)}}}return f.maxKey=Math.max.apply(null,Object.keys(f)),f}_getDynamicAttribution(t,s,l){var I;const{extent:f,scale:d}=s;let v=((I=l.tileInfo)==null?void 0:I.scaleToZoom(d))??0;if(v=Math.min(t.maxKey??0,Math.round(v)),!f||v==null||v<=-1)return"";const w=t[v],T=i1(f.center.clone().normalize(),s.spatialReference),M=new Set;return w?w.filter(N=>{const R=N.id,F=!M.has(R)&&T&&N.extent&&r1(N.extent,T);return F&&M.add(R),F}).sort((N,R)=>R.score-N.score||N.objectId-R.objectId).map(N=>N.attribution).join(", "):""}};E([A({readOnly:!0,type:kt})],Sl.prototype,"items",void 0);E([A({readOnly:!0})],Sl.prototype,"state",null);E([A()],Sl.prototype,"view",void 0);Sl=E([q("esri.widgets.Attribution.AttributionViewModel")],Sl);const A8=Sl;function sc(){return function(i,t){if(!i[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:TF(i[t])}}}function bF(i){const t=i==null?void 0:i.type;return i instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function TF(i){return function(t,...s){if(bF(t)){lO(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click());return}i.call(this,t,...s)}}function nc(i){return(t,s)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:i,propertyName:s})}}var EF=function(i){return{vnodeSelector:"",properties:void 0,children:void 0,text:i.toString(),domNode:null}},P8=function(i,t){for(var s=0,l=i.length;s<l;s++){var f=i[s];Array.isArray(f)?P8(f,t):f!=null&&f!==!1&&(f.hasOwnProperty("vnodeSelector")||(f=EF(f)),t.push(f))}},xF=function(i,t){for(var s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];if(s.length===1&&typeof s[0]=="string")return{vnodeSelector:i,properties:t||void 0,children:void 0,text:s[0],domNode:null};var f=[];return P8(s,f),{vnodeSelector:i,properties:t||void 0,children:f,text:void 0,domNode:null}};function He(i,t,...s){return typeof i=="function"&&!s3(i)?i(t,...s):xF(i,t,...s)}const La="esri-attribution",nn={base:`${La} esri-widget`,poweredBy:`${La}__powered-by`,sources:`${La}__sources`,open:`${La}--open`,sourcesOpen:`${La}__sources--open`,link:`${La}__link`,widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let ci=class extends $l{constructor(t,s){super(t,s),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(l=>l.forEach(({target:f})=>this._checkSourceTextOverflow(f))),this.iconClass=nn.widgetIcon,this.icon=null,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new A8}initialize(){this.addHandles(wu(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,s)=>(t.includes(s.text)||t.push(s.text),t),[]).join(this.itemDelimiter)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[nn.open]:this._isOpen};return He("div",{bind:this,class:this.classes(nn.base,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return He("div",{class:nn.poweredBy},"Powered by"," ",He("a",{class:nn.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const t=this._isOpen,s=this._isInteractive,l=s?"0":"",{attributionText:f}=this,d={[nn.sourcesOpen]:t,[nn.interactive]:s};return He("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(nn.sources,d),innerHTML:f,tabindex:l})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let s=!1;const{clientHeight:l,clientWidth:f,scrollWidth:d}=t,v=d>f,w=this._attributionTextOverflowed!==v;if(this._attributionTextOverflowed=v,w&&(s=!0),this._isOpen){const T=l<this._prevSourceNodeHeight;this._prevSourceNodeHeight=l,T&&(this._isOpen=!1,s=!0)}s&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};E([A()],ci.prototype,"_isOpen",void 0);E([A()],ci.prototype,"_isInteractive",null);E([A()],ci.prototype,"_attributionTextOverflowed",void 0);E([A()],ci.prototype,"_prevSourceNodeHeight",void 0);E([A({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],ci.prototype,"attributionText",null);E([A()],ci.prototype,"iconClass",void 0);E([A()],ci.prototype,"icon",void 0);E([A()],ci.prototype,"itemDelimiter",void 0);E([A()],ci.prototype,"label",null);E([A(),nc("esri/widgets/Attribution/t9n/Attribution")],ci.prototype,"messages",void 0);E([A()],ci.prototype,"view",null);E([A({type:A8})],ci.prototype,"viewModel",void 0);E([sc()],ci.prototype,"_toggleState",null);ci=E([q("esri.widgets.Attribution")],ci);const MF=ci,I8=i=>{let t=class extends i{constructor(...l){super(...l),this.goToOverride=null,this.view=null}callGoTo(l){const{view:f}=this;return Zg(f),this.goToOverride?this.goToOverride(f,l):f.goTo(l.target,l.options)}};return E([A()],t.prototype,"goToOverride",void 0),E([A()],t.prototype,"view",void 0),t=E([q("esri.widgets.support.GoTo")],t),t},AF="esri.widgets.CompassViewModel";let ya=class extends I8(Et){constructor(t){super(t),this._handles=new $s,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(Ct(()=>this.view,this._updateRotationWatcher,ei))}destroy(){Me(this._handles),this.view=null}get canShowNorth(){const t=this.get("view.spatialReference");return!!(t&&(t.isWebMercator||t.isGeographic))}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){var s;if(!this.get("view.ready"))return;const t={};((s=this.view)==null?void 0:s.type)==="2d"?t.rotation=0:t.heading=0,this.callGoTo({target:t})}_updateForRotation(t){t!=null&&(this.orientation={z:t})}_updateForCamera(t){if(!t)return;const s=-t.heading;this.orientation={x:0,y:0,z:s}}_updateRotationWatcher(t){this._handles.removeAll(),t&&this._handles.add(t.type==="2d"?Ct(()=>t==null?void 0:t.rotation,this._updateForRotation,ei):Ct(()=>t==null?void 0:t.camera,this._updateForCamera,ei))}};E([A({readOnly:!0})],ya.prototype,"canShowNorth",null);E([A()],ya.prototype,"orientation",void 0);E([A({readOnly:!0})],ya.prototype,"state",null);E([A()],ya.prototype,"view",void 0);ya=E([q(AF)],ya);const C8=ya,on={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Cr=class extends $l{constructor(t,s){super(t,s),this.iconClass=on.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new C8}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:s}=this.viewModel,l=s==="disabled",f=s==="rotation"?"rotation":"compass",d=f==="compass",v=l?-1:0,w={[on.disabled]:l,[on.interactive]:!l},T={[on.northIcon]:d,[on.rotationIcon]:!d},{messages:M}=this;return He("div",{bind:this,class:this.classes(on.base,w),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:v,"aria-label":M.reset,title:M.reset},He("span",{"aria-hidden":"true",class:this.classes(on.icon,T),styles:this._toRotationTransform(t)}),He("span",{class:on.text},M.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(t){return{transform:`rotateZ(${t.z}deg)`}}};E([A()],Cr.prototype,"goToOverride",null);E([A()],Cr.prototype,"iconClass",void 0);E([A()],Cr.prototype,"icon",void 0);E([A()],Cr.prototype,"label",null);E([A(),nc("esri/widgets/Compass/t9n/Compass")],Cr.prototype,"messages",void 0);E([A()],Cr.prototype,"view",null);E([A({type:C8})],Cr.prototype,"viewModel",void 0);E([sc()],Cr.prototype,"_reset",null);Cr=E([q("esri.widgets.Compass")],Cr);const PF=Cr,Ra="esri-navigation-toggle",$i={base:`${Ra} esri-widget`,button:`${Ra}__button esri-widget--button`,activeButton:`${Ra}__button--active`,panButton:`${Ra}__button--pan`,rotateButton:`${Ra}__button--rotate`,isLayoutHorizontal:`${Ra}--horizontal`,rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let bl=class extends Et{constructor(t){super(t),this.navigationMode="pan",this.view=null}initialize(){this.own(kn(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t;return this.get("view.ready")&&((t=this.view)==null?void 0:t.type)==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){const t=this.get("view.inputManager");t.primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};E([A({readOnly:!0})],bl.prototype,"state",null);E([A()],bl.prototype,"navigationMode",void 0);E([A()],bl.prototype,"view",void 0);bl=E([q("esri.widgets.NavigationToggleViewModel")],bl);const O8=bl;let Or=class extends $l{constructor(t,s){super(t,s),this.iconClass=$i.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new O8}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}toggle(){return this.viewModel.toggle()}render(){const t=this.get("viewModel.state")==="disabled",s=this.get("viewModel.navigationMode")==="pan",l={[$i.disabled]:t,[$i.isLayoutHorizontal]:this.layout==="horizontal"},f={[$i.activeButton]:s},d={[$i.activeButton]:!s},v=t?-1:0,w=this.messages.toggle;return He("div",{bind:this,class:this.classes($i.base,l),onclick:this._toggle,onkeydown:this._toggle,tabIndex:v,"aria-label":w,title:w},He("div",{class:this.classes($i.button,$i.panButton,f)},He("span",{class:$i.panIcon})),He("div",{class:this.classes($i.button,$i.rotateButton,d)},He("span",{class:$i.rotationIcon})))}_toggle(){this.toggle()}};E([A()],Or.prototype,"iconClass",void 0);E([A()],Or.prototype,"icon",void 0);E([A()],Or.prototype,"label",null);E([A({value:"vertical"})],Or.prototype,"layout",null);E([A(),nc("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Or.prototype,"messages",void 0);E([A()],Or.prototype,"view",null);E([A({type:O8})],Or.prototype,"viewModel",void 0);E([sc()],Or.prototype,"_toggle",null);Or=E([q("esri.widgets.NavigationToggle")],Or);const IF=Or,oh={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let zs=class extends $l{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title=""}render(){const t=this.enabled?0:-1,s={[oh.disabled]:!this.enabled,[oh.interactive]:this.enabled};return He("div",{bind:this,class:this.classes(oh.button,s),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},He("span",{"aria-hidden":"true",role:"presentation",class:this.classes(oh.icon,this.iconClass??"")}),He("span",{class:oh.iconText},this.title))}_triggerAction(){this.action.call(this)}};E([A()],zs.prototype,"action",void 0);E([A()],zs.prototype,"enabled",void 0);E([A()],zs.prototype,"iconClass",void 0);E([A()],zs.prototype,"icon",void 0);E([A()],zs.prototype,"title",void 0);E([sc()],zs.prototype,"_triggerAction",null);zs=E([q("esri.widgets.IconButton")],zs);const Fg=zs;let Tl=class extends Et{get canZoomIn(){if(!this.get("view.ready"))return!1;const s=this.get("view.animation.target.scale")||this.get("view.scale"),l=this.get("view.constraints.effectiveMaxScale");return l===0||s>l}get canZoomOut(){if(!this.get("view.ready"))return!1;const s=this.get("view.animation.target.scale")||this.get("view.scale"),l=this.get("view.constraints.effectiveMinScale");return l===0||s<l}};E([A({readOnly:!0})],Tl.prototype,"canZoomIn",null);E([A({readOnly:!0})],Tl.prototype,"canZoomOut",null);E([A()],Tl.prototype,"view",void 0);Tl=E([q("esri.widgets.Zoom.ZoomConditions2D")],Tl);const CF=Tl;let El=class extends Et{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};E([A({readOnly:!0})],El.prototype,"canZoomIn",null);E([A({readOnly:!0})],El.prototype,"canZoomOut",null);E([A()],El.prototype,"view",void 0);El=E([q("esri.widgets.Zoom.ZoomConditions3D")],El);const OF=El;let Jn=class extends Et{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new CF({view:t}):t.type==="3d"&&(this._zoomConditions=new OF({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():b3(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():b3(t.goTo({zoomFactor:.5}))}};E([A()],Jn.prototype,"_zoomConditions",void 0);E([A()],Jn.prototype,"canZoomIn",null);E([A()],Jn.prototype,"canZoomOut",null);E([A({readOnly:!0})],Jn.prototype,"state",null);E([A()],Jn.prototype,"view",null);Jn=E([q("esri.widgets.Zoom.ZoomViewModel")],Jn);const N8=Jn,ah={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let ss=class extends $l{constructor(t,s){super(t,s),this.iconClass=ah.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new N8}initialize(){this._zoomInButton=new Fg({action:this.zoomIn.bind(this),iconClass:ah.zoomInIcon}),this._zoomOutButton=new Fg({action:this.zoomOut.bind(this),iconClass:ah.zoomOutIcon})}destroy(){this._zoomInButton=be(this._zoomInButton),this._zoomOutButton=be(this._zoomOutButton)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t=this.viewModel,s={[ah.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:l,canZoomOut:f}=t;this._zoomInButton.enabled=l,this._zoomOutButton.enabled=f;const{zoomIn:d,zoomOut:v}=this.messages;return this._zoomInButton.title=d,this._zoomOutButton.title=v,He("div",{class:this.classes(ah.base,s)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};E([A()],ss.prototype,"iconClass",void 0);E([A()],ss.prototype,"icon",void 0);E([A()],ss.prototype,"label",null);E([A({value:"vertical"})],ss.prototype,"layout",null);E([A(),nc("esri/widgets/Zoom/t9n/Zoom")],ss.prototype,"messages",void 0);E([A()],ss.prototype,"view",null);E([A({type:N8})],ss.prototype,"viewModel",void 0);ss=E([q("esri.widgets.Zoom")],ss);const NF=ss;function LF(i){return(i==null?void 0:i.view)!==void 0}let Ff=class extends $j{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this.addHandles([Ct(()=>this.components,this._componentsWatcher.bind(this),ei),Ct(()=>this.view,this._updateViewAwareWidgets.bind(this),ei)])}_add(t,s,l,f){let d=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;d=this._createComponent(t)}super._add(d,s,l,f)}_removeComponents(t){t.forEach(s=>{const l=this._find(s);l&&(this.remove(l),l.destroy())})}_updateViewAwareWidgets(t){this.components.forEach(s=>{const l=this._find(s),f=l&&l.widget;LF(f)&&(f.view=t)})}_componentsWatcher(t,s){this._removeComponents(s),this._addComponents(t),this._adjustPadding(t)}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:s}=this.padding;this.padding=s}}_addComponents(t){this.constructed&&t.forEach(s=>this.add(this._createComponent(s),this._defaultPositionLookup[s]))}_createComponent(t){const s=this._createWidget(t);if(s)return new f0({id:t,node:s})}_createWidget(t){const{view:s}=this;switch(t){case"attribution":return new MF({view:s});case"compass":return new PF({view:s});case"navigation-toggle":return new IF({view:s});case"zoom":return new NF({view:s})}}};E([A()],Ff.prototype,"components",void 0);Ff=E([q("esri.views.ui.DefaultUI")],Ff);const L8=Ff;let zf=class extends L8{constructor(t){super(t),this.components=["attribution","zoom"]}};E([A()],zf.prototype,"components",void 0);zf=E([q("esri.views.ui.2d.DefaultUI2D")],zf);const R8=zf;var s2;let Uf=s2=class extends bt{constructor(t){super(t),this.color=new ae([0,0,0,1])}clone(){return new s2(ht({color:this.color}))}};E([A({type:ae,json:{write:!0}})],Uf.prototype,"color",void 0);Uf=s2=E([q("esri.webmap.background.ColorBackground")],Uf);const RF=Uf;let D8,j8,k8,F8,z8,U8;async function DF(){const[,{GraphicsView2D:i,GraphicContainer:t,LabelManager:s,MapViewNavigation:l,MagnifierView2D:f,Stage:d}]=await Promise.all([pt(()=>import("./webglDeps-6c291ad6.js"),["assets/webglDeps-6c291ad6.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/ProgramTemplate-2b3ade94.js","assets/programUtils-ff2de00e.js","assets/NestedMap-d4ac5d57.js"]),pt(()=>import("./mapViewDeps-0e20c2ee.js"),["assets/mapViewDeps-0e20c2ee.js","assets/MagnifierPrograms-abe4b178.js","assets/_commonjsHelpers-725317a4.js","assets/WGLContainer-d2b18033.js","assets/definitions-3f56d206.js","assets/VertexArrayObject-7008af40.js","assets/TextureDescriptor-ee3ba00a.js","assets/enums-08489827.js","assets/VertexElementDescriptor-24e04d97.js","assets/color-3f29be9c.js","assets/enums-eb6e4255.js","assets/ProgramTemplate-2b3ade94.js","assets/MaterialKey-6ab638aa.js","assets/utils-a566d6cf.js","assets/heatmapUtils-a1ba5203.js","assets/vec4-3dd523e8.js","assets/vec4f64-efdcb593.js","assets/StyleDefinition-edaaf36e.js","assets/config-c06e4a6d.js","assets/GeometryUtils-0ab64fac.js","assets/Container-bcbb5c7f.js","assets/parser-b7037908.js","assets/earcut-db592379.js","assets/featureConversionUtils-c38cba79.js","assets/OptimizedGeometry-af84d2ad.js","assets/OptimizedFeatureSet-5c82fe5a.js","assets/ExpandedCIM-a0135cbf.js","assets/BidiEngine-cdaf024a.js","assets/GeometryUtils-26dde58c.js","assets/Rect-df8ea165.js","assets/quantizationUtils-3065e463.js","assets/floatRGBA-413bea01.js","assets/rasterizingUtils-af90df02.js","assets/pbf-6f2a85bf.js","assets/imageutils-94080b09.js","assets/Matcher-a4f08982.js","assets/visualVariablesUtils-f72161c3.js","assets/visualVariablesUtils-0ad0554c.js","assets/tileUtils-fdb57ff2.js","assets/TurboLine-8b64729e.js","assets/defaultsJSON-b396ba80.js","assets/LRUCache-7d80c941.js","assets/MemCache-0b9a9ce4.js","assets/devEnvironmentUtils-e2e22b53.js","assets/styleUtils-7b70a1b4.js","assets/featureFlags-b0a4f6c7.js","assets/CircularArray-7e036143.js","assets/DisjointTimerQuery-0b864cc8.js","assets/throttle-9d01e8e8.js","assets/ComputedAttributeStorage-55909c32.js","assets/FieldsIndex-19734375.js","assets/arcadeTimeUtils-c52e5a06.js","assets/executionError-e2eca390.js","assets/centroid-1116d1e7.js","assets/diffUtils-d9e7d9d5.js","assets/lengthUtils-81eb77d2.js","assets/sizeVariableUtils-2914222a.js","assets/BufferPool-b8b7310b.js","assets/enums-977a0ba8.js","assets/programUtils-ff2de00e.js","assets/NestedMap-d4ac5d57.js","assets/RenderingContext-ceb42fb4.js","assets/OrderIndependentTransparency-01632ab9.js","assets/basicInterfaces-cc58f4ac.js","assets/doublePrecisionUtils-a59b69fa.js","assets/imageUtils-42075577.js","assets/GraphicsView2D-8ab2d351.js","assets/normalizeUtilsSync-3b2fe059.js","assets/normalizeUtilsCommon-99b04a51.js","assets/projectionSupport-6c80ea64.js","assets/json-9ae8d6f8.js","assets/labelingInfo-df91e583.js","assets/labelUtils-ebd7215b.js","assets/jsonUtils-d970b431.js","assets/AttributeStoreView-d28d7661.js","assets/TiledDisplayObject-7318709e.js","assets/schemaUtils-b629a32b.js","assets/sql-46e4bdd9.js","assets/clusterUtils-2ed109d6.js","assets/SizeVariable-5571e455.js","assets/colorRamps-bcaaf237.js","assets/LegendOptions-0798b0b9.js","assets/util-47df0d76.js","assets/normalizeUtils-ec352ded.js","assets/GraphicContainer-bfba6e68.js","assets/BaseGraphicContainer-74d440d2.js","assets/FeatureContainer-fdbe000c.js","assets/TileContainer-6c7bda90.js","assets/vec3f32-ec4c3c20.js","assets/requestImageUtils-61b55775.js"])]);j8=i,k8=t,F8=s,z8=l,U8=f,D8=d}const zg=160;function jF(i){return i&&i.declaredClass==="esri.Viewpoint"}let xt=class extends iC(kO(TO(_R))){constructor(t){super(t),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Vh({getCollections:()=>{var s,l;return[(s=this.basemapView)==null?void 0:s.baseLayerViews,this.layerViews,(l=this.basemapView)==null?void 0:l.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new QR(this),this._pePromise=null,this.floors=new kt,this.highlightOptions=new U7,this.inputManager=new ij({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new $7,this.type="2d",this.ui=new R8,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new k7,this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Ct(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(zg)},gu),this.on("resize",s=>this._resizeHandler(s)),Ct(()=>{var s;return(s=this.animationManager)==null?void 0:s.animation},s=>{this.animation=s})]),yI()}destroy(){this._set("preconditionsReady",!1),this.frameTask=be(this.frameTask),this._gotoTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new uj(this.featuresTilingScheme)}get initialExtentRequired(){var w;const{scale:t,constraints:s,center:l,viewpoint:f,extent:d}=this;let v=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((w=this.map.initialViewProperties)!=null&&w.viewpoint)||d||(s!=null&&s.effectiveLODs||(v=-1),l&&(t!==0||v!==-1))||f&&f.targetGeometry!=null&&(f.targetGeometry.type==="extent"||f.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return ra()?!0:(this._pePromise||(this._pePromise=sa().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const s=this.spatialReference,l=t.targetGeometry;return!zn(l.spatialReference,s)?this._projectionEngineLoaded:!0}set animation(t){const s=this._get("animation");if(t===s)return;if(s&&s.stop(),!t||t.isFulfilled()){this._set("animation",null);return}this._set("animation",t),this.frameTask.animationInProgress=!0;const l=()=>{var f;t===this._get("animation")&&(this._set("animation",null),(f=this.frameTask)==null||f.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)};t.when(l,l)}get background(){return FF(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:s}=this.state.paddedViewState;return new Pt({x:t[0],y:t[1],spatialReference:s})}set center(t){if(t==null)return;if(!this.ready){this._set("center",t),this.notifyChange("initialExtentRequired");return}let s;try{s=this._project(t,this.spatialReference)}catch(f){ct.getLogger(this.declaredClass).error(new mt("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:f}));return}const l=this.viewpoint;By(l,l,s),this.viewpoint=l}set constraints(t){const s=this._get("constraints");s&&(this.handles.remove("map-view-constraints"),s.destroy()),this._set("constraints",t),t&&(t.view=this,this.ready&&(this.state.viewpoint=t.fit(this.state.paddedViewState.viewpoint)),this.handles.add(Ct(()=>t.version,()=>{this.ready&&this.state&&(this.state.viewpoint=t.fit(this.state.paddedViewState.viewpoint))},gu),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height){ct.getLogger(this.declaredClass).error(new mt("mapview:invalid-extent","invalid extent size"));return}if(!this.ready){this._set("extent",t),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),this.notifyChange("initialExtentRequired");return}let s;try{s=this._project(t,this.spatialReference)}catch(f){ct.getLogger(this.declaredClass).error(new mt("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:f}));return}const l=this.viewpoint;kR(l,l,s,this.size,{constraints:this.constraints}),this.viewpoint=l}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){if(!this.ready){this._set("padding",t);return}this.state.padding=t,this._set("padding",this.state.padding)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready){this._set("rotation",t);return}const s=this.viewpoint;YR(s,s,t),this.viewpoint=s}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",-1);const l=this._get("extent");l&&(this._set("extent",null),this._set("center",l.center)),this.notifyChange("initialExtentRequired");return}const s=this.viewpoint;tg(s,s,t),this.viewpoint=s}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&!this._stationaryTimer}get updating(){var s,l,f;const t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(d=>!d.destroyed&&!("layerViews"in d)&&d.updating===!0));if(rt("esri-2d-log-updating")){const d=this.allLayerViews.reduce((v,w)=>({...v,[w.layer.id]:!w.destroyed&&!("layerViews"in w)&&w.updating}),{});console.log(`Updating MapView: ${t}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(s=this.layerViewManager)==null?void 0:s.updating}
-> labelManager.updating: ${(l=this.labelManager)==null?void 0:l.updating}
-> graphicsView.updating: ${(f=this.graphicsView)==null?void 0:f.updating}
-> allLayerViews: ${JSON.stringify(d)}
`)}return t}get viewpoint(){if(!this.ready)return this._get("viewpoint");const t=this.state.paddedViewState;return t&&t.viewpoint.clone()}set viewpoint(t){if(t==null)return;if(!this.ready){this._set("viewpoint",t),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),this.notifyChange("initialExtentRequired");return}let s,l;try{s=this._project(t,this.spatialReference),!t.scale||isNaN(t.scale)?l=new mt("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(l=new mt("mapview:invalid-viewpoint","geometry not defined"))}catch(d){l=new mt("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:d})}if(l){ct.getLogger(this.declaredClass).error(l);return}this._scaleBeforeChangingSpatialReference=null;const f=new $r({targetGeometry:new Pt,scale:0,rotation:0});Nr(f,s),this.constraints.constrain(f,this.state.paddedViewState.viewpoint),this.state.viewpoint=f,this.frameTask.requestFrame(),this._set("viewpoint",f)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(t){if(t==null)return;if(!this.ready){this._set("zoom",t),this._set("scale",0);const l=this._get("extent");l&&(this._set("extent",null),this._set("center",l.center)),this.notifyChange("initialExtentRequired");return}if(!this.constraints.effectiveLODs){this._set("zoom",-1);return}const s=this.viewpoint;tg(s,s,this.constraints.zoomToScale(t)),this.viewpoint=s,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!!(this.mapViewNavigation&&this.mapViewNavigation.interacting)}goTo(t,s){if(!t){ct.getLogger(this.declaredClass).error("#goTo()","target cannot be null or undefined");return}return this.animation&&(this.animation=null),this._createAnimation(),Sm(()=>this.ready,s).then(()=>{var d;const l={animate:!0,...s},f=RR(t,this);return(d=this.animation)==null||d.update(f),this._gotoTask={},l.animate?this._gotoAnimated(f,l):this._gotoImmediate(f,l)})}async hitTest(t,s){const l=Ww(t)?Hw(this,t):t;if(!this.ready||isNaN(l.x)||isNaN(l.y))return{screenPoint:l,results:[]};let f=new Set,d=!1,v=null,w=null;s!=null&&s.include?$g(s.include,Ug(this,F=>f.add(F),F=>{v||(v=new Set),v.add(F)},F=>f.add(F),()=>d=!0)):(d=!0,f=new Set(this.allLayerViews)),s!=null&&s.exclude&&$g(s.exclude,Ug(this,F=>f.delete(F),F=>{w||(w=new Set),w.add(F)}));const T=this.allLayerViews.filter(F=>!F.suspended&&f.has(F)).reverse(),M=this.toMap(l),I=d?this.graphicsView.hitTest(M).map(F=>({type:"graphic",graphic:F,layer:null,mapPoint:M})):[],N=await Promise.all(T.map(F=>F.hitTest(M,l)).toArray());let R=[...I,...N].filter(En).flat().filter(En);return v&&(R=R.filter(F=>!("graphic"in F)||!F.graphic||(v==null?void 0:v.has(n2(F.graphic))))),w&&(R=R.filter(F=>!("graphic"in F)||!F.graphic||!(w!=null&&w.has(n2(F.graphic))))),{screenPoint:l,results:R}}async takeScreenshot(t){const s=this._createScreenshotPlan(t),l=await this._stage.takeScreenshot(s);return pj(l,{format:s.format,quality:s.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(t){const s=this._createScreenshotPlan(t),l=await this._stage.takeScreenshot(s);return dj(l,this._pixelFormat)}_createScreenshotPlan(t){t=t??{};const s=this.supersampleScreenshotsEnabled?Math.min(4,wj(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let l;t.layers?(l=[],t.layers.forEach(v=>{const w=this.allLayerViews.find(T=>T.layer.id===v.id);w&&"container"in w&&w.container&&l.push(w.container)})):l=this._stage.children;const{format:f,quality:d}=vj(t.format,t.quality);return fj(t,s,this.size,this.padding,f,d,l,t.rotation)}get test(){return{takeScreenshot:t=>this._takeScreenshot(t)}}toMap(t){if(!this.ready)return null;const s=Ww(t)?Hw(this,t):t,l=[0,0],[f,d]=this.state.toMap(l,[s.x,s.y]),v=this.spatialReference;return new Pt({x:f,y:d,spatialReference:v})}toScreen(t){if(!this.ready)return null;const s=this._project(t,this.spatialReference),l=[s.x,s.y];return this.state.toScreen(l,l),mi(l[0],l[1])}on(t,s,l,f){const d=this.inputManager&&this.viewEvents.on(t,s,l,f);return d||super.on(t,s)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t,s,l;return this.map&&"initialViewProperties"in this.map&&((s=(t=this.map)==null?void 0:t.initialViewProperties)==null?void 0:s.spatialReference)||((l=this.defaultsFromMap)==null?void 0:l.spatialReference)||null}hasLayerViewModule(t){return ig.hasLayerViewModule(t)}importLayerView(t){return ig.importLayerView(t)}pixelSizeAt(){return this.ready?this.state.resolution:(ct.getLogger(this.declaredClass).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(t){return this.hitTest(t).then(s=>({...s,mapPoint:this.toMap(t)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let t=Oj(this.type);return rt("safari")&&rt("safari")<9&&(t=new mt("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:rt("safari")})),t!=null?(ct.getLogger(this.declaredClass).warn("#validate()",t.message),Promise.reject(t)):DF()}_createAnimation(){return(!this.animation||this.animation.done)&&(this.animation=new Vy),this.animation}_cancellableGoTo(t,s,l){const f=()=>t===this._gotoTask,d=l.then(()=>{f()&&(this.animation=null)}).catch(w=>{throw f()&&(s&&!s.done&&(s.stop(),this.frameTask.animationInProgress=!1),this.animation=null),w}),v=new Promise(w=>w(d));return s.when().catch(()=>{f()&&v.cancel&&v.cancel()}),v}_gotoImmediate(t,s){const l=this._gotoTask,f=this.animation,d=t.then(v=>{if(Le(s),l!==this._gotoTask)throw new mt("view:goto-interrupted","Goto was interrupted");this.viewpoint=f.target=v,f.finish()});return this._cancellableGoTo(l,f,d)}_flipStationary(t){return this._stationaryTimer!==null?this._stationaryTimer:(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const s=performance.now()-this._lastStationaryEventTimestamp;s<zg&&(this._stationaryTimer=this._flipStationary(s))},t),this._stationaryTimer)}_getDefaultViewpoint(){var Y,it,Q,st;const{constraints:t,initialExtent:s,map:l,padding:f,size:d}=this;if(!t)return null;const v=l&&"initialViewProperties"in l?l.initialViewProperties:void 0,w={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};t.effectiveLODs?w.zoom!==-1&&(w.scale=t.zoomToScale(w.zoom)):w.zoom=-1;let T=null,M=null,I=0;const N=w.viewpoint&&w.viewpoint.rotation,R=w.viewpoint&&w.viewpoint.targetGeometry;R!=null&&(R.type==="extent"?T=R:R.type==="point"&&(M=R,I=w.viewpoint.scale));const F=w.extent||T||((it=(Y=v==null?void 0:v.viewpoint)==null?void 0:Y.targetGeometry)==null?void 0:it.extent)||s,V=w.center||M||(F==null?void 0:F.center),W=w.scale||I||((Q=v==null?void 0:v.viewpoint)==null?void 0:Q.scale)||F&&Nh(F,[d[0]-f.left-f.right,d[1]-f.top-f.bottom]),H=w.rotation||N||((st=v==null?void 0:v.viewpoint)==null?void 0:st.rotation)||0;return!V||!W?null:new $r({targetGeometry:V,scale:W,rotation:H})}_gotoAnimated(t,s){const l=this._gotoTask,f=this.animation;if(!f)return Promise.resolve();const d=t.then(v=>{if(Le(s),l!==this._gotoTask)throw new mt("view:goto-interrupted","Goto was interrupted");return f.update(v),this.animationManager.animate(f,this.viewpoint,s),f.when().then(()=>{},()=>{})});return this._cancellableGoTo(l,f,d)}_project(t,s){var d;const l=t&&t.targetGeometry||t;if(!s)return t;if(!l)return null;if(s.imageCoordinateSystem||(d=l.spatialReference)!=null&&d.imageCoordinateSystem||oi(s,l.spatialReference))return t;const f=Dl(l,s);if(!f)throw new mt("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:l,spatialReference:s});return jF(t)?(t.targetGeometry=f,t):f}_resizeHandler(t){if(!this.ready)return;const s=this.state;let l=this.state.paddedViewState.viewpoint;const f=this.state.paddedViewState.size.concat();s.size=[t.width,t.height],KR(l,l,f,this.state.paddedViewState.size,this.resizeAlign),l=this.constraints.constrain(l,void 0),this.state.viewpoint=l}_startup(){var T,M;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint(),s=t.targetGeometry;try{this._project(t,this.spatialReference)}catch(I){ct.getLogger(this.declaredClass).warn(new xs("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:this.spatialReference,error:I})),t.targetGeometry=((T=this.defaultsFromMap.extent)==null?void 0:T.center)||new Pt({x:0,y:0,spatialReference:this.spatialReference})}(M=this.constraints)==null||M.fit(t),this._set("state",new mD({padding:this._get("padding"),size:this.size,viewpoint:t})),this.graphics.owner=this;const l=new D8(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=l,this._magnifierView=new U8,this._magnifierView.magnifier=this.magnifier;const f=new F8({view:this});this._set("labelManager",f);const d=new XR({view:this});this._set("animationManager",d);const v=new z8({view:this,animationManager:d});this._set("mapViewNavigation",v),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),l.on("post-render",()=>this._set("rendering",l.renderRequested)),l.on("will-render",()=>this._set("rendering",l.renderRequested)),l.on("webgl-error",I=>this.fatalError=I.error),Ct(()=>this.stationary,I=>l.stationary=I,uo),Ct(()=>this.background,I=>{l.background=I,this._magnifierView.background=I},uo),Ct(()=>this.magnifier,I=>this._magnifierView.magnifier=I,uo),Ct(()=>this.renderingOptions,I=>l.renderingOptions=I,uo),Ct(()=>this.highlightOptions,I=>l.highlightOptions=I,uo),Ct(()=>this.state.id,()=>l.state=this.state,uo)],"map-view"),this._updateStageChildren();const w=this._resolveWhenReady;this._resolveWhenReady=[],w.forEach(I=>I(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[t,s],spatialReference:l,rotation:f,scale:d}=this.state.paddedViewState,v=new Pt({x:t,y:s,spatialReference:l});this._set("viewpoint",null),this._set("extent",null),this._set("center",v),this._set("zoom",-1),this._set("rotation",f),this._set("scale",d),this._set("spatialReference",l),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(s=>{this._stage.addChild(s.container)});const t=this.graphicsView;this._stage.addChild(t.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const t=new SD(tC.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const s=new j8({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new k8(t)});this.frameTask.graphicsView=s,this._set("graphicsView",s)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,t.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(t){if(!this.ready)return;this.frameTask.stop();for(const T of this.allLayerViews)T.processDetach();this._destroySpatialReferenceDependentProperties();const s=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=s.scale;else{const T=s.viewpoint.clone();T.scale=this._scaleBeforeChangingSpatialReference,s.viewpoint=T}const l=s.clone(),[f,d]=s.center;let v=null;try{v=this._project(new Pt({x:f,y:d,spatialReference:s.spatialReference}),t)}catch(T){ra()||ct.getLogger(this.declaredClass).warn(new xs("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:v==null?void 0:v.toJSON(),spatialReference:t,error:T}))}v||(v=new Pt({x:0,y:0,spatialReference:t}));const w=By(new $r({targetGeometry:new Pt,scale:0,rotation:0}),s.viewpoint,v);l.viewpoint=w;try{const M=[s.size[0]/2,s.size[1]/2],I=[M[0]+20,M[1]],N=s.toMap([0,0],I),{x:R,y:F}=this._project(new Pt({x:N[0],y:N[1],spatialReference:s.spatialReference}),t);N[0]=R,N[1]=F,l.toScreen(N,N);const V=WR(M,N,I),W=Math.hypot(N[0]-M[0],N[1]-M[1])/20;!Number.isFinite(W)||Math.abs(W)>4?(w.rotation=0,w.targetGeometry=new Pt({x:0,y:0,spatialReference:t})):(w.scale*=W,w.scale>rt("mapview-srswitch-adjust-rotation-scale-threshold")?w.rotation=0:w.rotation+=Number.isFinite(V)?V:0)}catch{}this._get("constraints").constrain(w,void 0),this._get("state").viewpoint=w,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const T of this.allLayerViews)T.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};xt.type="2d";E([A({readOnly:!0})],xt.prototype,"animationManager",void 0);E([A({constructOnly:!0})],xt.prototype,"deactivatedWebGLExtensions",void 0);E([A({constructOnly:!0})],xt.prototype,"debugWebGLExtensions",void 0);E([A({readOnly:!0})],xt.prototype,"featuresTilingScheme",void 0);E([A({readOnly:!0})],xt.prototype,"fullOpacity",void 0);E([A({readOnly:!0})],xt.prototype,"graphicsTileStore",null);E([A()],xt.prototype,"graphicsView",void 0);E([A({readOnly:!0})],xt.prototype,"state",void 0);E([A()],xt.prototype,"initialExtentRequired",null);E([A()],xt.prototype,"labelManager",void 0);E([A({readOnly:!0})],xt.prototype,"resourceManager",null);E([A({readOnly:!0})],xt.prototype,"textureManager",null);E([A({readOnly:!0})],xt.prototype,"mapViewNavigation",void 0);E([A({constructOnly:!0})],xt.prototype,"renderCanvas",void 0);E([A()],xt.prototype,"renderingOptions",void 0);E([A({readOnly:!0})],xt.prototype,"rendering",void 0);E([A({constructOnly:!0})],xt.prototype,"supersampleScreenshotsEnabled",void 0);E([A({readOnly:!0})],xt.prototype,"supportsGround",void 0);E([A()],xt.prototype,"_stationaryTimer",void 0);E([A()],xt.prototype,"_defaultsFromMapSettings",null);E([A()],xt.prototype,"_pePromise",void 0);E([A({readOnly:!0})],xt.prototype,"typeSpecificPreconditionsReady",null);E([A()],xt.prototype,"animation",null);E([A({type:RF})],xt.prototype,"background",null);E([A({value:null,type:Pt,dependsOn:["state.id","ready"]})],xt.prototype,"center",null);E([A({type:k7})],xt.prototype,"constraints",null);E([A({value:null,type:pe,dependsOn:["state.id","ready"]})],xt.prototype,"extent",null);E([A()],xt.prototype,"floors",void 0);E([A({type:U7})],xt.prototype,"highlightOptions",void 0);E([A({readOnly:!0})],xt.prototype,"inputManager",void 0);E([A()],xt.prototype,"map",void 0);E([A({value:{top:0,right:0,bottom:0,left:0},cast:i=>({top:0,right:0,bottom:0,left:0,...i})})],xt.prototype,"padding",null);E([A()],xt.prototype,"resizeAlign",void 0);E([A({readOnly:!0,dependsOn:["state.id"]})],xt.prototype,"resolution",null);E([A({value:0,type:Number,dependsOn:["state.id","ready"]})],xt.prototype,"rotation",null);E([A({value:0,type:Number,dependsOn:["state.id","ready"]})],xt.prototype,"scale",null);E([A({constructOnly:!0})],xt.prototype,"spatialReferenceLocked",void 0);E([A()],xt.prototype,"stationary",null);E([A({type:$7,readOnly:!0})],xt.prototype,"timeline",void 0);E([A({readOnly:!0})],xt.prototype,"type",void 0);E([A({readOnly:!0})],xt.prototype,"updating",null);E([A({value:null,type:$r,dependsOn:["state.id","ready"]})],xt.prototype,"viewpoint",null);E([A({value:-1,dependsOn:["state.id","ready"]})],xt.prototype,"zoom",null);E([A({readOnly:!0})],xt.prototype,"navigating",null);E([A(),_i(i=>i instanceof L8?i:y2(R8,i))],xt.prototype,"ui",void 0);xt=E([q("esri.views.MapView")],xt);const kF=xt;function n2(i){var s,l;const t=i.getObjectId();return t?`${((s=i.layer)==null?void 0:s.uid)??((l=i.sourceLayer)==null?void 0:l.uid)??"MapView"}/${t}`:`"MapView/${i.uid}`}function Ug(i,t,s,l,f){return d=>{if(d instanceof vu){if(d.layer===i)f==null||f();else{const v=i.allLayerViews.find(w=>w.layer===d.layer);v&&(l==null||l(v))}s(n2(d))}else{const v=i.allLayerViews.find(w=>w.layer===d);v&&t(v)}}}function $g(i,t){if(i)if(!p0(i))t(i);else for(const s of i)if(!p0(s))t(s);else for(const l of s)t(l)}function FF(i){return(i==null?void 0:i.declaredClass)==="esri.WebMap"}function zF(i){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const s=t._delegatedEventNames,l=Array.isArray(i)?i:UF(i);s.push(...l)}}function UF(i){return i.split(",").map(t=>t.trim())}new ii({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"});new ii({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});let ma=class extends bt{constructor(t){super(t),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};E([A({type:String,json:{write:!0}})],ma.prototype,"deviationUnit",void 0);E([A({json:{read:{reader:i=>i?i.map(t=>br(t)).filter(En):null},write:{writer:(i,t)=>{t.geometries=(i==null?void 0:i.map(s=>s.toJSON()))??null}}}})],ma.prototype,"geometries",void 0);E([A({type:Number,json:{write:!0}})],ma.prototype,"maxDeviation",void 0);ma=E([q("esri.rest.support.GeneralizeParameters")],ma);ma.from=$e(ma);new ii({preserveShape:"preserve-shape"});let Kn=class extends bt{constructor(t){super(t),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};E([A({type:String,json:{write:!0}})],Kn.prototype,"calculationType",void 0);E([A({type:Boolean,json:{write:!0}})],Kn.prototype,"geodesic",void 0);E([A({json:{write:!0}})],Kn.prototype,"lengthUnit",void 0);E([A({type:[Sa],json:{read:{reader:i=>i?i.map(t=>br(t)):null},write:{writer:(i,t)=>{t.polylines=i.map(s=>s.toJSON())}}}})],Kn.prototype,"polylines",void 0);Kn=E([q("esri.rest.support.LengthsParameters")],Kn);Kn.from=$e(Kn);new ii({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"});new ii({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});let Us=class extends bt{constructor(t){super(t),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};E([A({type:Number,json:{write:!0}})],Us.prototype,"bevelRatio",void 0);E([A({json:{read:{reader:i=>i?i.map(t=>br(t)).filter(En):null},write:{writer:(i,t)=>{t.geometries=(i==null?void 0:i.map(s=>s.toJSON()))??null}}}})],Us.prototype,"geometries",void 0);E([A({type:Number,json:{write:!0}})],Us.prototype,"offsetDistance",void 0);E([A({type:String,json:{write:!0}})],Us.prototype,"offsetHow",void 0);E([A({type:String,json:{write:!0}})],Us.prototype,"offsetUnit",void 0);Us=E([q("esri.rest.support.OffsetParameters")],Us);Us.from=$e(Us);function $F(i,t){return t?{...t,query:{...i??{},...t.query}}:{query:i}}function GF(i){return typeof i=="string"?ji(i):ht(i)}function VF(i,t,s){const l={};for(const f in i){if(f==="declaredClass")continue;const d=i[f];if(!(d==null||typeof d=="function"))if(Array.isArray(d)){l[f]=[];for(let v=0;v<d.length;v++)l[f][v]=VF(d[v])}else if(typeof d=="object")if(d.toJSON){const v=d.toJSON(s&&s[f]);l[f]=t?v:JSON.stringify(v)}else l[f]=t?d:JSON.stringify(d);else l[f]=d}return l}function dK(i){return{geometryType:H2(i[0]),geometries:i.map(t=>t.toJSON())}}function BF(i,t,s){const l=GM(t);return i.map(f=>{const d=l.fromJSON(f);return d.spatialReference=s,d})}let va=class extends bt{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(f=>f.toJSON()),s=this.geometries[0],l={};return l.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),l.inSR=s.spatialReference.wkid||JSON.stringify(s.spatialReference.toJSON()),l.geometries=JSON.stringify({geometryType:H2(s),geometries:t}),this.transformation&&(l.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(l.transformForward=this.transformForward),l}};E([A()],va.prototype,"geometries",void 0);E([A({json:{read:{source:"outSR"}}})],va.prototype,"outSpatialReference",void 0);E([A()],va.prototype,"transformation",void 0);E([A()],va.prototype,"transformForward",void 0);va=E([q("esri.rest.support.ProjectParameters")],va);const $8=va,HF=$e($8);async function WF(i,t,s){t=HF(t);const l=GF(i),f={...l.query,f:"json",...t.toJSON()},d=t.outSpatialReference,v=H2(t.geometries[0]),w=$F(f,s);return vi(l.path+"/project",w).then(({data:{geometries:T}})=>BF(T,v,d))}new ii({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});let Yn=class extends bt{constructor(t){super(t),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};E([A({json:{read:{reader:i=>i?i.map(t=>br(t)).filter(En):null},write:{writer:(i,t)=>{t.geometries1=(i==null?void 0:i.map(s=>s.toJSON()))??null}}}})],Yn.prototype,"geometries1",void 0);E([A({json:{read:{reader:i=>i?i.map(t=>br(t)).filter(En):null},write:{writer:(i,t)=>{t.geometries2=(i==null?void 0:i.map(s=>s.toJSON()))??null}}}})],Yn.prototype,"geometries2",void 0);E([A({type:String,json:{write:!0}})],Yn.prototype,"relation",void 0);E([A({type:String,json:{write:!0}})],Yn.prototype,"relationParameter",void 0);Yn=E([q("esri.rest.support.RelationParameters")],Yn);Yn.from=$e(Yn);new ii({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});let wa=class extends bt{constructor(t){super(t),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};E([A({type:String,json:{write:!0}})],wa.prototype,"extendHow",void 0);E([A({type:[Sa],json:{read:{reader:i=>i?i.map(t=>br(t)):null},write:{writer:(i,t)=>{t.polylines=i.map(s=>s.toJSON())}}}})],wa.prototype,"polylines",void 0);E([A({json:{read:{reader:i=>i?br(i):null},write:{writer:(i,t)=>{t.trimExtendTo=i.toJSON()}}}})],wa.prototype,"trimExtendTo",void 0);wa=E([q("esri.rest.support.TrimExtendParameters")],wa);wa.from=$e(wa);const G8=ct.getLogger("esri.widgets.support.geolocationUtils");function JF(){const i=rt("esri-geolocation");return i||G8.warn("geolocation-unsupported","Geolocation unsupported."),i}function KF(){const i=window.isSecureContext;return i||G8.warn("insecure-context","Geolocation requires a secure origin."),i}function YF(){return JF()&&KF()}function qF(i,t){const{position:s,view:l}=i,f=ZF(s),d=f==null?void 0:f.coords;if(!d)throw new mt("geometry-service:no-coords","Geolocation has no coordinates");const v=XF(d);return QF(v,l,t)}function ZF(i){const t=i&&i.coords||{},s={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return i&&{coords:s,timestamp:i.timestamp}}function XF({longitude:i,latitude:t,altitude:s}){return new Pt({longitude:i,latitude:t,z:s||void 0,spatialReference:{wkid:4326}})}function QF(i,t,s){if(!t)return Promise.resolve(i);const l=t.spatialReference;return l.isWGS84?Promise.resolve(i):l.isWebMercator?Promise.resolve(xh(i)):tz(s).then(f=>{if(!f)throw new mt("geometry-service:missing-url","Geometry service URL is missing");const d=new $8({geometries:[i],outSpatialReference:l});return WF(f,d,s).then(v=>v[0])})}function tz(i){if(Wt.geometryServiceUrl)return Promise.resolve(Wt.geometryServiceUrl);const t=As.getDefault();return t.load(i).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}const ez=2500,iz={type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:2,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,122,194,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},rz={type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:16,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,0,0,66]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetX:0,offsetY:-1},V8={type:"CIMPictureMarker",primitiveName:"headingOverride",enable:!0,anchorPoint:{x:0,y:-.5},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:36,billboardMode3D:"FaceNearPlane",invertBackfaceTexture:!0,scaleX:1,textureFilter:"Picture",tintColor:[255,255,255,255],url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYaSURBVHgBvVfNb1VFFD/nzP16xRYJKYREEiJoDLLShQkrSNzoHv8I2QgxwY8FJWHhxoVxISEu2AordWNiQjAxEBeEsKAmhCCwkPDRAn1t33v33jnH37n3Fam0pa8kTjOde+/MnN/5+J0z85jW08yYTpxgfzx0bS+fO0R0YHqyeb9w7YEtLTv+9rSdOH7ciNleJJJX/Do1JQ3AltdlT35fiN6gG8kD8akdmzO+6w/zM7wdw725rUY78DBXtmATA6PZntFgm9Kjm6o/HFJpdi5Xhp+16sDBC+H+gUmZfjIXHKC+35U42ZHZfpe30BZS7okNFnhu8wTRk2ek5LEV2q+N8nEj6yuNVRjHddftrt4ahyJbOxF+Uppi/Rf47NlA05Pp9vkyRNkkD8sqUJHwOGfSpYFQFXhTJryQBaZSeAxbFus+U1K0gJm2oy3QKwuZzqeuSK5kpW6BEsE6+nCsAHDXQWuaOljzU8uP/ToxUW4KcwKg8QzOSdFL6Swm0hurAC7N2qIW7ncwNgYKF4la3/w7RnzrUK29KseXWqmTKXGl45Zrd9CLrsSjr96fcw4kS46mTsJznSTrVBR6VQJQdDbpZTWexxgCYCFz30cquD8oYVQgtUAUzfo8wGtqGoNRFmFZ1KKulJMQu3Vpm/I8Pup3ekvES57GaabXo4lsszEA6zrkhcmAAkBNshi59O9wVsokBLZUCQAxllXVBkyCDRQuTlLLiLSEqw3gfUqU0kVdsKymsnzyPLm8fXZxDxVZgvUhg9QyaKDI7AhpSlRVEaA83JM+/V8pGO0PMTHyZwra9FQVk4i1e0D6dPK9v5agkmXAhc0Bw5MjlAQQE0lSDbUmbBX4kGfsiiQWuSZtdle1S4F73cUKJgviyw4mmmqlVSoR/FAK2d1noWQZ8N79MySw0tgNzhN00jRFaPM6y3IyLWBxXuOdvMfhaIy1MQctmvnEMGrMq2Y/ekC3dHF14I84gmZP2s0pgiJFHVwYhIIrMC1zgT4fQgsS0CG48LWtslAsgeKZK5U1c5Slj+nEvvJZqOWubr5ks8iE3bVqCMQCz4p5aiUqpMrOdHz2qLFTxAMSPLwY8WpmntNwrXIMCWvESGH+7n9hVi6ZJ6/sR5gnycFFQgsCQEEB8T9TbsCGy4PrZrEBjGyIt4EApoGRXWKP6Mt3fnvOvhWBjR4gdjtJEDmGQQkBSCS6Teys5qECABTPWOBwcPWgAPIU+E2+Rq3J8lsrQawMHNPbqAXvRqasWcMB/mK42N3twM6/FsbJTZK2Fru15K7niPVIp6RHn++9vRKErAg8ta+MFq4LBxAJKY1EajpxLj5KUzFzOMTni4btxoUzXPzIIOwLnEPxGVqlyWoTdO/WNRUXJhDmAgNAJVd0eABj8FTCvLbpEnxdOycJlFNXVq6MDvzthwOQ654LaMGGVofQWIWtXhM9xaCQp85QIZFMPXcpuUPH3uquJj6htVonvySD+KY6c2AulPAzHdVaZElvPCGBgvkIRUECr1J4qmV6LdGyJvAnu+94HZMla1Eg1AuGVyQWnNCwzqsUXK5+AIsUyPRc1Rbpi93X1xK9tsXtkj9U7INWSWvU0DaZ6OlVAmUDiqgbrwY2Z3ThRVKFXrgi/R0x9GMplxAyER6ynAtZin1DQoLVznLMU+/mywMf3dlDpbyMlbjLQDhLw/Sh24sm5dhTrlHKgS/T0X2zLw/sLeGr5OlEbg2uHwAFw5reKuKsJj8kcIj0zq9H5PqAj+z6E8y+YRIaUhnAEOrcWgv9m3shQ1H7mz5duVJtDLhZqZcNlrEDwXKwCzncdFg+PJeVf1m3uPUupLR7Hq6tHNyLhw1TCmdGbm0BmaUjr63LzaMBH943D9f+yO5uZ7HfcLktqdwqMU0jtPUDN6vDOfzgKFrXtta6q83vfHU4M5KoURbT4W3zsPIqrgQFO8GozV8ocZGOTN4dRdRowN6CnOLmKkk5t7H1i+HPNGJj2kj7buYajoRXh2+36eOt+2nENrrF3ozODEmFC0D4hjbQNgYc+DSYjd9qqGSJXqL/tZ16/DWdfvw9bbCt41hcpYn9RAEX9Q22fwC74ny5v9iplQAAAABJRU5ErkJggg=="},sz=new Hu({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[iz,rz,V8],angleAlignment:"Map"},primitiveOverrides:[{type:"CIMPrimitiveOverride",primitiveName:"headingOverride",propertyName:"Rotation",valueExpressionInfo:{type:"CIMExpressionInfo",title:"Rotation override",expression:"360 - $feature.heading",returnType:"Default"}}]}});let ns=class extends I8(qn.EventedMixin(Et)){constructor(){super(...arguments),this._geolocationUsable=!0,this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new vu({symbol:sz}),this.scale=null,this.rotationDisabled=!1,this.view=null}initialize(){YF()||(this._geolocationUsable=!1)}destroy(){this._clear(),this.view=null}_clear(){const{view:t,graphic:s}=this;t&&s&&t.graphics.remove(s)}_getScaleWithinConstraints(t,s){if(!s)return t;if(s.type==="2d"){const{effectiveMaxScale:l,effectiveMinScale:f}=s.constraints;return Math.min(f,Math.max(l,t))}return t}_getScale(t){const{scale:s}=this,l=typeof s=="number"?s:ez;return this._getScaleWithinConstraints(l,t)}_getHeading(t,s){var v;const l=s==null?void 0:s.spatialReference,f=(l==null?void 0:l.isWebMercator)||(l==null?void 0:l.isGeographic),d=(v=t.coords)==null?void 0:v.heading;return!f||typeof d!="number"||isNaN(d)||d<0||d>360?null:d}_addHeading(t){const{heading:s,target:l,view:f}=t;if(!(!f||s===null)){if(f.type==="3d"){l.heading=s;return}f.type==="2d"&&(l.rotation=360-s)}}_animatePoint(t,s,l,f){const{view:d}=this;if(!this.goToLocationEnabled||!d)return Promise.resolve();const v={target:t,scale:s};return this.rotationDisabled||this._addHeading({heading:l,target:v,view:d}),this.callGoTo({target:v,options:f})}async _setPosition(t,s){try{const l=this.view,f=await qF({position:t,view:l},s),{graphic:d}=this,{timestamp:v,coords:w}=t,{accuracy:T,altitude:M,altitudeAccuracy:I,latitude:N,longitude:R,speed:F}=w,V=this._getHeading(t,l);V8.enable=V!==null;const W={timestamp:v,accuracy:T,altitude:M,altitudeAccuracy:I,heading:V,latitude:N,longitude:R,speed:F};d&&(d.geometry=f,d.attributes=W);const H=this._getScale(l);await this._animatePoint(f,H,V,s)}catch(l){throw new mt("positioning:invalid-point","Cannot position invalid point",{error:l})}return t}};E([A()],ns.prototype,"_geolocationUsable",void 0);E([A()],ns.prototype,"geolocationOptions",void 0);E([A()],ns.prototype,"goToLocationEnabled",void 0);E([A({type:vu,nonNullable:!0})],ns.prototype,"graphic",void 0);E([A()],ns.prototype,"scale",void 0);E([A()],ns.prototype,"rotationDisabled",void 0);E([A()],ns.prototype,"view",void 0);ns=E([q("esri.widgets.support.GeolocationPositioning")],ns);const nz=ns;function oz(i,t){for(var s=0;s<t.length;s++){const l=t[s];if(typeof l!="string"&&!Array.isArray(l)){for(const f in l)if(f!=="default"&&!(f in i)){const d=Object.getOwnPropertyDescriptor(l,f);d&&Object.defineProperty(i,f,d.get?d:{enumerable:!0,get:()=>l[f]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}var $f={},az={get exports(){return $f},set exports(i){$f=i}};(function(i,t){function s(){function f(u){if(typeof u=="number")return U.Uc.ah(u);if(u==null)return null;if(a3[u]!=null)return U.Uc.ah(a3[u]);throw Error("Unrecognised Unit Type")}function d(u){if(typeof u=="number")return U.Uc.ah(u);if(u==null)return null;if(l3[u]!=null)return U.Uc.ah(l3[u]);throw Error("Unrecognised Unit Type")}function v(u){if(u)switch(u){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function w(u,C,y,n){if(y==null||y.B())return null;switch(y.K()){case U.sn.Point:return u.exportPoint(C,y,n);case U.sn.Polygon:return u.exportPolygon(C,y,n);case U.sn.Polyline:return u.exportPolyline(C,y,n);case U.sn.MultiPoint:return u.exportMultipoint(C,y,n);case U.sn.Envelope:return u.exportExtent(C,y,n)}return null}function T(u,C,y,n){if(y.K()!==U.sn.Point)throw Error("Geometry not Point");return u.exportPoint(C,y,n)}function M(u,C,y){return u.convertToGEGeometry(C,y)}function I(u){var C=u.wkid;u=u.wkt;var y=ro.get(C||u);return y==null&&(C!==-1&&C!=null?(y=U.Gg.create(C),ro.set(C,y)):u&&(y=U.Gg.lP(u),ro.set(u,y)),Ea.has(C||u)&&y.QW(Ea.get(C||u))),y}function N(u){var C;if(u==null)return null;var y=I(u);return u=y.Id(),y=y.Mn(),C={},C.tolerance=y,C.unitType=u==null?-1:u.pd,C.unitID=u==null?-1:u.Fc(),C.unitBaseFactor=u==null?0:u.ci,C.unitSquareDerivative=u==null?0:U.Uc.WF(u).Fc(),C}function R(u,C,y,n){return y==null?null:(y=U.ac.clip(M(u,ut,y),M(u,ut,n),I(C)),w(u,ut,y,C))}function F(u,C,y,n){y=U.ac.fl(M(u,ut,y),M(u,ut,n),I(C)),n=[];for(var e=0;e<y.length;e++)n.push(w(u,ut,y[e],C));return n}function V(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.contains(M(u,ut,y),M(u,ut,n),I(C))}function W(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.wP(M(u,ut,y),M(u,ut,n),I(C))}function H(u,C,y,n,e){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.ub(M(u,ut,y),M(u,ut,n),I(C),f(e))}function Y(u,C,y,n){return y==null&&n!=null||n==null&&y!=null?!1:U.ac.Nb(M(u,ut,y),M(u,ut,n),I(C))}function it(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.OS(M(u,ut,y),M(u,ut,n),I(C))}function Q(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.touches(M(u,ut,y),M(u,ut,n),I(C))}function st(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.mY(M(u,ut,y),M(u,ut,n),I(C))}function nt(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.OP(M(u,ut,y),M(u,ut,n),I(C))}function at(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.yU(M(u,ut,y),M(u,ut,n),I(C))}function gt(u,C,y,n,e){if(y==null||n==null)throw Error("Illegal Argument Exception");return U.ac.tB(M(u,ut,y),M(u,ut,n),I(C),e)}function wt(u,C,y){if(y==null)throw Error("Illegal Argument Exception");return U.ac.ZS(M(u,ut,y),I(C))}function At(u,C,y){if(y==null)throw Error("Illegal Argument Exception");return y=U.ac.$B(M(u,ut,y),I(C)),w(u,ut,y,C)}function _t(u,C,y,n){if(n===void 0&&(n=!1),y==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){var e=n,r=[];for(n=0;n<y.length;n++)r.push(M(u,ut,y[n]));for(y=U.ac.eP(r,e),e=Array(y.length),n=0;n<y.length;n++)e[n]=w(u,ut,y[n],C);return e}return n=U.ac.dP(M(u,ut,y),I(C)),w(u,ut,n,C)}function Nt(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){for(var e=[],r=0;r<y.length;r++)e.push(M(u,ut,y[r]));for(y=U.ac.LP(e,M(u,ut,n),I(C)),n=Array(y.length),r=0;r<y.length;r++)n[r]=w(u,ut,y[r],C);return n}return r=U.ac.km(M(u,ut,y),M(u,ut,n),I(C)),w(u,ut,r,C)}function Mt(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){for(var e=[],r=0;r<y.length;r++)e.push(M(u,ut,y[r]));for(y=U.ac.RX(e,M(u,ut,n),I(C)),n=Array(y.length),r=0;r<y.length;r++)n[r]=w(u,ut,y[r],C);return n}return r=U.ac.gp(M(u,ut,y),M(u,ut,n),I(C)),w(u,ut,r,C)}function zt(u,C,y,n){if(y==null||n==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){for(var e=[],r=0;r<y.length;r++)e.push(M(u,ut,y[r]));for(y=U.ac.MS(e,M(u,ut,n),I(C)),n=Array(y.length),r=0;r<y.length;r++)n[r]=w(u,ut,y[r],C);return n}return r=U.ac.Fa(M(u,ut,y),M(u,ut,n),I(C)),w(u,ut,r,C)}function Tt(u,C,y,n){if(y==null)return null;var e=[];if(Array.isArray(y)){if(y.length===0)return null;for(n=0;n<y.length;n++)e.push(M(u,ut,y[n]))}else e.push(M(u,ut,y)),n!=null&&e.push(M(u,ut,n));return w(u,ut,U.ac.fY(e,I(C)),C)}function fi(u,C,y,n,e,r,o,a){var h=0;if(r!=null)switch(r){case"round":h=0;break;case"bevel":h=1;break;case"miter":h=2;break;case"square":h=3}if(Array.isArray(y)){if(y==null)u=null;else if(y.length===0)u=[];else{var c=[];for(r=0;r<y.length;r++)c.push(M(u,ut,y[r]));for(y=U.ac.wU(c,I(C),n,h,o,a,f(e)),n=Array(y.length),r=0;r<y.length;r++)n[r]=w(u,ut,y[r],C);u=n}return u}return y=U.ac.offset(M(u,ut,y),I(C),n,h,o,a,f(e)),w(u,ut,y,C)}function eo(u,C,y,n,e,r){if(r===void 0&&(r=!1),Array.isArray(y)){if(!Array.isArray(n)){for(var o=[],a=0;a<y.length;a++)o.push(n);n=o}if(n.length!=y.length){if(n.length==0)throw Error("Illegal Argument Exception");o=[];var h=0;for(a=0;a<y.length;a++)n[a]===void 0?o.push(h):(o.push(n[a]),h=n[a]);n=o}return he(u,C,y,n,e,!1,r,"geodesic",NaN)}return y=U.ac.buffer(M(u,ut,y),I(C),n,f(e),!1,0,NaN),w(u,ut,y,C)}function rr(u,C,y,n,e,r,o,a){if(Array.isArray(y)){if(!Array.isArray(n)){for(var h=[],c=0;c<y.length;c++)h.push(n);n=h}if(n.length!==y.length){if(n.length===0)throw Error("Illegal Argument Exception");h=[];var p=0;for(c=0;c<y.length;c++)n[c]===void 0?h.push(p):(h.push(n[c]),p=n[c]);n=h}return he(u,C,y,n,e,!0,r,o,a)}return o===void 0&&(o=NaN),y=U.ac.buffer(M(u,ut,y),I(C),n,f(e),!0,v(r),o),w(u,ut,y,C)}function he(u,C,y,n,e,r,o,a,h){if(h===void 0&&(h=NaN),y==null)return null;if(y.length===0)return[];for(var c=[],p=0;p<y.length;p++)c.push(M(u,ut,y[p]));for(y=U.ac.HN(c,I(C),n,f(e),r,o,v(a),h),n=Array(y.length),p=0;p<y.length;p++)n[p]=w(u,ut,y[p],C);return n}function Bs(u,C,y,n,e){var r;return e===void 0&&(e=!0),y=U.ac.iz(M(u,ut,y),M(u,ut,n),e),r={},r.coordinate=T(u,ut,y.az(),C),r.distance=y.cz(),r.isRightSide=y.Nz(),r.vertexIndex=y.Va(),r.isEmpty=y.B(),r}function K8(u,C,y,n){var e;return y=U.ac.jz(M(u,ut,y),M(u,ut,n)),e={},e.coordinate=T(u,ut,y.az(),C),e.distance=y.cz(),e.isRightSide=y.Nz(),e.vertexIndex=y.Va(),e.isEmpty=y.B(),e}function Y8(u,C,y,n,e,r){var o;for(y=U.ac.kz(M(u,ut,y),M(u,ut,n),e,r),n=[],e=0;e<y.length;e++)y[e].B()===!1&&n.push((o={},o.coordinate=T(u,ut,y[e].az(),C),o.distance=y[e].cz(),o.isRightSide=y[e].Nz(),o.vertexIndex=y[e].Va(),o.isEmpty=y[e].B(),o));return n}function q8(u,C,y,n,e,r){return y=U.ac.LQ(M(u,ut,y),I(C),n,e,f(r)),w(u,ut,y,C)}function Z8(u,C,y,n,e){return y=U.ac.Sr(M(u,ut,y),I(C),n,f(e)),w(u,ut,y,C)}function X8(u,C,y,n,e,r){return r===void 0&&(r=0),y=U.ac.Ry(M(u,ut,y),I(C),n,f(e),r),w(u,ut,y,C)}function Q8(u,C,y,n){if(y==null)throw Error("Illegal Argument Exception");return U.ac.EU(M(u,ut,y),I(C),d(n))}function tS(u,C,y,n){if(y==null)throw Error("Illegal Argument Exception");return U.ac.FU(M(u,ut,y),I(C),f(n))}function eS(u,C,y,n,e){if(y==null)throw Error("Illegal Argument Exception");return U.ac.RQ(M(u,ut,y),I(C),d(n),v(e))}function iS(u,C,y,n,e){if(y==null)throw Error("Illegal Argument Exception");return U.ac.UQ(M(u,ut,y),I(C),f(n),v(e))}function rS(u){U.IL.bind(u)}function sS(u,C,y,n,e){var r=null,o=null;if(n){if(!e)throw U.i.O("AOI missing Spatial Reference");r=M(u,ut,n),o=I(e).hh()}return u=U.iu.SR(I(C).hh(),I(y).hh(),r,o),u!==null?u:null}function nS(u,C,y,n,e){var r=null,o=null;if(n){if(!e)throw U.i.O("AOI missing Spatial Reference");r=M(u,ut,n),o=I(e).hh()}return U.iu.TR(I(C).hh(),I(y).hh(),r,o)}function oS(u,C,y,n,e,r){if(e===void 0&&(e=null),r===void 0&&(r=null),r){var o=new U.tC;o.Xu=r.densificationStep,o.Lr=r.centralMeridianOfOutputGCS,r.clipWithInputHorizon&&o.KW(r.clipWithInputHorizon),r.clipWithOutputHorizon&&o.LW(r.clipWithOutputHorizon)}if(this.GY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(C.length===0)return[];if(e){if(r=e.getCachedGeTransformation(y,n),!r)t:{if(r=e,e=null,r){var a=r.getGTListEntry();if(a!==null){e=new U.rC(null);for(var h=0,c=a.steps;h<c.length;h++){a=c[h];var p=new U.Cx(a.geogtran);a.isInverse&&p.Lz(),e.add(p)}o=U.xr.Pr(I(y).hh(),I(n).hh(),e,o),r.assignCachedGe(y,n,o),r=o;break t}}if(e===null&&r&&r.steps&&0<r.steps.length){for(e=new U.rC(null),h=0,c=r.steps;h<c.length;h++)a=c[h],a.wkid!=-1&&a.wkid!=null?e.add(U.Cx.create(a.wkid,a.isInverse)):e.add(U.Cx.pP(a.wkt,a.isInverse));o=U.xr.Pr(I(y).hh(),I(n).hh(),e,o),r.assignCachedGe(y,n,o),r=o}else r=U.xr.Pr(I(y).hh(),I(n).hh(),e,o)}for(y=[],e=0;e<C.length;e++)o=C[e],y.push(o3(u,o,n,r))}else for(r=U.xr.Pr(I(y).hh(),I(n).hh(),null),y=[],e=0;e<C.length;e++)o=C[e],y.push(o3(u,o,n,r));return y}function o3(u,C,y,n){return C=U.ac.Bh(M(u,ut,C),n),w(u,ut,C,y)}function aS(u,C){u!=null&&(u=u.wkid||u.wkt,Ea.has(u),Ea.set(u,C),ro.has(u)&&ro.delete(u))}function lS(u){u!=null&&(u=u.wkid||u.wkt,Ea.has(u)&&(Ea.delete(u),ro.has(u)&&ro.delete(u)))}function hS(u,C,y,n){if(y==null||n==null)return[];var e=[],r=0;for(y=U.ac.LS(M(u,ut,y),M(u,ut,n),I(C))||[];r<y.length;r++)e.push(w(u,ut,y[r],C));return e}var Ve,Bt=this&&this.__extends||function(){function u(C,y){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r])},u(C,y)}return function(C,y){function n(){this.constructor=C}u(C,y),C.prototype=y===null?Object.create(y):(n.prototype=y.prototype,new n)}}(),U;(function(u){(function(y){y[y.Unknown=0]="Unknown",y[y.Point=33]="Point",y[y.Line=322]="Line",y[y.Envelope=197]="Envelope",y[y.MultiPoint=550]="MultiPoint",y[y.Polyline=1607]="Polyline",y[y.Polygon=1736]="Polygon"})(u.sn||(u.sn={})),function(y){y[y.enumMild=0]="enumMild",y[y.enumMedium=1]="enumMedium",y[y.enumHot=2]="enumHot"}(u.TK||(u.TK={}));var C=function(){function y(){this.description=null,this.QA=0}return y.prototype.K=function(){return 0},y.prototype.Eb=function(){return-1},y.prototype.Pf=function(n){this.wc(),n!=this.description&&this.un(n)},y.prototype.un=function(){},y.prototype.Ll=function(n){this.wc(),n!=this.description&&(n=u.fe.xR(this.description,n),n!=this.description&&this.un(n))},y.prototype.hasAttribute=function(n){return this.description.hasAttribute(n)},y.prototype.se=function(n){this.wc(),this.description.hasAttribute(n)||(n=u.fe.wR(this.description,n),this.un(n))},y.prototype.Vg=function(){return null},y.prototype.dn=function(){},y.prototype.A=function(){},y.prototype.So=function(){},y.prototype.yc=function(n){this.A(n)},y.prototype.B=function(){return!0},y.prototype.Pa=function(){},y.prototype.Pc=function(){},y.prototype.Ja=function(){return null},y.prototype.copyTo=function(){},y.prototype.He=function(){return 0},y.prototype.Rb=function(){return 0},y.prototype.dG=function(){return this.hasAttribute(1)},y.uf=function(n){return((n&192)>>6)+1>>1},y.Tn=function(n){return(n&32)!=0},y.PS=function(n){return(n&128)!=0},y.zd=function(n){return(n&256)!=0},y.zj=function(n){return(n&512)!=0},y.Ic=function(n){return(n&1024)!=0},y.prototype.Qf=function(){var n=this.Ja();return this.copyTo(n),n},y.prototype.ng=function(){return null},y.kg=function(n){var e=n.Ja();return n.copyTo(e),e},y.prototype.wc=function(){0<=this.QA&&(this.QA+=2147483649)},y.zx=function(n){var e=n.K();if(y.zj(e))return n.I();if(n.B())return 0;if(e==197)return 4;if(e==33)return 1;if(y.zd(e))return 2;throw u.i.ga("missing type")},y}();u.ba=C})(U||(U={})),function(u){var C=function(){function y(){this.y=this.x=0}return y.construct=function(n,e){var r=new y;return r.x=n,r.y=e,r},y.cl=function(n){var e=new y;return e.x=n.x,e.y=n.y,e},y.prototype.na=function(n,e){this.x=n,this.y=e},y.prototype.N=function(n){this.x=n.x,this.y=n.y},y.prototype.hq=function(n,e){return this.x===n&&this.y===e},y.prototype.Mz=function(n){return 2220446049250313e-31>=Math.abs(this.x-n.x)&&2220446049250313e-31>=Math.abs(this.y-n.y)},y.prototype.rb=function(n){return this.x===n.x&&this.y===n.y},y.prototype.Nb=function(n){return n==this?!0:n instanceof y?this.x==n.x&&this.y==n.y:!1},y.prototype.sub=function(n){this.x-=n.x,this.y-=n.y},y.prototype.vc=function(n,e){this.x=n.x-e.x,this.y=n.y-e.y},y.prototype.add=function(n,e){e!==void 0?(this.x=n.x+e.x,this.y=n.y+e.y):(this.x+=n.x,this.y+=n.y)},y.prototype.Uq=function(){this.x=-this.x,this.y=-this.y},y.prototype.nt=function(n){this.x=-n.x,this.y=-n.y},y.prototype.IS=function(n,e,r){this.x=n.x*(1-r)+e.x*r,this.y=n.y*(1-r)+e.y*r},y.prototype.Dt=function(n,e){this.x=this.x*n+e.x,this.y=this.y*n+e.y},y.prototype.BW=function(n,e,r){this.x=e.x*n+r.x,this.y=e.y*n+r.y},y.prototype.scale=function(n){this.x*=n,this.y*=n},y.prototype.compare=function(n){return this.y<n.y?-1:this.y>n.y?1:this.x<n.x?-1:this.x>n.x?1:0},y.prototype.normalize=function(){var n=this.length();n==0&&(this.x=1,this.y=0),this.x/=n,this.y/=n},y.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},y.prototype.Uk=function(){return this.x*this.x+this.y*this.y},y.ub=function(n,e){return Math.sqrt(this.zc(n,e))},y.Jy=function(n,e,r,o){return n-=r,e-=o,Math.sqrt(n*n+e*e)},y.prototype.Sh=function(n){return this.x*n.x+this.y*n.y},y.prototype.aD=function(n){return Math.abs(this.x*n.x)+Math.abs(this.y*n.y)},y.prototype.yi=function(n){return this.x*n.y-this.y*n.x},y.prototype.Ct=function(n,e){var r=-this.x*e+this.y*n;this.x=this.x*n+this.y*e,this.y=r},y.prototype.Jv=function(){var n=this.x;this.x=-this.y,this.y=n},y.prototype.HG=function(n){this.x=-n.y,this.y=n.x},y.prototype.cr=function(){var n=this.x;this.x=this.y,this.y=-n},y.prototype.su=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},y.pu=function(n,e){var r=n.su(),o=e.su();return o==r?(n=n.yi(e),0>n?1:0<n?-1:0):r<o?-1:1},y.zc=function(n,e){var r=n.x-e.x;return n=n.y-e.y,r*r+n*n},y.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},y.prototype.Sc=function(){this.y=this.x=NaN},y.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},y.prototype.offset=function(n,e){var r=y.ub(n,e),o=y.construct(this.x,this.y);if(r==0)return y.ub(o,n);var a=new y;return a.N(e),a.sub(n),o.sub(n),o.yi(a)/r},y.Wq=function(n,e,r){var o=new u.Xb;o.set(e.x),o.sub(n.x);var a=new u.Xb;a.set(r.y),a.sub(n.y);var h=new u.Xb;h.set(e.y),h.sub(n.y);var c=new u.Xb;return c.set(r.x),c.sub(n.x),o.Bg(a),h.Bg(c),o.sub(h),o.rs()?(o=new u.jp(e.x),a=new u.jp(n.x),h=new u.jp(n.y),o=o.kt(a),n=new u.jp(r.y),n=n.kt(h),e=new u.jp(e.y),e=e.kt(h),r=new u.jp(r.x),r=r.kt(a),o=o.nr(n),e=e.nr(r),o=o.nr(e),o.iT()?-1:o.aS()?1:0):(r=o.value(),0>r?-1:0<r?1:0)},y.prototype.dc=function(){return u.P.wj(u.P.wj())},y}();u.h=C}(U||(U={})),function(u){var C=function(){function y(n){this.Ay=this.Ot=0,this.KX=n}return y.prototype.reset=function(){this.Ay=this.Ot=0},y.prototype.add=function(n){n-=this.Ay;var e=this.Ot+n;this.Ay=e-this.Ot-n,this.Ot=e},y.prototype.sub=function(n){this.add(-n)},y.prototype.tm=function(){return this.KX+this.Ot},y}();u.Ex=C,u.mc=function(){function y(){}return y.En=function(n,e){return 0<=e?Math.abs(n):-Math.abs(n)},y.sign=function(n){return 0>n?-1:0<n?1:0},y.MK=function(n){return n-360*Math.floor(n/360)},y.round=function(n){return Math.floor(n+.5)},y.ox=function(n){return n*n},y.jq=function(n,e,r){return .5>=r?n+(e-n)*r:e-(e-n)*(1-r)},y.JG=function(n,e,r,o){.5>=r?(o.x=n.x+(e.x-n.x)*r,o.y=n.y+(e.y-n.y)*r):(o.x=e.x-(e.x-n.x)*(1-r),o.y=e.y-(e.y-n.y)*(1-r))},y.gT=function(n,e,r,o,a,h){.5>=a?(h.x=n+(r-n)*a,h.y=e+(o-e)*a):(h.x=r-(r-n)*(1-a),h.y=o-(o-e)*(1-a))},y}()}(U||(U={})),function(u){var C=function(y){function n(){var e=y.call(this)||this;return e.ta=0,e.oa=0,e.qa=0,e.ma=0,e.la=null,e}return Bt(n,y),n.prototype.bc=function(){return u.h.construct(this.ta,this.oa)},n.prototype.$p=function(e){e.x=this.ta,e.y=this.oa},n.prototype.Ec=function(e){this.gm(0,e)},n.prototype.UB=function(e,r){this.gm(0,u.h.construct(e,r))},n.prototype.Vo=function(e){this.cD(0,e)},n.prototype.setStart=function(e){this.pD(0,e)},n.prototype.yv=function(e,r){return this.Pd(0,e,r)},n.prototype.TB=function(e,r,o){this.vn(0,e,r,o)},n.prototype.xc=function(){return u.h.construct(this.qa,this.ma)},n.prototype.Vr=function(e){e.x=this.qa,e.y=this.ma},n.prototype.Rc=function(e){this.gm(1,e)},n.prototype.Sl=function(e,r){this.gm(1,u.h.construct(e,r))},n.prototype.Ro=function(e){this.cD(1,e)},n.prototype.setEnd=function(e){this.pD(1,e)},n.prototype.jv=function(e,r){return this.Pd(1,e,r)},n.prototype.JB=function(e,r,o){this.vn(1,e,r,o)},n.prototype.Eb=function(){return 1},n.prototype.B=function(){return this.Bc()},n.prototype.Pa=function(){},n.prototype.He=function(){return 0},n.prototype.Fa=function(e,r,o,a,h){return this.FM(e,r,o,a,h)},n.prototype.isIntersecting=function(e,r){return this.Br(e,r,!1)!=0},n.prototype.ss=function(e,r){return this.tu(e,r,!1)},n.prototype.tu=function(){return null},n.prototype.Bc=function(){return!1},n.prototype.$x=function(e){if(this.wc(),this.la==null&&0<e)this.la=u.P.mg(2*e);else if(this.la!=null&&this.la.length<2*e){for(var r=this.la.slice(0),o=this.la.length;o<2*e;o++)r[o]=0;this.la=r}},n.bM=function(e,r,o){if(0<o)var a=0;for(var h=0;h<o;h++)r[0+a]=e[0],a++},n.prototype.gm=function(e,r){e!=0?(this.qa=r.x,this.ma=r.y):(this.ta=r.x,this.oa=r.y)},n.prototype.un=function(e){if(this.la!=null){for(var r=u.fe.Kw(e,this.description),o=[],a=n.Ig(this.description,0),h=n.Ig(this.description,1),c=n.Ig(e,0),p=n.Ig(e,1),m=0,g=1,_=e.Ba;g<_;g++){var b=e.ld(g),x=u.sa.Wa(b);if(r[g]==-1){var P=u.sa.te(b);for(b=0;b<x;b++)o[c+m]=P,o[p+m]=P,m++}else for(P=this.description.bk(r[g])-2,b=0;b<x;b++)o[c+m]=this.la[a+P],o[p+m]=this.la[h+P],m++,P++}this.la=o}this.description=e},n.prototype.cD=function(e,r){if(this.Bc())throw u.i.ga("empty geometry");r.Pf(this.description),r.Bc()&&r.wn();for(var o=0;o<this.description.Ba;o++)for(var a=this.description.Fd(o),h=0,c=u.sa.Wa(a);h<c;h++){var p=this.Pd(e,a,h);r.setAttribute(a,h,p)}},n.prototype.pD=function(e,r){if(this.wc(),r.Bc())throw u.i.ga("empty geometry");for(var o=r.description,a=0,h=o.Ba;a<h;a++)for(var c=o.Fd(a),p=u.sa.Wa(c),m=0;m<p;m++){var g=r.Vc(c,m);this.vn(e,c,m,g)}},n.prototype.Pd=function(e,r,o){if(this.Bc())throw u.i.ga("This operation was performed on an Empty Geometry.");if(r==0)return e!=0?o!=0?this.ma:this.qa:o!=0?this.oa:this.ta;if(o>=u.sa.Wa(r))throw u.i.de();var a=this.description.Rf(r);return 0<=a?(this.la!=null&&this.$x(this.description.Be.length-2),this.la[n.Ig(this.description,e)+this.description.bk(a)-2+o]):u.sa.te(r)},n.prototype.vn=function(e,r,o,a){if(this.wc(),o>=u.sa.Wa(r))throw u.i.de();var h=this.description.Rf(r);0>h&&(this.se(r),h=this.description.Rf(r)),r==0?e!=0?o!=0?this.ma=a:this.qa=a:o!=0?this.oa=a:this.ta=a:(this.la==null&&this.$x(this.description.Be.length-2),this.la[n.Ig(this.description,e)+this.description.bk(h)-2+o]=a)},n.prototype.copyTo=function(e){if(e.K()!=this.K())throw u.i.O();e.description=this.description,e.$x(this.description.Be.length-2),n.bM(this.la,e.la,2*(this.description.Be.length-2)),e.ta=this.ta,e.oa=this.oa,e.qa=this.qa,e.ma=this.ma,e.wc(),this.qp(e)},n.prototype.Vg=function(e,r){var o=new u.Oc;return this.Bc()?(o.Pa(),o):(o.pa=this.Pd(0,e,r),o.wa=o.pa,o.Nk(this.Pd(1,e,r)),o)},n.prototype.UI=function(e){this.Bc()?e.Pa():(e.pa=this.Pd(0,0,0),e.wa=e.pa,e.Nk(this.Pd(1,0,0)))},n.prototype.Vw=function(e,r){r.Pf(this.description),r.Db(this.ic(e));for(var o=1,a=this.description.Ba;o<a;o++)for(var h=this.description.Fd(o),c=u.sa.Wa(h),p=0;p<c;p++){var m=this.Vc(e,h,p);r.setAttribute(h,p,m)}},n.prototype.AM=function(e){if(this.description!=e.description||this.ta!=e.ta||this.qa!=e.qa||this.oa!=e.oa||this.ma!=e.ma)return!1;for(var r=0;r<2*(this.description.Be.length-2);r++)if(this.la[r]!=e.la[r])return!1;return!0},n.prototype.wG=function(){return this.ta==this.qa&&this.oa==this.ma},n.prototype.reverse=function(){var e=this.ta;this.ta=this.qa,this.qa=e,e=this.oa,this.oa=this.ma,this.ma=e,e=1;for(var r=this.description.Ba;e<r;e++)for(var o=this.description.ld(e),a=0,h=u.sa.Wa(o);a<h;a++){var c=this.Pd(0,o,a),p=this.Pd(1,o,a);this.vn(0,o,a,p),this.vn(1,o,a,c)}},n.prototype.Br=function(e,r,o){var a=e.K();switch(this.K()){case 322:if(a==322)return u.zb.JM(this,e,r,o);throw u.i.Ra();default:throw u.i.Ra()}},n.prototype.FM=function(e,r,o,a,h){var c=e.K();switch(this.K()){case 322:if(c==322)return u.zb.Yx(this,e,r,o,a,h);throw u.i.Ra();default:throw u.i.Ra()}},n.prototype.Sx=function(){return null},n.Ig=function(e,r){return r*(e.Be.length-2)},n.prototype.ic=function(e,r){if(r===void 0)return r=new u.h,this.ic(e,r),r;u.mc.gT(this.ta,this.oa,this.qa,this.ma,e,r)},n.prototype.ge=function(){return null},n.prototype.$F=function(){return null},n.prototype.fq=function(){return null},n.prototype.Di=function(){return null},n.prototype.Rn=function(){return null},n.prototype.lg=function(){return null},n.prototype.Tx=function(e,r){return r!==void 0?this.ux(r)-this.ux(e):this.ux(e)},n.prototype.qp=function(){},n.prototype.fl=function(){return null},n.prototype.dh=function(){},n.prototype.Vc=function(){return null},n.prototype.Me=function(){return null},n.prototype.ux=function(){return null},n.prototype.IG=function(){return null},n.prototype.ub=function(e,r){if(!r&&this.Br(e,0,!1)!=0)return 0;r=17976931348623157e292;var o=this.bc(),a=e.ge(o,!1);return o.sub(e.ic(a)),o=o.length(),o<r&&(r=o),o=this.xc(),a=e.ge(o,!1),o.sub(e.ic(a)),o=o.length(),o<r&&(r=o),o=e.bc(),a=this.ge(o,!1),o.sub(this.ic(a)),o=o.length(),o<r&&(r=o),o=e.xc(),a=this.ge(o,!1),o.sub(this.ic(a)),o=o.length(),o<r&&(r=o),r},n.prototype.ng=function(){return u.si.im(this,null)},n}(u.ba);u.NC=C}(U||(U={})),new U.h,function(u){(function(y){y[y.Unknown=-1]="Unknown",y[y.Not=0]="Not",y[y.Weak=1]="Weak",y[y.Strong=2]="Strong"})(u.VK||(u.VK={})),function(y){y[y.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",y[y.IsWeakSimple=2]="IsWeakSimple",y[y.IsStrongSimple=4]="IsStrongSimple",y[y.DirtyOGCFlags=8]="DirtyOGCFlags",y[y.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",y[y.DirtyExactIntervals=64]="DirtyExactIntervals",y[y.DirtyLooseIntervals=128]="DirtyLooseIntervals",y[y.DirtyIntervals=192]="DirtyIntervals",y[y.DirtyIsEnvelope=256]="DirtyIsEnvelope",y[y.DirtyLength2D=512]="DirtyLength2D",y[y.DirtyRingAreas2D=1024]="DirtyRingAreas2D",y[y.DirtyCoordinates=1993]="DirtyCoordinates",y[y.DirtyAllInternal=65535]="DirtyAllInternal",y[y.DirtyAll=16777215]="DirtyAll"}(u.HK||(u.HK={}));var C=function(y){function n(){var e=y.call(this)||this;return e.Jm=65535,e.xa=0,e.Rg=-1,e.Cb=null,e}return Bt(n,y),n.prototype.qp=function(){},n.prototype.Zx=function(){},n.prototype.ey=function(){},n.prototype.I=function(){return this.xa},n.prototype.B=function(){return this.Bc()},n.prototype.Bc=function(){return this.xa==0},n.prototype.ck=function(e){return(this.Jm&e)!=0},n.prototype.Nf=function(e,r){this.Jm=r?this.Jm|e:this.Jm&~e},n.prototype.oc=function(){this.ck(32)&&this.XM()},n.prototype.vx=function(){if(this.Bc())throw u.i.ga("This operation was performed on an Empty Geometry.")},n.prototype.we=function(e,r){if(0>e||e>=this.xa)throw u.i.ga("index out of bounds");this.oc(),r.Pf(this.description),r.B()&&r.wn();for(var o=0;o<this.description.Ba;o++)for(var a=this.description.Fd(o),h=0,c=u.sa.Wa(a);h<c;h++){var p=this.Aa[o].gg(c*e+h);r.setAttribute(a,h,p)}},n.prototype.It=function(e,r){this.oc();for(var o=r.description,a=0;a<o.Ba;a++)for(var h=o.Fd(a),c=u.sa.Wa(h),p=0;p<c;p++){var m=r.Vc(h,p);this.setAttribute(h,e,p,m)}},n.prototype.D=function(e,r){if(0>e||e>=this.I())throw u.i.de();this.oc(),this.Aa[0].uc(2*e,r)},n.prototype.Oa=function(e){var r=new u.h;return this.D(e,r),r},n.prototype.Hc=function(e,r){this.Aa[0].uc(2*e,r)},n.prototype.Db=function(e,r,o){if(0>e||e>=this.xa)throw u.i.de();this.oc();var a=this.Aa[0];o!==void 0?(a.write(2*e,r),a.write(2*e+1,o)):a.Vt(2*e,r),this.Qc(1993)},n.prototype.xz=function(){if(void 0>=this.I())throw u.i.de();this.oc();var e=this.Aa[0],r=new u.Od;return r.x=e.read(NaN),r.y=e.read(NaN),r.z=this.hasAttribute(1)?this.Aa[1].gg(void 0):u.sa.te(1),r},n.prototype.ZB=function(e){if(0>e||e>=this.I())throw u.i.de();this.se(1),this.oc(),this.Qc(1993);var r=this.Aa[0];r.write(2*e,(void 0).x),r.write(2*e+1,(void 0).y),this.Aa[1].rr(e,(void 0).z)},n.prototype.Vc=function(e,r,o){if(0>r||r>=this.xa)throw u.i.de();var a=u.sa.Wa(e);if(o>=a)throw u.i.de();this.oc();var h=this.description.Rf(e);return 0<=h?this.Aa[h].gg(r*a+o):u.sa.te(e)},n.prototype.tF=function(e,r){return this.Vc(e,r,void 0)},n.prototype.setAttribute=function(e,r,o,a){if(0>r||r>=this.xa)throw u.i.de();var h=u.sa.Wa(e);if(o>=h)throw u.i.de();this.se(e),this.oc(),e=this.description.Rf(e),this.Qc(1993),this.Aa[e].rr(r*h+o,a)},n.prototype.vb=function(e){return this.vx(),this.se(e),this.oc(),this.Aa[this.description.Rf(e)]},n.prototype.kn=function(e,r){if(r!=null&&u.sa.Vp(e)!=r.Vp())throw u.i.O();this.se(e),e=this.description.Rf(e),this.Aa==null&&(this.Aa=u.Zc.lI(this.description.Ba)),this.Aa[e]=r,this.Qc(16777215)},n.prototype.un=function(e){var r=null;if(this.Aa!=null){var o=u.fe.Kw(e,this.description);r=[];for(var a=0,h=e.Ba;a<h;a++)o[a]!=-1&&(r[a]=this.Aa[o[a]])}this.description=e,this.Aa=r,this.Rg=-1,this.Qc(16777215)},n.prototype.vD=function(e){this.yu(!0),e instanceof u.l?this.aa.A(e):this.aa.So(e)},n.prototype.WM=function(e){this.yu(!1),e instanceof u.l?this.aa.A(e):this.aa.So(e)},n.prototype.dn=function(e){this.yu(!0),this.aa.copyTo(e)},n.prototype.A=function(e){this.vD(e)},n.prototype.So=function(e){this.vD(e)},n.prototype.yc=function(e){this.WM(e)},n.prototype.Vg=function(e,r){var o=new u.Oc;return this.Bc()?(o.Pa(),o):(this.yu(!0),this.aa.Vg(e,r))},n.prototype.dc=function(){var e=this.description.dc();if(!this.Bc())for(var r=this.I(),o=0,a=this.description.Ba;o<a;o++)e=this.Aa[o].Cn(e,0,r*u.sa.Wa(this.description.Fd(o)));return e},n.prototype.Nb=function(e){if(e==this)return!0;if(!(e instanceof n&&this.description.Nb(e.description))||this.Bc()!=e.Bc())return!1;if(this.Bc())return!0;var r=this.I();if(r!=e.I())return!1;for(var o=0;o<this.description.Ba;o++){var a=this.description.ld(o),h=this.vb(a),c=e.vb(a);if(!h.Nb(c,0,r*u.sa.Wa(a)))return!1}return!0},n.prototype.copyTo=function(e){if(e.K()!=this.K())throw u.i.O();this.ZC(e)},n.prototype.ZC=function(e){this.oc(),e.description=this.description,e.Aa=null;var r=this.description.Ba,o=null;if(this.Aa!=null){o=[];for(var a=0;a<r;a++)this.Aa[a]!=null&&(o[a]=this.Aa[a].BB(this.I()*u.sa.Wa(this.description.Fd(a))))}this.aa!=null?(e.aa=this.aa.Ja(),this.aa.copyTo(e.aa)):e.aa=null,e.xa=this.xa,e.Jm=this.Jm,e.Aa=o;try{this.qp(e)}catch{throw e.Pa(),u.i.hu()}},n.prototype.rD=function(){this.xa=0,this.Rg=-1,this.Aa=null,this.Qc(16777215)},n.prototype.Qc=function(e){e==16777215&&(this.Rg=-1,this.Zx()),this.Jm|=e,this.gM(),this.wc()},n.prototype.yu=function(e){if(this.oc(),this.ck(192))if(this.aa==null?this.aa=new u.Hh(this.description):this.aa.Pf(this.description),this.B())this.aa.Pa();else{this.dy(e);for(var r=1;r<this.description.Ba;r++)for(var o=this.description.Fd(r),a=u.sa.Wa(o),h=this.Aa[r],c=0;c<a;c++){var p=new u.Oc;p.Pa();for(var m=0;m<this.xa;m++){var g=h.gg(m*a+c);p.$b(g)}this.aa.setInterval(o,c,p)}e&&this.Nf(192,!1)}},n.prototype.dy=function(){this.aa.Pa();for(var e=this.Aa[0],r=new u.h,o=0;o<this.xa;o++)e.uc(2*o,r),this.aa.$b(r)},n.prototype.Ap=function(e){e.Pa();for(var r=this.Aa[0],o=new u.h,a=0;a<this.xa;a++)r.uc(2*a,o),e.$b(o)},n.prototype.XM=function(){if(this.Rg<this.xa){this.Aa==null&&(this.Aa=u.Zc.lI(this.description.Ba)),this.Rg=2147483647;for(var e=0;e<this.description.Ba;e++){var r=this.description.Fd(e);if(this.Aa[e]!=null){var o=u.sa.Wa(r),a=u.P.truncate(this.Aa[e].size/o);a<this.xa&&(a=u.P.truncate(this.Rg>this.xa+5?(5*this.xa+3)/4:this.xa),this.Aa[e].resize(a*o,u.sa.te(r))),a<this.Rg&&(this.Rg=a)}else this.Aa[e]=u.Zc.TE(r,this.xa),this.Rg=this.xa}}this.ey(),this.Nf(32,!1)},n.prototype.fm=function(e){if(0>e)throw u.i.O();e!=this.xa&&(this.xa=e,this.Qc(65535))},n.prototype.qm=function(e){if(!this.ck(1)){if(!this.ck(2))return 0;if(this.LT>=e)return this.ck(8)?1:2}return-1},n.prototype.Eh=function(e,r){if(this.LT=r,e==-1)this.Nf(1,!0),this.Nf(8,!0);else if(this.Nf(1,!1),this.Nf(8,!0),e==0)this.Nf(2,!1),this.Nf(4,!1);else if(e==1)this.Nf(2,!0),this.Nf(4,!1);else if(e==2)this.Nf(2,!0),this.Nf(4,!0);else throw u.i.ga("internal error.")},n.prototype.gM=function(){this.Cb!=null&&(this.Cb=null)},n.prototype.fD=function(e,r,o,a){if(0>e||e>=this.xa||0>r||r>=this.xa)throw u.i.ga("index out of bounds");this.oc(),a.Pf(this.description),a.B()&&a.wn();for(var h=0;h<this.description.Ba;h++)for(var c=this.description.Fd(h),p=0,m=u.sa.Wa(c);p<m;p++){var g=this.Aa[h].gg(m*e+p),_=this.Aa[h].gg(m*r+p);a.setAttribute(c,p,u.mc.jq(g,_,o))}},n.prototype.Ar=function(e,r){var o=this.Aa[0].o,a=o[2*e]-o[2*r];return e=o[2*e+1]-o[2*r+1],Math.sqrt(a*a+e*e)},n.prototype.FR=function(e){if(0>e||e>=this.xa)throw u.i.de();this.oc();var r=new u.Ta;r.Pf(this.description),r.B()&&r.wn();for(var o=0;o<this.description.Ba;o++)for(var a=this.description.ld(o),h=0,c=u.sa.Wa(a);h<c;h++){var p=this.Aa[o].gg(c*e+h);r.setAttribute(a,h,p)}return r},n.prototype.Fh=function(e,r){if(0>e||e>=this.xa)throw u.i.de();if(r.B())throw u.i.O();this.oc();for(var o=r.description,a=0;a<o.Ba;a++)for(var h=o.ld(a),c=u.sa.Wa(h),p=0;p<c;p++){var m=r.Vc(h,p);this.setAttribute(h,e,p,m)}},n.prototype.nu=function(){return null},n.prototype.hj=function(){return null},n}(u.ba);u.Fx=C}(U||(U={})),function(u){var C=function(){function y(){this.ob=this.ao=null,this.Vm=124234251,this.Tv=!0,this.Ne=-1,this.ob=new u.ad(7),this.ao=null}return y.prototype.Xo=function(n){this.ao=n},y.prototype.MP=function(){this.Tv=!1},y.prototype.Ee=function(n){this.ob.Ee(n)},y.prototype.Rr=function(n){var e=this.ob.De();return this.nX(e),this.qX(n,e),e},y.prototype.HP=function(n){this.ob.kd(n)},y.prototype.addElement=function(n,e){return e==-1&&(this.Ne==-1&&(this.Ne=this.Rr(-1)),e=this.Ne),this.AD(n,0,e)},y.prototype.ED=function(n){return this.Ne==-1&&(this.Ne=this.Rr(-1)),this.AD(n,1,this.Ne)},y.prototype.zn=function(n){this.Ne==-1&&(this.Ne=this.Rr(-1));var e=this.Ne,r=this.ob.o;if(e==-1||r[7*e]==-1)return n=this.ob.Nl([-1,-1,-1,n,this.il(),-1,-1]),r=this.ob.o,r[7*e]=n,this.xp(-1,n,e,r),n;var o=e==-1?-1:r[7*e+2];return n=this.ob.Nl([-1,-1,o,n,this.il(),-1,-1]),r=this.ob.o,r[7*o+1]=n,this.ky(n,r),r[7*n+2]===-1&&(r[7*e]=n),this.xp(-1,n,e,r),n},y.prototype.Bu=function(n,e,r,o){var a=-1;a==-1&&(this.Ne==-1&&(this.Ne=this.Rr(-1)),a=this.Ne);var h=this.ob.o;if(a==-1||h[7*a]==-1)return r=this.ob.Nl([-1,-1,-1,r,this.il(),-1,-1]),h=this.ob.o,h[7*a]=r,this.xp(-1,r,a,h),r;if(o){o=e!=-1?this.ao.compare(this,r,e):-1;var c=n!=-1?this.ao.compare(this,r,n):1}else o=-1,c=1;if(o==0||c==0)return h[7*a+3]=o==0?e:n,-1;for((e!=-1&&n!=-1?this.Vm>u.P.XA(this.Vm)>>1:e!=-1)?n=e:o=c,e=!0;;){if(0>o)if(c=h[7*n],c!=-1)n=c;else{o=n,r=this.ob.Nl([-1,-1,n,r,this.il(),-1,-1]),h=this.ob.o,h[7*n]=r;break}else if(c=h[7*n+1],c!=-1)n=c;else{o=h[7*n+6],r=this.ob.Nl([-1,-1,n,r,this.il(),-1,-1]),h=this.ob.o,h[7*n+1]=r;break}e&&(o*=-1,e=!1)}return this.ky(r,h),h[7*r+2]===-1&&(h[7*a]=r),this.xp(o,r,a,h),r},y.prototype.AF=function(){return this.dR(this.Ne)},y.prototype.wd=function(n,e){e=e==-1?this.Ne:e,this.Tv?this.GP(n,e):this.eY(n,e)},y.prototype.search=function(n,e){for(e=this.uv(e);e!=-1;){var r=this.ao.compare(this,n,e);if(r==0)return e;e=0>r?this.nl(e):this.Zp(e)}return-1},y.prototype.DW=function(n){for(var e=this.uv(-1),r=-1;e!=-1;){var o=n.compare(this,e);if(o==0)return e;0>o?e=this.nl(e):(r=e,e=this.Zp(e))}return r},y.prototype.pJ=function(n){for(var e=this.uv(-1),r=-1;e!=-1;){var o=n.compare(this,e);if(o==0)return e;0>o?(r=e,e=this.nl(e)):e=this.Zp(e)}return r},y.prototype.ka=function(n){return this.ob.U(n,3)},y.prototype.nl=function(n){return this.ob.U(n,0)},y.prototype.Zp=function(n){return this.ob.U(n,1)},y.prototype.getParent=function(n){return this.ob.U(n,2)},y.prototype.lb=function(n){return this.ob.U(n,6)},y.prototype.xe=function(n){return this.ob.U(n,5)},y.prototype.sc=function(n){return n==-1?this.ml(this.Ne):this.ml(n)},y.prototype.Gc=function(n){return n==-1?this.bs(this.Ne):this.bs(n)},y.prototype.UR=function(n){return n==-1?this.XF(this.Ne):this.XF(n)},y.prototype.Uj=function(n,e){this.IB(n,e)},y.prototype.uv=function(n){return n==-1?this.TF(this.Ne):this.TF(n)},y.prototype.clear=function(){this.ob.oj(!1),this.Ne=-1},y.prototype.size=function(n){return n==-1?this.VF(this.Ne):this.VF(n)},y.prototype.FN=function(n,e){for(var r=e[7*n],o=e[7*n+1],a=e[7*n+4];r!=-1||o!=-1;){var h=r!=-1?e[7*r+4]:2147483647;if(o=o!=-1?e[7*o+4]:2147483647,a<=Math.min(h,o))break;h<=o?this.nJ(r,e):this.mJ(n,e),r=e[7*n],o=e[7*n+1]}},y.prototype.ky=function(n,e){if(this.Tv)for(var r=e[7*n+4],o=e[7*n+2];o!=-1&&e[7*o+4]>r;)e[7*o]==n?this.nJ(n,e):this.mJ(o,e),o=e[7*n+2]},y.prototype.mJ=function(n,e){var r=e[7*n+1];e[7*r+2]=e[7*n+2],e[7*n+2]=r;var o=e[7*r];e[7*n+1]=o,o!=-1&&(e[7*o+2]=n),e[7*r]=n,o=e[7*r+2],o!=-1&&(e[7*o]==n?e[7*o]=r:e[7*o+1]=r)},y.prototype.nJ=function(n,e){var r=e[7*n+2];e[7*n+2]=e[7*r+2],e[7*r+2]=n;var o=e[7*n+1];e[7*r]=o,o!=-1&&(e[7*o+2]=r),e[7*n+1]=r,o=e[7*n+2],o!=-1&&(e[7*o]===r?e[7*o]=n:e[7*o+1]=n)},y.prototype.Rk=function(n,e){this.ob.T(n,2,e)},y.prototype.OB=function(n,e){this.ob.T(n,0,e)},y.prototype.SB=function(n,e){this.ob.T(n,1,e)},y.prototype.RB=function(n,e){this.ob.T(n,5,e)},y.prototype.fx=function(n,e){this.ob.T(n,6,e)},y.prototype.SJ=function(n,e){this.ob.T(e,0,n)},y.prototype.nX=function(n){this.ob.T(n,4,0)},y.prototype.qX=function(n,e){this.ob.T(e,5,n)},y.prototype.TF=function(n){return n==-1?-1:this.ob.U(n,0)},y.prototype.ml=function(n){return n==-1?-1:this.ob.U(n,1)},y.prototype.bs=function(n){return n==-1?-1:this.ob.U(n,2)},y.prototype.dR=function(n){return n==-1?-1:this.ob.U(n,3)},y.prototype.VF=function(n){return n==-1?0:this.ob.U(n,4)},y.prototype.XF=function(n){return this.ob.U(n,5)},y.prototype.Rw=function(){return this.ob.Nl([-1,-1,-1,void 0,this.il(),-1,-1])},y.prototype.hl=function(n){n!=-1&&this.ob.kd(n)},y.prototype.il=function(){return this.Vm=u.P.XA(this.Vm),this.Vm&1073741823},y.prototype.AD=function(n,e,r){var o=this.ob.o;if(r==-1||o[7*r]==-1)return n=this.ob.Nl([-1,-1,-1,n,this.il(),-1,-1]),o=this.ob.o,o[7*r]=n,this.xp(-1,n,r,o),n;for(var a=r==-1?-1:o[7*r];;){var h=e==-1?1:this.ao.compare(this,n,a);if(0>h)if(h=this.nl(a),h!=-1)a=h;else{e=a,n=this.ob.Nl([-1,-1,a,n,this.il(),-1,-1]),o=this.ob.o,o[7*a]=n;break}else{if(e==1&&h==0)return o[7*r+3]=a,-1;if(h=o[7*a+1],h!=-1)a=h;else{e=o[7*a+6],n=this.ob.Nl([-1,-1,a,n,this.il(),-1,-1]),o=this.ob.o,o[7*a+1]=n;break}}}return this.ky(n,o),o[7*n+2]===-1&&(o[7*r]=n),this.xp(e,n,r,o),n},y.prototype.xp=function(n,e,r,o){if(n!=-1){var a=o[7*n+5];o[7*n+5]=e}else a=r==-1?-1:o[7*r+2];o[7*e+5]=a,a!=-1&&(o[7*a+6]=e),o[7*e+6]=n,n==(r==-1?-1:o[7*r+1])&&(o[7*r+1]=e),n==-1&&(o[7*r+2]=e),o[7*r+4]=(r==-1?0:o[7*r+4])+1},y.prototype.vB=function(n,e){var r=this.ob.o,o=r[7*n+5];n=r[7*n+6],o!=-1?r[7*o+6]=n:r[7*e+1]=n,n!=-1?r[7*n+5]=o:r[7*e+2]=o,r[7*e+4]=e===-1?-1:r[7*e+4]-1},y.prototype.eY=function(n,e){this.vB(n,e);var r=this.nl(n),o=this.Zp(n),a=this.getParent(n),h=n;if(r!=-1&&o!=-1){this.Vm=u.P.XA(this.Vm);var c=1073741823<this.Vm?this.lb(n):this.xe(n),p=this.getParent(c)==n;this.ob.bC(n,c,0),this.ob.bC(n,c,1),this.ob.bC(n,c,2),a!=-1?this.nl(a)==n?this.OB(a,c):this.SB(a,c):this.SJ(c,e),p?(r==c?(this.OB(c,n),this.Rk(o,c)):o==c&&(this.SB(c,n),this.Rk(r,c)),this.Rk(n,c),a=c):(this.Rk(r,c),this.Rk(o,c),a=this.getParent(n),h=c),r=this.nl(n),o=this.Zp(n),r!=-1&&this.Rk(r,n),o!=-1&&this.Rk(o,n)}r=r!=-1?r:o,a==-1?this.SJ(r,e):this.nl(a)==h?this.OB(a,r):this.SB(a,r),r!=-1&&this.Rk(r,a),this.hl(n)},y.prototype.GP=function(n,e){var r=this.ob.o;r[7*n+4]=2147483647;var o=-1,a=-1,h=e===-1?-1:r[7*e],c=h==n;if(c&&(o=r[7*h],a=r[7*h+1],o==-1&&a==-1)){this.vB(h,e),this.hl(h),r[7*e]=-1;return}this.FN(n,r),h=r[7*n+2],h!=-1&&(r[7*h]==n?r[7*h]=-1:r[7*h+1]=-1),this.vB(n,e),this.hl(n),c&&(r[7*e]=o==-1||r[7*o+2]!=-1?a:o)},y.prototype.IB=function(n,e){this.ob.T(n,3,e)},y}();u.$j=C}(U||(U={})),function(u){var C=function(){function y(n,e){n!==void 0&&this.L(n,e)}return y.prototype.L=function(n,e){this.pa=n,this.wa=e,this.normalize()},y.prototype.isIntersecting=function(n){return this.pa<=n.pa?this.wa>=n.pa:n.wa>=this.pa},y.prototype.move=function(n){this.B()||(this.pa+=n,this.wa+=n)},y.prototype.normalize=function(){if(!isNaN(this.pa)){if(this.pa>this.wa){var n=this.pa;this.pa=this.wa,this.wa=n}isNaN(this.wa)&&this.Pa()}},y.prototype.Pa=function(){this.wa=this.pa=NaN},y.prototype.B=function(){return isNaN(this.pa)},y.prototype.$b=function(n){typeof n=="number"?this.B()?this.wa=this.pa=n:this.Nk(n):n.B()||(this.B()?(this.pa=n.pa,this.wa=n.wa):(this.pa>n.pa&&(this.pa=n.pa),this.wa<n.wa&&(this.wa=n.wa),this.pa>this.wa&&this.Pa()))},y.prototype.Nk=function(n){n<this.pa?this.pa=n:n>this.wa&&(this.wa=n)},y.prototype.contains=function(n){return typeof n=="number"?n>=this.pa&&n<=this.wa:n.pa>=this.pa&&n.wa<=this.wa},y.prototype.Fa=function(n){this.B()||n.B()?this.Pa():(this.pa<n.pa&&(this.pa=n.pa),this.wa>n.wa&&(this.wa=n.wa),this.pa>this.wa&&this.Pa())},y.prototype.X=function(n){this.B()||(this.pa-=n,this.wa+=n,this.wa<this.pa&&this.Pa())},y.prototype.zr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.pa)+Math.abs(this.wa)+1)},y.prototype.FB=function(n,e){n>e?(this.pa=e,this.wa=n):(this.pa=n,this.wa=e)},y.prototype.Kt=function(n){return u.P.Tk(n,this.pa,this.wa)},y.prototype.S=function(){return this.wa-this.pa},y.prototype.tf=function(){return .5*(this.pa+this.wa)},y.prototype.Nb=function(n){return n==this?!0:n instanceof y?this.B()&&n.B()?!0:!(this.pa!=n.pa||this.wa!=n.wa):!1},y.prototype.dc=function(){return u.P.wj(u.P.wj())},y}();u.Oc=C}(U||(U={})),function(u){var C=new u.Oc,y=new u.Oc,n=function(){return function(){this.oe=null,this.pb=-1,this.tb=new u.zb,this.lA=55555555,this.Vv=this.Xv=!1,this.Wf=new u.Oc,this.Wf.FB(0,0)}}();u.EY=n;var e=function(){function r(o,a,h){this.g=o,this.Jk=NaN,this.IH=this.Mq=0,this.JH=NaN,this.ra=a,this.Pq=10*a,this.KH=this.LH=NaN,this.sg=!1,this.Fm=this.ht=this.No=this.Zs=this.Ys=-1,this.bA=h,this.OA=new n,this.TH=new n,u.P.truncate(3*o.gd/2)}return r.prototype.hG=function(o,a,h,c){o.oe=c===null?null:c[h[5*a]],o.Vv=o.oe!=null,o.Vv||(c=h[5*a+2],c!==-1&&this.g.hW(h[5*a],h[5*c],o.tb),o.oe=o.tb,o.Wf.FB(o.tb.ta,o.tb.qa),o.Wf.wa+=this.ra,o.tb.mI(),o.Xv=o.tb.ma==o.tb.oa,o.Xv||(o.lA=(o.tb.qa-o.tb.ta)/(o.tb.ma-o.tb.oa)))},r.prototype.JO=function(o,a){var h=o.Br(a,this.ra,!0);return h!=0?h==2?this.Ly():this.zi():(o.$p(ls),o.Vr(Hs),a.$p(Ws),a.Vr(io),Ce.na(this.Mq,this.Jk),ls.rb(Ws)&&this.Jk==ls.y?0>Hs.compare(io)?Ce.N(Hs):Ce.N(io):ls.rb(io)&&this.Jk==ls.y?0>Hs.compare(Ws)?Ce.N(Hs):Ce.N(Ws):Ws.rb(Hs)&&this.Jk==Ws.y?0>ls.compare(io)?Ce.N(ls):Ce.N(io):Hs.rb(io)&&this.Jk==Hs.y&&(0>ls.compare(Ws)?Ce.N(ls):Ce.N(Ws)),o.Me(Ce.y,Ce.x)<a.Me(Ce.y,Ce.x)?-1:1)},r.prototype.HO=function(o,a){if(o.tb.oa==a.tb.oa&&o.tb.ta==a.tb.ta)return o.tb.ma==a.tb.ma&&o.tb.qa==a.tb.qa?this.bA?this.Ly():0:this.KE(o,a);if(o.tb.ma==a.tb.ma&&o.tb.qa==a.tb.qa)return this.JE(o,a);var h=this.JE(o,a);return o=this.KE(o,a),0>h&&0>o?-1:0<h&&0<o?1:this.zi()},r.prototype.DO=function(o,a){if(o.qa>a.qa){if(a.qa>a.ta&&a.ma-a.oa<2*this.ra&&o.xi(a.qa,a.ma,this.ra))return this.zi()}else if((a.ma-a.oa)/(a.qa-a.ta)*(o.qa-o.ta)<this.Pq&&a.xi(o.qa,o.ma,this.ra))return this.zi();return 1},r.prototype.EO=function(o,a){if(o.ta<a.ta){if(a.qa>a.ta&&a.ma-a.oa<2*this.ra&&o.xi(a.qa,a.ma,this.ra))return this.zi()}else if((a.ma-a.oa)/(a.qa-a.ta)*(o.ta-o.qa)<this.Pq&&a.xi(o.ta,o.oa,this.ra))return this.zi();return-1},r.prototype.FO=function(o,a){var h=new u.h;h.vc(a.xc(),a.bc()),h.cr(),h.normalize();var c=new u.h;c.vc(o.bc(),a.bc());var p=new u.h;p.vc(o.xc(),a.bc()),c=c.Sh(h),h=p.Sh(h),p=Math.abs(c);var m=Math.abs(h);if(p<m){if(p<this.Pq&&a.xi(o.ta,o.oa,this.ra))return this.zi()}else if(m<this.Pq&&a.xi(o.qa,o.ma,this.ra))return this.zi();return 0>c&&0>h?-1:0<c&&0<h?1:this.zi()},r.prototype.IE=function(o,a){return o.oa==a.oa&&o.ta==a.ta?this.DO(o,a):o.ma==a.ma&&o.qa==a.qa?this.EO(o,a):this.FO(o,a)},r.prototype.GO=function(o,a){return o.ma==a.ma&&o.qa==a.qa&&o.oa==a.oa&&o.ta==a.ta?this.bA?this.Ly():0:this.zi()},r.prototype.JE=function(o,a){var h=1;if(o.tb.oa<a.tb.oa){h=-1;var c=o;o=a,a=c}o=o.tb,c=a.tb;var p=o.ta-c.ta;a=a.lA*(o.oa-c.oa);var m=this.Pq;return p<a-m?-h:p>a+m?h:c.xi(o.ta,o.oa,this.ra)?this.zi():p<a?-h:h},r.prototype.KE=function(o,a){var h=1;if(a.tb.ma<o.tb.ma){h=-1;var c=o;o=a,a=c}o=o.tb,c=a.tb;var p=o.qa-c.ta;a=a.lA*(o.ma-c.oa);var m=this.Pq;return p<a-m?-h:p>a+m?h:c.xi(o.qa,o.ma,this.ra)?this.zi():p<a?-h:h},r.prototype.Ly=function(){return this.sg=!0,this.Pi=new u.Nd(5,this.No,this.ht),-1},r.prototype.zi=function(){return this.sg=!0,this.bA?this.Pi=new u.Nd(4,this.No,this.ht):this.ht=this.No=this.Zs=this.Ys=-1,-1},r.prototype.IO=function(o,a,h,c){if(this.sg)return-1;var p=this.JH==this.Jk&&this.IH==this.Mq;if(p&&o==this.Ys)var m=this.KH;else m=NaN,this.Ys=-1;return p&&a==this.Zs?p=this.LH:(p=NaN,this.Zs=-1),h.oe.UI(C),c.oe.UI(y),C.wa<y.pa?-1:y.wa<C.pa?1:(this.JH=this.Jk,this.IH=this.Mq,isNaN(m)&&(this.Ys=o,this.KH=m=o=h.oe.Me(this.Jk,this.Mq)),isNaN(p)&&(this.Zs=a,this.LH=p=o=c.oe.Me(this.Jk,this.Mq)),Math.abs(m-p)<=this.ra?this.JO(h.oe,c.oe):m<p?-1:m>p?1:0)},r.prototype.Mr=function(){this.sg=!1},r.prototype.tm=function(){return this.Pi},r.prototype.VJ=function(o,a){this.Jk=o,this.Mq=a,this.ht=this.No=this.Zs=this.Ys=-1},r.prototype.compare=function(o,a,h){return this.sg?-1:(o=o.ka(h),this.Fm=h,this.ME(a,a,o,o))},r.prototype.ME=function(o,a,h,c){if(this.No==a)var p=this.OA;else this.No=a,p=this.OA,this.OA.pb=o,this.hG(p,a,this.g.ud.o,this.g.Te);if(m==null){this.ht=c;var m=this.TH;this.TH.pb=h,this.hG(m,c,this.g.ud.o,this.g.Te)}return p.Vv||m.Vv?this.IO(a,c,p,m):p.Wf.wa<m.Wf.pa?-1:m.Wf.wa<p.Wf.pa?1:(o=p.Xv?1:0,o|=m.Xv?2:0,o==0?this.HO(p,m):o==1?this.IE(p.tb,m.tb):o==2?-1*this.IE(m.tb,p.tb):this.GO(p.tb,m.tb))},r}();u.PC=e}(U||(U={})),function(u){var C=function(){function y(n,e){this.g=n,this.ra=e,this.sg=!1,this.No=-1,this.Wf=new u.Oc,this.Iq=new u.h,this.Iq.Sc(),this.je=new u.zb,this.Fm=-1,this.wA=17976931348623157e292}return y.prototype.Mr=function(){this.sg=!1,this.wA=17976931348623157e292},y.prototype.Fh=function(n){this.Iq.N(n)},y.prototype.compare=function(n,e){return this.NE(e,n.ka(e))},y.prototype.NE=function(n,e){var r=this.g.cc(e)!=null;if(r||(this.g.fd(e,this.je),this.Wf.FB(this.je.ta,this.je.qa)),r)throw u.i.ga("not implemented");if(this.Iq.x+this.ra<this.Wf.pa)return-1;if(this.Iq.x-this.ra>this.Wf.wa)return 1;if(this.je.oa==this.je.ma)return this.Fm=n,this.sg=!0,0;this.je.mI(),r=this.je.bc(),e=new u.h,e.vc(this.je.xc(),r),e.cr();var o=new u.h;return o.vc(this.Iq,r),r=e.Sh(o),r/=e.length(),r<10*-this.ra?-1:r>10*this.ra?1:this.je.ss(this.Iq,this.ra)&&(e=Math.abs(r),e<this.wA&&(this.Fm=n,this.wA=e),this.sg=!0,e<.25*this.ra)?0:0>r?-1:1},y}();u.WL=C}(U||(U={})),function(u){function C(n,e,r,o){r=new Float64Array(n.subarray(r,o)),n.set(r,e)}var y=function(){function n(e){this.Pb=this.rk=!1,this.o=null;var r=e;2>r&&(r=2),this.o=new Float64Array(r),this.size=e}return n.prototype.rotate=function(e,r,o){if(this.Pb)throw u.i.ga("invalid_call");if(r<e||r>o||e>o)throw u.i.O();e!=r&&o!=r&&(this.pi(e,r-e,1),this.pi(r,o-r,1),this.pi(e,o-e,1))},n.rf=function(e,r){var o=new n(e),a=o.o;if(2>e&&(e=2),r!==0)for(var h=0;h<e;h++)a[h]=r;return o},n.Dn=function(e){var r=new n(0);return r.o=new Float64Array(e.o),r.size=e.size,r},n.Nr=function(e,r){var o=new n(0);return o.size=e.size,o.size>r&&(o.size=r),r=o.size,2>r&&(r=2),o.o=new Float64Array(r),o.o.set(e.o.length<=r?e.o:e.o.subarray(0,r),0),o},n.prototype.Jb=function(e){0>=e||(this.o==null?this.o=new Float64Array(e):e<=this.o.length||(0<this.o.length?(e=new Float64Array(e),e.set(this.o),this.o=e):this.o=new Float64Array(e)))},n.prototype.read=function(e){return this.o[e]},n.prototype.uc=function(e,r){r.x=this.o[e],r.y=this.o[e+1]},n.prototype.get=function(e){return this.o[e]},n.prototype.write=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r},n.prototype.set=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r},n.prototype.Vt=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r.x,this.o[e+1]=r.y},n.prototype.add=function(e){this.resize(this.size+1),this.o[this.size-1]=e},n.prototype.BB=function(e){return n.Nr(this,e)},n.prototype.gg=function(e){return this.read(e)},n.prototype.resize=function(e,r){if(r===void 0&&(r=0),this.rk)throw u.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var o=new Float64Array(this.o,0,e);this.o=o}}else{e>this.o.length&&(o=u.P.truncate(64>e?Math.max(2*e,4):5*e/4),o=new Float64Array(o),o.set(this.o),this.o=o),o=this.o;for(var a=this.size;a<e;a++)o[a]=r}this.size=e},n.prototype.Dh=function(e){if((this.o==null||e>this.o.length)&&this.resize(e),this.rk)throw u.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},n.prototype.rr=function(e,r){this.write(e,r)},n.prototype.Cn=function(e,r,o){for(var a=this.size;r<a&&r<o;r++)e=u.P.wj(this.read(r));return e},n.prototype.Nb=function(e,r,o){if(e==null||!(e instanceof n))return!1;var a=this.size,h=e.size;if(o>a||o>h&&a!=h)return!1;for(o>a&&(o=a);r<o;r++)if(this.read(r)!=e.read(r))return!1;return!0},n.prototype.addRange=function(e,r,o,a,h){if(this.Pb)throw u.i.Hb();if(!a&&(1>h||o%h!=0))throw u.i.O();var c=this.size;if(this.resize(c+o),a)this.o.set(e.o.subarray(r,r+o),c);else{a=o;for(var p=0;p<o;p+=h){a-=h;for(var m=0;m<h;m++)this.o[c+p+m]=e.o[r+a+m]}}},n.prototype.On=function(e,r,o,a,h,c,p){if(this.Pb)throw u.i.Hb();if(!h&&(1>c||a%c!=0))throw u.i.O();var m=this.size-p;if(m<a&&this.resize(this.size+a-m),C(this.o,e+a,e,e+(p-e)),this.o==r.o&&e<o&&(o+=a),h)this.o.set(r.o.subarray(o,o+a),e);else for(h=a,p=0;p<a;p+=c)for(h-=c,m=0;m<c;m++)this.o[e+p+m]=r.o[o+h+m]},n.prototype.Dz=function(e,r,o,a,h,c){if(this.Pb)throw u.i.Hb();if(0>c&&(c=this.size),this.size+2*a>this.o.length?this.resize(this.size+2*a):this.size+=2*a,C(this.o,e+2*a,e,e+(c-e)),h)for(h=0;h<a;h++)c=r[o++],this.o[e++]=c.x,this.o[e++]=c.y;else{h=0;for(var p=a-1;h<a;++h)c=r[o+p],this.o[e++]=c.x,this.o[e++]=c.y,p--}},n.prototype.Nn=function(e,r,o,a){if(this.Pb)throw u.i.Hb();for(a-=e,C(this.o,e+a,e,e+a),a=0;a<o;a++)this.o[e+a]=r},n.prototype.xj=function(e,r,o){if(this.Pb)throw u.i.Hb();C(this.o,e+2,e,e+(o-e)),this.o[e]=r.x,this.o[e+1]=r.y},n.prototype.Wt=function(e,r,o,a,h,c){if(0>e||0>r||0>a||!h&&(0>=c||r%c!=0)||o.size<a+r)throw u.i.O();if(r!=0)if(this.size<r+e&&this.resize(r+e),o==this)this.Cr(e,r,a,h,c);else if(h)for(h=0;h<r;h++)this.o[e]=o.o[a],e++,a++;else if(a=a+r-c,c==1)for(h=0;h<r;h++)this.o[e]=o.o[a],e++,a--;else for(h=0,r=u.P.truncate(r/c);h<r;h++){for(var p=0;p<c;p++)this.o[e+p]=o.o[a+p];e+=c,a-=c}},n.prototype.Gn=function(e,r,o){if(this.Pb||e+r>this.size)throw u.i.Hb();0<o-(e+r)&&C(this.o,e,e+r,e+(o-(e+r))+r),this.size-=r},n.prototype.pi=function(e,r,o){if(this.Pb||1>o||r%o!=0)throw u.i.Hb();for(var a=r>>1,h=0;h<a;h+=o){r-=o;for(var c=0;c<o;c++){var p=this.o[e+h+c];this.o[e+h+c]=this.o[e+r+c],this.o[e+r+c]=p}}},n.prototype.Yj=function(e,r,o){if(0>r||0>o||0>r||o+r>this.size)throw u.i.O();for(var a=r;a<r+o;a++)this.o[a]=e},n.prototype.Cr=function(e,r,o,a,h){if((!a||e!=o)&&(this.o.set(this.o.subarray(o,o+r),e),!a))for(o=e,e=e+r-h,a=0,r=u.P.truncate(r/2);a<r;a++){for(var c=0;c<h;c++){var p=this.o[o+c];this.o[o+c]=this.o[e+c],this.o[e+c]=p}o+=h,e-=h}},n.prototype.qC=function(e,r,o,a,h){if(0>e||0>r||0>a)throw u.i.O();if(r!=0)for(this.size<(r<<1)+e&&this.resize((r<<1)+e),h||(e+=r-1<<1),h=h?2:-2,r+=a;a<r;a++)this.o[e]=o[a].x,this.o[e+1]=o[a].y,e+=h},n.prototype.pC=function(e,r,o){if(0>e||0>r)throw u.i.O();if(r!=0){this.size<(r<<1)+e&&this.resize((r<<1)+e),r+=0;for(var a=0;a<r;a++)this.o[e]=o[a][0],this.o[e+1]=o[a][1],e+=2}},n.prototype.Xw=function(e,r,o,a,h){if(0>e||0>r||0>a||this.size<r+e)throw u.i.O();if(h)for(h=0;h<r;h++)o[a+h]=this.o[e+h];else for(a=a+r-1;e<r;e++)o[a]=this.o[e],a--},n.prototype.pB=function(e,r,o){if(0>e||0>r||this.size<(r>>1)+e)throw u.i.O();if(r!=0){r=0+r;for(var a=0;a<r;a++)o[a][0]=this.o[e],o[a][1]=this.o[e+1],e+=2}},n.prototype.clear=function(e){e?this.resize(0):this.Dh(0)},n.prototype.ix=function(){this.rk=this.Pb=!0},n.prototype.Wd=function(e,r,o){Array.prototype.sort.call(this.o.subarray(e,r),o)},n.prototype.Vp=function(){return 1},n}();u.ce=y}(U||(U={})),function(u){function C(n,e,r,o){r=new Int32Array(n.subarray(r,o)),n.set(r,e)}u.nY=function(){return function(){this.random=1973}}();var y=function(){function n(e){this.Pb=this.rk=!1,this.o=null;var r=e;2>r&&(r=2),this.o=new Int32Array(r),this.size=e}return n.prototype.rotate=function(e,r,o){if(this.Pb)throw u.i.ga("invalid_call");if(r<e||r>o||e>o)throw u.i.O();e!=r&&o!=r&&(this.pi(e,r-e,1),this.pi(r,o-r,1),this.pi(e,o-e,1))},n.rf=function(e,r){var o=new n(e),a=o.o;if(2>e&&(e=2),r!==0)for(var h=0;h<e;h++)a[h]=r;return o},n.Dn=function(e){var r=new n(0);return r.o=new Int32Array(e.o),r.size=e.size,r},n.Nr=function(e,r){var o=new n(0);return o.size=e.size,o.size>r&&(o.size=r),r=o.size,2>r&&(r=2),o.o=new Int32Array(r),o.o.set(e.o.length<=r?e.o:e.o.subarray(0,r),0),o},n.prototype.Jb=function(e){0>=e||(this.o==null?this.o=new Int32Array(e):e<=this.o.length||(0<this.o.length?(e=new Int32Array(e),e.set(this.o),this.o=e):this.o=new Int32Array(e)))},n.prototype.read=function(e){return this.o[e]},n.prototype.uc=function(e,r){r.x=this.o[e],r.y=this.o[e+1]},n.prototype.get=function(e){return this.o[e]},n.prototype.write=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r},n.prototype.set=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r},n.prototype.Vt=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r.x,this.o[e+1]=r.y},n.prototype.add=function(e){this.resize(this.size+1),this.o[this.size-1]=e},n.prototype.BB=function(e){return n.Nr(this,e)},n.prototype.gg=function(e){return this.read(e)},n.prototype.resize=function(e,r){if(r===void 0&&(r=0),this.rk)throw u.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var o=new Int32Array(this.o,0,e);this.o=o}}else{e>this.o.length&&(o=u.P.truncate(64>e?Math.max(2*e,4):5*e/4),o=new Int32Array(o),o.set(this.o),this.o=o),o=this.o;for(var a=this.size;a<e;a++)o[a]=r}this.size=e},n.prototype.Dh=function(e){if((this.o==null||e>this.o.length)&&this.resize(e),this.rk)throw u.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},n.prototype.rr=function(e,r){this.write(e,r)},n.prototype.Cn=function(e,r,o){for(var a=this.size;r<a&&r<o;r++)e=u.P.Vh(this.read(r),e);return e},n.prototype.Nb=function(e,r,o){if(e==null||!(e instanceof n))return!1;var a=this.size,h=e.size;if(o>a||o>h&&a!=h)return!1;for(o>a&&(o=a);r<o;r++)if(this.read(r)!=e.read(r))return!1;return!0},n.prototype.addRange=function(e,r,o,a,h){if(this.Pb)throw u.i.Hb();if(!a&&(1>h||o%h!=0))throw u.i.O();var c=this.size;if(this.resize(c+o),a)this.o.set(e.o.subarray(r,r+o),c);else{a=o;for(var p=0;p<o;p+=h){a-=h;for(var m=0;m<h;m++)this.o[c+p+m]=e.o[r+a+m]}}},n.prototype.On=function(e,r,o,a,h,c,p){if(this.Pb)throw u.i.Hb();if(!h&&(1>c||a%c!=0))throw u.i.O();if(C(this.o,e+a,e,e+(p-e)),this.o==r.o&&e<o&&(o+=a),h)this.o.set(r.o.subarray(o,o+a),e);else for(h=a,p=0;p<a;p+=c){h-=c;for(var m=0;m<c;m++)this.o[e+p+m]=r.o[o+h+m]}},n.prototype.Dz=function(e,r,o,a,h,c){if(this.Pb)throw u.i.Hb();if(0>c&&(c=this.size),this.size+2*a>this.o.length?this.resize(this.size+2*a):this.size+=2*a,C(this.o,e+2*a,e,e+(c-e)),h)for(h=0;h<a;h++)c=r[o++],this.o[e++]=c.x,this.o[e++]=c.y;else{h=0;for(var p=a-1;h<a;++h)c=r[o+p],this.o[e++]=c.x,this.o[e++]=c.y,p--}},n.prototype.Nn=function(e,r,o,a){if(this.Pb)throw u.i.Hb();for(a-=e,C(this.o,e+a,e,e+a),a=0;a<o;a++)this.o[e+a]=r},n.prototype.xj=function(e,r,o){if(this.Pb)throw u.i.Hb();C(this.o,e+2,e,e+(o-e)),this.o[e]=r.x,this.o[e+1]=r.y},n.prototype.Wt=function(e,r,o,a,h,c){if(0>e||0>r||0>a||!h&&(0>=c||r%c!=0)||o.size<a+r)throw u.i.O();if(r!=0)if(this.size<r+e&&this.resize(r+e),o==this)this.Cr(e,r,a,h,c);else if(h)for(h=0;h<r;h++)this.o[e]=o.o[a],e++,a++;else if(a=a+r-c,c==1)for(h=0;h<r;h++)this.o[e]=o.o[a],e++,a--;else for(h=0,r=u.P.truncate(r/c);h<r;h++){for(var p=0;p<c;p++)this.o[e+p]=o.o[a+p];e+=c,a-=c}},n.prototype.Gn=function(e,r,o){if(this.Pb||e+r>this.size)throw u.i.Hb();0<o-(e+r)&&C(this.o,e,e+r,e+(o-(e+r))+r),this.size-=r},n.prototype.pi=function(e,r,o){if(this.Pb||1>o||r%o!=0)throw u.i.Hb();for(var a=r>>1,h=0;h<a;h+=o){r-=o;for(var c=0;c<o;c++){var p=this.o[e+h+c];this.o[e+h+c]=this.o[e+r+c],this.o[e+r+c]=p}}},n.prototype.Yj=function(e,r,o){if(0>r||0>o||0>r||o+r>this.size)throw u.i.O();for(var a=r;a<r+o;a++)this.o[a]=e},n.prototype.Cr=function(e,r,o,a,h){if((!a||e!=o)&&(this.o.set(this.o.subarray(o,o+r),e),!a))for(o=e,e=e+r-h,a=0,r=u.P.truncate(r/2);a<r;a++){for(var c=0;c<h;c++){var p=this.o[o+c];this.o[o+c]=this.o[e+c],this.o[e+c]=p}o+=h,e-=h}},n.prototype.qC=function(e,r,o,a,h){if(0>e||0>r||0>a)throw u.i.O();if(r!=0)for(this.size<(r<<1)+e&&this.resize((r<<1)+e),h||(e+=r-1<<1),h=h?2:-2,r+=a;a<r;a++)this.o[e]=o[a].x,this.o[e+1]=o[a].y,e+=h},n.prototype.Xw=function(e,r,o,a,h){if(0>e||0>r||0>a||this.size<r+e)throw u.i.O();if(h)for(h=0;h<r;h++)o[a+h]=this.o[e+h];else for(a=a+r-1;e<r;e++)o[a]=this.o[e],a--},n.prototype.clear=function(e){e?this.resize(0):this.Dh(0)},n.prototype.ix=function(){this.rk=this.Pb=!0},n.prototype.Wd=function(e,r,o){10>r-e?n.mG(this.o,e,r,o):n.lB(this.o,e,r-1,o)},n.prototype.Vp=function(){return 2},n.prototype.Gc=function(){return this.o[this.size-1]},n.prototype.Jf=function(){this.resize(this.size-1)},n.prototype.XW=function(e){this.o[this.size-1]=e},n.prototype.NV=function(e){e<this.size-1&&(this.o[e]=this.o[this.size-1]),this.resize(this.size-1)},n.prototype.gF=function(e){for(var r=0,o=this.size;r<o;r++)if(this.o[r]==e)return r;return-1},n.prototype.cG=function(e){return 0<=this.gF(e)},n.mG=function(e,r,o,a){for(var h=r;h<o;h++){for(var c=e[h],p=h-1;p>=r&&0<a(e[p],c);)e[p+1]=e[p],p--;e[p+1]=c}},n.sx=function(e,r,o){var a=e[o];e[o]=e[r],e[r]=a},n.lB=function(e,r,o,a){if(!(r>=o))for(;;){if(9>o-r){n.mG(e,r,o+1,a);break}var h=e[r];n.sx(e,r,o);for(var c=r,p=r;p<o;p++)0>=a(e[p],h)&&(n.sx(e,c,p),c+=1);n.sx(e,c,o),c-r<o-c?(n.lB(e,r,c-1,a),r=c+1):(n.lB(e,c+1,o,a),o=c-1)}},n}();u.ja=y}(U||(U={})),function(u){function C(n,e,r,o){r=new Int8Array(n.subarray(r,o)),n.set(r,e)}var y=function(){function n(e){this.o=null;var r=e;2>r&&(r=2),this.o=new Int8Array(r),this.size=e}return n.prototype.rotate=function(e,r,o){if(this.Pb)throw u.i.ga("invalid_call");if(r<e||r>o||e>o)throw u.i.O();e!=r&&o!=r&&(this.pi(e,r-e,1),this.pi(r,o-r,1),this.pi(e,o-e,1))},n.rf=function(e,r){var o=new n(e),a=o.o;if(2>e&&(e=2),r!==0)for(var h=0;h<e;h++)a[h]=r;return o},n.Dn=function(e){var r=new n(0);return r.o=new Int8Array(e.o),r.size=e.size,r},n.Nr=function(e,r){var o=new n(0);return o.size=e.size,o.size>r&&(o.size=r),r=o.size,2>r&&(r=2),o.o=new Int8Array(r),o.o.set(e.o.length<=r?e.o:e.o.subarray(0,r),0),o},n.prototype.Jb=function(e){0>=e||(this.o==null?this.o=new Int8Array(e):e<=this.o.length||(0<this.o.length?(e=new Int8Array(e),e.set(this.o),this.o=e):this.o=new Int8Array(e)))},n.prototype.read=function(e){return this.o[e]},n.prototype.uc=function(e,r){r.x=this.o[e],r.y=this.o[e+1]},n.prototype.get=function(e){return this.o[e]},n.prototype.write=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r},n.prototype.set=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r},n.prototype.Vt=function(e,r){if(this.Pb)throw u.i.Hb();this.o[e]=r.x,this.o[e+1]=r.y},n.prototype.add=function(e){this.resize(this.size+1),this.o[this.size-1]=e},n.prototype.BB=function(e){return n.Nr(this,e)},n.prototype.gg=function(e){return this.read(e)},n.prototype.resize=function(e,r){if(r===void 0&&(r=0),this.rk)throw u.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var o=new Int8Array(this.o,0,e);this.o=o}}else{e>this.o.length&&(o=u.P.truncate(64>e?Math.max(2*e,4):5*e/4),o=new Int8Array(o),o.set(this.o),this.o=o),o=this.o;for(var a=this.size;a<e;a++)o[a]=r}this.size=e},n.prototype.Dh=function(e){if((this.o==null||e>this.o.length)&&this.resize(e),this.rk)throw u.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},n.prototype.rr=function(e,r){this.write(e,r)},n.prototype.Cn=function(e,r,o){for(var a=this.size;r<a&&r<o;r++)e=u.P.Vh(this.read(r),e);return e},n.prototype.Nb=function(e,r,o){if(e==null||!(e instanceof n))return!1;var a=this.size,h=e.size;if(o>a||o>h&&a!=h)return!1;for(o>a&&(o=a);r<o;r++)if(this.read(r)!=e.read(r))return!1;return!0},n.prototype.addRange=function(e,r,o,a,h){if(this.Pb)throw u.i.Hb();if(!a&&(1>h||o%h!=0))throw u.i.O();var c=this.size;if(this.resize(c+o),a)this.o.set(e.o.subarray(r,r+o),c);else{a=o;for(var p=0;p<o;p+=h){a-=h;for(var m=0;m<h;m++)this.o[c+p+m]=e.o[r+a+m]}}},n.prototype.On=function(e,r,o,a,h,c,p){if(this.Pb)throw u.i.Hb();if(!h&&(1>c||a%c!=0))throw u.i.O();if(C(this.o,e+a,e,e+(p-e)),this.o==r.o&&e<o&&(o+=a),h)this.o.set(r.o.subarray(o,o+a),e);else for(h=a,p=0;p<a;p+=c){h-=c;for(var m=0;m<c;m++)this.o[e+p+m]=r.o[o+h+m]}},n.prototype.Nn=function(e,r,o,a){if(this.Pb)throw u.i.Hb();for(a-=e,C(this.o,e+a,e,e+a),a=0;a<o;a++)this.o[e+a]=r},n.prototype.Dz=function(e,r,o,a,h,c){if(this.Pb)throw u.i.Hb();if(0>c&&(c=this.size),this.size+2*a>this.o.length?this.resize(this.size+2*a):this.size+=2*a,C(this.o,e+2*a,e,e+(c-e)),h)for(h=0;h<a;h++)c=r[o++],this.o[e++]=c.x,this.o[e++]=c.y;else{h=0;for(var p=a-1;h<a;++h)c=r[o+p],this.o[e++]=c.x,this.o[e++]=c.y,p--}},n.prototype.xj=function(e,r,o){if(this.Pb)throw u.i.Hb();C(this.o,e+2,e,e+(o-e)),this.o[e]=r.x,this.o[e+1]=r.y},n.prototype.Wt=function(e,r,o,a,h,c){if(0>e||0>r||0>a||!h&&(0>=c||r%c!=0)||o.size<a+r)throw u.i.O();if(r!=0)if(this.size<r+e&&this.resize(r+e),o==this)this.Cr(e,r,a,h,c);else if(h)for(h=0;h<r;h++)this.o[e]=o.o[a],e++,a++;else if(a=a+r-c,c==1)for(h=0;h<r;h++)this.o[e]=o.o[a],e++,a--;else for(h=0,r=u.P.truncate(r/c);h<r;h++){for(var p=0;p<c;p++)this.o[e+p]=o.o[a+p];e+=c,a-=c}},n.prototype.Gn=function(e,r,o){if(this.Pb||e+r>this.size)throw u.i.Hb();0<o-(e+r)&&C(this.o,e,e+r,e+(o-(e+r))+r),this.size-=r},n.prototype.pi=function(e,r,o){if(this.Pb||1>o||r%o!=0)throw u.i.Hb();for(var a=r>>1,h=0;h<a;h+=o){r-=o;for(var c=0;c<o;c++){var p=this.o[e+h+c];this.o[e+h+c]=this.o[e+r+c],this.o[e+r+c]=p}}},n.prototype.Yj=function(e,r,o){if(0>r||0>o||0>r||o+r>this.size)throw u.i.O();for(var a=r;a<r+o;a++)this.o[a]=e},n.prototype.Cr=function(e,r,o,a,h){if((!a||e!=o)&&(this.o.set(this.o.subarray(o,o+r),e),!a))for(o=e,e=e+r-h,a=0,r=u.P.truncate(r/2);a<r;a++){for(var c=0;c<h;c++){var p=this.o[o+c];this.o[o+c]=this.o[e+c],this.o[e+c]=p}o+=h,e-=h}},n.prototype.qC=function(e,r,o,a,h){if(0>e||0>r||0>a)throw u.i.O();if(r!=0)for(this.size<(r<<1)+e&&this.resize((r<<1)+e),h||(e+=r-1<<1),h=h?2:-2,r+=a;a<r;a++)this.o[e]=o[a].x,this.o[e+1]=o[a].y,e+=h},n.prototype.Xw=function(e,r,o,a,h){if(0>e||0>r||0>a||this.size<r+e)throw u.i.O();if(h)for(h=0;h<r;h++)o[a+h]=this.o[e+h];else for(a=a+r-1;e<r;e++)o[a]=this.o[e],a--},n.prototype.clear=function(e){e?this.resize(0):this.Dh(0)},n.prototype.ix=function(){this.rk=this.Pb=!0},n.prototype.Wd=function(e,r,o){r=this.o.subarray(e,r),Array.prototype.sort.call(r,o),this.o.set(r,e)},n.prototype.uJ=function(e,r){if(this.Pb)throw u.i.ga("invalid call. Attribute Stream is read only.");this.o[e]|=r},n.prototype.FE=function(e,r){if(this.Pb)throw u.i.ga("invalid call. Attribute Stream is read only.");this.o[e]&=~r},n.prototype.Vp=function(){return 1},n}();u.rn=y}(U||(U={})),function(u){u.Zc=function(){function C(){}return C.Or=function(y,n){return u.rn.rf(y,n)},C.Fn=function(y,n){return u.ce.rf(y,n)},C.kP=function(y,n,e){switch(y){case 1:y=u.ce.rf(n,e);break;case 2:y=u.ja.rf(n,e);break;case 4:y=u.rn.rf(n,e);break;default:throw u.i.Ra()}return y},C.TE=function(y,n){return C.kP(u.sa.Vp(y),n*u.sa.Wa(y),u.sa.te(y))},C.Qh=function(y,n){return u.ja.rf(y,n)},C.lI=function(y){var n,e=[];for(n=0;n<y;n++)e.push(null);return e},C}()}(U||(U={})),function(u){u.ha=function(){return function(C){C===void 0&&(C=0),this.u=C}}()}(U||(U={})),function(u){u.IL=function(){function C(){}return C.bind=function(y){u.Tc=y.PeDefs,u.qf=y.PeFactory,u.IC=y.PeVertcs,u.gj=y.PeCSTransformations,u.HC=y.PeGTTransformations,u.GL=y.PeGeogtran,u.FL=y.PeFactoryCodechange,u.GC=y.PeGCSExtent,u.Eg=y.PePCSInfo,u.HL=y.PeHorizon,u.EL=y.PeCoordsys,u.np=y.PeGTlistExtended,u.np.PE_GTLIST_OPTS_USE_DEFAULT=128,u.qf.initialize(null),u.Lx=y.PeGTlistExtendedEntry,u.qf.fromString(u.Tc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},C}(),u.qf=null,u.IC=null,u.EL=null,u.HL=null,u.Eg=null,u.np=null,u.Lx=null,u.GC=null,u.FL=null,u.GL=null,u.Tc=null,u.HC=null,u.gj=null}(U||(U={})),function(u){var C=function(){function y(){}return y.Mb=function(n,e){return 0<=e?y.R(n):-y.R(n)},y.R=function(n){return 0>n?-n:n},y.vi=function(n){return 3552713678800501e-30>n},y.FC=function(n,e,r){return y.R(n-e)<=r*(1+(y.R(n)+y.R(e))/2)},y.$=function(n,e){return y.FC(n,e,3552713678800501e-30)},y.AL=function(n){return 3552713678800501e-30>=y.R(n)},y.Dd=function(n){return y.AL(n)},y}();u.s=C,u.F=function(){function y(){}return y.ip=function(n,e){n=C.R(n),e=C.R(e);var r=0;return n+e!=0&&(n>e?(r=e/n,r=n*Math.sqrt(1+r*r)):(r=n/e,r=e*Math.sqrt(1+r*r))),r},y.Yq=function(n,e,r,o,a){for(var h=[0,0,0],c=[0,0,0],p=0;2>=p;p++)e[p]-=n[p],r[p]-=e[p];r=h[1]*c[2]-h[2]*c[1],e=h[2]*c[0]-h[0]*c[2],h=h[0]*c[1]-h[1]*c[0],n=-1*(r*n[0]+e*n[1]+h*n[2]),o[0]=r,o[1]=e,o[2]=h,o[3]=n,c=y.qn(o),o[0]/=c,o[1]/=c,o[2]/=c,o[3]/=c,a!=0&&(c=C.Dd(h)?C.Dd(n)?C.Mb(1,e):-C.Mb(1,n):C.Mb(1,h),c*=C.Mb(1,a),o[0]*=c,o[1]*=c,o[2]*=c,o[3]*=c)},y.yx=function(n,e,r){r[0]=n[1]*e[2]-e[1]*n[2],r[1]=n[2]*e[0]-e[2]*n[0],r[2]=n[0]*e[1]-e[0]*n[1]},y.Ut=function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]},y.qn=function(n){return y.ip(y.ip(n[0],n[1]),n[2])},y.el=function(n,e,r,o,a,h,c,p){n=y.n(n,e,r);var m=Math.cos(r);h.u=(n+a)*m*Math.cos(o),c.u=(n+a)*m*Math.sin(o),p.u=(n*(1-e)+a)*Math.sin(r)},y.eO=function(n,e,r,o,a,h,c){var p=y.ip(e,r),m=1*Math.sqrt(1-n),g=m/1;if(C.$(p,0))h.u=0,a.u=C.Mb(1.570796326794897,o),c.u=C.R(o)-m;else{h.u=Math.atan2(r,e),r=Math.atan2(1*o,m*p),h=Math.cos(r);var _=Math.sin(r);e=m*n/(1-n),n*=1,r=Math.atan2(o+e*_*_*_,p-n*h*h*h),3.141592653589793<C.R(r)&&(r=C.Mb(3.141592653589793,r)-r),r=Math.atan(g*Math.tan(r)),_=Math.sin(r),h=Math.cos(r),a.u=Math.atan2(o+e*_*_*_,p-n*h*h*h),1.570796326794897<C.R(a.u)&&(a.u=C.Mb(3.141592653589793,a.u)-a.u),r=Math.atan(g*Math.tan(a.u)),_=Math.sin(r),h=Math.cos(r),c.u=(o-m*_)*Math.sin(a.u)+(p-1*h)*Math.cos(a.u)}},y.n=function(n,e,r){return r=Math.sin(r),n/Math.sqrt(1-e*r*r)},y.pt=function(n,e){return Math.atan2(Math.sin(e)*(1-n),Math.cos(e))},y.Sj=function(n,e){return Math.atan2(Math.sin(e),Math.cos(e)*(1-n))},y.Tq=function(n,e){if(C.vi(n)||e==0||C.$(C.R(e),1.570796326794897))return e;if(.006884661117170036>n){var r=Math.sqrt(1-n),o=(1-r)/(1+r),a=o*o,h=o*a,c=o*h,p=o*c,m=o*p,g=o*m,_=1.572916666666667*h-3.2578125*p+4.295068359375*g;n=2.142578125*c-6.071484375*m,r=3.129296875*p-11.249837239583334*g;var b=4.775276692708333*m,x=7.958636765252976*g,P=Math.cos(2*e);return e+Math.sin(2*e)*(1.5*o-.84375*h+.525390625*p-.2688395182291667*g-_+r-x+P*(2*(1.3125*a-1.71875*c+1.650146484375*m)-4*n+6*b+P*(4*_-12*r+24*x+P*(8*n-32*b+P*(16*r-80*x+P*(32*b+64*P*x))))))}for(r=1-n,o=n/2,a=C.R(e),h=a*y.av(n)/(1.570796326794897*r),c=9999,m=a,a=0;1e-16<c&&50>a;a++)g=y.w(n,m),p=(y.fG(m,n)-o*Math.sin(2*m)/g)/r-h,g=1/(g*g*g),_=p/g,p=m-_,c=C.R(_),m=p;return 0<=e?m:-m},y.lW=function(n,e){return C.vi(e)?n:n*y.av(e)/1.570796326794897},y.ca=function(n){return n=y.kF(n,6.283185307179586),0>n?n+6.283185307179586:3.141592653589793>C.R(n)||C.$(C.R(n),3.141592653589793)?n:n-6.283185307179586},y.kF=function(n,e){return n-Math.floor(n/e)*e},y.Ch=function(n,e){if(.006884661117170036>e){e=Math.sqrt(1-e),e=(1-e)/(1+e);var r=e*e,o=r*r;return n/(1+e)*(1+.25*r+.015625*o+.00390625*r*o)*1.570796326794897}return n*y.av(e)},y.Xq=function(n,e){var r=C.Mb(1,Math.sin(e));return e=C.R(y.kF(e,3.141592653589793)),e=1.570796326794897>=e?e:3.141592653589793-e,(C.$(e,1.570796326794897)?e:Math.atan(Math.sqrt(1-n)*Math.tan(e)))*r},y.q=function(n,e,r){if(.006884661117170036>e){e=Math.sqrt(1-e),e=(1-e)/(1+e);var o=e*e,a=e*o,h=e*a,c=e*h,p=e*c,m=e*p,g=-.7291666666666666*a+.2278645833333333*c+.03987630208333334*m,_=.615234375*h-.21533203125*p,b=-.54140625*c+.20302734375*m,x=.48876953125*p,P=-.4488699776785715*m,O=Math.cos(2*r);return n/(1+e)*((1+.25*o+.015625*h+.00390625*p)*r+Math.sin(2*r)*(-1.5*e+.1875*a+.0234375*c+.00732421875*m-g+b-P+O*(2*(.9375*o-.234375*h-.03662109375*p)-4*_+6*x+O*(4*g-12*b+24*P+O*(8*_-32*x+O*(16*b-80*P+O*(32*x+64*O*P)))))))}return n*(y.fG(r,e)-.5*e*Math.sin(2*r)/y.w(e,r))},y.w=function(n,e){return e=Math.sin(e),Math.sqrt(1-n*e*e)},y.av=function(n){return C.FC(n,1,2220446049250313e-31)?1:1>n?y.Zw(0,1-n)-n/3*y.Ww(0,1-n):NaN},y.fG=function(n,e){var r=C.Mb(1,n);n=C.R(n);var o=Math.floor(n/1.570796326794897);if(1<e)e=n==0?0:NaN;else if(C.Dd(o))n=y.sin(n),e=n*y.Zw(1-n*n,1-e*n*n)-e/3*n*n*n*y.Ww(1-n*n,1-e*n*n);else{var a=u.P.truncate(o%2),h=y.av(e);0<a?(n=Math.sin(1.570796326794897*(o+1)-n),e=n*y.Zw(1-n*n,1-e*n*n)-e/3*n*n*n*y.Ww(1-n*n,1-e*n*n),e=h*(o+1)-e):(n=Math.sin(n-1.570796326794897*o),e=n*y.Zw(1-n*n,1-e*n*n)-e/3*n*n*n*y.Ww(1-n*n,1-e*n*n),e=h*o+e)}return e*r},y.sin=function(n){n=y.ca(n);var e=C.Mb(1,n);return n=C.R(n),C.$(n,3.141592653589793)?0:C.$(n,1.570796326794897)?1*e:Math.sin(n)*e},y.Ww=function(n,e){var r=n,o=e,a=1;e=0,n=1;for(var h,c,p,m;h=.2*(r+o+3*a),c=(h-r)/h,p=(h-o)/h,m=(h-a)/h,!(1e-4>C.R(c)&&1e-4>C.R(p)&&1e-4>C.R(m));)m=Math.sqrt(o),h=Math.sqrt(a),m=Math.sqrt(r)*(m+h)+m*h,e+=n/(h*(a+m)),n*=.25,r=.25*(r+m),o=.25*(o+m),a=.25*(a+m);return r=c*p,a=m*m,o=r-a,a=r-6*a,c=a+o+o,3*e+n*(1+a*(-.2142857142857143+.10227272727272728*a-.1730769230769231*m*c)+m*(.1666666666666667*c+m*(-.4090909090909091*o+.1153846153846154*m*r)))/(h*Math.sqrt(h))},y.Zw=function(n,e){for(var r,o,a,h,c=1;r=(n+e+c)/3,o=2-(r+n)/r,a=2-(r+e)/r,h=2-(r+c)/r,!(1e-4>C.R(o)&&1e-4>C.R(a)&&1e-4>C.R(h));c=.25*(c+r))r=Math.sqrt(e),o=Math.sqrt(c),r=Math.sqrt(n)*(r+o)+r*o,n=.25*(n+r),e=.25*(e+r);return n=o*a-h*h,e=o*a*h,(1+(.04166666666666666*n-.1-.06818181818181818*e)*n+.07142857142857142*e)/Math.sqrt(r)},y.Sw=function(n,e){if(C.vi(n)||e==0||C.$(C.R(e),1.570796326794897))return e;if(.006884661117170036>n){var r=n*n,o=n*r,a=n*o,h=n*a,c=n*h,p=n*c,m=-(.02708333333333333*o+.03430059523809524*a+.03149181547619048*h+.02634359154541446*c+.02156896735835538*p),g=.007669890873015873*a+.01299603174603175*h+.0148051353064374*c+.01454454953803912*p,_=-(.002275545634920635*h+.004830845032667949*c+.006558395368616723*p),b=.0006957236677288761*c+.001775193002406544*p,x=-(.000217324089394402*p),P=Math.cos(2*e);return e+Math.sin(2*e)*(-(.5*n+.2083333333333333*r+.09375*o+.04878472222222222*a+.02916666666666667*h+.01938905423280423*c+.01388255931712963*p)-m+_-x+P*(2*(.1041666666666667*r+.0875*o+.06050347222222222*a+.04151785714285714*h+.02958958540013228*c+.02203667534722222*p)-4*g+6*b+P*(4*m-12*_+24*x+P*(8*g-32*b+P*(16*_-80*x+P*(32*b+64*P*x))))))}return e==0||C.$(C.R(e),1.570796326794897)?r=e:(o=Math.sqrt(n),a=o*Math.sin(e),r=Math.tan(.7853981633974483+e/2)*Math.pow((1-a)/(1+a),o/2),r=2*Math.atan(r)-1.570796326794897),r},y.tO=function(n,e){if(C.vi(n)||e==0||C.$(C.R(e),1.570796326794897))return e;if(.006884661117170036>n){P=n*n,_=n*P,b=n*_;var r=n*b;x=n*r;var o=n*x,a=.05833333333333333*_+.07232142857142858*b+.05634300595238095*r+.0355325796406526*x+.020235546186067*o,h=.02653149801587302*b+.04379960317460317*r+.0429211791776896*x+.03255384637546096*o,c=.01294022817460318*r+.02668104344536636*x+.03155651254609588*o,p=.00659454790965208*x+.0163075268674227*o,m=.003463473736911237*o,g=Math.cos(2*e);return e+Math.sin(2*e)*(.5*n+.2083333333333333*P+.08333333333333333*_+.03611111111111111*b+.01875*r+.01195601851851852*x+.008863673941798942*o-a+c-m+g*(2*(.1458333333333333*P+.1208333333333333*_+.07039930555555556*b+.03616071428571429*r+.01839451058201058*x+.01017113095238095*o)-4*h+6*p+g*(4*a-12*c+24*m+g*(8*h-32*p+g*(16*c-80*m+g*(32*p+64*g*m))))))}var _=Math.sqrt(n),b=_/2,x=Math.tan(.7853981633974483+e/2);n=0,a=1;for(var P=e;a!=0;P=o)r=_*Math.sin(P),o=x*Math.pow((1+r)/(1-r),b),o=2*Math.atan(o)-1.570796326794897,n++,(C.$(o,P)||3e4<n)&&(a=0);return P},y}()}(U||(U={})),function(u){var C=function(){function y(n){this.wl=this.Ws=null,this.Kv=!1,this.BA=this.CA=0,this.CH=new u.h,this.SH=new u.h,this.FA=!1,this.xq=new u.l,this.rH=this.uw=0,this.vw=null,this.Bl=!1,this.Go=null,this.Xz=0,this.Re=n,this.Cs=u.Ab.zv(this.Re,0,!0),this.CH.Sc(),this.SH.Sc(),this.MH=NaN;var e=n.getCode();0<e?(this.Mk=e,u.qf.getCode(n)):this.Mk=u.qf.getCode(n),0>this.Mk&&(this.Mk=0);var r=this.Re.getType();if(this.eH=r==u.Tc.PE_TYPE_PROJCS?2:1,r==u.Tc.PE_TYPE_PROJCS&&!n.loadConstants())throw u.i.O("PeProjcs.loadConstants failed");e=r==u.Tc.PE_TYPE_GEOGCS?this.Re:this.Re.getGeogcs(),r!=u.Tc.PE_TYPE_GEOGCS&&u.qf.getCode(e),this.Go=n.getUnit(),this.MH=e.getPrimem().getLongitude(),this.rH=n=e.getUnit().getUnitFactor(),n=Math.PI/(180*n),1e-10>Math.abs(n-1)&&(n=1),this.BA=n,r&u.Tc.PE_TYPE_PROJCS?(e=this.Re,this.CA=1/e.getUnit().getUnitFactor(),this.uw=.001/this.Re.getUnit().getUnitFactor(),this.vw=u.Eg.generate(e,u.Eg.PE_PCSINFO_OPTION_NONE),this.Bl=this.vw.isPannableRectangle(),this.Xz=u.Ab.lN(this.vw.getCentralMeridian(),this.BA)):(this.FA=this.Bl=!0,this.CA=0,r=1/e.getUnit().getUnitFactor(),this.uw=.001/e.getDatum().getSpheroid().getAxis()*r,this.Xz=0),this.Bl&&(this.wx(),this.yK(),this.jY(),this.xK(),this.hY(),this.iY())}return y.prototype.cs=function(){return this.Mk},y.prototype.mk=function(){return this.vw},y.Ky=function(n,e){return n==e?!0:n!=null&&e!=null&&n.Mk==0&&e.Mk==0?n.Cs===e.Cs:!1},y.prototype.Xc=function(){return this.Bl},y.prototype.ih=function(n){n.L(this.uo)},y.prototype.rv=function(){return this.uo.v},y.prototype.qv=function(){return this.uo.C},y.prototype.BR=function(n){n.L(this.ww)},y.prototype.hY=function(){var n=this.Re.getType();if(n==u.Tc.PE_TYPE_PROJCS){n=this.Re;var e=this.mk().getCentralMeridian(),r=n.getGeogcs();if(r==null)throw u.i.ga("internal error");r=1/r.getUnit().getUnitFactor()*Math.PI,e=[[e+r,0]],u.gj.geogToProj(n,1,e),e=e[0][0],r=n.getParameters()[u.Tc.PE_PARM_X0].getValue();var o=this.ol();n=new u.l,o.A(n),o=Math.abs(e-r),e=o+r,r=-1*o+r,o=n.H,n=n.G;var a=new u.l;a.L(r,n,e,o),this.uo==null&&(this.uo=a)}else if(n==u.Tc.PE_TYPE_GEOGCS)r=1/this.Re.getUnit().getUnitFactor()*Math.PI,n=new u.l,n.L(-r,-r/2,r,r/2),this.uo==null&&(this.uo=n);else throw u.i.ga("internal error")},y.prototype.iY=function(){var n=this.Re.getType();if(n==u.Tc.PE_TYPE_PROJCS){var e=this.Re;if(n=this.mk().getCentralMeridian(),e=e.getGeogcs(),e==null)throw u.i.ga("internal error");e=1/e.getUnit().getUnitFactor()*Math.PI;var r=this.Xr(),o=new u.l;r.A(o),r=new u.l,r.L(n-e,o.G,n+e,o.H),this.ww==null&&(this.ww=r)}else if(n==u.Tc.PE_TYPE_GEOGCS)e=1/this.Re.getUnit().getUnitFactor()*Math.PI,n=new u.l,n.L(-e,-e/2,e,e/2),this.ww==null&&(this.ww=n);else throw u.i.ga("internal error")},y.prototype.bf=function(){return this.BA},y.prototype.rm=function(){return this.CA},y.prototype.Xr=function(){if(this.Bl)return this.wl;var n=this.wl;return n??(this.wx(),this.wl)},y.prototype.Yr=function(){return this.Bl?null:this.wl!=null?this.TG:(this.wx(),this.TG)},y.prototype.wx=function(){if(this.Re.getType()==u.Tc.PE_TYPE_PROJCS){var n=this.Re,e=n.getGeogcs(),r=n.horizonGcsGenerate();if(r!=null){var o=r[0].getNump(),a=r[0].getKind();n=0<r[0].getInclusive();var h=this.bf(),c=90*h,p=360*h,m=370*h,g=180*h*u.Tc.PE_HORIZON_DELTA/Math.PI,_=new u.l,b=null;if(1<o){for(var x=1;x<o;x++)if(r[x].getKind()==u.Tc.PE_HORIZON_LINE){b==null&&(b=new u.Ua);var P=r[x].getCoord();b.rx(P[0][0],P[0][1]),b.Aj(P[1][0],P[1][1])}}if(a==u.Tc.PE_HORIZON_RECT)r=r[0].getCoord(),_.L(r[0][0],r[0][1]),_.$b(r[1][0],r[1][1]),Math.abs(_.H-c)<1e-7*g&&(_.H=c),Math.abs(_.G+c)<1e-7*g&&(_.G=-c),_.S()>m&&(r=-400*h,_.L(r,_.G,r+5*p,_.H)),r=new u.Hh(_),this.wl==null&&(this.wl=r,this.Kv=n);else{if(m=new u.Ea,p=this.mk().isGcsHorizonMultiOverlap(),_=u.iu.XE(e,u.ju.Integer64),p){for(m=new u.bL,g=u.Ih.local().W(m,_,null),x=0;x<o;x++)if(r[x].getKind()==u.Tc.PE_HORIZON_POLY){for(e=r[x].getSize(),h=r[x].getCoord(),a=[],c=0;c<e;c++)a[c]=u.h.construct(h[c][0],h[c][1]);r[x].getInclusive(),p&&(h=new u.Ea,h.$k(a,e-1),m.VX(h),g.re())}m=g.next()}else for(x=0;x<o;x++)if(r[x].getKind()==u.Tc.PE_HORIZON_POLY){for(e=r[x].getSize(),h=r[x].getCoord(),p=[],c=0;c<e;c++)p[c]=u.h.construct(h[c][0],h[c][1]);r[x].getInclusive(),m.$k(p,e-1)}n?u.Zj.local().yn(m,_,1):u.mp.local().yn(m,_,1),u.fj.local().yn(m,_,1),this.wl==null&&(this.wl=m,this.Kv=n,this.TG=b)}}}},y.prototype.kv=function(){return this.Bl?this.Kv:(this.wl==null&&this.wx(),this.Kv)},y.prototype.yK=function(){if(this.eH==2){var n=this.Re.horizonPcsGenerate();if(n!=null){var e=n[0].getKind();n[0].getInclusive();var r=n[0].getNump(),o=!1;if(e==u.Tc.PE_HORIZON_RECT)n=n[0].getCoord(),r=new u.l,r.L(n[0][0],n[0][1]),r.$b(n[1][0],n[1][1]),n=new u.Hh(r);else{for(e=-1,o=0;o<r;o++)n[o].getKind()==u.Tc.PE_HORIZON_POLY&&(e=o);for(o=n[e].getSize()-1,n=n[e].getCoord(),r=[],e=0;e<o;e++)r[e]=u.h.construct(n[e][0],n[e][1]);n=e=new u.Ea,e.$k(r,o),o=!0}this.mk().isDensificationNeeded()&&(r=1e5*this.rm(),n=u.Zl.local().W(n,r,null)),o&&(o=new u.Hh,n.dn(o),n.He(),n.Rb(),n.kR(),u.Zj.local().yn(n,null,1)),this.Ws==null&&(this.Ws=n)}}},y.prototype.ol=function(){if(this.Bl)return this.Ws;var n=this.Ws;return n??(this.yK(),this.Ws)},y.prototype.jY=function(){if(this.Re.getType()==u.Tc.PE_TYPE_PROJCS){var n=90*this.bf();n=[[0,n],[0,-n]],u.gj.geogToProj(this.Re,2,n);var e=this.mk(),r=e.getNorthPoleLocation()!=u.Eg.PE_POLE_OUTSIDE_BOUNDARY;e=e.getSouthPoleLocation()!=u.Eg.PE_POLE_OUTSIDE_BOUNDARY,this.FA||(r&&this.CH.na(n[0][0],n[0][1]),e&&this.SH.na(n[1][0],n[1][1]))}this.FA=!0},y.prototype.xK=function(){if(this.eH==1){var n=400*this.bf();this.xq.L(-n,-n,n,n)}else n=u.Eg.generate(this.Re,u.Eg.PE_PCSINFO_OPTION_DOMAIN),n=u.l.construct(n.getDomainMinx(),n.getDomainMiny(),n.getDomainMaxx(),n.getDomainMaxy()),this.xq.B()&&this.xq.L(n)},y.prototype.cR=function(n){this.Bl&&n.L(this.xq),this.xq.B()&&this.xK(),n.L(this.xq)},y.prototype.Wp=function(){return this.MH},y.prototype.Bi=function(){return this.Xz},y.prototype.Id=function(){return this.Go},y.prototype.Zr=function(){return this.rH},y}();u.JC=C}(U||(U={})),function(u){var C=function(){function y(n){this.FT=n,this.Cs=u.Ab.zv(n,0,!0);var e=n.getCode();this.us=0<e?e:u.qf.getCode(n),0>this.us&&(this.us=0),this.Go=e=this.FT.getUnit(),this.DH=1/e.getUnitFactor(),u.qf.getCode(n)}return y.Ky=function(n,e){return n==e?!0:n!=null&&e!=null&&n.us==0&&e.us==0?n.Cs===e.Cs:!1},y.prototype.cs=function(){return this.us},y}();u.KL=C}(U||(U={})),function(u){u.$g=function(){function C(){}return C.ub=function(y,n,e,r,o,a,h,c){if(a!=null||h!=null||c!=null){r=u.F.ca(r),n=u.F.ca(n),e=u.F.ca(e),o=u.F.ca(o),1.570796326794897<u.s.R(e)&&(e=u.s.Mb(3.141592653589793,e)-e,n=u.F.ca(n+3.141592653589793)),1.570796326794897<u.s.R(o)&&(o=u.s.Mb(3.141592653589793,o)-o,r=u.F.ca(r+3.141592653589793));var p=u.F.ca(r-n);if(u.s.$(e,o)&&(u.s.$(n,r)||u.s.$(u.s.R(e),1.570796326794897)))a!=null&&(a.u=0),h!=null&&(h.u=0),c!=null&&(c.u=0);else{if(u.s.$(e,-o)){if(u.s.$(u.s.R(e),1.570796326794897)){a!=null&&(a.u=3.141592653589793*y),h!=null&&(h.u=0<e?u.F.ca(3.141592653589793-u.F.ca(r)):u.F.ca(r)),c!=null&&(c.u=0<e?u.F.ca(r):u.F.ca(3.141592653589793-u.F.ca(r)));return}if(u.s.$(u.s.R(p),3.141592653589793)){a!=null&&(a.u=3.141592653589793*y),h!=null&&(h.u=0),c!=null&&(c.u=0);return}}var m=u.s.R(e)==1.570796326794897?0:Math.cos(e),g=Math.sin(e),_=u.s.R(o)==1.570796326794897?0:Math.cos(o),b=Math.sin(o),x=u.s.R(p)==1.570796326794897?0:Math.cos(p),P=u.s.R(p)==3.141592653589793?0:Math.sin(p);if(a!=null){var O=Math.sin((o-e)/2);p=Math.sin(p/2),a.u=2*Math.asin(Math.sqrt(O*O+m*_*p*p))*y}h!=null&&(h.u=u.s.$(u.s.R(e),1.570796326794897)?0>e?r:u.F.ca(3.141592653589793-r):Math.atan2(_*P,m*b-g*_*x)),c!=null&&(u.s.$(u.s.R(o),1.570796326794897)?c.u=0>o?n:u.F.ca(3.141592653589793-n):(c.u=Math.atan2(m*P,b*m*x-_*g),c.u=u.F.ca(c.u+3.141592653589793)))}}},C.sf=function(y,n,e,r,o,a,h){if(a!=null||h!=null){n=u.F.ca(n),e=u.F.ca(e),1.570796326794897<u.s.R(e)&&(e=u.s.Mb(3.141592653589793,e)-e,n=u.F.ca(n+3.141592653589793)),u.s.$(u.s.R(e),1.570796326794897)&&(n=0),o=u.F.ca(o);var c=u.s.$(u.s.R(o),1.570796326794897)?0:Math.cos(o),p=u.s.$(u.s.R(o),3.141592653589793)?0:Math.sin(o),m=u.s.$(u.s.R(e),1.570796326794897)?0:Math.cos(e),g=Math.sin(e);y=r/y,r=u.s.$(u.s.R(y),1.570796326794897)?0:Math.cos(y);var _=u.s.$(u.s.R(y),3.141592653589793)?0:Math.sin(y),b=Math.asin(g*r+m*_*c);h!=null&&(h.u=b),a!=null&&(a.u=u.s.$(u.s.R(b),1.570796326794897)?u.s.$(e,-b)?0>b?o:u.F.ca(3.141592653589793-o):n:u.s.$(u.s.R(e),1.570796326794897)&&u.s.$(y,3.141592653589793)?0>e?o:u.F.ca(3.141592653589793-o):u.F.ca(n+Math.atan2(_*p,m*r-g*_*c)))}},C}()}(U||(U={})),function(u){u.Yk=function(){function C(){}return C.ub=function(y,n,e,r,o,a,h,c,p){var m=new u.ha(0),g=new u.ha(0),_=[0,0,0],b=[0,0,0],x=[0,0,0],P=new u.ha(0),O=new u.ha(0),L=new u.ha(0),j=new u.ha(0),D=new u.ha(0);if(h!=null||c!=null||p!=null)if(u.s.vi(n))u.$g.ub(y,e,r,o,a,h,c,p);else{o=u.F.ca(o),e=u.F.ca(e);var k=u.F.ca(o-e);if(u.s.$(r,a)&&(u.s.$(e,o)||u.s.$(u.s.R(r),1.570796326794897)))h!=null&&(h.u=0),c!=null&&(c.u=0),p!=null&&(p.u=0);else{if(u.s.$(r,-a)){if(u.s.$(u.s.R(r),1.570796326794897)){h!=null&&(h.u=2*u.F.Ch(y,n)),c!=null&&(c.u=0<r?u.F.ca(3.141592653589793-u.F.ca(o)):u.F.ca(o)),p!=null&&(p.u=0<r?u.F.ca(o):u.F.ca(3.141592653589793-u.F.ca(o)));return}u.s.$(u.s.R(k),3.141592653589793)&&(h!=null&&(h.u=2*u.F.Ch(y,n)),c!=null&&(c.u=0),p!=null&&(p.u=0))}else(u.s.$(u.s.R(r),1.570796326794897)||u.s.$(u.s.R(a),1.570796326794897))&&(u.s.$(u.s.R(r),1.570796326794897)?e=o:o=e);var $=0;if(0>k){$=1;var G=e;e=o,o=G,G=r,r=a,a=G}k=u.F.pt(n,r);var B=u.F.pt(n,a);(c!=null||p!=null)&&(u.$g.ub(y,e,k,o,B,null,m,g),m=Math.atan2(Math.sin(m.u)*Math.cos(r-k),Math.cos(m.u)),g=Math.atan2(Math.sin(g.u)*Math.cos(a-B),Math.cos(g.u)),$!=0&&(G=m,m=g,g=G),c!=null&&(c.u=m),p!=null&&(p.u=g)),h!=null&&(u.F.el(1,n,r,e,0,L,j,D),_[0]=L.u,_[1]=j.u,_[2]=D.u,u.F.el(1,n,a,o,0,L,j,D),b[0]=L.u,b[1]=j.u,b[2]=D.u,x[0]=_[1]*b[2]-b[1]*_[2],x[1]=-(_[0]*b[2]-b[0]*_[2]),x[2]=_[0]*b[1]-b[0]*_[1],n=1-u.F.w(n,u.F.Xq(n,u.F.Sj(n,Math.acos(x[2]/Math.sqrt(x[0]*x[0]+x[1]*x[1]+x[2]*x[2]))))),n*=2-n,c=Math.atan2(-x[1],-x[0]),x=u.F.ca(c-1.570796326794897),c=u.F.ca(c+1.570796326794897),x=u.s.R(u.F.ca(e-x))<=u.s.R(u.F.ca(e-c))?x:c,u.$g.ub(1,x,0,e,k,P,null,null),u.$g.ub(1,x,0,o,B,O,null,null),3.141592653589793<P.u+O.u&&(x=u.F.ca(x+3.141592653589793),u.$g.ub(1,x,0,e,k,P,null,null),u.$g.ub(1,x,0,o,B,O,null,null)),P.u*=u.s.Mb(1,r),O.u*=u.s.Mb(1,a),P.u=u.F.Sj(n,P.u),O.u=u.F.Sj(n,O.u),e=u.F.q(y,n,P.u),y=u.F.q(y,n,O.u),h.u=u.s.R(y-e))}}},C.sf=function(y,n,e,r,o,a,h,c){var p=0,m=new u.ha(0),g=new u.ha(0),_=[0,0,0],b=[0,0,0],x=new u.ha(0),P=new u.ha(0),O=new u.ha(0);if(h!=null||c!=null)if(u.s.vi(n))u.$g.sf(y,e,r,o,a,h,c);else if(u.s.Dd(o))h!=null&&(h.u=e),c!=null&&(c.u=r);else if(a=u.F.ca(a),0>o&&(o=u.s.R(o),a=u.F.ca(a+3.141592653589793)),e=u.F.ca(e),r=u.F.ca(r),1.570796326794897<u.s.R(r)&&(e=u.F.ca(e+3.141592653589793),r=u.s.Mb(3.141592653589793,r)-r),u.s.$(u.s.R(r),1.570796326794897)&&(e=0),u.s.Dd(r)){var L=u.s.R(1.570796326794897-u.s.R(a));L=u.F.Sj(n,L),L=1-u.F.w(n,u.F.Xq(n,L)),L*=2-L,y=o/u.F.Ch(y,L)*1.570796326794897,y=u.F.Tq(L,y),y=u.F.pt(L,y),u.$g.sf(1,e,r,y,a,h,m),c!=null&&(p=m.u),c!=null&&(c.u=u.F.Sj(n,p))}else if(u.s.$(u.s.R(r),1.570796326794897))p=u.F.Ch(y,n),m=2*p,y=u.s.Mb(1.570796326794897,r),a=0<y?u.F.ca(3.141592653589793-a):a,r=p-o,u.s.R(r)<=p?h!=null&&(h.u=a):(r=Math.floor(o/m),u.P.truncate(r%2)==0?(h!=null&&(h.u=a),o-=r*m):(h!=null&&(h.u=u.F.ca(a+3.141592653589793)),o=(r+1)*m-o),r=p-o),c!=null&&(c.u=u.F.Tq(n,r/p*y));else{L=u.F.pt(n,r),a=Math.atan2(Math.sin(a),Math.cos(a)*Math.cos(r-L));var j=u.P.truncate(u.s.Mb(1,L))*(1.570796326794897>=u.s.R(a)?1:-1);a=u.F.ca(e+Math.atan(Math.tan(a)*-Math.sin(L))),u.$g.ub(y,a,0,e,L,null,g,null),L=u.s.R(1.570796326794897-u.s.R(g.u)),L=u.F.Sj(n,L),L=1-u.F.w(n,u.F.Xq(n,L)),L*=2-L,u.F.el(1,n,0,a,0,x,P,O),_[0]=x.u,_[1]=P.u,_[2]=O.u,u.F.el(1,n,r,e,0,x,P,O),b[0]=x.u,b[1]=P.u,b[2]=O.u,r=Math.acos((_[0]*b[0]+_[1]*b[1]+_[2]*b[2])/Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])),r=u.F.Sj(L,r),r=u.F.q(y,L,r)+o*j,o=0<r?g.u:u.F.ca(g.u+3.141592653589793),y=u.s.R(r)/u.F.Ch(y,L)*1.570796326794897,y=u.F.Tq(L,y),y=u.F.pt(L,y),u.$g.sf(1,a,0,y,o,h,m),c!=null&&(p=m.u),c!=null&&(c.u=u.F.Sj(n,p))}},C}()}(U||(U={})),function(u){u.eu=function(){function C(){}return C.ub=function(y,n,e,r,o,a,h,c,p){var m=0,g=0,_=0;if(h!=null||c!=null||p!=null)if(u.s.vi(n))u.$g.ub(y,e,r,o,a,h,c,p);else{var b=u.F.ca(o-e);if(u.s.$(r,a)&&(u.s.Dd(b)||u.s.$(u.s.R(r),1.570796326794897)))h!=null&&(h.u=0),c!=null&&(c.u=0),p!=null&&(p.u=0);else{if(u.s.$(r,-a)){if(u.s.$(u.s.R(r),1.570796326794897)){h!=null&&(h.u=2*u.F.Ch(y,n)),c!=null&&(c.u=0<r?u.F.ca(3.141592653589793-u.F.ca(o)):u.F.ca(o)),p!=null&&(p.u=0<r?u.F.ca(o):u.F.ca(3.141592653589793-u.F.ca(o)));return}u.s.$(u.s.R(b),3.141592653589793)&&(h!=null&&(h.u=2*u.F.Ch(y,n)),c!=null&&(c.u=0),p!=null&&(p.u=0))}else{if(u.s.$(u.s.R(r),1.570796326794897)||u.s.$(u.s.R(a),1.570796326794897)){u.Yk.ub(y,n,e,r,o,a,h,c,p);return}if(u.s.Dd(b)||u.s.$(u.s.R(b),3.141592653589793)){u.Yk.ub(y,n,e,r,o,a,h,c,p);return}}var x=1-Math.sqrt(1-n),P=n/(1-n),O=y*(1-x);y=u.F.Xq(n,r);var L=u.F.Xq(n,a);n=u.s.R(y)==1.570796326794897?0:Math.cos(y);var j=Math.sin(y),D=u.s.R(L)==1.570796326794897?0:Math.cos(L),k=Math.sin(L),$=b,G=Math.cos($),B=Math.sin($),K=1,X=0;do{var et=$,tt=Math.sqrt(Math.pow(D*B,2)+Math.pow(n*k-j*D*G,2)),lt=j*k+n*D*G,ot=Math.atan2(tt,lt);if(tt==0){K=0;break}var yt=n*D*B/tt;if(m=Math.cos(Math.asin(yt)),m*=m,g=lt-2*j*k/m,1<u.s.R(g)&&(g=u.s.Mb(1,g)),_=g*g,$=x/16*m*(4+x*(4-3*m)),$=b+(1-$)*x*yt*(ot+$*tt*(g+$*lt*(2*_-1))),G=Math.cos($),B=Math.sin($),X++,3.141592653589793<u.s.R($)&&30<X){K=0;break}}while(5e3>=X&&!u.s.$(et,$));if(K!=0)P*=m,x=P*(256+P*(-128+P*(74-47*P)))/1024,h!=null&&(h.u=O*(1+P*(4096+P*(-768+P*(320-175*P)))/16384)*(ot-x*tt*(g+x/4*(lt*(2*_-1)-x/6*g*(4*tt*tt-3)*(4*_-3))))),c!=null&&(c.u=u.s.$(u.s.R(r),1.570796326794897)?0>r?o:u.F.ca(3.141592653589793-o):Math.atan2(D*B,n*k-j*D*G)),p!=null&&(u.s.$(u.s.R(a),1.570796326794897)?p.u=0>a?e:u.F.ca(3.141592653589793-e):(p.u=Math.atan2(n*B,n*k*G-j*D),p.u=u.F.ca(p.u+3.141592653589793)));else{$=u.s.Mb(3.141592653589793,b),lt=j*k-n*D,ot=Math.acos(lt),tt=Math.sin(ot),m=1,X=yt=0;do _=yt,m*=m,G=m*m,yt=x*m*(1+x+x*x),g=x*x*G*(1+2.25*x),K=x*x*x*G*m,G=1-.25*yt+.1875*g-.1953125*K,yt=.25*yt-.25*g+.29296875*K,B=.03125*g-.05859375*K,K*=.00651041666666667,g=lt-2*j*k/m,1<u.s.R(g)&&(g=u.s.Mb(1,g)),m=Math.acos(g),lt=Math.cos(2*m),et=Math.cos(3*m),yt=u.s.$(r,-a)?u.F.ca(3.141592653589793-b)/(3.141592653589793*x*G):u.F.ca($-b)/(x*(G*ot+yt*tt*g+B*Math.sin(2*ot)*lt+K*Math.sin(3*ot)*et)),B=yt*tt/(n*D),$=1.570796326794897<u.s.R(b)?u.s.Mb(3.141592653589793,B)-Math.asin(B):Math.asin(B),G=Math.cos($),tt=Math.sqrt(Math.pow(D*B,2)+Math.pow(n*k-j*D*G,2)),ot=3.141592653589793-Math.asin(u.s.R(tt)),lt=Math.cos(ot),m=Math.cos(Math.asin(yt)),X++;while(70>=X&&!u.s.$(_,yt));h!=null&&(m*=m,P*=m,G=1+P*(4096+P*(-768+P*(320-175*P)))/16384,u.s.$(r,-a)?h.u=3.141592653589793*O*G:(g=lt-2*j*k/m,m=Math.acos(g),lt=Math.cos(2*m),et=Math.cos(3*m),h.u=O*(G*ot+P*(-512+P*(128+P*(-60+35*P)))/2048*tt*g+P*(-4+5*P)/6144*P*P*Math.sin(2*ot)*lt+K*Math.sin(3*ot)*et+-762939453125e-16*P*P*P*P*Math.sin(4*ot)*Math.cos(4*m)))),c!=null&&(u.s.Dd(r)&&u.s.Dd(a)?(m=Math.sqrt(1-yt*yt),c.u=Math.acos(m),0>b&&(c.u*=-1)):u.s.$(u.s.R(r),1.570796326794897)?c.u=0>r?o:u.F.ca(3.141592653589793-o):(h=yt/n,O=Math.sqrt(1-h*h),0>n*k-j*D*Math.cos($)&&(O*=-1),c.u=Math.atan2(h,O),u.s.$(r,-a)&&u.s.R(u.F.ca(e-o))>3.141592653589793*(1-x*Math.cos(r))&&(0<r&&1.570796326794897>u.s.R(c.u)||0>r&&1.570796326794897<u.s.R(c.u))&&(c.u=u.s.Mb(3.141592653589793,c.u)-c.u))),p!=null&&(u.s.Dd(r)&&u.s.Dd(a)?(m=Math.sqrt(1-yt*yt),p.u=Math.acos(m),0<=b&&(p.u*=-1)):u.s.$(u.s.R(a),1.570796326794897)?p.u=0>a?e:u.F.ca(3.141592653589793-e):(b=yt/D,h=Math.sqrt(1-b*b),O=Math.sin($/2),0>Math.sin(L-y)-2*n*k*O*O&&(h*=-1),p.u=Math.atan2(b,h),p.u=u.F.ca(p.u+3.141592653589793),u.s.$(r,-a)&&!u.s.Dd(r)&&!u.s.$(u.s.R(r),1.570796326794897)&&u.s.R(u.F.ca(e-o))>3.141592653589793*(1-x*Math.cos(r))&&(c!=null?O=c.u:(h=yt/n,O=Math.sqrt(1-h*h),0>n*k-j*D*Math.cos($)&&(O*=-1),O=Math.atan2(h,O),u.s.$(r,-a)&&u.s.R(u.F.ca(e-o))>3.141592653589793*(1-x*Math.cos(r))&&(0<r&&1.570796326794897>u.s.R(O)||0>r&&1.570796326794897<u.s.R(O))&&(O=u.s.Mb(3.141592653589793,O)-O)),1.570796326794897>=u.s.R(O)&&1.570796326794897<u.s.R(p.u)||1.570796326794897<=u.s.R(O)&&1.570796326794897>u.s.R(p.u))&&(p.u=-1*u.F.ca(p.u+3.141592653589793))))}}}},C.sf=function(y,n,e,r,o,a,h,c){if(h!=null||c!=null)if(u.s.vi(n))u.$g.sf(y,e,r,o,a,h,c);else if(a=u.F.ca(a),u.s.$(u.s.R(r),1.570796326794897)||u.s.Dd(a)||u.s.$(u.s.R(a),3.141592653589793))u.Yk.sf(y,n,e,r,o,a,h,c);else{var p=u.s.R(a)==1.570796326794897?0:Math.cos(a),m=u.s.R(a)==3.141592653589793?0:Math.sin(a);u.s.$(u.s.R(r),1.570796326794897)&&(e=0),a=1-Math.sqrt(1-n);var g=u.F.Xq(n,r);r=u.s.R(g)==1.570796326794897?0:Math.cos(g);var _=Math.sin(g);g=Math.atan2(Math.tan(g),p);var b=r*m,x=b*b,P=1-x,O=n/(1-n)*P;n=O*(256+O*(-128+O*(74-47*O)))/1024;var L=n/4,j=n/6,D=o/(y*(1-a)*(1+O*(4096+O*(-768+O*(320-175*O)))/16384)),k=D;do{var $=k;o=u.s.R(k)==1.570796326794897?0:Math.cos(k),O=u.s.R(k)==3.141592653589793?0:Math.sin(k);var G=O*O;y=Math.cos(2*g+k),k=y*y,k=n*O*(y+L*(o*(2*k-1)-j*y*(4*G-3)*(4*k-3)))+D}while(!u.s.$($,k));o=u.s.R(k)==1.570796326794897?0:Math.cos(k),O=u.s.R(k)==3.141592653589793?0:Math.sin(k),h!=null&&(m=Math.atan2(O*m,r*o-_*O*p),P=a/16*P*(4+a*(4-3*P)),y=Math.cos(2*g+k),h.u=u.F.ca(e+(m-(1-P)*a*b*(k+P*O*(y+P*o*(2*y*y-1)))))),c!=null&&(P=_*O-r*o*p,P=(1-a)*Math.sqrt(x+P*P),c.u=Math.atan2(_*o+r*O*p,P))}},C}()}(U||(U={})),function(u){u.KC=function(){function C(){}return C.ub=function(y,n,e,r,o,a,h,c,p){var m=u.F.ca(o-e),g=u.s.$(u.s.R(r),1.570796326794897),_=u.s.$(u.s.R(a),1.570796326794897);if(u.s.$(r,a)&&(u.s.Dd(m)||g))h!=null&&(h.u=0),c!=null&&(c.u=0),p!=null&&(p.u=0);else{if(u.s.vi(n)){var b=Math.sin(r),x=Math.sin(a);b=Math.sqrt((1+b)/(1-b)),x=Math.sqrt((1+x)/(1-x)),b=Math.log(x)-Math.log(b),b=Math.atan2(m,b),h!=null&&(h.u=u.s.$(r,a)?u.s.R(y*Math.cos(r)*m):u.s.R((y*a-y*r)/Math.cos(b)))}else x=u.F.Sw(n,a),b=Math.sin(u.F.Sw(n,r)),x=Math.sin(x),b=Math.sqrt((1+b)/(1-b)),x=Math.sqrt((1+x)/(1-x)),b=Math.log(x)-Math.log(b),b=Math.atan2(m,b),h!=null&&(u.s.$(r,a)?h.u=u.s.R(y*m*Math.cos(r)/u.F.w(n,r)):(m=u.F.q(y,n,r),y=u.F.q(y,n,a),h.u=u.s.R((y-m)/Math.cos(b))));(c!=null||p!=null)&&(h=u.F.ca(b+3.141592653589793),g&&_||!g&&!_||(g?b=0>r?o:u.F.ca(3.141592653589793-o):_&&(h=0>a?e:u.F.ca(3.141592653589793-e))),c!=null&&(c.u=b),p!=null&&(p.u=h))}},C.sf=function(y,n,e,r,o,a,h,c){a=u.F.ca(a),0>o&&(o=u.s.R(o),a=u.F.ca(a+3.141592653589793)),u.s.vi(n)?u.s.$(u.s.R(r),1.570796326794897)?(e=0>r?a:u.F.ca(3.141592653589793-a),a=o/y%6.283185307179586,3.141592653589793>=a?y=r-u.s.Mb(a,r):(e=u.F.ca(e+3.141592653589793),y=-r+u.s.Mb(a-3.141592653589793,r))):u.s.$(u.s.R(a),1.570796326794897)?(e=u.F.ca(e+u.s.Mb(o,a)/(y*Math.cos(r))),y=r):(y=r+o*Math.cos(a)/y,1.570796326794897<u.s.R(y)&&(y=1.570796326794897),u.s.$(u.s.R(y),1.570796326794897)&&(u.s.Dd(a)||u.s.$(u.s.R(a),3.141592653589793))||(1.570796316258184<u.s.R(y)&&(y=u.s.Mb(1.570796316258184,y)),n=Math.sin(r),r=Math.sin(y),n=Math.sqrt((1+n)/(1-n)),r=Math.sqrt((1+r)/(1-r)),n=Math.log(r)-Math.log(n),e=u.F.ca(e+Math.tan(a)*n))):u.s.$(u.s.R(r),1.570796326794897)?(e=0>r?a:u.F.ca(3.141592653589793-a),a=o/u.F.lW(y,n),a%=6.283185307179586,3.141592653589793>=a?y=r-u.s.Mb(a,r):(e=u.F.ca(e+3.141592653589793),y=-r+u.s.Mb(a-3.141592653589793,r)),y=u.F.Tq(n,y)):u.s.$(u.s.R(a),1.570796326794897)?(e=u.F.ca(e+u.s.Mb(o,a)*u.F.w(n,r)/(y*Math.cos(r))),y=r):(y=1.570796326794897*(o*Math.cos(a)+u.F.q(y,n,r))/u.F.Ch(y,n),1.570796326794897<u.s.R(y)&&(y=u.s.Mb(1.570796326794897,y)),y=u.F.Tq(n,y),u.s.$(u.s.R(y),1.570796326794897)&&(u.s.Dd(a)||u.s.$(u.s.R(a),3.141592653589793))||(o=u.F.Sw(n,r),r=u.F.Sw(n,y),1.570796316258184<u.s.R(r)&&(r=u.s.Mb(1.570796316258184,y),y=u.F.tO(n,r)),n=Math.sin(o),r=Math.sin(r),n=Math.sqrt((1+n)/(1-n)),r=Math.sqrt((1+r)/(1-r)),n=Math.log(r)-Math.log(n),e=u.F.ca(e+Math.tan(a)*n))),h!=null&&(h.u=e),c!=null&&(c.u=y)},C}()}(U||(U={})),function(u){u.kb=function(){function C(){}return C.Sy=function(y,n,e,r,o,a,h){u.eu.ub(y,n,e,r,o,a,null,h,null)},C.Ai=function(y,n,e,r,o,a,h,c){u.eu.sf(y,n,e,r,o,a,h,c)},C.xd=function(y,n,e,r,o,a,h,c,p,m){switch(m){case 2:u.Yk.ub(y,n,e,r,o,a,h,c,p);break;case 3:u.LC.ub(y,n,e,r,o,a,h,c,p);break;case 1:u.KC.ub(y,n,e,r,o,a,h,c,p);break;default:u.eu.ub(y,n,e,r,o,a,h,c,p)}},C.qj=function(y,n,e,r,o,a,h,c,p){switch(p){case 2:u.Yk.sf(y,n,e,r,o,a,h,c);break;case 3:u.LC.sf(y,n,e,r,o,a,h,c);break;case 1:u.KC.sf(y,n,e,r,o,a,h,c);break;default:u.eu.sf(y,n,e,r,o,a,h,c)}},C}()}(U||(U={})),function(u){var C=function(){function n(){this.y=this.x=null}return n.construct=function(e){var r=new n;return r.x=new u.Xb,r.x.set(e.x),r.y=new u.Xb,r.y.set(e.y),r},n.QE=function(e,r){var o=new n;return o.x=new u.Xb,o.x.set(e),o.y=new u.Xb,o.y.set(r),o},n.prototype.rg=function(){return this.x.rg()&&this.y.rg()},n.prototype.value=function(){return u.h.construct(this.x.value(),this.y.value())},n}();u.rY=C;var y=function(){function n(){this.z=this.y=this.x=null}return n.construct=function(e){var r=new n;return r.x=new u.Xb,r.x.set(e.x),r.y=new u.Xb,r.y.set(e.y),r.z=new u.Xb,r.z.set(e.z),r},n.QE=function(e,r,o){var a=new n;return a.x=new u.Xb,a.x.set(e),a.y=new u.Xb,a.y.set(r),a.z=new u.Xb,a.z.set(o),a},n.prototype.rg=function(){return this.x.rg()&&this.y.rg()&&this.z.rg()},n.prototype.value=function(){return new u.Od(this.x.value(),this.y.value(),this.z.value())},n.prototype.Sh=function(e){var r=new u.Xb,o=new u.Xb,a=new u.Xb;return r.Ml(this.x,e.x),o.Ml(this.y,e.y),a.Ml(this.z,e.z),e=new u.Xb,e.ZM(r,o),e.add(a),e},n.prototype.YE=function(e){var r=new n;r.x.Ml(this.y,e.z),r.y.Ml(this.z,e.x),r.z.Ml(this.x,e.y);var o=new u.Xb,a=new u.Xb,h=new u.Xb;return o.Ml(this.z,e.y),a.Ml(this.x,e.z),h.Ml(this.y,e.x),r.x.sub(o),r.y.sub(a),r.z.sub(h),r},n}();u.sY=y,u.Nx=function(){function n(){}return n.zP=function(e,r,o){var a=r.x;r=r.y,n.el(1,e,Math.cos(a),Math.sin(a),Math.cos(r),Math.sin(r),o)},n.yP=function(e,r){var o=new u.Od;return n.zP(e,r,o),o},n.el=function(e,r,o,a,h,c,p){e/=Math.sqrt(1-r*c*c),p.L(e*h*o,e*h*a,e*(1-r)*c)},n.$u=function(e,r){var o=new u.Xb,a=new u.Xb,h=new u.Xb,c=new u.Xb;o.cos(r.x),a.sin(r.x),h.cos(r.y),c.sin(r.y);var p=new u.Xb;return p.set(c),p.Bg(c),p.Po(e),p.Po(-1),p.fN(),p.sqrt(),r=new u.Xb,r.set(1),r.lm(p),p=new u.Xb,p.set(r),p.Bg(h),p.Bg(o),o=new u.Xb,o.set(r),o.Bg(h),o.Bg(a),a=new u.Xb,a.set(r),a.Po(1-e),a.Bg(c),y.QE(p,o,a)},n.NS=function(e,r,o,a){if(Math.abs(r.x-o.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(o.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(o.y)==.5*Math.PI)&&r.x!=o.x)return NaN;if(a=n.YA(a,Math.min(r.x,o.x),Math.max(r.x,o.x)),!new u.Oc(r.x,o.x).contains(a))return NaN;var h=C.construct(r);if(o=C.construct(o),h=n.$u(e,h),o=n.$u(e,o),o=h.YE(o),o.z.rg())return r=r.y;var c=new u.Xb;c.set(o.x),c.lm(o.z),c.Po(-1);var p=new u.Xb;p.set(o.y),p.lm(o.z),p.Po(-1);var m=new u.Xb;return m.set(p),m.Bg(p),h=new u.Xb,h.set(c),h.Bg(c),h.add(m),h.sqrt(),h.rg()||c.rg()&&p.rg()?r=r.y:(r=Math.atan2(p.value(),c.value()),r=Math.atan2(h.value()*Math.cos(r-a),1-e),a=n.yP(e,u.h.construct(a,r)),e=new u.Od(a.x,a.y,-a.z),a=o.value().Sh(a),e=o.value().Sh(e),Math.abs(e)<Math.abs(a)&&(r=-r),r)},n.Jz=function(e,r,o,a,h){if(h[0]=NaN,h[1]=NaN,Math.abs(r.x-o.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(o.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(o.y)==.5*Math.PI)&&r.x!=o.x||Math.abs(a)>=.5*Math.PI||0<r.y&&0<o.y&&r.y>a&&o.y>a||0>r.y&&0>o.y&&r.y<a&&o.y<a)return 0;var c=C.construct(r),p=C.construct(o);c=n.$u(e,c),p=n.$u(e,p);var m=c.YE(p);if(m.z.rg())return new u.Oc(r.y,o.y).contains(a)?(h[0]=r.x,1):0;p=new u.Xb,p.set(m.x),p.lm(m.z),p.Po(-1),c=new u.Xb,c.set(m.y),c.lm(m.z),c.Po(-1),m=new u.Xb,m.set(c),m.Bg(c);var g=new u.Xb;return g.set(p),g.Bg(p),g.add(m),g.sqrt(),g.rg()||p.rg()&&c.rg()?a==0?(h[0]=r.x,h[1]=o.x,2):0:(e=(1-e)*Math.tan(a)/g.value(),1<Math.abs(e)?0:(e=Math.acos(e),m=Math.atan2(c.value(),p.value()),p=Math.min(r.x,o.x),c=Math.max(r.x,o.x),o=n.YA(m-e,p,c),e=a!=0?n.YA(m+e,p,c):o,a=0,p<=o&&o<=c&&(h[a]=o,a++),e!=o&&p<=e&&e<=c&&(h[a]=e,a++,a==2&&Math.abs(h[0]-r.x)>Math.abs(h[1]-r.x)&&(r=h[0],h[0]=h[1],h[1]=r)),a))},n.YA=function(e,r,o){return e>o?(r=Math.ceil((e-o)/(2*Math.PI)),e-=2*r*Math.PI):e<r&&(r=Math.ceil((r-e)/(2*Math.PI)),e+=2*r*Math.PI),e},n}()}(U||(U={})),function(u){u.SK=function(){function C(){}return C.WX=function(y,n){var e=8,r=[0,0,0,0],o=new u.h;o.N(n),o.scale(u.cb.tc(y).Id().Fc()==9102?1:u.cb.tc(y).Id().ci/3.141592653589793*180),-180>o.x?(o.x-=o.x%360,-180>o.x&&(o.x+=360)):180<o.x&&(o.x-=o.x%360,180<o.x&&(o.x-=360)),90<o.y&&(o.y=90),-90>o.y&&(o.y=-90),y=5*e,n=(y+31)/32;for(var a=-180,h=180,c=y-1,p=n-1;0<=p;p--)for(var m=c-32*p,g=Math.min(32,y-32*p),_=1;_<g;_+=2){var b=.5*(h+a);o.x>=b?(r[p]|=1<<m,a=b):h=b,m-=2,c-=2}for(a=-90,h=90,c=y-2,p=n-1;0<=p;p--)for(m=c-32*p,g=Math.min(32,y-32*p),_=0;_<g;_+=2)b=.5*(h+a),o.y>=b?(r[p]|=1<<m,a=b):h=b,m-=2,c-=2;return C.VP(r,e,e)},C.VP=function(y,n,e){for(var r=[],o=0;o<n;o++)r[o]="";for(var a=o=0,h=0;h<n;h++){var c=y[o]>>a&31;if(a+=5,31<a){var p=37-a;c&=(1<<p)-1,a-=32,o++,c|=(y[o]&(1<<a)-1)<<p}r[n-1-h]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[c]}if(e>n)for(h=0;h<e-n;h++)r.push("0");else e<n&&(r.length=e);return r.join("")},C}()}(U||(U={})),function(u){var C={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},y={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};u.yr=function(){function n(){}return n.Ny=function(e){n.zp===!1&&n.zt();var r=n.AQ(e);if(r==-1){var o=n.Ax(e);o!=e&&(r=n.Ny(o))}return r==-1&&(o=n.AK(e),o!=e&&(r=n.Ny(o))),r},n.AQ=function(e){return n.Hw[e]!==void 0?n.Hw[e]:-1},n.xQ=function(e){n.zp===!1&&n.zt();var r=n.iF(e);if(r==1e38){var o=n.Ax(e);if(o!=e&&(r=n.iF(o)),r==1e38)return 1e-10}return r},n.US=function(e){if(n.Ks[e]!==void 0)return!0;var r=n.Ax(e);return r!=e&&n.Ks[r]!==void 0},n.WS=function(e){if(n.zo[e]!==void 0)return!0;var r=n.Ax(e);return r!=e&&n.zo[r]!==void 0},n.iF=function(e){return n.zp===!1&&n.zt(),n.Ks[e]!==void 0?n.Ks[e]:n.zo[e]!==void 0?n.zo[e]:1e38},n.AK=function(e){return n.zp===!1&&n.zt(),n.RA[e]!==void 0?n.RA[e]:e},n.Ax=function(e){return n.zp===!1&&n.zt(),n.SA[e]!==void 0?n.SA[e]:e},n.zt=function(){for(var e=C,r,o=0;o<e.pcsid.length;o+=2)n.zo[e.pcsid[o]]=e.pcstol[2*e.pcsid[o+1]+1];for(o=0;o<e.pcsidc.length;o+=1){r=e.pcsidc[o];for(var a=r[0];a<=r[1];a++)n.zo[a]=e.pcstol[2*r[2]+1]}for(o=0;o<e.gcsid.length;o+=2)n.Ks[e.gcsid[o]]=e.gcstol[2*e.gcsid[o+1]+1];for(o=0;o<e.gcsidc.length;o+=1)for(r=e.gcsidc[o],a=r[0];a<=r[1];a++)n.zo[a]=e.gcstol[2*r[2]+1];for(o=0;o<y.c.length;o+=1)for(r=y.c[o],a=r[0];a<=r[1];a++)n.Hw[a]=r[2];for(o=0;o<y.nc.length;o+=2)n.Hw[y.nc[o]]=y.nc[o+1];for(y=null,o=0;o<e.newtoold.length;o+=2)n.RA[e.newtoold[o+1]]=e.newtoold[o],n.SA[e.newtoold[o]]=e.newtoold[o+1];C=null,n.zp=!0},n.zp=!1,n.Ks=[],n.zo=[],n.RA=[],n.SA=[],n.Hw=[],n}()}(U||(U={})),function(u){function C(n){return n.length===0?'""':n[0]=='"'||n[0]=="."||"0"<=n[0]&&"9">=n[0]?n:'"'+n.trim()+'"'}var y=[];u.SC=function(){function n(){}return n.zQ=function(e){try{for(var r=0;r<y.length;r++)if(y[r].wkttext===e)return y[r].unit;for(var o,a=r="",h=!1,c=0;c<e.length;c++){var p=e[c];h===!0?p=='"'?e[c+1]=='"'?r+=p:h=h=!1:r+=p:/[\s]/.test(p)||(p==","?(a=r!==""?a+(C(r)+","):a+",",r=""):p==")"||p=="]"?(a=r!==""?a+(C(r)+"]}"):a+"]}",r=""):p=="("||p=="["?(a+='{ "entity": "'+r.toUpperCase().trim()+'", "values":[',r=""):p=='"'?(h=!0,r=""):r+=p)}o=JSON.parse(a);var m=n.hF(o);if(m===null)return null;for(o=null,p=0;p<m.values.length;p++)if(typeof m.values[p]=="object"&&m.values[p].entity==="UNIT"){o=m.values[p];break}if(o===null)return null;var g=u.Uc.UO(m.entity==="GEOGCS"?1:0,o.values[1],o.values[2]);return y.push({wkttext:e,unit:g}),10<y.length&&y.shift(),g}catch{return null}},n.hF=function(e){if(e===null)return null;if(e.entity==="GEOGCS"||e.entity==="PROJCS")return e;for(var r=[],o=0;o<e.values.length;o++)if(typeof e.values[o]=="object"&&e.values[o].entity!==void 0){if(e.values[o].entity==="GEOGCS"||e.values[o].entity=="PROJCS")return e.values[o];r.push(e.values[o])}for(e=0;e<r.length;e++)if(o=n.hF(r[e]),o!==null)return o;return null},n.yQ=function(e){var r=-1;if(e!=null&&0<e.length){var o=e.indexOf("PROJCS");if(0<=o){var a=0;if(o=e.lastIndexOf("UNIT"),0<=o&&(o=e.indexOf(",",o+4),0<o)){o++;var h=e.indexOf("]",o+1);if(0<h)try{a=parseFloat(e.substring(o,h))}catch{a=0}}0<a&&(r=.001/a)}else if(o=e.indexOf("GEOGCS"),0<=o){var c=0;if(a=0,o=e.indexOf("SPHEROID",o+6),0<o&&(o=e.indexOf(",",o+8),0<o)){if(o++,h=e.indexOf(",",o+1),0<h)try{c=parseFloat(e.substring(o,h))}catch{c=0}if(0<c&&(o=e.indexOf("UNIT",h+1),0<=o&&(o=e.indexOf(",",o+4),0<o&&(o++,h=e.indexOf("]",o+1),0<h))))try{a=parseFloat(e.substring(o,h))}catch{a=0}}0<c&&0<a&&(r=.001/(c*a))}}return r},n}()}(U||(U={})),function(u){(function(y){y[y.NONE=0]="NONE",y[y.LINEAR=1]="LINEAR",y[y.ANGULAR=2]="ANGULAR"})(u.$K||(u.$K={})),function(y){y[y.enumFloat=0]="enumFloat",y[y.enumDouble=1]="enumDouble",y[y.enumInt32=2]="enumInt32",y[y.enumInt64=3]="enumInt64",y[y.enumInt8=4]="enumInt8",y[y.enumInt16=5]="enumInt16"}(u.LL||(u.LL={})),function(y){y[y.POSITION=0]="POSITION",y[y.Z=1]="Z",y[y.M=2]="M",y[y.ID=3]="ID",y[y.NORMAL=4]="NORMAL",y[y.TEXTURE1D=5]="TEXTURE1D",y[y.TEXTURE2D=6]="TEXTURE2D",y[y.TEXTURE3D=7]="TEXTURE3D",y[y.ID2=8]="ID2",y[y.MAXSEMANTICS=10]="MAXSEMANTICS"}(u.Kh||(u.Kh={}));var C=function(){function y(n,e){if(this.Xs=this.Be=null,this.Qq=this.Ba=0,this.wh=this.dg=null,this.yl=0,e!==void 0){for(this.Ba=e.Ba,this.Qq=e.Qq,this.dg=e.dg.slice(0),this.wh=e.wh.slice(0),this.yl=e.yl,this.Xs=[],n=e=0;n<this.Ba;n++)this.Xs[n]=e,e+=y.Wa(this.dg[n]);for(this.Qq=e,this.Be=[],n=0;n<this.Ba;n++){e=y.Wa(this.ld(n));for(var r=y.te(this.ld(n)),o=0;o<e;o++)this.Be[this.Xs[n]+o]=r}}else this.Qq=this.Ba=0}return y.prototype.ld=function(n){if(0>n||n>this.Ba)throw u.i.O();return this.dg[n]},y.prototype.Rf=function(n){return this.wh[n]},y.gz=function(n){return y.EM[n]},y.Vp=function(n){return y.NM[n]},y.Wa=function(n){return y.mM[n]},y.prototype.hasAttribute=function(n){return 0<=this.wh[n]},y.prototype.dG=function(){return this.hasAttribute(1)},y.te=function(n){return y.$C[n]},y.prototype.GR=function(n){return this.Xs[n]},y.yG=function(n,e){return y.$C[n]===e},y.prototype.Nb=function(n){return this===n},y.prototype.Cn=function(){for(var n=u.P.Vh(this.dg[0]),e=1;e<this.Ba;e++)n=u.P.Vh(this.dg[e],n);return n},y.prototype.bk=function(n){return this.Xs[n]},y.prototype.dc=function(){return this.yl},y.prototype.Fd=function(n){return this.dg[n]},y.$C=[0,0,NaN,0,0,0,0,0,0],y.EM=[1,1,1,0,2,1,1,1,0],y.NM=[1,1,1,2,0,0,0,0,2],y.mM=[2,1,1,1,3,1,2,3,2],y}();u.sa=C}(U||(U={})),function(u){function C(h,c,p){var m=c-(h=new a(h)).e,g=h.c;for(g.length>++c&&y(h,m,a.gu),g[0]?p?m=c:(g=h.c,m=h.e+m+1):++m;g.length<m;g.push(0));return m=h.e,p===1||p&&(c<=m||m<=e)?(0>h.Cd&&g[0]?"-":"")+(1<g.length?g[0]+"."+g.join("").slice(1):g[0])+(0>m?"e":"e+")+m:h.toString()}function y(h,c,p,m){var g=h.c,_=h.e+c+1;if(p===1?m=5<=g[_]:p===2?m=5<g[_]||g[_]==5&&(m||0>_||g[_+1]!==void 0||g[_-1]&1):p===3?m=m||g[_]!==void 0||0>_:(m=!1,p!==0&&n("!Big.RM!")),1>_||!g[0])m?(h.e=-c,h.c=[1]):h.c=[h.e=0];else{if(g.length=_--,m)for(;9<++g[_];)g[_]=0,_--||(++h.e,g.unshift(1));for(_=g.length;!g[--_];g.pop());}return h}function n(h){throw h=Error(h),h.name="BigError",h}var e=-7,r=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function h(c){if(c instanceof h)this.Cd=c.Cd,this.e=c.e,this.c=c.c.slice();else{var p,m,g;for(c===0&&0>1/c?c="-0":o.test(c+="")||n(NaN),this.Cd=c.charAt(0)=="-"?(c=c.slice(1),-1):1,-1<(p=c.indexOf("."))&&(c=c.replace(".","")),0<(m=c.search(/e/i))?(0>p&&(p=m),p+=+c.slice(m+1),c=c.substring(0,m)):0>p&&(p=c.length),m=0;c.charAt(m)=="0";m++);if(m==(g=c.length))this.c=[this.e=0];else{for(;c.charAt(--g)=="0";);for(this.e=p-m-1,this.c=[],p=0;m<=g;this.c[p++]=+c.charAt(m++));}}}return h.prototype.abs=function(){var c=new h(this);return c.Cd=1,c},h.prototype.cmp=function(c){var p=this.c,m=(c=new h(c)).c,g=this.Cd,_=c.Cd,b=this.e,x=c.e;if(!p[0]||!m[0])return p[0]?g:m[0]?-_:0;if(g!=_)return g;if(c=0>g,b!=x)return b>(x^c)?1:-1;for(g=-1,_=(b=p.length)<(x=m.length)?b:x;++g<_;)if(p[g]!=m[g])return p[g]>(m[g]^c)?1:-1;return b==x?0:b>(x^c)?1:-1},h.prototype.lm=function(c){var p=this.c,m=(c=new h(c)).c,g=this.Cd==c.Cd?1:-1,_=h.tr;if((_!==~~_||0>_||1e6<_)&&n("!Big.DP!"),!p[0]||!m[0])return p[0]==m[0]&&n(NaN),m[0]||n(g/0),new h(0*g);var b,x,P=m.slice(),O=b=m.length,L=p.length,j=p.slice(0,b),D=j.length,k=c,$=k.c=[],G=0,B=_+(k.e=this.e-c.e)+1;for(k.Cd=g,g=0>B?0:B,P.unshift(0);D++<b;j.push(0));do{for(x=0;10>x;x++){if(b!=(D=j.length))var K=b>D?1:-1;else{var X=-1;for(K=0;++X<b;)if(m[X]!=j[X]){K=m[X]>j[X]?1:-1;break}}if(0>K){for(c=D==b?m:P;D;){if(j[--D]<c[D]){for(X=D;X&&!j[--X];j[X]=9);--j[X],j[D]+=10}j[D]-=c[D]}for(;!j[0];j.shift());}else break}$[G++]=K?x:++x,j[0]&&K?j[D]=p[O]||0:j=[p[O]]}while((O++<L||j[0]!==void 0)&&g--);return $[0]||G==1||($.shift(),k.e--),G>B&&y(k,_,h.gu,j[0]!==void 0),k},h.prototype.aS=function(){return 0<this.cmp(0)},h.prototype.iT=function(){return 0>this.cmp(0)},h.prototype.kt=function(c){var p,m=this.Cd,g=(c=new h(c)).Cd;if(m!=g)return c.Cd=-g,this.oI(c);var _=this.c.slice(),b=this.e,x=c.c,P=c.e;if(!_[0]||!x[0])return x[0]?(c.Cd=-g,c):new h(_[0]?this:0);if(m=b-P){for((p=0>m)?(m=-m,b=_):(P=b,b=x),b.reverse(),g=m;g--;b.push(0));b.reverse()}else for(b=((p=_.length<x.length)?_:x).length,m=g=0;g<b;g++)if(_[g]!=x[g]){p=_[g]<x[g];break}if(p&&(b=_,_=x,x=b,c.Cd=-c.Cd),0<(g=(b=x.length)-(p=_.length)))for(;g--;_[p++]=0);for(g=p;b>m;){if(_[--b]<x[b]){for(p=b;p&&!_[--p];_[p]=9);--_[p],_[b]+=10}_[b]-=x[b]}for(;_[--g]==0;_.pop());for(;_[0]==0;)_.shift(),--P;return _[0]||(c.Cd=1,_=[P=0]),c.c=_,c.e=P,c},h.prototype.oI=function(c){var p=this.Cd,m=(c=new h(c)).Cd;if(p!=m)return c.Cd=-m,this.kt(c);m=this.e;var g=this.c,_=c.e,b=c.c;if(!g[0]||!b[0])return b[0]?c:new h(g[0]?this:0*p);if(g=g.slice(),p=m-_){for(0<p?(_=m,m=b):(p=-p,m=g),m.reverse();p--;m.push(0));m.reverse()}for(0>g.length-b.length&&(m=b,b=g,g=m),p=b.length,m=0;p;)m=(g[--p]=g[p]+b[p]+m)/10|0,g[p]%=10;for(m&&(g.unshift(m),++_),p=g.length;g[--p]==0;g.pop());return c.c=g,c.e=_,c},h.prototype.pow=function(c){var p=this,m=new h(1),g=m,_=0>c;for((c!==~~c||-1e6>c||1e6<c)&&n("!pow!"),c=_?-c:c;c&1&&(g=g.nr(p)),c>>=1,!!c;)p=p.nr(p);return _?m.lm(g):g},h.prototype.round=function(c,p){var m=this;return c==null?c=0:(c!==~~c||0>c||1e6<c)&&n("!round!"),y(m=new h(m),c,p??h.gu),m},h.prototype.sqrt=function(){var c=this.c,p=this.Cd,m=this.e,g=new h("0.5");if(!c[0])return new h(this);0>p&&n(NaN),p=Math.sqrt(this.toString()),p==0||p==1/0?(p=c.join(""),p.length+m&1||(p+="0"),c=new h(Math.sqrt(p).toString()),c.e=((m+1)/2|0)-(0>m||m&1)):c=new h(p.toString()),p=c.e+(h.tr+=4);do m=c,c=g.nr(m.oI(this.lm(m)));while(m.c.slice(0,p).join("")!==c.c.slice(0,p).join(""));return y(c,h.tr-=4,h.gu),c},h.prototype.nr=function(c){var p=this.c,m=(c=new h(c)).c,g=p.length,_=m.length,b=this.e,x=c.e;if(c.Cd=this.Cd==c.Cd?1:-1,!p[0]||!m[0])return new h(0*c.Cd);if(c.e=b+x,g<_){var P=p;p=m,m=P,x=g,g=_,_=x}for(P=Array(x=g+_);x--;P[x]=0);for(b=_;b--;){for(_=0,x=g+b;x>b;)_=P[x]+m[b]*p[x-b-1]+_,P[x--]=_%10,_=_/10|0;P[x]=(P[x]+_)%10}for(_&&++c.e,P[0]||P.shift(),b=P.length;!P[--b];P.pop());return c.c=P,c},h.prototype.toString=function(){var c=this.e,p=this.c.join(""),m=p.length;if(c<=e||c>=r)p=p.charAt(0)+(1<m?"."+p.slice(1):"")+(0>c?"e":"e+")+c;else if(0>c){for(;++c;p="0"+p);p="0."+p}else if(0<c)if(++c>m)for(c-=m;c--;p+="0");else c<m&&(p=p.slice(0,c)+"."+p.slice(c));else 1<m&&(p=p.charAt(0)+"."+p.slice(1));return 0>this.Cd&&this.c[0]?"-"+p:p},h.prototype.toExponential=function(c){return c==null?c=this.c.length-1:(c!==~~c||0>c||1e6<c)&&n("!toExp!"),C(this,c,1)},h.prototype.toFixed=function(c){var p=e,m=r;if(e=-(r=1/0),c==null)var g=this.toString();else c===~~c&&0<=c&&1e6>=c&&(g=C(this,this.e+c),0>this.Cd&&this.c[0]&&0>g.indexOf("-")&&(g="-"+g));return e=p,r=m,g||n("!toFix!"),g},h.prototype.toPrecision=function(c){return c==null?this.toString():((c!==~~c||1>c||1e6<c)&&n("!toPre!"),C(this,c-1,2))},h.tr=20,h.gu=1,h}();u.jp=a}(U||(U={})),function(u){var C=function(){function y(n){this.lf=n}return y.prototype.qr=function(n,e,r){var o=new u.h,a=new u.h,h=this.lf;r.Wd(n,e,function(c,p){return h.uc(2*c,o),h.uc(2*p,a),o.compare(a)})},y.prototype.bq=function(n){return this.lf.read(2*n+1)},y}();u.si=function(){function y(){}return y.cq=function(n){if(n.B())return!1;var e=n.K();return e==1736?n.He()!=0:e==1607?(e=[!1],y.nE(n,!0,e),e[0]):!!(e==197||u.ba.zd(e)&&!n.wG())},y.im=function(n){var e=n.K();if(e==1736)return e=new u.Ua(n.description),n.B()||n.ZC(e),e;if(e==1607)return y.nE(n,!1,null);if(e==197)return e=new u.Ua(n.description),n.B()||e.bd(n,!1),e;if(u.ba.zd(e)){if(e=new u.ee(n.description),!n.B()&&!n.wG()){var r=new u.Ta;n.Vo(r),e.add(r),n.Ro(r),e.add(r)}return e}if(u.ba.Tn(e))return null;throw u.i.O()},y.nE=function(n,e,r){r!=null&&(r[0]=!1);var o=null;if(e||(o=new u.ee(n.description)),!n.B()){var a=new u.ja(0);a.Jb(2*n.ea());for(var h=0,c=n.ea();h<c;h++)if(0<n.Ka(h)&&!n.Pn(h)){var p=n.Ca(h);a.add(p),p=n.Wc(h)-1,a.add(p)}if(0<a.size){c=new u.Zt,h=n.vb(0),c.sort(a,0,a.size,new C(h)),c=new u.h,h.uc(2*a.get(0),c),p=0;for(var m=1,g=new u.Ta,_=new u.h,b=1,x=a.size;b<x;b++)if(h.uc(2*a.get(b),_),_.rb(c))a.get(p)>a.get(b)?(a.set(p,2147483647),p=b):a.set(b,2147483647),m++;else{if(!(m&1))a.set(p,2147483647);else if(e)return r!=null&&(r[0]=!0),null;c.N(_),p=b,m=1}if(!(m&1))a.set(p,2147483647);else if(e)return r!=null&&(r[0]=!0),null;if(!e)for(a.Wd(0,a.size,function(P,O){return P-O}),b=0,x=a.size;b<x&&a.get(b)!=2147483647;b++)n.we(a.get(b),g),o.add(g)}}return e?null:o},y}()}(U||(U={})),function(u){var C=function(){function y(){this.zf=new u.ja(0),this.As=new u.ja(0),this.zH=1,this.Gs=NaN}return y.prototype.sort=function(n,e,r,o){if(32>r-e)o.qr(e,r,n);else{var a=!0;try{for(var h=1/0,c=-1/0,p=e;p<r;p++){var m=o.bq(n.get(p));m<h&&(h=m),m>c&&(c=m)}if(this.reset(r-e,h,c,r-e)){for(p=e;p<r;p++){var g=n.get(p);m=o.bq(g);var _=this.uF(m);this.zf.set(_,this.zf.get(_)+1),this.As.write(p-e,g)}var b=this.zf.get(0);this.zf.set(0,0),p=1;for(var x=this.zf.size;p<x;p++){var P=this.zf.get(p);this.zf.set(p,b),b+=P}for(p=e;p<r;p++){g=this.As.read(p-e),m=o.bq(g),_=this.uF(m);var O=this.zf.get(_);n.set(O+e,g),this.zf.set(_,O+1)}a=!1}}catch{this.zf.resize(0),this.As.resize(0)}if(a)o.qr(e,r,n);else{for(p=r=0,x=this.zf.size;p<x;p++)a=r,r=this.zf.get(p),r>a&&o.qr(e+a,e+r,n);100<this.zf.size&&(this.zf.resize(0),this.As.resize(0))}}},y.prototype.reset=function(n,e,r,o){return 2>n||r==e?!1:(n=Math.min(y.cL,n),this.zf.Jb(n),this.zf.resize(n),this.zf.Yj(0,0,this.zf.size),this.zH=e,this.As.resize(o),this.Gs=(r-e)/(n-1),!0)},y.prototype.uF=function(n){return u.P.truncate((n-this.zH)/this.Gs)},y.cL=65536,y}();u.Zt=C}(U||(U={})),function(u){var C;(function(a){a[a.enum_line=1]="enum_line",a[a.enum_arc=2]="enum_arc",a[a.enum_dummy=4]="enum_dummy",a[a.enum_concave_dip=8]="enum_concave_dip",a[a.enum_connection=3]="enum_connection"})(C||(C={}));var y=function(){function a(){}return a.Su=function(h,c,p,m,g,_){var b=new a;return b.Km=new u.h,b.Xm=new u.h,b.cw=new u.h,b.Km.N(h),b.Xm.N(c),b.cw.N(p),b.Eo=m,b.sh=g,b.uh=_,b},a.construct=function(h,c,p,m){var g=new a;return g.Km=new u.h,g.Xm=new u.h,g.cw=new u.h,g.Km.N(h),g.Xm.N(c),g.cw.Sc(),g.Eo=4,g.sh=p,g.uh=m,g},a}(),n=function(){function a(h,c,p,m,g,_){this.$v=null,this.za=0,this.zA=h,this.XH=this.VH=0,this.La=c,this.Oj=p,this.xk=m,this.Fq=g,this.Vb=_}return a.prototype.next=function(){for(var h=new u.Ta;;){if(this.za==this.zA.I())return null;if(this.zA.we(this.za,h),this.za++,!h.B())break}var c=!1;if(this.$v==null&&(this.VH=h.Ng(),this.XH=h.kh(),this.$v=o.buffer(h,this.La,this.Oj,this.xk,this.Fq,this.Vb),c=!0),this.za<this.zA.I()){var p=new u.Ea;this.$v.copyTo(p)}else p=this.$v;if(!c){c=new u.Ed;var m=h.Ng()-this.VH;h=h.kh()-this.XH,c.ig(m,h),p.Pc(c)}return p},a.prototype.Ma=function(){return 0},a.prototype.re=function(){},a}(),e=function(){function a(h,c){this.Xa=h,this.za=0,this.qq=c}return a.prototype.next=function(){var h=this.Xa.Y;if(this.za<h.ea()){var c=this.za;if(this.za++,!h.Pn(c))for(var p=h.Oa(h.Wc(c)-1);this.za<h.ea();){var m=h.Oa(h.Ca(this.za));if(h.Pn(this.za)||m!=p)break;p=h.Oa(h.Wc(this.za)-1),this.za++}if(this.za-c==1)return this.Xa.fE(this.Xa.Y,c,this.qq);for(p=new u.Ua(this.Xa.Y.description),p.addPath(this.Xa.Y,c,!0),c+=1;c<this.za;c++)p.Fr(this.Xa.Y,c,0,h.tv(c),!1);return this.Xa.fE(p,0,this.qq)}return null},a.prototype.Ma=function(){return 0},a.prototype.re=function(){},a}(),r=function(){function a(h){this.Xa=h,this.za=0}return a.prototype.next=function(){var h=this.Xa.Y;if(this.za<h.ea()){var c=this.za;for(h.Kr(this.za),this.za++;this.za<h.ea()&&!(0<h.Kr(this.za));)this.za++;return c==0&&this.za==h.ea()?this.Xa.ly(h,0,h.ea()):this.Xa.ly(h,c,this.za)}return null},a.prototype.Ma=function(){return 0},a.prototype.re=function(){},a}(),o=function(){function a(h){this.Ms=this.nw=this.Ns=this.Jd=null,this.$d=[],this.Vb=h,this.sb=this.Mv=this.ET=this.La=this.oA=this.dt=this.ra=0,this.jA=this.xk=-1,this.qq=!0}return a.buffer=function(h,c,p,m,g,_){if(h==null||0>m)throw u.i.O();if(h.B())return new u.Ea(h.description);var b=new u.l;return h.yc(b),0<c&&b.X(c,c),_=new a(_),_.Oj=p,_.Y=h,_.ra=u.ua.Xd(p,b,!0),_.dt=u.ua.Xd(null,b,!0),_.La=c,_.ET=h.K(),0>=g&&(g=96),_.sb=Math.abs(_.La),_.Mv=_.sb!=0?1/_.sb:0,isNaN(m)||m==0?m=1e-5*_.sb:m>.5*_.sb&&(m=.5*_.sb),12>g&&(g=12),h=Math.abs(c)*(1-Math.cos(Math.PI/g)),h>m?m=h:(h=Math.PI/Math.acos(1-m/Math.abs(c)),h<g-1&&(g=u.P.truncate(h),12>g&&(g=12,m=Math.abs(c)*(1-Math.cos(Math.PI/g))))),_.xk=m,_.Fq=g,_.oA=Math.min(_.dt,.25*m),_.gE()},a.prototype.ev=function(){if(this.Jd==null)this.Jd=[];else if(this.Jd.length!==0)return;var h=this.lE();h=u.P.truncate((h+3)/4);var c=.5*Math.PI/h;this.jA=c;for(var p=0;p<4*h;p++)this.Jd.push(null);var m=Math.cos(c);c=Math.sin(c);var g=u.h.construct(0,1);for(p=0;p<h;p++)this.Jd[p+0*h]=u.h.construct(g.y,-g.x),this.Jd[p+1*h]=u.h.construct(-g.x,-g.y),this.Jd[p+2*h]=u.h.construct(-g.y,g.x),this.Jd[p+3*h]=g,g=u.h.construct(g.x,g.y),g.Ct(m,c)},a.prototype.gE=function(){var h=this.Y.K();if(u.ba.zd(h))return h=new u.Ua(this.Y.description),h.pc(this.Y,!0),this.Y=h,this.gE();if(this.La<=this.ra)if(u.ba.PS(h)){if(0>=this.La&&(h=new u.l,this.Y.A(h),h.S()<=2*-this.La||h.da()<=2*this.La))return new u.Ea(this.Y.description)}else return new u.Ea(this.Y.description);switch(this.Y.K()){case 33:return this.KN();case 550:return this.JN();case 1607:return this.MN();case 1736:return this.LN();case 197:return this.GN();default:throw u.i.Ra()}},a.prototype.MN=function(){if(this.zG(this.Y)){var h=new u.Ta;this.Y.we(0,h);var c=new u.l;return this.Y.A(c),h.Db(c.tf()),this.Iu(h)}return this.Y=this.RV(this.Y),h=new e(this,this.qq),u.Ih.local().W(h,this.Oj,this.Vb).next()},a.prototype.LN=function(){if(this.La==0)return this.Y;var h=u.$l.local();if(this.ev(),this.Y=h.W(this.Y,null,!1,this.Vb),0>this.La){var c=this.Y;return c=this.ly(c,0,c.ea()),h.W(c,this.Oj,!1,this.Vb)}return this.zG(this.Y)?(h=new u.Ta,this.Y.we(0,h),c=new u.l,this.Y.A(c),h.Db(c.tf()),this.Iu(h)):(h=new r(this),u.Ih.local().W(h,this.Oj,this.Vb).next())},a.prototype.ly=function(h,c,p){for(var m=new u.Ea(h.description);c<p;c++)if(!(1>h.Ka(c))){var g=h.Kr(c),_=new u.l;if(h.Tj(c,_),0<this.La){if(0<g)if(this.AG(h,c))g=new u.Ta,h.we(h.Ca(c),g),g.Db(_.tf()),this.Au(m,g);else{var b=g=new u.Ua(h.description);b=u.au.EG(this.Y,c)||this.Bn(this.Y,c,b,!0,1)==2?this.eE(h,c):this.An(g),m.add(b,!1)}else if(!(_.S()+this.ra<=2*this.sb||_.da()+this.ra<=2*this.sb||(b=g=new u.Ua(h.description),this.Bn(this.Y,c,b,!0,1),g.B()))){var x=new u.l;for(x.L(_),x.X(this.sb,this.sb),b.vp(x),b=this.An(g),_=1,g=b.ea();_<g;_++)m.addPath(b,_,!0)}}else if(0<g){if(!(_.S()+this.ra<=2*this.sb||_.da()+this.ra<=2*this.sb||(b=g=new u.Ua(h.description),this.Bn(this.Y,c,b,!0,-1),g.B())))for(x=new u.l,b.yc(x),x.X(this.sb,this.sb),b.vp(x),b=this.An(g),_=1,g=b.ea();_<g;_++)m.addPath(b,_,!0)}else for(b=g=new u.Ua(h.description),this.Bn(this.Y,c,b,!0,-1),b=this.An(g),_=0,g=b.ea();_<g;_++)m.addPath(b,_,!0)}if(0<this.La)return 1<m.ea()?m=this.An(m):a.kx(m);if(h=new u.l,m.yc(h),m.B())return a.kx(m);for(h.X(this.sb,this.sb),m.vp(h),m=this.An(m),h=new u.Ea(m.description),_=1,g=m.ea();_<g;_++)h.addPath(m,_,!1);return a.kx(h)},a.prototype.KN=function(){return this.Iu(this.Y)},a.prototype.Iu=function(h){var c=new u.Ea(this.Y.description);return this.Au(c,h),this.oX(c)},a.prototype.JN=function(){var h=new n(this.Y,this.La,this.Oj,this.xk,this.Fq,this.Vb);return u.Ih.local().W(h,this.Oj,this.Vb).next()},a.prototype.GN=function(){var h=new u.Ea(this.Y.description);if(0>=this.La){if(this.La==0)h.bd(this.Y,!1);else{var c=new u.Hh;this.Y.dn(c),c.X(this.La,this.La),h.bd(c,!1)}return h}return h.bd(this.Y,!1),this.Y=h,this.eE(h,0)},a.prototype.eE=function(h,c){this.ev();var p=new u.Ea(h.description),m=new u.h,g=new u.h,_=new u.h,b=new u.h,x=new u.h,P=new u.h,O=new u.h,L=new u.h,j=h.Ka(c),D=h.Ca(c),k=0;for(c=h.Ka(c);k<c;k++){if(h.D(D+k,g),h.D(D+(k+1)%j,b),h.D(D+(k+2)%j,P),O.vc(b,g),O.length()==0||(O.Jv(),O.normalize(),O.scale(this.sb),m.add(O,g),_.add(O,b),k==0?p.Nt(m):p.Ei(m),p.Ei(_),L.vc(P,b),L.length()==0))throw u.i.Ra();L.Jv(),L.normalize(),L.scale(this.sb),x.add(L,b),this.BD(p,b,_,x,!1)}return a.kx(p)},a.prototype.fE=function(h,c,p){if(this.ev(),1>h.Ka(c))return null;if(this.AG(h,c)&&0<this.La){p=new u.Ta,h.we(h.Ca(c),p);var m=new u.l;return h.Tj(c,m),p.Db(m.tf()),this.Iu(p)}if(m=new u.Ua(h.description),h.Pn(c))this.Bn(h,c,m,p,1),this.Bn(h,c,m,p,-1);else{var g=new u.Ua(h.description);g.addPath(h,c,!1),g.Fr(h,c,0,h.tv(c),!1),this.Bn(g,0,m,p,1)}return this.An(m)},a.prototype.Zq=function(){if(this.$s++,this.$s%1024==0&&this.Vb!=null&&!this.Vb.progress(-1,-1))throw u.i.hu("user_canceled")},a.prototype.An=function(h){return u.Hg.Ok(h,this.dt,!0,!0,this.Vb)},a.prototype.lE=function(){if(this.xk==0)return this.Fq;var h=1-this.xk*Math.abs(this.Mv);return h=-1>h?4:2*Math.PI/Math.acos(h)+.5,4>h?h=4:h>this.Fq&&(h=this.Fq),u.P.truncate(h)},a.prototype.BD=function(h,c,p,m,g){this.ev();var _=new u.h;_.vc(p,c),_.scale(this.Mv);var b=new u.h;b.vc(m,c),b.scale(this.Mv),_=Math.atan2(_.y,_.x)/this.jA,0>_&&(_=this.Jd.length+_),_=this.Jd.length-_,b=Math.atan2(b.y,b.x)/this.jA,0>b&&(b=this.Jd.length+b),b=this.Jd.length-b,b<_&&(b+=this.Jd.length);var x=u.P.truncate(b);b=u.P.truncate(Math.ceil(_)),_=new u.h,_.N(this.Jd[b%this.Jd.length]),_.Dt(this.sb,c);var P=10*this.ra;for(_.sub(p),_.length()<P&&(b+=1),_.N(this.Jd[x%this.Jd.length]),_.Dt(this.sb,c),_.sub(m),_.length()<P&&--x,p=x-b,p++,x=0,b%=this.Jd.length;x<p;x++,b=(b+1)%this.Jd.length)_.N(this.Jd[b]),_.Dt(this.sb,c),h.Ei(_),this.Zq();g&&h.Ei(m)},a.prototype.Bn=function(h,c,p,m,g){var _=new u.hd,b=_.hN(h,c);if(_.Ip(this.oA,!1,!1),2>_.I(b))return 0>g||(g=h,_=new u.Ta,g.we(g.Ca(c),_),this.Au(p,_)),1;var x=_.Oa(_.Ya(_.Ob(b))),P=new u.Ed;if(P.ig(-x.x,-x.y),_.Pc(P),m&&(this.oQ(_,b,g),2>_.I(b)))return 0>g||(g=h,_=new u.Ta,g.we(g.Ca(c),_),this.Au(p,_)),1;this.$d.length=0;var O=_.Ob(b);c=_.Ya(O);var L=g==1?_.Na(c):_.V(c);h=g==1?_.V(c):_.Na(c);var j=!0;m=new u.h,b=new u.h;var D=new u.h,k=new u.h,$=new u.h,G=new u.h,B=new u.h,K=new u.h,X=new u.h,et=new u.h,tt=this.sb;O=_.Ka(O);for(var lt=0;lt<O;lt++)_.D(h,b),j&&(_.D(c,m),_.D(L,D),K.vc(m,D),K.normalize(),et.HG(K),et.scale(tt),k.add(et,m)),B.vc(b,m),B.normalize(),X.HG(B),X.scale(tt),$.add(m,X),L=K.yi(B),j=K.Sh(B),0>L||0>j&&L==0?this.$d.push(y.Su(k,$,m,2,this.$d.length+1,this.$d.length-1)):k.rb($)||(this.$d.push(y.construct(k,m,this.$d.length+1,this.$d.length-1,"dummy")),this.$d.push(y.construct(m,$,this.$d.length+1,this.$d.length-1,"dummy"))),G.add(b,X),this.$d.push(y.Su($,G,m,1,this.$d.length+1,this.$d.length-1)),k.N(G),et.N(X),D.N(m),m.N(b),K.N(B),L=c,c=h,j=!1,h=g==1?_.V(c):_.Na(c);return this.$d[this.$d.length-1].sh=0,this.$d[0].uh=this.$d.length-1,this.TV(p),P.ig(x.x,x.y),p.TD(P,p.ea()-1),1},a.prototype.TV=function(h){for(var c=this.uO(),p=!0,m=c+1,g=c;m!=c;g=m){var _=this.$d[g];m=_.sh!=-1?_.sh:(g+1)%this.$d.length,_.Eo!=0&&(p&&h.Nt(_.Km),_.Eo==2?this.BD(h,_.cw,_.Km,_.Xm,!0):h.Ei(_.Xm),p=!1)}},a.prototype.uO=function(){this.Ms==null&&(this.Ms=[null,null,null,null,null,null,null,null,null]);for(var h=0,c=0,p=this.$d.length;c<p;){var m=this.$d[c];if(m.Eo&3){h=c;break}c=m.sh}for(p=h+1,c=h;p!=h;c=p){m=this.$d[c],p=m.sh;for(var g=1,_=null;p!=c&&(_=this.$d[p],!(_.Eo&3));)p=_.sh,g++;g!=1&&(m.Eo&_.Eo)==1&&(this.Ns==null&&(this.Ns=new u.zb,this.nw=new u.zb),this.Ns.Ec(m.Km),this.Ns.Rc(m.Xm),this.nw.Ec(_.Km),this.nw.Rc(_.Xm),this.Ns.Fa(this.nw,this.Ms,null,null,this.dt)==1&&(m.Xm.N(this.Ms[0]),_.Km.N(this.Ms[0]),m.sh=p,_.uh=c))}return h},a.prototype.Hv=function(h,c,p){var m=new u.h;if(m.vc(p,h),p=m.length(),p=this.sb*this.sb-p*p*.25,0<p){p=Math.sqrt(p),m.normalize(),m.cr();var g=new u.h;if(g.vc(c,h),g.Sh(m)+p>=this.sb)return!0}return!1},a.prototype.oQ=function(h,c,p){for(var m=0;1>m;m++){var g=!1,_=h.Ob(c),b=h.Ka(_);if(b==0)break;var x=b;if(3>b)break;!h.ec(_)&&(x=b-1),_=h.Ya(_),b=0<p?h.Na(_):h.V(_);for(var P=0<p?h.V(_):h.Na(_),O=b,L=!0,j=new u.h,D=new u.h,k=new u.h,$=new u.h,G=new u.h,B=u.h.construct(0,0),K=new u.h,X=new u.h,et=new u.h,tt=new u.h,lt=this.sb,ot=0,yt=0;yt<x&&(h.D(P,D),L&&(h.D(_,j),h.D(b,k),O=b),X.vc(j,k),X.normalize(),K.vc(D,j),K.normalize(),O!=P);){var vt=X.yi(K),Ut=X.Sh(K),te=!0;if(0>vt||0>Ut&&vt==0||!this.Hv(k,j,D)||(B.N(D),te=!1,++ot,g=!0),te){if(0<ot)for(;vt=0<p?h.Na(O):h.V(O),vt!=_;)if(h.D(vt,$),this.Hv($,k,B))k.N($),O=vt,te=!1,++ot;else{vt!=P&&this.Hv($,k,D)&&this.Hv($,j,D)&&(k.N($),O=vt,te=!1,++ot);break}if(!te)continue;if(0<ot){for(O=0<p?h.Na(b):h.V(b),L=1;L<ot;L++)te=0<p?h.Na(O):h.V(O),h.qd(O,!0),O=te;et.vc(j,k),ot=et.length(),ot=lt*lt-ot*ot*.25,ot=Math.sqrt(ot),lt-ot>.5*this.xk?(G.add(k,j),G.scale(.5),et.normalize(),et.cr(),tt.N(et),tt.scale(lt-ot),G.add(tt),h.mf(b,G)):h.qd(b,!0),ot=0}k.N(j),O=_}j.N(D),b=_,_=P,P=0<p?h.V(_):h.Na(_),yt++,L=!1}if(0<ot){for(O=0<p?h.Na(b):h.V(b),L=1;L<ot;L++)te=0<p?h.Na(O):h.V(O),h.qd(O,!0),O=te;G.add(k,j),G.scale(.5),et.vc(j,k),ot=et.length(),ot=lt*lt-ot*ot*.25,ot=Math.sqrt(ot),et.normalize(),et.cr(),tt.N(et),tt.scale(lt-ot),G.add(tt),h.mf(b,G)}if(h.Ip(this.oA,!1,!1),!g)break}},a.prototype.AG=function(h,c){if(h.Ka(c)==1)return!0;var p=new u.l;return h.Tj(c,p),Math.max(p.S(),p.da())<.5*this.xk},a.prototype.zG=function(h){var c=new u.l;return h.A(c),Math.max(c.S(),c.da())<.5*this.xk},a.prototype.RV=function(h){h=u.zC.local().W(h,.25*this.xk,!1,this.Vb);for(var c=0,p=0,m=h.ea();p<m;p++)c=Math.max(h.Ka(p),c);return 32>c?(this.qq=!1,h):(this.qq=!0,u.Hg.Ok(h,this.dt,!1,!0,this.Vb))},a.prototype.Au=function(h,c){if(c=c.D(),this.Jd!=null&&this.Jd.length!==0){var p=new u.h;p.N(this.Jd[0]),p.Dt(this.sb,c),h.Nt(p);for(var m=1,g=this.Jd.length;m<g;m++)p.N(this.Jd[m]),p.Dt(this.sb,c),h.Ei(p)}else{m=this.lE(),p=u.P.truncate((m+3)/4),m=.5*Math.PI/p,g=Math.cos(m);for(var _=Math.sin(m),b=new u.h,x=3;0<=x;x--){switch(b.na(0,this.sb),x){case 0:for(m=0;m<p;m++)h.Aj(b.x+c.x,b.y+c.y),b.Ct(g,_);break;case 1:for(m=0;m<p;m++)h.Aj(-b.y+c.x,b.x+c.y),b.Ct(g,_);break;case 2:for(m=0;m<p;m++)h.Aj(-b.x+c.x,-b.y+c.y),b.Ct(g,_);break;default:for(h.rx(b.y+c.x,-b.x+c.y),m=1;m<p;m++)b.Ct(g,_),h.Aj(b.y+c.x,-b.x+c.y)}this.Zq()}}},a.kx=function(h){return h.Eh(1,0),h},a.prototype.oX=function(h){return h.Eh(2,this.ra),h.hm(),h},a}();u.CK=o}(U||(U={})),function(u){var C=function(){function y(n){this.Da=n,this.g=new u.hd,this.ed=new u.ja(0)}return y.prototype.Nh=function(n,e,r){switch(e){case 0:if(n.v<r&&n.C<=r)break;return n.v>=r?1:-1;case 1:if(n.G<r&&n.H<=r)break;return n.G>=r?1:-1;case 2:if(n.v>=r&&n.C>r)break;return n.C<=r?1:-1;case 3:if(!(n.G>=r&&n.H>r))return n.H<=r?1:-1}return 0},y.prototype.vy=function(n,e){return n.K()==1736?this.xy(n,e):this.yy(n)},y.prototype.xy=function(n,e){if(this.Da.S()==0||this.Da.da()==0)return n.Ja();var r=new u.l;n.yc(r),this.Y=this.g.Ib(n);var o=new u.l,a=new u.l,h=new u.h,c=new u.h,p=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0];new u.jg;var g=new u.zb,_=new u.ja(0);_.Jb(Math.min(100,n.I()));for(var b=!1,x=0;!b&&4>x;x++){var P=!1,O=(x&1)!=0,L=0;switch(x){case 0:L=this.Da.v,P=r.v<=L&&r.C>=L;break;case 1:L=this.Da.G,P=r.G<=L&&r.H>=L;break;case 2:L=this.Da.C,P=r.v<=L&&r.C>=L;break;case 3:L=this.Da.H,P=r.G<=L&&r.H>=L}if(P)for(b=!0,P=this.g.Ob(this.Y);P!=-1;){var j=-1,D=-1,k=this.g.Ya(P),$=k;do{var G=this.g.cc($);G==null&&(G=g,this.g.D($,h),G.Ec(h),this.g.D(this.g.V($),c),G.Rc(c)),G.A(o);var B=this.Nh(o,x,L),K=0,X=-1;if(B==-1){G=G.fq(O,L,p,m),K=0<G?this.g.Wl($,m,G):0,K+=1;var et=$,tt=this.g.V(et);for(G=0;G<K;G++){if(this.g.D(et,h),this.g.D(tt,c),X=this.g.cc(et),X==null&&(X=g,X.Ec(h),X.Rc(c)),X.A(a),X=this.Nh(a,x,L),X==-1){if(O)X=Math.abs(h.y-L),lt=Math.abs(c.y-L),X<lt?(h.y=L,this.g.mf(et,h)):(c.y=L,this.g.mf(tt,c));else{X=Math.abs(h.x-L);var lt=Math.abs(c.x-L);X<lt?(h.x=L,this.g.mf(et,h)):(c.x=L,this.g.mf(tt,c))}X=this.g.cc(et),X==null&&(X=g,X.Ec(h),X.Rc(c)),X.A(a),X=this.Nh(a,x,L)}lt=j,j=X,D==-1&&(D=j),lt==0&&j==1||lt==1&&j==0||lt!=0||j!=0||_.add(et),j==1&&(b=!1),X=et=tt,tt=this.g.V(tt)}}K==0&&(lt=j,j=B,D==-1&&(D=j),lt==0&&j==1||lt==1&&j==0||lt!=0||j!=0||_.add($),j==1&&(b=!1),X=this.g.V($)),$=X}while($!=k);for(D==0&&j==0&&_.add(k),G=0,j=_.size;G<j;G++)D=_.get(G),this.g.qd(D,!1);_.clear(!1),P=3>this.g.Ka(P)?this.g.ar(P):this.g.Sb(P)}}return b?n.Ja():(this.AB(),0<e&&this.Hy(e),this.g.Ke(this.Y))},y.prototype.yy=function(n){var e=new u.l,r=new u.l,o=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],h=new u.jg,c=n,p=new u.l;n.yc(p);for(var m=0;4>m;m++){var g=!1,_=(m&1)!=0,b=0;switch(m){case 0:b=this.Da.v,g=p.v<=b&&p.C>=b;break;case 1:b=this.Da.G,g=p.G<=b&&p.H>=b;break;case 2:b=this.Da.C,g=p.v<=b&&p.C>=b;break;case 3:b=this.Da.H,g=p.G<=b&&p.H>=b}if(g){g=c,c=n.Ja(),g=g.Ha(),g.aj();for(var x,P=new u.h;g.ab();)for(var O,L=!0;g.Ia();){var j=g.ia();j.A(e);var D=this.Nh(e,m,b);if(D==-1){if(D=j.fq(_,b,o,a),0<D){var k=0;x=j.bc();for(var $=0;$<=D;$++)if(O=$<D?a[$]:1,k!=O){j.dh(k,O,h);var G=h.get();G.Ec(x),$<D&&(_?(P.x=o[$],P.y=b):(P.x=b,P.y=o[$]),G.Rc(P)),G.A(r);var B=this.Nh(r,m,b);if(B==-1){if(x=G.bc(),k=G.xc(),_)B=Math.abs(x.y-b),K=Math.abs(k.y-b),B<K?(x.y=b,G.Ec(x)):(k.y=b,G.Rc(k));else{B=Math.abs(x.x-b);var K=Math.abs(k.x-b);B<K?(x.x=b,G.Ec(x)):(k.x=b,G.Rc(k))}G.A(r),B=this.Nh(r,m,b)}x=G.xc(),k=O,O=B,O==1?(c.pc(G,L),L=!1):L=!0}}}else O=D,O==1?(c.pc(j,L),L=!1):L=!0}}}return c},y.prototype.AB=function(){this.li=-1,this.Xl(!1,this.Da.v),this.Xl(!1,this.Da.C),this.Xl(!0,this.Da.G),this.Xl(!0,this.Da.H),this.ed.resize(0),this.ed.Jb(100),this.li=this.g.Hd();for(var n=new u.h,e=this.g.Ob(this.Y);e!=-1;e=this.g.Sb(e))for(var r=this.g.Ya(e),o=0,a=this.g.Ka(e);o<a;o++,r=this.g.V(r))this.g.D(r,n),(this.Da.v==n.x||this.Da.C==n.x||this.Da.G==n.y||this.Da.H==n.y)&&(this.g.Sa(r,this.li,this.ed.size),this.ed.add(r));this.Pl(!1,this.Da.v),this.Pl(!1,this.Da.C),this.Pl(!0,this.Da.G),this.Pl(!0,this.Da.H),this.Oy()},y.prototype.Hy=function(n){for(var e=new u.h,r=new u.h,o=u.P.mg(2048,0),a=this.g.Ob(this.Y);a!=-1;a=this.g.Sb(a)){var h=this.g.Ya(a),c=h;do{var p=this.g.V(c);this.g.D(c,e);var m=-1;if(e.x==this.Da.v?(this.g.D(p,r),r.x==this.Da.v&&(m=1)):e.x==this.Da.C&&(this.g.D(p,r),r.x==this.Da.C&&(m=1)),e.y==this.Da.G?(this.g.D(p,r),r.y==this.Da.G&&(m=0)):e.y==this.Da.H&&(this.g.D(p,r),r.y==this.Da.H&&(m=0)),m!=-1&&(m=u.h.ub(e,r),m=u.P.truncate(Math.min(Math.ceil(m/n),2048)),!(1>=m))){for(var g=1;g<m;g++)o[g-1]=1*g/m;this.g.Wl(c,o,m-1)}c=p}while(c!=h)}},y.prototype.Xl=function(n,e){var r=this.g.Hd(),o=new u.h,a=new u.ja(0);a.Jb(100);for(var h=this.g.Ob(this.Y);h!=-1;h=this.g.Sb(h))for(var c=this.g.Ya(h),p=0,m=this.g.Ka(h);p<m;p++){var g=this.g.V(c);this.g.D(c,o),(n?o.y==e:o.x==e)&&(this.g.D(g,o),(n?o.y==e:o.x==e)&&(this.g.Qa(c,r)!=1&&(a.add(c),this.g.Sa(c,r,1)),this.g.Qa(g,r)!=1&&(a.add(g),this.g.Sa(g,r,1)))),c=g}if(this.g.Ud(r),!(3>a.size)){var _=this;a.Wd(0,a.size,function(B,K){return _.Oh(B,K)}),r=new u.h,h=new u.h,c=new u.h,h.Sc();var b=-1;p=new u.ja(0),m=new u.ja(0),g=this.g.Hd();for(var x=this.g.Hd(),P=0,O=a.size;P<O;P++){var L=a.get(P);if(this.g.D(L,o),!o.rb(h)){if(b!=-1){for(var j=b;j<P;j++){b=a.get(j);var D=this.g.V(b);L=this.g.Na(b);var k=!1;0>this.Oh(b,D)&&(this.g.D(D,r),n?r.y==e:r.x==e)&&(p.add(b),k=!0,this.g.Sa(b,x,1)),0>this.Oh(b,L)&&(this.g.D(L,r),n?r.y==e:r.x==e)&&(k||p.add(b),this.g.Sa(b,g,1))}for(j=0,k=p.size;j<k;j++){if(b=p.get(j),L=this.g.Qa(b,g),D=this.g.Qa(b,x),L==1){L=this.g.Na(b),this.g.D(L,c);var $=[0];if($[0]=0,!c.rb(o)){var G=u.h.ub(h,c);$[0]=u.h.ub(c,o)/G,$[0]==0?$[0]=2220446049250313e-31:$[0]==1&&($[0]=.9999999999999998),this.g.Wl(L,$,1),L=this.g.Na(b),this.g.mf(L,o),m.add(L),this.g.Sa(L,g,1),this.g.Sa(L,x,-1)}}D==1&&(D=this.g.V(b),this.g.D(D,c),$=[0],$[0]=0,c.rb(o)||(G=u.h.ub(h,c),$[0]=u.h.ub(h,o)/G,$[0]==0?$[0]=2220446049250313e-31:$[0]==1&&($[0]=.9999999999999998),this.g.Wl(b,$,1),L=this.g.V(b),this.g.mf(L,o),m.add(L),this.g.Sa(L,g,-1),this.g.Sa(L,x,1)))}b=p,p=m,m=b,m.clear(!1)}b=P,h.N(o)}}this.g.Ud(g),this.g.Ud(x)}},y.prototype.Pl=function(n,e){var r=new u.h,o=new u.ja(0);o.Jb(100);for(var a=this.g.Hd(),h=0,c=this.ed.size;h<c;h++){var p=this.ed.get(h);if(p!=-1){var m=this.g.V(p);this.g.D(p,r),(n?r.y==e:r.x==e)&&(this.g.D(m,r),(n?r.y==e:r.x==e)&&(this.g.Qa(p,a)!=-2&&(o.add(p),this.g.Sa(p,a,-2)),this.g.Qa(m,a)!=-2&&(o.add(m),this.g.Sa(m,a,-2))))}}if(o.size!=0){var g=this;for(o.Wd(0,o.size,function(K,X){return g.Oh(K,X)}),h=0,c=o.size;h<c;h++){var _=o.get(h);this.g.Sa(_,a,h)}p=new u.h,m=new u.h,m.Sc();var b=-1;for(h=0,c=o.size;h<c;h++)if(_=o.get(h),_!=-1&&(this.g.D(_,r),!r.rb(m))){if(b!=-1)for(;;){_=!1;for(var x=1<h-b?h-1:h,P=b;P<x;P++){var O=o.get(P);if(O!=-1){var L=-1,j=this.g.V(O);0>this.Oh(O,j)&&(this.g.D(j,p),n?p.y==e:p.x==e)&&(L=j),j=-1;var D=this.g.Na(O);if(0>this.Oh(O,D)&&(this.g.D(D,p),n?p.y==e:p.x==e)&&(j=D),L!=-1&&j!=-1)this.Mh(O,o,a),this.g.qd(O,!1),this.Mh(L,o,a),this.g.qd(L,!1),_=!0;else if(L!=-1||j!=-1){for(D=P+1;D<h;D++){var k=o.get(D);if(k!=-1){var $=this.g.V(k),G=-1;0>this.Oh(k,$)&&(this.g.D($,p),n?p.y==e:p.x==e)&&(G=$),$=this.g.Na(k);var B=-1;if(0>this.Oh(k,$)&&(this.g.D($,p),n?p.y==e:p.x==e)&&(B=$),G!=-1&&B!=-1){this.Mh(k,o,a),this.g.qd(k,!1),this.Mh(G,o,a),this.g.qd(G,!1),_=!0;break}if(L!=-1&&B!=-1){this.At(o,O,L,k,B,a),_=!0;break}else if(j!=-1&&G!=-1){this.At(o,k,G,O,j,a),_=!0;break}}}if(_)break}}}if(!_)break}b=h,m.N(r)}}this.g.Ud(a)},y.prototype.Mh=function(n,e,r){r=this.g.Qa(n,r),e.set(r,-1),r=this.g.Qa(n,this.li),this.ed.set(r,-1),e=this.g.cd(n),e!=-1&&this.g.Ya(e)==n&&(this.g.Kf(e,-1),this.g.Yg(e,-1))},y.prototype.At=function(n,e,r,o,a,h){this.g.Cc(e,o),this.g.Dc(o,e),this.g.Dc(r,a),this.g.Cc(a,r),this.Mh(o,n,h),this.g.oi(o,!1),this.Mh(a,n,h),this.g.oi(a,!0)},y.prototype.Oy=function(){for(var n=0,e=this.ed.size;n<e;n++){var r=this.ed.get(n);r!=-1&&this.g.cj(r,-1)}for(var o=0,a=0,h=this.g.Ob(this.Y);h!=-1;){var c=this.g.Ya(h);if(c==-1||h!=this.g.cd(c)){var p=h;h=this.g.Sb(h),this.g.Kf(p,-1),this.g.br(p)}else{r=c,p=0;do this.g.cj(r,h),p++,r=this.g.V(r);while(r!=c);2>=p?(r=this.g.Qa(c,this.li),this.ed.set(r,-1),c=this.g.qd(c,!1),p==2&&(r=this.g.Qa(c,this.li),this.ed.set(r,-1),this.g.qd(c,!1)),p=h,h=this.g.Sb(h),this.g.Kf(p,-1),this.g.br(p)):(this.g.fp(h,!1),this.g.Yg(h,this.g.Na(c)),this.g.Xj(h,p),a+=p,o++,h=this.g.Sb(h))}}for(n=0,e=this.ed.size;n<e;n++)if(r=this.ed.get(n),r!=-1&&(h=this.g.cd(r),h==-1)){h=this.g.wf(this.Y,-1),p=0,c=r;do this.g.cj(r,h),p++,r=this.g.V(r);while(r!=c);2>=p?(r=this.g.Qa(c,this.li),this.ed.set(r,-1),c=this.g.qd(c,!1),p==2&&(r=this.g.Qa(c,this.li),0<=r&&this.ed.set(r,-1),this.g.qd(c,!1)),p=h,this.g.Kf(p,-1),this.g.br(p)):(this.g.mn(h,!0),this.g.Xj(h,p),this.g.Kf(h,c),this.g.Yg(h,this.g.Na(c)),this.g.fp(h,!1),a+=p,o++)}for(this.g.Tl(this.Y,o),this.g.Vj(this.Y,a),n=0,e=this.g.md;e!=-1;e=this.g.ve(e))n+=this.g.I(e);this.g.XB(n)},y.wy=function(n,e,r){return new y(e).vy(n,r)},y.clip=function(n,e,r,o){if(n.B())return n;if(e.B())return n.Ja();if(r=n.K(),r==33)return o=n.D(),e.contains(o)?n:n.Ja();if(r==197)return o=new u.l,n.A(o),o.Fa(e)?(e=new u.Hh,n.copyTo(e),e.Zo(o),e):n.Ja();var a=new u.l;if(n.yc(a),e.contains(a))return n;if(!e.isIntersecting(a))return n.Ja();if(a=n.Cb,a!=null&&(a=a.Hk,a!=null)){if(a=a.To(e),a==1){if(r!=1736)throw u.i.Ra();return n=new u.Ea(n.description),n.vp(e),n}if(a==0)return n.Ja()}switch(r){case 550:r=null,a=n.I();for(var h=n.vb(0),c=0,p=0;p<a;p++)o=new u.h,h.uc(2*p,o),e.contains(o)||(c==0&&(r=n.Ja()),c<p&&r.Gd(n,c,p),c=p+1);return 0<c&&r.Gd(n,c,a),c==0?n:r;case 1736:case 1607:return y.wy(n,e,o);default:throw u.i.Ra()}},y.prototype.Oh=function(n,e){var r=new u.h;return this.g.D(n,r),n=new u.h,this.g.D(e,n),r.compare(n)},y}();u.Vd=C}(U||(U={})),function(u){var C=function(){function y(n,e){this.Da=n,this.g=new u.hd,this.ed=new u.ja(0),this.od=e}return y.prototype.Nh=function(n,e,r){switch(e){case 0:if(n.v<r&&n.C<=r)break;return n.v>=r?1:-1;case 1:if(n.G<r&&n.H<=r)break;return n.G>=r?1:-1;case 2:if(n.v>=r&&n.C>r)break;return n.C<=r?1:-1;case 3:if(!(n.G>=r&&n.H>r))return n.H<=r?1:-1}return 0},y.prototype.vy=function(n,e){return n.K()==1736?this.xy(n,e):this.yy(n)},y.prototype.xy=function(n,e){if(this.Da.S()==0||this.Da.da()==0)return n.Ja();var r=new u.l;n.yc(r),this.Y=this.g.Ib(n);var o=new u.l,a=new u.l,h=new u.h,c=new u.h,p=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0],g=new u.zb,_=new u.ja(0);_.Jb(256);for(var b=!1,x=0;!b&&4>x;x++){var P=!1,O=(x&1)!=0,L=0;switch(x){case 0:L=this.Da.v,P=r.v<=L&&r.C>=L;break;case 1:L=this.Da.G,P=r.G<=L&&r.H>=L;break;case 2:L=this.Da.C,P=r.v<=L&&r.C>=L;break;case 3:L=this.Da.H,P=r.G<=L&&r.H>=L}if(P)for(b=!0,P=this.g.Ob(this.Y);P!=-1;){var j=!0,D=-1,k=-1,$=this.g.Ya(P),G=$;do{var B=this.g.cc(G);B==null&&(B=g,this.g.D(G,h),B.Ec(h),this.g.D(this.g.V(G),c),B.Rc(c)),B.A(o);var K=this.Nh(o,x,L),X=0,et=-1;if(K==-1){B=B.fq(O,L,p,m),X=0<B?this.g.HX(G,m,B):0,X+=1;var tt=G,lt=this.g.V(tt);for(B=0;B<X;B++){if(this.g.D(tt,h),this.g.D(lt,c),et=this.g.cc(tt),et==null&&(et=g,et.Ec(h),et.Rc(c)),et.A(a),et=this.Nh(a,x,L),et==-1){if(O)et=Math.abs(h.y-L),ot=Math.abs(c.y-L),et<ot?(h.y=L,this.g.mf(tt,h)):(c.y=L,this.g.mf(lt,c));else{et=Math.abs(h.x-L);var ot=Math.abs(c.x-L);et<ot?(h.x=L,this.g.mf(tt,h)):(c.x=L,this.g.mf(lt,c))}et=this.g.cc(tt),et==null&&(et=g,et.Ec(h),et.Rc(c)),et.A(a),et=this.Nh(a,x,L)}ot=D,D=et,k==-1&&(k=D),ot==0&&D==1||ot==1&&D==0||ot!=0||D!=0||_.add(tt),D==1&&(j=b=!1),et=tt=lt,lt=this.g.V(lt)}}if(X==0&&(ot=D,D=K,k==-1&&(k=D),ot==0&&D==1||ot==1&&D==0||ot!=0||D!=0||_.add(G),D==1&&(j=b=!1),et=this.g.V(G)),G=et,256<=_.size){for(B=1,K=_.size-1;B<K;B++)X=_.get(B),this.g.qd(X,!1);_.set(1,_.Gc()),_.Dh(2)}}while(G!=$);if(!j)for(k==0&&D==0&&_.add($),B=0,K=_.size;B<K;B++)X=_.get(B),this.g.qd(X,!1);_.clear(!1),P=j||this.g.Ka(P)==0?this.g.ar(P):this.g.Sb(P)}}return b?n.Ja():(this.AB(),0<e&&this.Hy(e),this.g.Ke(this.Y))},y.prototype.yy=function(n){var e=new u.l,r=new u.l,o=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],h=new u.jg,c=n,p=new u.l;n.yc(p);for(var m=new u.h,g=new u.h,_=null,b=null,x=0;4>x;x++){var P=!1,O=(x&1)!=0,L=0;switch(x){case 0:L=this.Da.v,P=p.v<=L&&p.C>=L;break;case 1:L=this.Da.G,P=p.G<=L&&p.H>=L;break;case 2:L=this.Da.C,P=p.v<=L&&p.C>=L;break;case 3:L=this.Da.H,P=p.G<=L&&p.H>=L}if(P)for(P=c,c=n.Ja(),P=P.Ha(),P.aj();P.ab();)for(var j,D=!0;P.Ia();){var k=P.ia();k.A(e);var $=this.Nh(e,x,L);if($==-1){if($=k.fq(O,L,o,a),0<$){var G=0;k.$p(m);for(var B=0;B<=$;B++)if(j=B<$?a[B]:1,G!=j){k.dh(G,j,h);var K=h.get();K.Ec(m),B<$&&(O?(g.x=o[B],g.y=L):(g.x=L,g.y=o[B]),K.Rc(g)),K.A(r);var X=this.Nh(r,x,L);X==-1&&(_==null&&(_=new u.h),b==null&&(b=new u.h),K.$p(_),K.Vr(b),O?(G=Math.abs(_.y-L),X=Math.abs(b.y-L),G<X?(_.y=L,K.Ec(_)):(b.y=L,K.Rc(b))):(G=Math.abs(_.x-L),X=Math.abs(b.x-L),G<X?(_.x=L,K.Ec(_)):(b.x=L,K.Rc(b))),K.A(r),X=this.Nh(r,x,L)),K.Vr(m),G=j,j=X,j==1?(c.pc(K,D),D=!1):D=!0}}}else j=$,j==1?(c.pc(k,D),D=!1):D=!0}}return c},y.prototype.AB=function(){this.li=-1,this.Xl(!1,this.Da.v),this.Xl(!1,this.Da.C),this.Xl(!0,this.Da.G),this.Xl(!0,this.Da.H),this.ed.resize(0),this.ed.Jb(100),this.li=this.g.Hd();for(var n=new u.h,e=this.g.Ob(this.Y);e!=-1;e=this.g.Sb(e))for(var r=this.g.Ya(e),o=0,a=this.g.Ka(e);o<a;o++,r=this.g.V(r))this.g.D(r,n),(this.Da.v==n.x||this.Da.C==n.x||this.Da.G==n.y||this.Da.H==n.y)&&(this.g.Sa(r,this.li,this.ed.size),this.ed.add(r));this.Pl(!1,this.Da.v),this.Pl(!1,this.Da.C),this.Pl(!0,this.Da.G),this.Pl(!0,this.Da.H),this.Oy()},y.prototype.Hy=function(n){for(var e=new u.h,r=new u.h,o=null,a=null,h=u.P.mg(2048,0),c=this.g.Ob(this.Y);c!=-1;c=this.g.Sb(c)){var p=this.g.Ya(c),m=p;do{var g=this.g.V(m);this.g.D(m,e);var _=-1;if(e.x==this.Da.v?(this.g.D(g,r),r.x==this.Da.v&&(_=1)):e.x==this.Da.C&&(this.g.D(g,r),r.x==this.Da.C&&(_=1)),e.y==this.Da.G?(this.g.D(g,r),r.y==this.Da.G&&(_=0)):e.y==this.Da.H&&(this.g.D(g,r),r.y==this.Da.H&&(_=0)),_!=-1){if(o==null&&(o=new u.h),a==null&&(a=new u.h),o.N(e),a.na(0,0),_==0){var b=e.x-this.Da.v;a.x=u.mc.sign(r.x-e.x),o.x=n*u.mc.En(Math.floor(Math.abs(b/n)),b)+this.Da.v,0>o.x&&(o.x+=n)}else b=e.y-this.Da.G,a.y=u.mc.sign(r.y-e.y),o.y=n*u.mc.En(Math.floor(Math.abs(b/n)),b)+this.Da.G,0>o.y&&(o.y+=n);b=_!=0?r.y-e.y:r.x-e.x;var x=Math.abs(b);if(65536<x/n)throw u.i.ga("internal error");if(0<x){x=u.P.truncate(x/n)+2,h.length<x&&(h=u.P.mg(x));for(var P=x=0;;P++){var O=new u.h;if(O.x=o.x+a.x*P*n,O.y=o.y+a.y*P*n,O=(_!=0?O.y-e.y:O.x-e.x)/b,1<=O)break;0>=O||(h[x]=O,x++)}x!=0&&this.g.Wl(m,h,x)}}m=g}while(m!=p)}},y.prototype.Xl=function(n,e){for(var r=-1,o=new u.h,a=null,h=this.g.Ob(this.Y);h!=-1;h=this.g.Sb(h))for(var c=this.g.Ya(h),p=0,m=this.g.Ka(h);p<m;p++){var g=this.g.V(c);this.g.D(c,o),(n?o.y==e:o.x==e)&&(this.g.D(g,o),(n?o.y==e:o.x==e)&&(r==-1&&(r=this.g.Hd()),a==null&&(a=new u.ja(0),a.Jb(100)),this.g.Qa(c,r)!=1&&(a.add(c),this.g.Sa(c,r,1)),this.g.Qa(g,r)!=1&&(a.add(g),this.g.Sa(g,r,1)))),c=g}if(r!=-1&&this.g.Ud(r),!(a==null||3>a.size)){var _=this;a.Wd(0,a.size,function(B,K){return _.Oh(B,K)}),r=new u.h,h=new u.h,c=new u.h,h.Sc();var b=-1;p=new u.ja(0),m=new u.ja(0),g=null;for(var x=this.g.Hd(),P=this.g.Hd(),O=0,L=a.size;O<L;O++){var j=a.get(O);if(this.g.D(j,o),!o.rb(h)){if(b!=-1){for(var D=b;D<O;D++){b=a.get(D);var k=this.g.V(b);j=this.g.Na(b);var $=!1;this.g.D(k,r),0>h.compare(r)&&(n?r.y==e:r.x==e)&&(p.add(b),$=!0,this.g.Sa(b,P,1)),this.g.D(j,r),0>h.compare(r)&&(n?r.y==e:r.x==e)&&($||p.add(b),this.g.Sa(b,x,1))}for(D=0,$=p.size;D<$;D++){if(b=p.get(D),j=this.g.Qa(b,x),k=this.g.Qa(b,P),j==1&&(j=this.g.Na(b),this.g.D(j,c),!c.rb(o))){g==null&&(g=[]);var G=u.h.ub(h,c);g[0]=u.h.ub(c,o)/G,g[0]==0?g[0]=2220446049250313e-31:g[0]==1&&(g[0]=.9999999999999998),this.g.Wl(j,g,1),j=this.g.Na(b),this.g.mf(j,o),m.add(j),this.g.Sa(j,x,1),this.g.Sa(j,P,-1)}k==1&&(k=this.g.V(b),this.g.D(k,c),c.rb(o)||(g==null&&(g=[]),G=u.h.ub(h,c),g[0]=u.h.ub(h,o)/G,g[0]==0?g[0]=2220446049250313e-31:g[0]==1&&(g[0]=.9999999999999998),this.g.Wl(b,g,1),j=this.g.V(b),this.g.mf(j,o),m.add(j),this.g.Sa(j,x,-1),this.g.Sa(j,P,1)))}b=p,p=m,m=b,m.clear(!1)}b=O,h.N(o)}}this.g.Ud(x),this.g.Ud(P)}},y.prototype.Pl=function(n,e){for(var r=new u.h,o=null,a=-1,h=0,c=this.ed.size;h<c;h++){var p=this.ed.get(h);if(p!=-1){var m=this.g.V(p);this.g.D(p,r),(n?r.y==e:r.x==e)&&(this.g.D(m,r),(n?r.y==e:r.x==e)&&(a==-1&&(a=this.g.Hd()),o==null&&(o=new u.ja(0),o.Jb(100)),this.g.Qa(p,a)!=-2&&(o.add(p),this.g.Sa(p,a,-2)),this.g.Qa(m,a)!=-2&&(o.add(m),this.g.Sa(m,a,-2))))}}if(o==null)a!=-1&&this.g.Ud(a);else{var g=this;for(o.Wd(0,o.size,function(K,X){return g.Oh(K,X)}),h=0,c=o.size;h<c;h++){var _=o.get(h);this.g.Sa(_,a,h)}p=new u.h,m=new u.h,m.Sc();var b=-1;for(h=0,c=o.size;h<c;h++)if(_=o.get(h),_!=-1&&(this.g.D(_,r),!r.rb(m))){if(b!=-1)for(;;){_=!1;for(var x=1<h-b?h-1:h,P=b;P<x;P++){var O=o.get(P);if(O!=-1){var L=-1,j=this.g.V(O);this.g.D(j,p),0>m.compare(p)&&(n?p.y==e:p.x==e)&&(L=j),j=-1;var D=this.g.Na(O);if(this.g.D(D,p),0>m.compare(p)&&(n?p.y==e:p.x==e)&&(j=D),L!=-1&&j!=-1)this.Mh(O,o,a),this.g.qd(O,!1),this.Mh(L,o,a),this.g.qd(L,!1),_=!0;else if(L!=-1||j!=-1){for(D=P+1;D<h;D++){var k=o.get(D);if(k!=-1){var $=this.g.V(k),G=-1;this.g.D($,p),0>m.compare(p)&&(n?p.y==e:p.x==e)&&(G=$),$=this.g.Na(k);var B=-1;if(this.g.D($,p),0>m.compare(p)&&(n?p.y==e:p.x==e)&&(B=$),G!=-1&&B!=-1){this.Mh(k,o,a),this.g.qd(k,!1),this.Mh(G,o,a),this.g.qd(G,!1),_=!0;break}if(L!=-1&&B!=-1){this.At(o,O,L,k,B,a),_=!0;break}else if(j!=-1&&G!=-1){this.At(o,k,G,O,j,a),_=!0;break}}}if(_)break}}}if(!_)break}b=h,m.N(r)}this.g.Ud(a)}},y.prototype.Mh=function(n,e,r){r=this.g.Qa(n,r),e.set(r,-1),r=this.g.Qa(n,this.li),this.ed.set(r,-1),e=this.g.cd(n),e!=-1&&this.g.Ya(e)==n&&(this.g.Kf(e,-1),this.g.Yg(e,-1))},y.prototype.At=function(n,e,r,o,a,h){this.g.Cc(e,o),this.g.Dc(o,e),this.g.Dc(r,a),this.g.Cc(a,r),this.Mh(o,n,h),this.g.oi(o,!1),this.Mh(a,n,h),this.g.oi(a,!0)},y.prototype.Oy=function(){for(var n=0,e=this.ed.size;n<e;n++){var r=this.ed.get(n);r!=-1&&this.g.cj(r,-1)}for(var o=0,a=0,h=this.g.Ob(this.Y);h!=-1;){var c=this.g.Ya(h);if(c==-1||h!=this.g.cd(c)){var p=h;h=this.g.Sb(h),this.g.Kf(p,-1),this.g.br(p)}else{r=c,p=0;do this.g.cj(r,h),p++,r=this.g.V(r);while(r!=c);this.g.fp(h,!1),this.g.Yg(h,this.g.Na(c)),this.g.Xj(h,p),a+=p,o++,h=this.g.Sb(h)}}for(n=0,e=this.ed.size;n<e;n++)if(r=this.ed.get(n),r!=-1&&(h=this.g.cd(r),h==-1)){h=this.g.wf(this.Y,-1),p=0,c=r;do this.g.cj(r,h),p++,r=this.g.V(r);while(r!=c);2>=p?(r=this.g.Qa(c,this.li),this.ed.set(r,-1),c=this.g.qd(c,!1),p==2&&(r=this.g.Qa(c,this.li),0<=r&&this.ed.set(r,-1),this.g.qd(c,!1)),p=h,this.g.Kf(p,-1),this.g.br(p)):(this.g.mn(h,!0),this.g.Xj(h,p),this.g.Kf(h,c),this.g.Yg(h,this.g.Na(c)),this.g.fp(h,!1),a+=p,o++)}for(this.g.Tl(this.Y,o),this.g.Vj(this.Y,a),n=0,e=this.g.md;e!=-1;e=this.g.ve(e))n+=this.g.I(e);this.g.XB(n)},y.wy=function(n,e,r,o){return new y(e,o).vy(n,r)},y.clip=function(n,e,r,o,a){return y.Pu(n,e,null,r,o,a)},y.Pu=function(n,e,r,o,a,h){var c=n.K();if(c==33)return a=n.D(),e.contains(a)?n:n.Ja();if(c==197)return a=new u.l,n.A(a),a.Fa(e)?(e=new u.Hh,n.copyTo(e),e.Zo(a),e):n.Ja();if(n.B())return n;if(e.B())return n.Ja();var p=new u.l;if(n.yc(p),e.contains(p))return n;if(!e.isIntersecting(p))return n.Ja();if((r!=null||isNaN(o))&&u.ua.oy(r,e,!1),!u.ba.zj(c))throw u.i.O();if(r=n.Cb,r!=null&&(r=r.Hk,r!=null)){if(r=r.To(e),r==1){if(c!=1736)throw u.i.ga("internal error");return n=new u.Ea(n.description),n.vp(e),n}if(r==0)return n.Ja()}switch(c){case 550:for(h=null,c=n.I(),r=n.vb(0),o=0,a=new u.h,p=0;p<c;p++)r.uc(2*p,a),e.contains(a)||(o==0&&(h=n.Ja()),o<p&&h.Gd(n,o,p),o=p+1);return 0<o&&h.Gd(n,o,c),o==0?n:h;case 1736:case 1607:return y.wy(n,e,a,h);default:throw u.i.ga("internal error")}},y.prototype.Oh=function(n,e){var r=new u.h;return this.g.D(n,r),n=new u.h,this.g.D(e,n),r.compare(n)},y}();u.ti=C}(U||(U={})),function(u){var C=new u.h,y=function(){function e(r,o,a,h,c){this.Rm=new u.h,this.Fk=new u.h,this.Ri=new u.h,this.g=r,this.Cw=a,this.po=h,this.Rm=o,this.Al=c,this.Fk.Sc(),this.Ri.Sc()}return e.prototype.sE=function(r){this.g.D(r,this.Fk),r=u.P.truncate((this.Fk.x-this.Rm.x)*this.po+.5);var o=u.P.truncate((this.Fk.y-this.Rm.y)*this.po+.5);return n.eG(r,o)},e.prototype.ez=function(r){return this.g.Qa(r,this.Al)},e.prototype.Ky=function(r,o){return this.g.D(r,this.Fk),this.g.D(o,this.Ri),n.Ev(this.Fk.x,this.Fk.y,this.Ri.x,this.Ri.y,this.Cw)},e}();u.oY=function(){return function(){}}();var n=function(){function e(){this.Rm=new u.h,this.rq=[0,0,0,0],this.zs=[0,0,0,0],this.so=this.Al=-1}return e.dQ=function(r,o){var a=new e;return a.g=r,a.ra=o,a.Cw=o*o,a.bw=2*o,a.po=1/a.bw,a.wO()},e.Ev=function(r,o,a,h,c){return r-=a,o-=h,r*r+o*o<=c},e.eG=function(r,o){return u.P.Vh(o,u.P.Vh(r))},e.prototype.yO=function(r,o){this.g.Hc(r,C);for(var a=(C.y-this.Rm.y)*this.po,h=u.P.truncate((C.x-this.Rm.x)*this.po),c=u.P.truncate(a),p=a=0;1>=p;p+=1)for(var m=0;1>=m;m+=1){var g=e.eG(h+p,c+m),_=this.zl.lR(g);_!=-1&&(this.rq[a]=_,this.zs[a]=g,a++)}for(h=a-1;1<=h;h--)for(_=this.rq[h],c=h-1;0<=c;c--)if(_==this.rq[c]){this.zs[c]=-1,a--,h!=a&&(this.zs[h]=this.zs[a],this.rq[h]=this.rq[a]);break}for(c=0;c<a;c++)this.zO(r,this.zs[c],C,this.rq[c],o)},e.prototype.zO=function(r,o,a,h,c){for(var p=new u.h;h!=-1;h=this.zl.zR(h)){var m=this.zl.ka(h);r==m||o!=-1&&this.g.Qa(m,this.Al)!=o||(this.g.Hc(m,p),e.Ev(a.x,a.y,p.x,p.y,this.Cw)&&c.add(h))}},e.prototype.Zm=function(r,o,a){var h=this.g.Qa(r,this.so),c=this.g.Qa(o,this.so);return h==-1&&(h=this.Ad.Rh(),this.Ad.addElement(h,r),this.g.Sa(r,this.so,h)),c==-1?this.Ad.addElement(h,o):this.Ad.Cy(h,c),this.g.Sa(o,this.so,-2),o=this.TT(r,o),a&&(a=this.mw.sE(r),this.g.Sa(r,this.Al,a)),o},e.RT=function(r,o,a){r.Nb(o),a=r;var h=new u.h;e.ST(r.D(),o.D(),h),a.Db(h)},e.ST=function(r,o,a){var h=r.x;r.x!=o.x&&(h=(1*r.x+1*o.x)/2);var c=r.y;r.y!=o.y&&(c=(1*r.y+1*o.y)/2),a.na(h,c)},e.prototype.TT=function(r,o){var a=new u.h;this.g.D(r,a);var h=new u.h;this.g.D(o,h);var c=this.g.YF(r);o=this.g.YF(o);var p=c+o,m=0,g=a.x;a.x!=h.x&&(g=(a.x*c+h.x*o)/p,m++);var _=a.y;return a.y!=h.y&&(_=(a.y*c+h.y*o)/p,m++),0<m&&this.g.Db(r,g,_),this.g.rX(r,p),m!=0},e.prototype.wO=function(){var r=this.g.gd,o=this.g.DF();for(this.Rm=o.hz(),o=Math.max(o.da(),o.S())/2147483646,this.bw<o&&(this.bw=o,this.po=1/this.bw),this.Ad=new u.cu,this.Ad.Bt(u.P.truncate(this.g.gd/3+1)),this.Ad.hn(u.P.truncate(this.g.gd/3+1)),this.Al=this.g.Hd(),this.so=this.g.Hd(),this.mw=new y(this.g,this.Rm,this.Cw,this.po,this.Al),this.zl=new u.ZK(u.P.truncate(4*r/3),this.mw),this.zl.vW(this.g.gd),r=!1,o=this.g.md;o!=-1;o=this.g.ve(o))for(var a=this.g.Ob(o);a!=-1;a=this.g.Sb(a))for(var h=this.g.Ya(a),c=0,p=this.g.Ka(a);c<p;c++){var m=this.mw.sE(h);this.g.Sa(h,this.Al,m),this.zl.addElement(h,m),h=this.g.V(h)}var g=new u.ja(0);for(g.Jb(10),o=this.g.md;o!=-1;o=this.g.ve(o))for(a=this.g.Ob(o);a!=-1;a=this.g.Sb(a))for(h=this.g.Ya(a),c=0,p=this.g.Ka(a);c<p;c++){if(this.g.Qa(h,this.so)!=-2)for(m=this.g.Qa(h,this.Al),this.zl.kd(h,m);this.yO(h,g),g.size!=0;){m=!1;for(var _=0,b=g.size;_<b;_++){var x=g.get(_),P=this.zl.ka(x);this.zl.wd(x),m=this.Zm(h,P,_+1==b)||m}if(r=r||m,g.clear(!1),!m)break}h=this.g.V(h)}return r&&this.qN(),this.mw=this.zl=null,this.g.Ud(this.Al),this.g.Ud(this.so),r},e.prototype.qN=function(){for(var r=new u.h,o=this.Ad.ke;o!=-1;o=this.Ad.lz(o)){var a=this.Ad.sc(o);for(this.g.D(this.Ad.ka(a),r),a=this.Ad.lb(a);a!=-1;a=this.Ad.lb(a))this.g.mf(this.Ad.ka(a),r)}},e}();u.$t=n}(U||(U={})),function(u){var C=function(){function y(n){n===void 0&&(n=null),this.zg=null,this.Pb=!1,this.zg=n===null?[]:n}return y.prototype.copyTo=function(n){if(n.Pb)throw u.i.ga("CompositeGeographicTransformation is read-only");for(var e=0;e<this.zg.length;e++)n.zg.push(this.zg[e].Qf())},y.prototype.count=function(){return this.zg.length},y.prototype.add=function(n){if(this.Pb)throw u.i.ga("CompositeGeographicTransformation is read-only");this.zg.push(n.Qf())},y.prototype.clear=function(){if(this.Pb)throw u.i.ga("CompositeGeographicTransformation is read-only");this.zg.length=0},y.prototype.remove=function(n){if(this.Pb)throw u.i.ga("CompositeGeographicTransformation is read-only");this.zg.splice(n,1)},y.prototype.kg=function(){var n=new y;return this.copyTo(n),n},y.prototype.Qf=function(){return this.kg()},y.prototype.transform=function(n,e,r,o){if(n.length<e)throw u.i.ga("invalid Argument");var a=r;for(r=0;r<this.zg.length;r++){var h=this.zg[r];if(h.sm()!=null){var c=h.Wn,p=c?1:0,m=c?h.sm().getGeogcs2():h.sm().getGeogcs1();if(m=m.getUnit().getUnitFactor(),m=a/m,3552713678800501e-30<Math.abs(m-1))for(a=0;a<e;a++)n[a][0]*=m,n[a][1]*=m;u.HC.geogToGeog(h.sm(),e,n,null,p),a=(c?h.sm().getGeogcs1():h.sm().getGeogcs2()).getUnit().getUnitFactor()}}if(m=a/o,3552713678800501e-30<Math.abs(m-1))for(a=0;a<e;a++)n[a][0]*=m,n[a][1]*=m;return e},y.prototype.Nb=function(n){if(n==this)return!0;if(!(n instanceof y)||this.zg.length!=n.zg.length)return!1;for(var e=0;e<this.zg.length;e++)if(!this.zg[e].Nb(n.zg[e]))return!1;return!0},y.prototype.ix=function(){this.Pb=!0},y.prototype.toString=function(){for(var n="CGT ("+this.count()+") ",e=0,r=this.count();e<r;++e)n+=this.zg[e].toString()+", ";return 200<n.length?n.substring(0,197)+"... ("+n.length.toString()+" characters)":n},y.create=function(){return new y},y}();u.rC=C}(U||(U={})),function(u){var C=Math.PI,y=2*Math.PI,n=Math.PI/2,e=function(){function a(){}return a.OO=function(h,c){var p=new a;return p.x=h,p.y=c,p.type=0,p.Wh=0,p},a.cl=function(h){var c=new a;return c.x=h.x,c.y=h.y,c.type=0,c.Wh=0,c},a.NO=function(h){var c=new a;return c.x=h.x,c.y=h.y,c.type=h.type,c.Wh=h.Wh,c},a.Qd=function(h,c,p){var m=new a;return m.x=h.x+c*Math.cos(p),m.y=h.y+c*Math.sin(p),m.type=h.type,m.Wh=h.Wh,m},a.Ru=function(h,c){var p=new a;return p.x=.5*(h.x+c.x),p.y=.5*(h.y+c.y),p.type=h.type,p.Wh=h.Wh,p},a.OE=function(h,c){var p=new a;return p.x=h.x+.001*(c.x-h.x),p.y=h.y+.001*(c.y-h.y),p.type=h.type,p.Wh=h.Wh,p},a}(),r=function(){return function(){}}();(function(a){a[a.Round=0]="Round",a[a.Bevel=1]="Bevel",a[a.Miter=2]="Miter",a[a.Square=3]="Square"})(u.aL||(u.aL={}));var o=function(){function a(h){this.IA=this.Zb=this.xg=null,this.od=h}return a.W=function(h,c,p,m,g,_){if(h==null||1>h.Eb())throw u.i.O();return c==0||h.B()?h:(_=new a(_),_.mo=h,_.La=c,_.ra=g,_.Mi=p,_.xA=m,_.Qx())},a.prototype.$L=function(){var h=this.mo,c=h.bc(),p=h.xc(),m=new u.h;return m.vc(p,c),m.normalize(),m.Jv(),m.scale(this.La),c.add(m),p.add(m),m=h.Ja(),h.Ec(c),h.Rc(p),m},a.prototype.ZL=function(){var h=this.mo;if(0<this.La&&this.Mi!=2){var c=new u.Ea;return c.bd(h,!1),this.mo=c,this.Qx()}return h=new u.Hh(h.aa),h.X(this.La,this.La),h},a.prototype.oJ=function(h,c,p,m){return(c.x-h.x)*(m.x-p.x)+(c.y-h.y)*(m.y-p.y)},a.prototype.hc=function(h,c){if(c===void 0)this.Zb.push(h),this.gf++;else if(this.gf==0)this.hc(h);else{var p=this.Dw,m=this.xg[c==0?p-1:c-1],g=this.xg[c],_=this.oJ(m,g,this.Zb[this.gf-1],h);0<_?this.hc(h):0>_&&(0<this.oJ(m,g,g,this.Zb[this.gf-1])?(g=this.xg[c==0?p-2:c==1?p-1:c-2],p=e.Qd(m,this.La,Math.atan2(m.y-g.y,m.x-g.x)-n),this.Zb[this.gf-1]=p,this.Mi==1||this.Mi==2?(p=e.Ru(p,m),this.hc(p),p=e.Qd(m,this.La,this.Lv+n),m=e.Ru(p,m),m.type|=256,this.hc(m)):(p=e.Qd(m,this.La,this.Lv+n),p.type|=256),this.hc(p),this.hc(h,c)):(p=e.Qd(g,this.La,this.Lv+n),this.hc(p),this.Mi==1||this.Mi==2?(p=e.Ru(p,g),this.hc(p),p=e.Qd(g,this.La,this.Wz-n),m=e.Ru(p,g),m.type|=256,this.hc(m)):(p=e.Qd(g,this.La,this.Wz-n),p.type|=256),this.hc(p)))}},a.prototype.hE=function(){var h,c=this.Dw;this.gf=0;var p=.5*this.ra,m=0,g=0;for(h=0;h<c;h++){var _=this.xg[h],b=h==0?this.xg[c-1]:this.xg[h-1],x=h==c-1?this.xg[0]:this.xg[h+1],P=b.x-_.x,O=b.y-_.y,L=x.x-_.x,j=x.y-_.y,D=Math.atan2(O,P),k=Math.atan2(j,L);if(this.Lv=D,this.Wz=k,h==0&&(m=D,g=k),P=P*j-L*O,O=k,k<D&&(k+=y),0<P*this.La)this.Mi==1||this.Mi==2?(D=e.Qd(_,this.La,D+n),this.hc(D),D=e.OE(_,D),this.hc(D),D=e.Qd(_,this.La,k-n),_=e.OE(_,D),_.type|=256,this.hc(_),this.hc(D)):(P=.5*(k-D),P=this.La/Math.abs(Math.sin(P)),D=e.Qd(_,P,.5*(D+k)),this.hc(D,h));else if(_.type&512){for(P=1-p/Math.abs(this.La),b=1,x=0>this.La?-C:C,-1<P&&1>P&&(O=2*Math.acos(P),.017453292519943295>O&&(O=.017453292519943295),b=u.P.truncate(C/O+1.5),1<b&&(x/=b)),O=D+n,D=e.Qd(_,this.La,O),h==0&&(D.type|=1024),this.hc(D,h),P=this.La/Math.cos(x/2),O+=x/2,D=e.Qd(_,P,O),D.type|=1024,this.hc(D);0<--b;)O+=x,D=e.Qd(_,P,O),D.type|=1024,this.hc(D);D=e.Qd(_,this.La,k-n),D.type|=1024,this.hc(D)}else if(this.Mi==1)D=e.Qd(_,this.La,D+n),this.hc(D,h),D=e.Qd(_,this.La,k-n),this.hc(D);else if(this.Mi==0)for(P=1-p/Math.abs(this.La),b=1,x=k-n-(D+n),-1<P&&1>P&&(O=2*Math.acos(P),.017453292519943295>O&&(O=.017453292519943295),b=u.P.truncate(Math.abs(x)/O+1.5),1<b&&(x/=b)),P=this.La/Math.cos(.5*x),O=D+n+.5*x,D=e.Qd(_,P,O),this.hc(D,h);0<--b;)O+=x,D=e.Qd(_,P,O),this.hc(D);else this.Mi==2?(P=b.x-_.x,O=b.y-_.y,L=x.x-_.x,j=x.y-_.y,b=(P*L+O*j)/Math.sqrt(P*P+O*O)/Math.sqrt(L*L+j*j),.99999999<b?(D=e.Qd(_,1.4142135623730951*this.La,k-.25*C),this.hc(D,h),D=e.Qd(_,1.4142135623730951*this.La,k+.25*C),this.hc(D)):(b=Math.abs(this.La/Math.sin(.5*Math.acos(b))),x=Math.abs(this.xA*this.La),b>x?(P=.5*(k-D),P=this.La/Math.abs(Math.sin(P)),D=e.Qd(_,P,.5*(D+k)),k=u.h.construct(D.x,D.y),D=u.h.construct(_.x,_.y),_=new u.h,_.vc(k,D),k=new u.h,k.BW(x/_.length(),_,D),D=(b-x)*Math.abs(this.La)/Math.sqrt(b*b-this.La*this.La),0<this.La?_.Jv():_.cr(),_.scale(D/_.length()),D=new u.h,D.add(k,_),b=new u.h,b.vc(k,_),D=e.cl(D),this.hc(D,h),D=e.cl(b),this.hc(D)):(P=.5*(k-D),P=this.La/Math.abs(Math.sin(P)),D=e.Qd(_,P,.5*(D+k)),this.hc(D,h)))):(k=O,0<this.La?(k>D&&(k-=y),b=D-k<n):(k<D&&(k+=y),b=k-D<n),b?(P=1.4142135623730951*this.La,O=0>P?D+.25*C:D+.75*C,D=e.Qd(_,P,O),this.hc(D,h),O=0>P?k-.25*C:k-.75*C,D=e.Qd(_,P,O),this.hc(D)):(P=.5*(k-D),P=this.La/Math.abs(Math.sin(P)),k<D&&(k+=y),D=e.Qd(_,P,(D+k)/2),this.hc(D,h)))}return this.Lv=m,this.Wz=g,this.hc(this.Zb[0],0),_=e.NO(this.Zb[this.gf-1]),this.Zb[0]=_,this.rW()},a.prototype.Cu=function(h,c){if(!(2>c))for(var p=0;p<c;p++){var m=this.Zb[h+p];p!=0?this.IA.Ei(u.h.construct(m.x,m.y)):this.IA.Nt(u.h.construct(m.x,m.y))}},a.prototype.aM=function(h,c,p){var m=h.Ca(c),g=h.Wc(c);if(this.Zb=[],this.IA=p,h.ec(c)){for(c=h.Oa(m);h.Oa(g-1).rb(c);)g--;if(2<=g-m){for(this.Dw=g-m,this.xg=[],c=m;c<g;c++)this.xg.push(e.cl(h.Oa(c)));this.hE()&&this.Cu(0,this.gf-1)}}else{for(c=h.Oa(m);m<g&&h.Oa(m+1).rb(c);)m++;for(c=h.Oa(g-1);m<g&&h.Oa(g-2).rb(c);)g--;if(2<=g-m){for(this.Dw=2*(g-m)-2,this.xg=[],p=e.cl(h.Oa(m)),p.type|=1536,this.xg.push(p),c=m+1;c<g-1;c++)p=e.cl(h.Oa(c)),this.xg.push(p);for(p=e.cl(h.Oa(g-1)),p.type|=512,this.xg.push(p),c=g-2;c>=m+1;c--)p=e.cl(h.Oa(c)),p.type|=1024,this.xg.push(p);if(this.hE())if(2<=this.Zb.length){for(h=-1,(g=(this.Zb[this.gf-1].type&1024)!=0)||(h=0),c=1;c<this.gf;c++)m=(this.Zb[c].type&1024)!=0,m?g||(g=c-1,1<g-h+1&&this.Cu(h,g-h+1)):g&&(h=c-1),g=m;g||(g=this.gf-1,1<g-h+1&&this.Cu(h,g-h+1))}else h=0,g=this.gf-1,0<=h&&1<=g-h&&this.Cu(h,g-h+1)}}this.xg=null,this.Dw=0,this.Zb=null,this.gf=0},a.prototype.rW=function(){for(var h=!1,c=0;c<this.gf;c++){var p=this.Zb[c];p.sh=c+1,p.uh=c-1,this.Zb[c]=p}for(p=this.Zb[0],p.uh=this.gf-2,this.Zb[0]=p,p=this.Zb[this.gf-2],p.sh=0,this.Zb[this.gf-2]=p,c=p=0;c<this.gf;c++)if(this.Zb[p].type&256){var m=this.BP(p);if(m!=-1)p=m;else{h=!0;break}}else p=this.Zb[p].sh;return h?!1:(this.LO(p),!0)},a.prototype.BP=function(h){for(var c=this.gf-1,p=h,m,g,_=1;_<=c-2;_++){m=p=this.Zb[p].sh,g=h;for(var b=1;b<=_;b++){if(g=this.Zb[g].uh,!(this.Zb[g].type&256)&&!(this.Zb[m].type&256)){var x=this.bS(g,m);if(x!=-1)return x}m=this.Zb[m].uh}}return-1},a.prototype.bS=function(h,c){var p=this.Zb[this.Zb[h].uh],m=this.Zb[h],g=this.Zb[this.Zb[c].uh],_=this.Zb[c];if(!this.EW(p,m,g,_))return-1;var b=new r;return this.sQ(p,m,g,_,b)&&!b.XD&&u.P.XJ((m.x-p.x)*(_.y-g.y)-(m.y-p.y)*(_.x-g.x))!=u.P.XJ(this.La)?(p=this.Zb[h].uh,b.cn.type=m.type,b.cn.sh=c,b.cn.uh=p,this.Zb[h]=b.cn,b.cn=this.Zb[c],b.cn.uh=h,this.Zb[c]=b.cn,c):-1},a.prototype.EW=function(h,c,p,m){return Math.max(h.x,c.x)>=Math.min(p.x,m.x)&&Math.max(p.x,m.x)>=Math.min(h.x,c.x)&&Math.max(h.y,c.y)>=Math.min(p.y,m.y)&&Math.max(p.y,m.y)>=Math.min(h.y,c.y)},a.prototype.sQ=function(h,c,p,m,g){g.XD=!1;var _=(c.y-h.y)*(m.x-p.x)-(c.x-h.x)*(m.y-p.y),b=(p.y-h.y)*(c.x-h.x)-(p.x-h.x)*(c.y-h.y);if(_=_==0?2:b/_,0<=_&&1>=_){var x=_;if(_=(m.y-p.y)*(c.x-h.x)-(m.x-p.x)*(c.y-h.y),b=(h.y-p.y)*(m.x-p.x)-(h.x-p.x)*(m.y-p.y),_=_==0?2:b/_,0<=_&&1>=_)return g.cn=e.OO(h.x+_*(c.x-h.x),h.y+_*(c.y-h.y)),g.cn.Wh=p.Wh+x*(m.Wh-p.Wh),x!=0&&x!=1||_!=0&&_!=1||(g.XD=!0),g.RY=_,g.SY=x,!((x==0||x==1)&&0<_&&1>_||(_==0||_==1)&&0<x&&1>x)}return!1},a.prototype.LO=function(h){for(;this.Zb[h].uh<h;)h=this.Zb[h].uh;var c=0,p=h;do p=this.Zb[p],this.Zb[c]=p,p=p.sh,c++;while(p!=h);this.Zb[c]=this.Zb[0],this.gf=c+1},a.prototype.VC=function(h){var c=this.mo,p=c.Ha();if(p!=null){p.aj();for(var m=-1;p.ab();)m++,this.aM(c,m,h)}},a.prototype.Qx=function(){var h=this.mo.K();return h==322?this.$L():h==197?this.ZL():u.ba.zd(h)?(h=new u.Ua,h.pc(this.mo,!0),this.mo=h,this.Qx()):h==1607?(h=new u.Ua,this.VC(h),h):h==1736?(h=new u.Ea,this.VC(h),h):null},a}();u.DK=o}(U||(U={})),function(u){var C=function(){function r(o){this.sk=o}return r.prototype.D=function(o,a){this.sk.g.D(o,a)},r.prototype.wd=function(o){var a=this.sk.Ga.ka(o);this.sk.Ga.wd(o,-1),this.sk.g.qd(a,!1)},r}(),y=function(){function r(o){this.sk=o}return r.prototype.D=function(o,a){this.sk.DT.D(o,a)},r.prototype.wd=function(o){this.sk.Ga.wd(o,-1)},r}(),n=function(){function r(o){this.sk=o}return r.prototype.D=function(o,a){a.N(this.sk.GT[o])},r.prototype.wd=function(o){this.sk.Ga.wd(o,-1)},r}(),e=function(){function r(o){o===void 0?(this.Ga=new u.$j,this.Ga.Ee(20),this.g=new u.hd,this.sT=this.g.Kg(550),this.Us=this.g.wf(this.sT,-1),this.Zh=new C(this)):o instanceof Array?(this.Ga=new u.$j,this.Ga.Ee(20),this.GT=o,this.Zh=new n(this)):(this.Ga=new u.$j,this.Ga.Ee(20),this.DT=o,this.Zh=new y(this))}return r.prototype.Ib=function(o){var a=o.K();if(u.Fx.zj(a))this.eN(o);else if(u.Xk.zd(a))this.jN(o);else if(a==197)this.bN(o);else if(a==33)this.iN(o);else throw u.i.O("invalid shape type")},r.prototype.YQ=function(){var o=new u.Ta,a=this.Ga.sc(-1),h=new u.Ea(this.g.it);for(this.g.Xi(this.Ga.ka(a),o),h.nf(o),a=this.Ga.lb(a);a!=-1;a=this.Ga.lb(a))this.g.Xi(this.Ga.ka(a),o),h.lineTo(o);return h},r.MO=function(o){var a=new r(o),h=o.I(),c=1,p=new u.h,m=new u.h,g=new u.h;for(o.D(0,p);o.D(c,m),!!(m.Mz(p)&&c<h-1);)c++;for(a.Ga.addElement(0,-1),a.Ga.zn(c),h=c+1;h<o.I();h++)o.D(h,g),c=a.kC(g),c!=-1&&a.Ga.Uj(c,h);for(g=new u.Ta,c=a.Ga.sc(-1),h=new u.Ea(o.description),o.we(a.Ga.ka(c),g),h.nf(g),c=a.Ga.lb(c);c!=-1;c=a.Ga.lb(c))o.we(a.Ga.ka(c),g),h.lineTo(g);return h},r.construct=function(o,a,h){for(var c=new r(o),p=1,m=o[0];o[p].Mz(m)&&p<a-1;)p++;for(c.Ga.addElement(0,-1),c.Ga.zn(p),p+=1;p<a;p++)m=c.kC(o[p]),m!=-1&&c.Ga.Uj(m,p);for(o=0,a=c.Ga.sc(-1);a!=-1;a=c.Ga.lb(a))h[o++]=c.Ga.ka(a);return o},r.EG=function(o,a){var h=o.Ca(a),c=o.Wc(a);if(a=!o.ec(a)&&o.Pn(a),o=o.vb(0),h*=2,c*=2,a&&(c-=2),6>c-h)return!0;a=new u.h;var p=new u.h,m=new u.h;o.uc(h,a),o.uc(h+2,p),o.uc(h+4,m);var g=r.Yu(p,m,a);if(g.rs()||!r.wm(g.value()))return!1;var _=u.h.construct(p.x,p.y),b=new u.h;for(h+=6;h<c;h+=2)if(b.N(p),p.N(m),o.uc(h,m),g=r.Yu(p,m,a),g.rs()||!r.wm(g.value())||(g=r.Yu(_,m,a),g.rs()||!r.wm(g.value()))||(g=r.Yu(p,m,b),g.rs()||!r.wm(g.value())))return!1;return!0},r.prototype.eN=function(o){for(var a=new u.Ta,h=new u.h,c=0;c<o.I();c++){o.D(c,h);var p=this.Er(h);if(p!=-1){o.we(c,a);var m=this.g.hc(this.Us,a);this.Ga.Uj(p,m)}}},r.prototype.bN=function(o){for(var a=new u.Ta,h=new u.h,c=0;4>c;c++){o.hB(c,h);var p=this.Er(h);if(p!=-1){o.If(c,a);var m=this.g.hc(this.Us,a);this.Ga.Uj(p,m)}}},r.prototype.jN=function(o){var a=new u.Ta,h=o.bc();if(h=this.Er(h),h!=-1){o.Vo(a);var c=this.g.hc(this.Us,a);this.Ga.Uj(h,c)}h=o.xc(),h=this.Er(h),h!=-1&&(o.Ro(a),o=this.g.hc(this.Us,a),this.Ga.Uj(h,o))},r.prototype.iN=function(o){var a=o.D();a=this.Er(a),a!=-1&&(o=this.g.hc(this.Us,o),this.Ga.Uj(a,o))},r.prototype.Er=function(o){var a=-1;if(this.Ga.size(-1)==0)return a=this.Ga.addElement(-4,-1);if(this.Ga.size(-1)==1){var h=this.g.Oa(this.Ga.ka(this.Ga.sc(-1)));return o.Mz(h)||(a=this.Ga.zn(-5)),a}return a=this.kC(o)},r.prototype.kC=function(o){var a=-1;do{var h=this.Ga.sc(-1),c=this.Ga.Gc(-1),p=this.Ga.ka(h),m=this.Ga.ka(c),g=new u.h,_=new u.h;if(this.Zh.D(p,g),this.Zh.D(m,_),p=u.h.Wq(_,o,g),r.wm(p))a=this.Ga.zn(-1),g=this.iC(o,c,h),g!=h&&this.jC(o,h,this.Ga.xe(g));else if(r.xG(p)){_=this.Ga.uv(-1);var b=this.Ga.sc(-1),x=this.Ga.Gc(-1);for(p=new u.h,m=new u.h;b!=this.Ga.xe(x);){var P=this.Ga.ka(_);this.Zh.D(P,p),P=u.h.Wq(p,o,g),r.xG(P)?(x=_,_=this.Ga.nl(_)):(b=_,_=this.Ga.Zp(_))}if(_=x,g=b,P=this.Ga.ka(_),b=this.Ga.ka(g),this.Zh.D(P,p),this.Zh.D(b,m),g!=h&&(p=u.h.Wq(m,o,p),!r.wm(p)))continue;a=this.Ga.Bu(g,_,-2,!1),this.jC(o,_,c),this.iC(o,g,h)}else this.tb==null&&(this.tb=new u.zb),this.tb.Ec(_),this.tb.Rc(g),g=this.tb.ge(o,!0),0>g?(g=this.Ga.xe(c),this.Ga.wd(c,-1),a=this.Ga.zn(-3),this.iC(o,g,h)):1<g&&(g=this.Ga.lb(h),this.Ga.wd(h,-1),a=this.Ga.Bu(-1,g,-3,!1),this.jC(o,g,c))}while(0);return a},r.prototype.jC=function(o,a,h){if(a!=h){var c=this.Ga.ka(a),p=this.Ga.lb(a),m=new u.h,g=new u.h;for(this.Zh.D(c,m);a!=h&&2<this.Ga.size(-1)&&(this.Zh.D(this.Ga.ka(p),g),c=u.h.Wq(g,o,m),!r.wm(c));)c=a,a=p,m.N(g),p=this.Ga.lb(a),this.Zh.wd(c)}},r.prototype.iC=function(o,a,h){if(a==h)return h;var c=this.Ga.ka(a),p=this.Ga.xe(a),m=new u.h,g=new u.h;for(this.Zh.D(c,m);a!=h&&2<this.Ga.size(-1)&&(this.Zh.D(this.Ga.ka(p),g),c=u.h.Wq(m,o,g),!r.wm(c));)c=a,a=p,m.N(g),p=this.Ga.xe(a),this.Zh.wd(c);return a},r.Yu=function(o,a,h){var c=new u.Xb;c.set(a.x),c.sub(o.x);var p=new u.Xb;p.set(h.y),p.sub(o.y);var m=new u.Xb;return m.set(a.y),m.sub(o.y),a=new u.Xb,a.set(h.x),a.sub(o.x),c.Bg(p),m.Bg(a),c.sub(m),c},r.wm=function(o){return 0>o},r.xG=function(o){return 0<o},r}();u.au=e}(U||(U={})),function(u){var C=function(){function y(n){this.g=null,this.oH=!0,this.od=n}return y.uU=function(n,e,r){return n=u.ua.Gr(n),u.$t.Ev(e.Ng(),e.kh(),r.Ng(),r.kh(),u.mc.ox(n))},y.xO=function(n,e){var r=new u.Ta;return u.$t.RT(n,e,r),r},y.W=function(n,e,r,o){return r=new y(r),r.g=n,r.ra=e,r.oH=o,r.zM()},y.prototype.iM=function(n){return u.$t.dQ(this.g,n)},y.prototype.nM=function(n){return u.bu.W(this.g,n,this.od)},y.prototype.zM=function(){var n=this.ra,e=u.ua.Gr(n);n=u.ua.mN(n);var r=1.00001*n;n*=1.000001;for(var o=!1,a=30<this.g.gd+10?1e3:(this.g.gd+10)*(this.g.gd+10),h=0,c=this.g.eS();;h++){if(h>a)throw u.i.ga("Internal Error: max number of iterations exceeded");var p=this.iM(e);if(o=o||p,this.oH&&(p=this.g.Ip(e,!0,!1)!=0,o=o||p),p=!1,(h==0||c||u.bu.fI(!0,this.g,n,null,this.od))&&(p=this.nM(r),o=o||p),!p)break;u.op.Bp(this.od)}return o},y}();u.Vk=C}(U||(U={})),function(u){var C=function(){function n(e){this.ae=this.Nc=null,this.$s=0,this.Vb=e,this.Yz=!0}return n.prototype.wv=function(e,r){var o=this.g.cc(e);if(o==null){if(!this.g.fd(e,r))return null;o=r}return o},n.prototype.Zq=function(){var e;e===void 0&&(e=!1),this.$s++,(e||!(this.$s&4095))&&(this.$s=0,u.op.Bp(this.Vb))},n.prototype.iP=function(){var e=this.g.$q(!1),r=!1,o=new u.zb,a=new u.zb,h=new u.l;h.Pa();var c=new u.l;c.Pa();for(var p=new u.Ta,m=new u.OC,g=e.next();g!=-1;g=e.next()){u.op.Bp(this.Vb);var _=null,b=!1;if(!u.ba.Tn(this.g.jc(e.ek))){if(_=this.wv(g,o),_==null)continue;if(_.A(h),h.X(this.ra,this.ra),_.Di(this.ra))if(_.Di(0))b=!0,_=null;else continue}var x=this.g.$q(e),P=x.next();for(P!=-1&&(P=x.next());P!=-1;P=x.next()){var O=null,L=!1;if(!u.ba.Tn(this.g.jc(x.ek))){if(O=this.wv(P,a),O==null)continue;if(O.A(c),O.Di(this.ra))if(O.Di(0))L=!0,O=null;else continue}var j=0,D=0;if(_!=null&&O!=null)h.CG(c)&&(m.Qo(_),m.Qo(O),m.Fa(this.ra,!1),j=m.ql(0),D=m.ql(1),0<j+D&&(this.g.lr(g,m,0,!0),this.g.lr(P,m,1,!0)),m.clear());else if(_!=null){var k=new u.h;if(this.g.D(P,k),h.contains(k)){if(m.Qo(_),this.g.Xi(P,p),m.Fz(this.ra,p,!1),j=m.ql(0),0<j)if(this.g.lr(g,m,0,!0),L){for(L=-1,k=this.g.V(P);k!=-1&&k!=P&&(O=this.wv(k,a),L=k,O!=null&&O.Di(0));k=this.g.V(k));for(k=P;k!=-1&&(this.g.Fh(k,m.Cf),k!=L);k=this.g.V(k));}else this.g.Fh(P,m.Cf);m.clear()}}else if(O!=null){if(k=new u.h,this.g.D(g,k),c.X(this.ra,this.ra),c.contains(k)){if(m.Qo(O),this.g.Xi(g,p),m.Fz(this.ra,p,!1),D=m.ql(0),0<D)if(this.g.lr(P,m,0,!0),b){for(L=-1,k=this.g.V(g);k!=-1&&k!=g&&(O=this.wv(k,a),L=k,O!=null&&O.Di(0));k=this.g.V(k));for(k=g;k!=-1&&(this.g.Fh(k,m.Cf),k!=L);k=this.g.V(k));}else this.g.Fh(g,m.Cf);m.clear()}}else continue;if(j+D!=0){if(j!=0){if(_=this.g.cc(g),_==null){if(!this.g.fd(g,o))continue;_=o,o.A(h)}else _.A(h);if(_.Di(this.ra))break}r=!0}}}return r},n.prototype.jP=function(){return this.LU()},n.prototype.LU=function(){return new u.MC().LX(this.g,this.ra)},n.prototype.gI=function(){var e=!1;this.Nc==null&&(this.Nc=new u.$j);var r=new u.ja(0);r.Jb(this.g.gd+1);for(var o=this.g.$q(),a=o.next();a!=-1;a=o.next())r.add(a);this.g.nx(r,r.size),r.add(-1),o=this.g.Hd(),a=this.g.Hd(),this.ae=new u.PC(this.g,this.ra,!this.Yz),this.Nc.Xo(this.ae);var h=new u.ja(0),c=new u.ja(0),p=0;new u.h;var m=this.g.ud;this.g.wb.oc();for(var g=this.g.wb.Aa[0].o,_,b,x=r.get(p++);x!=-1;){b=m.U(x,0),_=g[2*b],b=g[2*b+1];var P=_,O=b;do{var L=m.U(x,2),j=m.U(x,1);if(L!=-1){var D=m.U(L,0),k=g[2*D];D=g[2*D+1],0>(O<D?-1:O>D?1:P<k?-1:P>k?1:0)&&(c.add(x),c.add(L))}j!=-1&&(D=m.U(j,0),k=g[2*D],D=g[2*D+1],0>(O<D?-1:O>D?1:P<k?-1:P>k?1:0)&&(c.add(j),c.add(j))),k=this.g.Qa(x,o),k!=-1&&(h.add(k),this.g.Sa(x,o,-1)),k=this.g.Qa(x,a),k!=-1&&(h.add(k),this.g.Sa(x,a,-1)),x=r.get(p++),x!==-1&&(O=m.U(x,0),P=g[2*O],O=g[2*O+1])}while(x!=-1&&P===_&&O===b);for(P=h.size==1&&c.size==2,k=O=-1,L=0,j=h.size;L<j;L++){D=h.get(L);var $=this.Nc.xe(D);if($==-1||h.cG($)||(O=$),D=this.Nc.lb(D),D==-1||h.cG(D)||(k=D),O!=-1&&k!=-1)break}for(this.ae.VJ(b,_),L=0,j=h.size;L<j;L++)D=h.get(L),this.Nc.wd(D,-1);if(h.clear(!1),!P&&O!=-1&&k!=-1&&this.lO(O,k)){e=!0,this.Pi=this.ae.tm();break}for(L=0,j=c.size;L<j;L+=2){if(b=c.get(L),_=c.get(L+1),P?(b=this.Nc.Bu(O,k,b,!0),P=!1):b=this.Nc.addElement(b,-1),this.ae.sg){this.Pi=this.ae.tm(),e=!0;break}this.g.Qa(_,o)==-1?this.g.Sa(_,o,b):this.g.Sa(_,a,b)}if(e)break;c.Dh(0)}return this.g.Ud(o),this.g.Ud(a),e},n.prototype.lO=function(e,r){return this.ae.compare(this.Nc,this.Nc.ka(e),r),e=this.ae.sg,this.ae.Mr(),e},n.tE=function(e){for(var r=e.md;r!=-1;r=e.ve(r))if(u.ba.Ic(e.jc(r)))return!0;return!1},n.aQ=function(e,r,o,a){if(!n.tE(e))return!1;if(r=new n(a),r.g=e,r.ra=o,15>e.gd)e=r.iP();else return r.jP();return e},n.W=function(e,r,o){return n.aQ(e,e.DF(),r,o)},n.fI=function(e,r,o,a,h){if(!n.tE(r))return!1;var c=new n(h);if(c.g=r,c.ra=o,c.Yz=e,c.gI())return a!=null&&a.Yt(c.Pi),!0;var p=new u.Ed;return p.VB(),r.Pc(p),c=new n(h),c.g=r,c.ra=o,c.Yz=e,e=c.gI(),p.VB(),r.Pc(p),e?(a!=null&&a.Yt(c.Pi),!0):!1},n.Ol=function(e,r){return e=e.I(),16>e?!1:2*e+Math.log(e)*Math.LOG10E/Math.log(2)*r<1*e*r},n.gP=function(e,r,o,a){if(u.ba.Ic(r.K()))return new n(a).hP(e,r,o);throw u.i.ga("crack_A_with_B")},n.prototype.hP=function(e,r,o){var a=new u.l;e.yc(a);var h=new u.l;if(r.yc(h),h.X(o,o),!h.isIntersecting(a))return e;var c=e.Cb,p=null;c!=null&&(p=c.Gb),n.Ol(e,e.I())&&(p=u.ua.lj(e,h));var m=p!=null?p.getIterator():null,g=r.Ha();r=e.Ha();var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h=[];g.ab();)for(;g.Ia();){var b=g.ia();if(p!=null){for(m.Wo(b,o),c=m.next();c!=-1;c=m.next())if(this.Zq(),r.Wb(p.ka(c),-1),r.Ia()){c=r.ia();var x=c.Fa(b,null,_,null,o);for(c=0;c<x;++c){var P=_[c];if(P!=0&&P!=1){var O=r.xb(),L=new y;L.t=P,L.index=O,h.push(L)}}}}else{var j=new u.l;if(b.yc(j),j.X(o,o),a.isIntersecting(j)){for(r.aj();r.ab();)for(;r.Ia();)if(this.Zq(),c=r.ia(),P=new u.l,c.yc(P),P.isIntersecting(j))for(x=c.Fa(b,null,_,null,o),c=0;c<x;++c)P=_[c],P!=0&&P!=1&&(O=r.xb(),L=new y,L.t=P,L.index=O,h.push(L))}}}if(h.length==0)return e;for(h=h.sort(y.zy),e=e.Ja(),r.aj();r.ab()&&!r.Ia(););for(o=r.ia(),a=new u.jg,p=-1,c=0,m=h.length;c<m;){for(_=h[c].index,g=c+1;g<m&&h[g].index==_;)++g;for(;r.xb()<_;){if(this.Zq(),b=r.Ia(),P=r.gb,(j=b||!r.Qn()||r.Rn())&&e.pc(o,p!=P),p=P,!b)for(;r.ab()&&!r.Ia(););o=r.ia()}for(_=0;c<g;c++)P=h[c].t,P!=_&&(o.dh(_,P,a),_=P,P=r.gb,e.pc(a.get(),p!=P),p=P);if((j=(b=r.Ia())||!r.Qn()||r.Rn())&&(o.dh(_,1,a),e.pc(a.get(),!1)),b)o=r.ia();else{for(;r.ab()&&!r.Ia(););o=r.Ia()?r.ia():null}c=g}for(o!=null&&(P=r.gb,(j=(b=r.Ia())||!r.Qn()||r.Rn())&&e.pc(o,p!=P),p=P),b=r.Ia();;){if(!b){for(;r.ab()&&!(b=r.Ia()););if(!b)break}o=r.ia(),P=r.gb,(j=(b=r.Ia())||!r.Qn()||r.Rn())&&e.pc(o,p!=P),p=P}return e},n}();u.bu=C;var y=function(){function n(){}return n.zy=function(e,r){return e.index==r.index?e.t>r.t?1:e.t<r.t?-1:0:e.index>r.index?1:-1},n}()}(U||(U={})),function(u){(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Coincident=2]="Coincident",e[e.Undefined=3]="Undefined",e[e.Uncut=4]="Uncut"})(u.FK||(u.FK={}));var C=function(){return function(e,r,o,a,h,c,p,m,g,_,b){this.Y=e,this.ct=r,this.Ps=o,this.ug=a,this.Nm=_,this.Cl=b}}();u.qY=C;var y=function(){function e(r,o){this.EH=r,this.Ji=o}return e.prototype.lM=function(r,o){var a=new u.h;this.Ji.D(r,a);var h=new u.h;return this.Ji.D(o,h),a=a.compare(h),a!=0?a:(r=this.Ji.Qa(r,this.EH),o=this.Ji.Qa(o,this.EH),r<o?-1:r==o?0:1)},e}(),n=function(){return function(e,r,o,a,h,c,p,m,g){this.ug=e,this.Ps=r,this.JA=o,this.PH=a,this.Gi=h,this.Cl=c,this.Nm=p,this.QH=m,this.JT=g}}();u.pY=n,u.GK=function(){function e(){}return e.EK=function(r,o,a,h,c,p){if(o.B())r=new C(o,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),c.push(r);else if(a.B())r=new C(o,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),c.push(r);else{var m=new u.hd;if(m.Ib(o),m.Ib(a),u.Vk.W(m,h,p,!0),m.gd==0)r=new C(o.Ja(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),c.push(r);else{for(o=0,a=m.Hd(),h=m.md;h!=-1;h=m.ve(h))for(p=m.Ob(h);p!=-1;p=m.Sb(p))for(var g=m.Ya(p),_=0,b=m.Ka(p);_<b;g=m.V(g),_++)m.Sa(g,a,o++);o=e.CM(a,m),e.YL(r,o,m,c)}}},e.CM=function(r,o){for(var a=o.gd,h=new u.ja(0),c=o.md;c!=-1;c=o.ve(c))for(var p=o.Ob(c);p!=-1;p=o.Sb(p))for(var m=o.Ya(p),g=0,_=o.Ka(p);g<_;m=o.V(m),g++)h.add(m);var b=new y(r,o);h.Wd(0,a,function(et,tt){return b.lM(et,tt)}),r=[];var x=[],P=o.Hd(),O=o.Hd();c=o.md,p=o.ve(c),_=new u.h;var L=new u.h,j=h.get(0),D=o.cd(j),k=o.Sf(D);o.D(j,_);var $=1;for(m=0;$<a-1;){var G=!1;for(g=$;g<a;g++)if(g!=m){var B=h.get(g),K=o.cd(B),X=o.Sf(K);if(o.D(B,L),_.rb(L))k==c&&X==p&&(G=e.pM(P,O,o,r,x,D,j,K,B));else break}if(G||m==$-1){if(G&&m==$-1&&$--,++m==a)break;j=h.get(m),D=o.cd(j),k=o.Sf(D),o.D(j,_)}G||($=m+1)}for(a=[],c=o.md;c!=-1;c=o.ve(c))for(p=o.Ob(c);p!=-1;p=o.Sb(p))for(h=o.Ya(p),g=0,_=o.Ka(p);g<_;h=o.V(h),g++){if(m=o.Qa(h,O),0<=m)for(;m<x.length&&x[m].ug==h;)a.push(x[m++]);if(m=o.Qa(h,P),0<=m)for(;m<r.length&&r[m].ug==h;)a.push(r[m++])}return o.Ud(P),o.Ud(O),a},e.pM=function(r,o,a,h,c,p,m,g,_){var b=a.tj(p),x=a.tj(g),P=a.Ya(p),O=a.Ya(g),L=a.Na(m),j=a.Na(_),D=!1,k=!1,$=!1,G=!1;return m!=P&&(_!=O&&(D=e.qM(r,a,h,p,L,g,j)),_!=x&&(k=e.rM(r,a,h,p,L,g,_))),m!=b&&(_!=O&&($=e.sM(o,a,c,p,m,g,j,P)),_!=x&&(G=e.tM(o,a,c,p,m,g,_,P))),D&&k&&$?(r=h.length-1,c[G?c.length-2:c.length-1].Gi==2&&(h[r-1]=h[r],--h.length)):D&&k&&G&&c[c.length-1].Gi==2&&(c=h[h.length-1],--h.length,a.Qa(c.ug,r)==h.length&&a.Sa(c.ug,r,-1)),D||k||$||G},e.qM=function(r,o,a,h,c,p,m){var g=new u.zb,_=new u.zb,b=[0,0],x=[0,0],P=o.cc(c);return P==null&&(o.fd(c,g),P=g),g=o.cc(m),g==null&&(o.fd(m,_),g=_),P=P.Fa(g,null,b,x,0),2>P&&(h=new n(c,h,b[0],NaN,P,m,p,x[0],NaN),a.push(h),h=o.Qa(c,r),0>h&&o.Sa(c,r,a.length-1)),!0},e.rM=function(r,o,a,h,c,p,m){var g=new u.zb,_=new u.zb,b=[0,0],x=[0,0],P=o.cc(c);return P==null&&(o.fd(c,g),P=g),g=o.cc(m),g==null&&(o.fd(m,_),g=_),P=P.Fa(g,null,b,x,0),2>P?(h=new n(c,h,b[0],NaN,P,m,p,x[0],NaN),a.push(h),h=o.Qa(c,r),0>h&&o.Sa(c,r,a.length-1),!0):!1},e.sM=function(r,o,a,h,c,p,m,g){var _=new u.zb,b=new u.zb,x=[0,0],P=[0,0],O=o.cc(c);return O==null&&(o.fd(c,_),O=_),_=o.cc(m),_==null&&(o.fd(m,b),_=b),O=O.Fa(_,null,x,P,0),O==2?(h=new n(c,h,x[0],x[1],O,m,p,P[0],P[1]),a.push(h),h=o.Qa(c,r),0>h&&o.Sa(c,r,a.length-1),!0):(b=!1,c==g&&(h=new n(c,h,x[0],NaN,O,m,p,P[0],NaN),a.push(h),h=o.Qa(c,r),0>h&&o.Sa(c,r,a.length-1),b=!0),b)},e.tM=function(r,o,a,h,c,p,m,g){var _=new u.zb,b=new u.zb,x=[0,0],P=[0,0],O=o.cc(c);return O==null&&(o.fd(c,_),O=_),_=o.cc(m),_==null&&(o.fd(m,b),_=b),O=O.Fa(_,null,x,P,0),O==2?(h=new n(c,h,x[0],x[1],O,m,p,P[0],P[1]),a.push(h),h=o.Qa(c,r),0>h&&o.Sa(c,r,a.length-1),!0):(b=!1,c==g&&(h=new n(c,h,x[0],NaN,O,m,p,P[0],NaN),a.push(h),h=o.Qa(c,r),0>h&&o.Sa(c,r,a.length-1),b=!0),b)},e.YL=function(r,o,a,h){var c=[];c[0]=new u.h,c[1]=new u.h,c[2]=new u.h,c[3]=new u.h;var p=new u.h,m=new u.h,g=new u.h,_=new u.h,b=null;h!=null&&(b=new u.jg,b.Qr());var x=0,P=null,O=new u.zb;new u.zb;for(var L=a.Ob(a.md);L!=-1;L=a.Sb(L)){for(var j=4,D=-1,k=-1,$=-1,G=-1,B=NaN,K=!0,X=!1,et=!0,tt=!0,lt=!0,ot=0,yt=L,vt=0,Ut=a.Ya(L),te=a.Ka(L),Oe=0;Oe<te;Ut=a.V(Ut),Oe++){var _e=a.cc(Ut);if(_e==null){if(!a.fd(Ut,O))continue;_e=O}k==-1&&(k=Ut);for(var Ft=0;x<o.length&&Ut==o[x].ug;){D=o[x].Ps;var Kt=o[x].ug,jt=o[x].JA,Se=o[x].Nm,ce=o[x].Cl,Be=o[x].QH;if(o[x].Gi==2){if(X||(yt=D,k=Kt,vt=jt,$=Se,G=ce,B=Be,j=2,h!=null?P=new u.Ua:ot=0,lt=!1,tt=!0),jt=o[x].PH,Be=o[x].JT,h!=null?(_e.dh(Ft,o[x].PH,b),P.pc(b.get(),tt)):ot++,Ft=jt,X=!0,tt=K=!1,x+1==o.length||o[x+1].Gi!=2||o[x+1].ug==Kt&&o[x+1].JA!=Ft){if(h!=null){var Yt=new C(P,2,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B);h.push(Yt)}else null.add(ot);yt=D,k=Kt,vt=jt,$=Se,G=ce,B=Be,j=2,X=K=!1,tt=lt=!0}}else{var Re=a.V(Kt);if(x<o.length-1&&o[x+1].ug==Re&&o[x+1].Cl==ce&&o[x+1].Gi==2)jt!=Ft&&(lt&&(h!=null?P=new u.Ua:ot=0),K=0<x&&o[x-1].Ps==D?j==1?0:j==0?1:3:3,h!=null?(_e.dh(Ft,jt,b),P.pc(b.get(),tt),Yt=new C(P,K,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):(ot++,null.add(ot)),Ft=jt,yt=D,k=Kt,vt=jt,$=Se,G=ce,B=Be,j=K,K=et=!1,tt=lt=!0);else if(!e.xM(r,a,o,x,p,m)){e.uM(a,o,x,L,Ut,g,_);var ee=!1;if(Re=!1,Yt=!0,!(p.rb(g)||m.rb(g)||p.rb(_)||m.rb(_))){c[0].N(p),c[1].N(m),c[2].N(g),c[3].N(_),c.sort(u.h.pu);var so=c[0],oc=c[1],ac=c[2],M1=c[3];so.rb(p)?oc.rb(m)?r?(Re=ee=!0,Yt=!1):ee=!1:M1.rb(m)?r?Yt=Re=ee=!0:ee=!1:(ee=!0,Yt=oc.rb(g)):oc.rb(p)?ac.rb(m)?r?(Re=ee=!0,Yt=!1):ee=!1:so.rb(m)?r?Yt=Re=ee=!0:ee=!1:(ee=!0,Yt=ac.rb(g)):ac.rb(p)?M1.rb(m)?r?(Re=ee=!0,Yt=!1):ee=!1:oc.rb(m)?r?Yt=Re=ee=!0:ee=!1:(ee=!0,Yt=M1.rb(g)):so.rb(m)?r?(Re=ee=!0,Yt=!1):ee=!1:ac.rb(m)?r?Yt=Re=ee=!0:ee=!1:(ee=!0,Yt=so.rb(g))}ee&&(ee=Ut==Kt,(jt!=Ft||ee&&Ft==0)&&(lt&&(h!=null?P=new u.Ua:ot=0),h!=null?(_e.dh(Ft,jt,b),P.pc(b.get(),tt)):ot++),Yt?j!=1?((jt!=Ft||ee&&Ft==0)&&(h!=null?(Yt=new C(P,1,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):null.add(ot)),Re?(x>=o.length-2||o[x+2].Ps!=D)&&(j=0):j=1):((jt!=Ft||ee&&Ft==0)&&(h!=null?(Yt=new C(P,3,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):null.add(ot)),j=1):j!=0?((jt!=Ft||ee&&Ft==0)&&(h!=null?(Yt=new C(P,0,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):null.add(ot)),Re?(x>=o.length-2||o[x+2].Ps!=D)&&(j=1):j=0):((jt!=Ft||ee&&Ft==0)&&(h!=null?(Yt=new C(P,3,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):null.add(ot)),j=0),(jt!=Ft||ee&&Ft==0)&&(Ft=jt,yt=D,k=Kt,vt=jt,$=Se,G=ce,B=Be,K=et=!1,tt=lt=!0))}}x++}Ft!=1&&(lt&&(h!=null?P=new u.Ua:ot=0),h!=null?(_e.dh(Ft,1,b),P.pc(b.get(),tt)):ot++,tt=lt=!1,et=!0)}et&&(jt=1,Kt=a.tj(L),Kt=a.Na(Kt),ce=Se=-1,Be=NaN,K?h!=null?(Yt=new C(P,4,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):null.add(ot):(K=j==1?0:j==0?1:3,h!=null?(Yt=new C(P,K,D,Kt,jt,j,yt,k,vt,Se,ce,Be,$,G,B),h.push(Yt)):null.add(ot)))}},e.xM=function(r,o,a,h,c,p){var m=a[h].QH;if(m==1)return e.vM(r,o,a,h,c,p);if(m==0)return e.wM(r,o,a,h,c,p);throw u.i.Ra()},e.vM=function(r,o,a,h,c,p){var m=new u.zb,g=a[h].ug,_=a[h].Nm,b=a[h].Cl,x=-1,P=-1,O=-1,L=-1;if(!r&&0<h){var j=a[h-1];x=j.ug,P=j.Nm,O=j.Cl,L=j.Gi}var D=-1,k=-1,$=-1,G=-1;h<a.length-1&&(j=a[h+1],D=j.ug,k=j.Nm,$=j.Cl,G=j.Gi);var B=o.V(g);return j=o.V(b),r?h==a.length-1||D!=g||k!=_||$!=j||G==2?(r=o.cc(b),r==null&&(o.fd(b,m),r=m),p.N(r.lg()),c.nt(p),p.normalize(),c.normalize(),!1):(r=o.cc(b),r==null&&(o.fd(b,m),r=m),c.N(r.lg()),r=o.cc(j),r==null&&(o.fd(j,m),r=m),p.N(r.lg()),c.Uq(),p.normalize(),c.normalize(),!1):0<h&&x==g&&P==_&&O==j&&L==2||h<a.length-1&&D==B&&k==_&&$==j&&G==2?(r=o.cc(b),r==null&&(o.fd(b,m),r=m),p.N(r.lg()),c.nt(p),p.normalize(),c.normalize(),!1):h<a.length-1&&D==g&&k==_&&$==j?(r=o.cc(b),r==null&&(o.fd(b,m),r=m),c.N(r.lg()),r=o.cc(j),r==null&&(o.fd(j,m),r=m),p.N(r.lg()),c.Uq(),p.normalize(),c.normalize(),!1):!0},e.wM=function(r,o,a,h,c,p){var m=new u.zb,g=a[h].ug,_=a[h].Nm,b=a[h].Cl,x=-1,P=-1,O=-1,L=-1;if(!r&&h<a.length-1){var j=a[h+1];x=j.ug,P=j.Nm,O=j.Cl,L=j.Gi}var D=-1,k=-1,$=-1;j=-1,0<h&&(j=a[h-1],D=j.ug,k=j.Nm,$=j.Cl,j=j.Gi);var G=o.V(g),B=o.Na(b);return r?h==0||D!=g||k!=_||$!=B||j==2?(r=o.cc(b),r==null&&(o.fd(b,m),r=m),p.N(r.lg()),c.nt(p),p.normalize(),c.normalize(),!1):!0:0<h&&D==g&&k==_&&$==B&&j==2||h<a.length-1&&x==G&&P==_&&O==B&&L==2?(r=o.cc(b),r==null&&(o.fd(b,m),r=m),p.N(r.lg()),c.nt(p),p.normalize(),c.normalize(),!1):!0},e.uM=function(r,o,a,h,c,p,m){var g=new u.zb,_=r.cc(c);if(_==null&&(r.fd(c,g),_=g),a=o[a],o=a.ug,a=a.JA,c=r.V(o),a==1)p.N(_.lg()),c!=-1&&c!=r.tj(h)?(_=r.cc(c),_==null&&(r.fd(c,g),_=g),m.N(_.lg()),_=r.cc(o),_==null&&r.fd(o,g)):m.N(p),p.Uq(),m.normalize(),p.normalize();else if(a==0)m.N(_.lg()),p.nt(m),m.normalize(),p.normalize();else throw u.i.Ra()},e}()}(U||(U={})),function(u){(function(h){h[h.Linear=0]="Linear",h[h.Angular=1]="Angular",h[h.Area=2]="Area"})(u.XL||(u.XL={}));var C=function(){function h(c,p,m){this.pd=p,this.ci=m,this.qA=c}return h.prototype.Nb=function(c){return c instanceof h?this.ci===c.ci:!1},h.WF=function(c){return c.pd!==0?null:c.qA===-1?new h(-1,2,c.ci*c.ci):h.ah(o[c.qA])},h.ah=function(c){return c=r[c],c===void 0?null:c},h.UO=function(c,p,m){var g=null;if(m!=null)try{m.values[0]==="EPSG"&&(g=h.ah(parseInt(m.values[1])))}catch{}return g===null&&(g=new h(-1,c,p)),g},h.prototype.Fc=function(){return this.qA},h.prototype.xF=function(c){if(c.pd!=this.pd)throw u.i.Hb();return this.ci/c.ci},h.Ph=function(c,p,m){return p.xF(m)*c},h.SE=function(c,p,m,g,_){for(m=m.xF(g),g=0;g<p;g++)_[g]=c[g]*m},h}();u.Uc=C;for(var y=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],n=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],e=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],r=[],o=[],a=0;a<y.length;a+=2)r[y[a]]=new C(y[a],2,y[a+1]);for(y=null,a=0;a<n.length;a+=2)r[n[a]]=new C(n[a],1,n[a+1]);for(n=null,a=0;a<e.length;a+=3)r[e[a]]=new C(e[a],0,e[a+1]),o[e[a]]=e[a+2];e=null}(U||(U={})),function(u){var C=function(){function y(){this.yb=this.pb=0}return y.prototype.set=function(n,e){e!==void 0?(this.pb=n,this.yb=e):typeof n=="number"?(this.pb=n,this.yb=0):(this.pb=n.pb,this.yb=n.yb)},y.prototype.value=function(){return this.pb},y.prototype.add=function(n){var e=this.pb+n.pb;n=this.yb+n.yb+2220446049250313e-31*Math.abs(e),this.pb=e,this.yb=n},y.prototype.fN=function(){var n=this.pb+1,e=this.yb+2220446049250313e-31*Math.abs(n);this.pb=n,this.yb=e},y.prototype.ZM=function(n,e){this.pb=n.pb+e.pb,this.yb=n.yb+e.yb+2220446049250313e-31*Math.abs(this.pb)},y.prototype.sub=function(n){if(typeof n=="number"){var e=this.pb-n;n=this.yb+2220446049250313e-31*Math.abs(e)}else e=this.pb-n.pb,n=this.yb+n.yb+2220446049250313e-31*Math.abs(e);this.pb=e,this.yb=n},y.prototype.Bg=function(n){var e=this.pb*n.pb;this.yb=this.yb*Math.abs(n.pb)+n.yb*Math.abs(this.pb)+this.yb*n.yb+2220446049250313e-31*Math.abs(e),this.pb=e},y.prototype.Po=function(n){var e=this.pb*n;this.yb=this.yb*Math.abs(n)+2220446049250313e-31*Math.abs(e),this.pb=e},y.prototype.Ml=function(n,e){var r=Math.abs(n.pb)*Math.abs(e.pb);this.yb=n.yb*Math.abs(e.pb)+e.yb*Math.abs(n.pb)+n.yb*e.yb+2220446049250313e-31*Math.abs(r),this.pb=r},y.prototype.lm=function(n){var e=Math.abs(n.pb),r=this.pb/n.pb,o=(this.yb+Math.abs(r)*n.yb)/e;n.yb>.01*e&&(n=n.yb/e,o*=1+(1+n)*n),this.pb=r,this.yb=o+2220446049250313e-31*Math.abs(r)},y.prototype.sqrt=function(){if(0<=this.pb){var n=Math.sqrt(this.pb),e=this.pb>10*this.yb?.5*this.yb/n:this.pb>this.yb?n-Math.sqrt(this.pb-this.yb):Math.max(n,Math.sqrt(this.pb+this.yb)-n);e+=2220446049250313e-31*Math.abs(n)}else this.pb<-1*this.yb?e=n=NaN:(n=0,e=Math.sqrt(this.yb));this.pb=n,this.yb=e},y.prototype.sin=function(n){var e=Math.sin(n.pb),r=Math.cos(n.pb);this.pb=e,e=Math.abs(e),this.yb=(Math.abs(r)+.5*e*n.yb)*n.yb+2220446049250313e-31*e},y.prototype.cos=function(n){var e=Math.sin(n.pb),r=Math.cos(n.pb);this.pb=r,r=Math.abs(r),this.yb=(Math.abs(e)+.5*r*n.yb)*n.yb+2220446049250313e-31*r},y.prototype.rg=function(){return Math.abs(this.pb)<=this.yb},y.prototype.rs=function(){return this.rg()&&this.yb!=0},y}();u.Xb=C}(U||(U={}));var Ce=new U.h,ls=new U.h,Hs=new U.h,Ws=new U.h,io=new U.h;(function(u){var C;(function(n){n[n.closedPath=1]="closedPath",n[n.exteriorPath=2]="exteriorPath",n[n.ringAreaValid=4]="ringAreaValid"})(C||(C={}));var y=function(){function n(e,r,o,a,h,c,p){r!==void 0?(this.ib=e,this.ek=r,this.dl=o,this.ki=a,this.za=c,this.cA=p,this.gw=h):(this.ib=e.ib,this.ek=e.ek,this.dl=e.dl,this.ki=e.ki,this.za=e.za,this.cA=e.cA,this.gw=e.gw),this.XG=!0}return n.prototype.next=function(){return this.XG?(this.XG=!1,this.ki):this.ki!=-1?(this.ki=this.ib.V(this.ki),this.za++,this.ki!=-1&&this.ki!=this.gw?this.ki:this.VT()):-1},n.prototype.VT=function(){for(this.dl=this.ib.Sb(this.dl),this.za=0;this.ek!=-1;){for(;this.dl!=-1;this.dl=this.ib.Sb(this.dl))if(this.gw=this.ki=this.ib.Ya(this.dl),this.ki!=-1)return this.ki;if(this.ek=this.ib.ve(this.ek),this.ek==-1)break;(!this.cA||u.ba.Ic(this.ib.jc(this.ek)))&&(this.dl=this.ib.Ob(this.ek))}return-1},n.vP=function(e,r,o,a,h,c,p){return new n(e,r,o,a,h,c,p)},n}();u.vY=y,C=function(){function n(){this.lo=this.Cm=this.yk=this.dd=this.Ek=this.xo=this.Qi=this.nd=this.di=this.Ug=this.Te=this.Kl=null,this.sw=this.md=-1,this.gd=0,this.aA=!1,this.it=this.jt=this.wb=null}return n.prototype.Uh=function(e){return this.Te!=null?this.Te[e]:null},n.prototype.Zg=function(e,r){if(this.Te==null){if(r==null)return;this.Te=[];for(var o=0,a=this.wb.I();o<a;o++)this.Te.push(null)}this.Te[e]=r},n.prototype.ep=function(e,r){this.nd.T(e,1,r)},n.prototype.cp=function(e,r){this.nd.T(e,2,r)},n.prototype.QB=function(e,r){this.nd.T(e,6,r)},n.prototype.Up=function(e){return this.nd.U(e,6)},n.prototype.gx=function(e,r){this.nd.T(e,7,r)},n.prototype.sv=function(e){return this.nd.U(e,0)},n.prototype.JJ=function(e,r){this.dd.T(e,1,r)},n.prototype.NJ=function(e,r){this.dd.T(e,0,r)},n.prototype.EF=function(e){return this.dd.U(e,7)},n.prototype.ap=function(e,r){this.dd.T(e,3,r)},n.prototype.bp=function(e,r){this.dd.T(e,4,r)},n.prototype.pU=function(e){this.dd==null&&(this.dd=new u.ad(8));var r=this.dd.De();return this.dd.T(r,2,e),this.dd.T(r,5,0),this.dd.T(r,6,0),this.dd.T(r,7,r),r},n.prototype.JQ=function(e){this.dd.kd(e)},n.prototype.rU=function(e){this.nd==null&&(this.nd=new u.ad(8),this.ud=new u.ad(5),this.Qi=new u.ce(0),this.xo=new u.ce(0));var r=this.nd.De();return this.nd.T(r,0,r),this.nd.T(r,3,0),this.nd.T(r,6,0),this.gx(r,e),r>=this.Qi.size&&(e=16>r?16:u.P.truncate(3*r/2),this.Qi.resize(e),this.xo.resize(e)),this.Qi.set(r,0),this.xo.set(r,0),r},n.prototype.nF=function(e){this.nd.kd(e)},n.prototype.Qy=function(e){this.ud.kd(e),this.gd--},n.prototype.jI=function(e){this.nd==null&&(this.nd=new u.ad(8),this.ud=new u.ad(5),this.Qi=new u.ce(0),this.xo=new u.ce(0));var r=this.ud.De(),o=0<=e?e:r;if(this.ud.T(r,0,o),0>e){if(o>=this.wb.I()){if(e=16>o?16:u.P.truncate(3*o/2),this.wb.resize(e),this.Te!=null)for(var a=0;a<e;a++)this.Te.push(null);this.Ug!=null&&this.Ug.resize(e),this.jt=this.wb.vb(0)}this.wb.Db(o,-1e38,-1e38),this.Te!=null&&(this.Te[o]=null),this.Ug!=null&&this.Ug.write(o,1)}return this.ud.T(r,4,2*o),this.gd++,r},n.prototype.yj=function(e,r,o){var a=r!=-1?this.Na(r):this.tj(e),h=a!=-1?this.V(a):-1,c=this.jI(o==null?this.gd:-1),p=this.Va(c);return o!=null&&this.wb.It(p,o),this.cj(c,e),this.Cc(c,h),this.Dc(c,a),h!=-1&&this.Dc(h,c),a!=-1&&this.Cc(a,c),o=this.ec(e),a=this.Ya(e),r==-1&&this.Yg(e,c),r==a&&this.Kf(e,c),o&&h==-1&&(this.Cc(c,c),this.Dc(c,c)),this.Xj(e,this.Ka(e)+1),e=this.Sf(e),this.Vj(e,this.I(e)+1),c},n.prototype.pm=function(){return this.lo==null&&(this.lo=new u.Ta(this.wb.description)),this.lo},n.prototype.$o=function(e,r){this.dd.T(e,2,this.dd.U(e,2)&-134217729||(r==1?134217728:0))},n.prototype.Kn=function(e){return this.dd.U(e,2)&134217728?1:0},n.prototype.cN=function(e){var r=this.Kg(e.K(),e.description);return e.K()==1736&&this.$o(r,e.Kn()),this.PD(r,e),r},n.prototype.dN=function(e){var r=this.Kg(e.K(),e.description);return this.QD(r,e),r},n.prototype.SV=function(e,r){this.nd==null&&(this.nd=new u.ad(8),this.ud=new u.ad(5),this.Qi=new u.ce(0),this.xo=new u.ce(0)),this.nd.Ee(this.nd.Jg+e),this.ud.Ee(this.ud.Jg+r),this.Qi.Jb(this.Qi.size+e),this.xo.Jb(this.xo.size+e)},n.prototype.PD=function(e,r){this.SV(r.ea(),r.I()),this.Kl.Gd(r,0,r.I()),this.jt=this.wb.vb(0);for(var o=this.Te!=null&&r.Se!=null,a=0,h=r.ea();a<h;a++)if(!(2>r.Ka(a))){var c=this.wf(e,-1);this.mn(c,r.ec(a));for(var p=r.Ca(a),m=r.Wc(a);p<m;p++){var g=this.yj(c,-1,null);if(o)if(g=this.Va(g),(r.UF(p)&1)!=0)this.Zg(g,null);else{var _=new u.jg;r.cc(p,_,!0),this.Zg(g,_.get())}}}},n.prototype.QD=function(e,r){this.Kl.Gd(r,0,r.I()),this.jt=this.wb.vb(0),e=this.wf(e,-1);var o=0;for(r=r.I();o<r;o++)this.yj(e,-1,null)},n.prototype.JX=function(e,r,o){var a=this.V(e);if(a==-1)throw u.i.Ra();for(var h=this.pm(),c=this.cd(e),p=0,m=r.ql(o);p<m;p++){var g=this.Va(e),_=this.V(e),b=r.Xp(o,p);p==0&&(b.Vo(h),this.Fh(e,h)),b.K()==322?this.Zg(g,null):this.Zg(g,u.ba.kg(b)),b.Ro(h),p<m-1?e=this.yj(c,_,h):this.Fh(a,h)}},n.prototype.IX=function(e,r,o){var a=this.V(e);if(a==-1)throw u.i.Ra();for(var h=this.pm(),c=this.cd(e),p=0,m=r.ql(o);p<m;p++){var g=this.Va(e),_=this.V(e),b=r.Xp(o,m-p-1);p==0&&(b.Ro(h),this.Fh(e,h)),b.K()==322?this.Zg(g,null):this.Zg(g,u.ba.kg(b)),b.Vo(h),p<m-1?e=this.yj(c,_,h):this.Fh(a,h)}},n.prototype.DF=function(){var e=new u.l;e.Pa();for(var r=this.$q(),o=new u.h,a=!0,h=r.next();h!=-1;h=r.next())this.D(h,o),a?e.$b(o.x,o.y):e.Nk(o.x,o.y),a=!1;return e},n.prototype.Ib=function(e){var r=e.K();if(u.ba.Ic(r))return this.cN(e);if(r==550)return this.dN(e);throw u.i.Ra()},n.prototype.pN=function(e,r){var o=r.K();if(u.ba.Ic(o))this.PD(e,r);else if(o==550)this.QD(e,r);else throw u.i.Ra()},n.prototype.hN=function(e,r){var o=this.Kg(1736,e.description);if(2>e.Ka(r))return o;this.Kl.Gd(e,e.Ca(r),e.Wc(r)),this.jt=this.wb.vb(0);var a=this.wf(o,-1);this.mn(a,e.ec(r)||!0);var h=this.Te!=null&&e.Se!=null,c=e.Ca(r);for(r=e.Wc(r);c<r;c++){var p=this.yj(a,-1,null);if(h)if(p=this.Va(p),(e.UF(c)&1)!=0)this.Zg(p,null);else{var m=new u.jg;e.cc(c,m,!0),this.Zg(p,m.get())}}return o},n.prototype.Ke=function(e){var r=this.jc(e),o=u.UK.Kg(r,this.Kl.description),a=this.I(e);if(a==0)return o;if(u.ba.Ic(r)){r=this.ea(e);for(var h=u.Zc.Qh(r+1),c=u.Zc.Or(r+1,0),p=o.description,m=0,g=p.Ba;m<g;m++){for(var _=p.ld(m),b=u.sa.Wa(_),x=u.Zc.TE(_,a),P=this.wb.vb(_),O=0,L=0,j=0,D=this.Ob(e);D!=-1;D=this.Sb(D)){var k=0;this.ec(D)&&(k|=1),this.TS(D)&&(k|=4),k!=0&&c.uJ(L,k);var $=this.Ka(D);if(h.write(L++,j),j+=$,_==0){$=P;var G=x,B=new u.h;for(k=this.Ya(D);O<j;k=this.V(k),O++){var K=this.Va(k);$.uc(2*K,B),G.Vt(2*O,B)}}else for(k=this.Ya(D);O<j;k=this.V(k),O++)for(K=this.Va(k),G=0;G<b;G++)B=P.gg(K*b+G),x.rr(O*b+G,B)}o.kn(_,x),h.write(r,a)}o.KJ(c),o.LJ(h),o.Qc(16777215)}else if(r==550){for(p=o.description,o.resize(a),m=0,g=p.Ba;m<g;m++){for(_=p.ld(m),b=u.sa.Wa(_),x=o.vb(_),P=this.wb.vb(_),O=0,D=this.Ob(e),$=this.Ka(D),k=this.Ya(D);O<$;k=this.V(k),O++)for(K=this.Va(k),G=0;G<b;G++)B=P.gg(K*b+G),x.rr(O*b+G,B);o.kn(_,x)}o.Qc(16777215)}return o},n.prototype.wB=function(e){for(var r=this.Ob(e);r!=-1;r=this.ar(r));r=this.KR(e);var o=this.ve(e);r!=-1?this.JJ(r,o):this.md=o,o!=-1?this.NJ(o,r):this.sw=r,this.JQ(e)},n.prototype.Kg=function(e,r){return r===void 0?this.VE(e,u.fe.pg()):this.VE(e,r)},n.prototype.VE=function(e,r){return e=this.pU(e),this.wb==null?this.wb=this.Kl=new u.ee(r):this.Kl.Ll(r),this.it=this.Kl.description,this.aA=1<this.it.Ba,this.md==-1?this.md=e:(this.NJ(e,this.sw),this.JJ(this.sw,e)),this.sw=e},n.prototype.ve=function(e){return this.dd.U(e,1)},n.prototype.KR=function(e){return this.dd.U(e,0)},n.prototype.jc=function(e){return this.dd.U(e,2)&2147483647},n.prototype.CJ=function(e,r,o){r=this.yk[r],e=this.EF(e),e>=r.size&&r.resize(Math.max(u.P.truncate(1.25*e),16),-1),r.write(e,o)},n.prototype.FF=function(e,r){return e=this.EF(e),r=this.yk[r],e<r.size?r.read(e):-1},n.prototype.WE=function(){this.yk==null&&(this.yk=[]);for(var e=0;e<this.yk.length;e++)if(this.yk[e]==null)return this.yk[e]=u.Zc.Qh(0),e;return this.yk.push(u.Zc.Qh(0)),this.yk.length-1},n.prototype.sW=function(e){this.yk[e]=null},n.prototype.Ob=function(e){return this.dd.U(e,3)},n.prototype.mv=function(e){return this.dd.U(e,4)},n.prototype.I=function(e){return this.dd.U(e,5)},n.prototype.ea=function(e){return this.dd.U(e,6)},n.prototype.Ip=function(e,r,o){for(var a=0,h=this.md;h!=-1;h=this.ve(h)){var c=this.jc(h);if(u.ba.Ic(c)&&(!o||c==1736)){c=this.jc(h)==1736;for(var p=this.Ob(h);p!=-1;){for(var m=0,g=this.Ya(p);m<u.P.truncate(this.Ka(p)/2);){var _=this.V(g);if(_==-1)break;var b=this.Va(g),x=this.Uh(b);x!=null?b=x.Rb():(x=this.Va(_),b=this.wb.Ar(b,x)),b<=e?(b==0?a==0&&(a=-1):a=1,_!=this.tj(p)&&(this.gC(_,g),this.qd(_,!0))):g=this.V(g),m++}for(m=this.Ya(p),g=this.ec(p)?m:this.tj(p);0<this.Ka(p);)if(_=this.Na(g),_!=-1){var P=this.Va(_);if(x=this.Uh(P),x!=null?b=x.Rb():(b=this.Va(g),b=this.wb.Ar(b,P)),b<=e)b==0?a==0&&(a=-1):a=1,this.gC(_,g),this.qd(_,!1),m==_&&(m=this.Ya(p));else if(g=this.Na(g),g==m)break}else{this.qd(g,!0),a==0&&(a=-1);break}g=this.Ka(p),r&&(c?3>g:2>g)?(p=this.ar(p),a=0<g?1:a==0?-1:a):p=this.Sb(p)}}}return a},n.prototype.gC=function(e,r){var o=this.Va(e),a=this.Va(r);if(this.Ug!=null&&(o=this.Ug.read(o),this.Ug.write(a,o)),this.di!=null){for(a=0,o=this.di.length;a<o;a++)if(this.di[a]!=null){var h=this.Qa(e,a);h!=-1&&this.Sa(r,a,h)}}},n.prototype.Wl=function(e,r,o){var a=0,h=this.V(e);if(h==-1)throw u.i.Ra();for(var c=this.Va(e),p=this.Va(h),m=this.Uh(c),g=m==null?this.wb.Ar(c,p):m.Rb(),_=0;_<o;_++){var b=r[_];if(0<b&&1>b){var x=b;m!=null&&(x=0<g?m.Tx(b)/g:0),this.wb.fD(c,p,x,this.pm());var P=this.yj(this.cd(e),h,this.pm());if(a++,m!=null){var O=m.fl(0,b);x=this.Va(this.Na(P)),this.Zg(x,O),this.mf(P,O.xc()),(_==o-1||r[_+1]==1)&&(b=m.fl(b,1),this.Zg(x,b))}}}return a},n.prototype.HX=function(e,r,o){var a=0,h=this.V(e);if(h==-1)throw u.i.ga("internal error");var c=this.Va(e),p=this.Va(h),m=this.Uh(c),g=m==null?this.wb.Ar(c,p):m.Rb(),_=0;e=this.cd(e);for(var b=0;b<o;b++){var x=r[b];if(_<x&&1>x){var P=x;if(m!=null&&(P=0<g?m.Tx(x)/g:0),this.wb.fD(c,p,P,this.pm()),P=this.tS(e,h,this.pm()),a++,m!=null){_=m.fl(_,x);var O=this.Va(this.Na(P));this.Zg(O,_),this.Db(P,_.qa,_.ma),(b==o-1||r[b+1]==1)&&(_=m.fl(x,1),P=this.Va(P),this.Zg(P,_))}}_=x}return a},n.prototype.tS=function(e,r,o){var a=r!=-1?this.Na(r):this.tj(e),h=a!=-1?this.V(a):-1,c=this.jI(o==null?this.gd:-1),p=this.Va(c);return o!=null&&this.wb.It(p,o),this.cj(c,e),this.Cc(c,h),this.Dc(c,a),h!=-1&&this.Dc(h,c),a!=-1&&this.Cc(a,c),o=this.ec(e),a=this.Ya(e),r==-1&&this.Yg(e,c),r==a&&(o&&a!=-1||this.Kf(e,c)),o&&h==-1&&(this.Cc(c,c),this.Dc(c,c)),this.Xj(e,this.Ka(e)+1),e=this.Sf(e),this.Vj(e,this.I(e)+1),c},n.prototype.pE=function(e,r,o){var a=this.Va(r),h=this.Va(o);if(0>a||h>this.gd-1)throw u.i.O("invalid call");if(a>h&&!this.ec(e))throw u.i.O("cannot iterate across an open path");for(e=0;r!=o;r=this.V(r))a=this.Va(r),h=this.Uh(a),h!=null?e+=h.Rb():(h=this.Va(this.V(r)),e+=this.wb.Ar(a,h));return e},n.prototype.Fh=function(e,r){var o=this.Va(e);this.wb.It(o,r),o=this.Uh(o),o!=null&&o.setStart(r),e=this.Na(e),e!=-1&&(e=this.Va(e),this.Uh(e)!=null&&o.setEnd(r))},n.prototype.Xi=function(e,r){e=this.Va(e),this.wb.we(e,r)},n.prototype.mf=function(e,r){this.Db(e,r.x,r.y)},n.prototype.Db=function(e,r,o){var a=this.Va(e);this.wb.Db(a,r,o),a=this.Uh(a),a!=null&&a.UB(r,o),e=this.Na(e),e!=-1&&(e=this.Va(e),this.Uh(e)!=null&&a.Sl(r,o))},n.prototype.D=function(e,r){this.wb.D(this.ud.U(e,0),r)},n.prototype.Hc=function(e,r){this.wb.Aa[0].uc(2*this.ud.U(e,0),r)},n.prototype.Oa=function(e){var r=new u.h;return this.wb.D(this.ud.U(e,0),r),r},n.prototype.ZF=function(e,r){this.jt.uc(2*e,r)},n.prototype.Vc=function(e,r,o){return this.wb.Vc(e,this.Va(r),o)},n.prototype.setAttribute=function(e,r,o,a){this.wb.setAttribute(e,this.Va(r),o,a)},n.prototype.Va=function(e){return this.ud.U(e,0)},n.prototype.kh=function(){var e=new u.h;return this.D(void 0,e),e.y},n.prototype.hq=function(e,r){e=this.Va(e),r=this.Va(r);var o=this.wb.Aa[0].o;return o[2*e]===o[2*r]&&o[2*e+1]===o[2*r+1]},n.prototype.Fv=function(e,r){e=this.Va(e);var o=this.wb.Aa[0].o;return o[2*e]===r.x&&o[2*e+1]===r.y},n.prototype.rX=function(e,r){if(1>r&&(r=1),this.Ug==null){if(r==1)return;this.Ug=u.Zc.Fn(this.wb.I(),1)}e=this.Va(e),e>=this.Ug.size&&this.Ug.resize(e+1,1),this.Ug.write(e,r)},n.prototype.YF=function(e){return e=this.Va(e),this.Ug==null||e>=this.Ug.size?1:this.Ug.read(e)},n.prototype.Sa=function(e,r,o){r=this.di[r],e=this.Va(e),r.size<this.wb.I()&&r.resize(this.wb.I(),-1),r.write(e,o)},n.prototype.Qa=function(e,r){return e=this.Va(e),r=this.di[r],e<r.size?r.read(e):-1},n.prototype.Hd=function(){this.di==null&&(this.di=[]);for(var e=0;e<this.di.length;e++)if(this.di[e]==null)return this.di[e]=u.Zc.Qh(0,-1),e;return this.di.push(u.Zc.Qh(0,-1)),this.di.length-1},n.prototype.Ud=function(e){this.di[e]=null},n.prototype.cc=function(e){return this.Te!=null?(e=this.Va(e),this.Te[e]):null},n.prototype.fd=function(e,r){var o=this.ud.U(e,2);if(o==-1)return!1;if(this.aA){var a=new u.Ta;this.Xi(e,a),r.setStart(a),this.Xi(o,a),r.setEnd(a)}else this.wb.Hc(this.ud.U(e,0),Ce),r.gm(0,Ce),this.wb.Hc(this.ud.U(o,0),Ce),r.gm(1,Ce);return!0},n.prototype.hW=function(e,r,o){if(this.aA){var a=new u.Ta;this.Xi(e,a),o.setStart(a),this.Xi(r,a),o.setEnd(a)}else this.wb.Hc(e,Ce),o.gm(0,Ce),this.wb.Hc(r,Ce),o.gm(1,Ce)},n.prototype.wf=function(e,r){if(r!=-1){if(e!=this.Sf(r))throw u.i.Ra();var o=this.es(r)}else o=this.mv(e);var a=this.rU(e);return r!=-1&&this.ep(r,a),this.cp(a,r),this.ep(a,o),o!=-1?this.cp(o,a):this.ap(e,a),r==-1&&this.bp(e,a),this.Tl(e,this.ea(e)+1),a},n.prototype.iG=function(e,r,o,a){e=this.wf(e,-1);for(var h=0,c=r,p=!1;c==o&&(p=!0),this.cj(c,e),h++,c=this.V(c),c!=r;);return this.mn(e,!0),this.Xj(e,h),p&&(r=o),this.Kf(e,r),this.Yg(e,this.Na(r)),this.fp(e,!1),a!=null&&(a[0]=p),e},n.prototype.ar=function(e){var r=this.es(e),o=this.Sb(e),a=this.Sf(e);return r!=-1?this.cp(r,o):this.ap(a,o),o!=-1?this.ep(o,r):this.bp(a,r),this.vO(e),this.Tl(a,this.ea(a)-1),this.nF(e),o},n.prototype.vO=function(e){var r=this.Ya(e);if(r!=-1){for(var o=0,a=this.Ka(e);o<a;o++){var h=r;r=this.V(r),this.Qy(h)}r=this.Sf(e),this.Vj(r,this.I(r)-this.Ka(e))}this.Xj(e,0)},n.prototype.Sb=function(e){return this.nd.U(e,2)},n.prototype.es=function(e){return this.nd.U(e,1)},n.prototype.Ka=function(e){return this.nd.U(e,3)},n.prototype.ec=function(e){return(this.Up(e)&1)!=0},n.prototype.mn=function(e,r){if(this.ec(e)!=r){if(0<this.Ka(e)){var o=this.Ya(e),a=this.tj(e);r?(this.Cc(a,o),this.Dc(o,a),o=this.Va(a)):(this.Cc(a,-1),this.Dc(o,-1),o=this.Va(a)),this.Zg(o,null)}this.QB(e,(this.Up(e)|1)-1|(r?1:0))}},n.prototype.Sf=function(e){return this.nd.U(e,7)},n.prototype.TS=function(e){return(this.Up(e)&2)!=0},n.prototype.KB=function(e,r){this.QB(e,(this.Up(e)|2)-2|(r?2:0))},n.prototype.qz=function(e){if(this.YS(e))return this.Qi.get(this.sv(e));var r=new u.zb,o=this.Ya(e);if(o==-1)return 0;var a=new u.h;this.D(o,a);for(var h=0,c=0,p=this.Ka(e);c<p;c++,o=this.V(o)){var m=this.cc(o);if(m==null){if(!this.fd(o,r))continue;m=r}h+=m.Sx(a.x,a.y)}return this.fp(e,!0),this.Qi.set(this.sv(e),h),h},n.prototype.ir=function(e,r,o){r=this.Ek[r],e=this.sv(e),r.size<this.Qi.size&&r.resize(this.Qi.size,-1),r.write(e,o)},n.prototype.uj=function(e,r){return e=this.sv(e),r=this.Ek[r],e<r.size?r.read(e):-1},n.prototype.Fy=function(){this.Ek==null&&(this.Ek=[]);for(var e=0;e<this.Ek.length;e++)if(this.Ek[e]==null)return this.Ek[e]=u.Zc.Qh(0),e;return this.Ek.push(u.Zc.Qh(0)),this.Ek.length-1},n.prototype.xB=function(e){this.Ek[e]=null},n.prototype.UT=function(e,r,o){if(o==-1)throw u.i.O();if(r!=o){var a=this.Sb(o),h=this.es(o),c=this.Sf(o);h==-1?this.ap(c,a):this.cp(h,a),a==-1?this.bp(c,h):this.ep(a,h),this.Vj(c,this.I(c)-this.Ka(o)),this.Tl(c,this.ea(c)-1),h=r==-1?this.mv(e):this.es(r),this.ep(o,h),this.cp(o,r),r==-1?this.bp(e,o):this.ep(r,o),h==-1?this.ap(e,o):this.cp(h,o),this.Vj(e,this.I(e)+this.Ka(o)),this.Tl(e,this.ea(e)+1),this.gx(o,e)}},n.prototype.kj=function(e,r){this.wb.we(this.Va(r),this.pm()),this.yj(e,-1,this.pm())},n.prototype.qd=function(e,r){var o=this.cd(e),a=this.Na(e),h=this.V(e);a!=-1&&this.Cc(a,h);var c=this.Ka(o);if(e==this.Ya(o)&&this.Kf(o,1<c?h:-1),h!=-1&&this.Dc(h,a),e==this.tj(o)&&this.Yg(o,1<c?a:-1),a!=-1&&h!=-1){a=this.Va(a);var p=this.Va(h);r?(r=this.Uh(a),r!=null&&(a=new u.h,this.wb.D(p,a),r.Rc(a))):(p=this.Va(e),r=this.Uh(p),this.Zg(a,r),r!=null&&(a=this.wb.Oa(a),r.Ec(a)))}return this.Xj(o,c-1),o=this.Sf(o),this.Vj(o,this.I(o)-1),this.Qy(e),h},n.prototype.Ya=function(e){return this.nd.U(e,4)},n.prototype.tj=function(e){return this.nd.U(e,5)},n.prototype.V=function(e){return this.ud.U(e,2)},n.prototype.Na=function(e){return this.ud.U(e,1)},n.prototype.cd=function(e){return this.ud.U(e,3)},n.prototype.hc=function(e,r){return this.yj(e,-1,r)},n.prototype.$q=function(e){if(e===void 0)return this.$q(!1);if(e instanceof y)return new y(e);var r,o=-1,a=-1,h=-1,c=0,p=!1;for(r=this.md;r!=-1;r=this.ve(r))if(!e||u.ba.Ic(this.jc(r))){for(o=this.Ob(r);o!=-1;o=this.Sb(o))if(h=a=this.Ya(o),c=0,a!=-1){p=!0;break}if(p)break}return y.vP(this,r,o,a,h,c,e)},n.prototype.Pc=function(e){if(this.Kl.Pc(e),this.Te!=null)for(var r=0,o=this.Te.length;r<o;r++)this.Te[r]!=null&&this.Te[r].Pc(e)},n.prototype.lr=function(e,r,o,a){a?this.JX(e,r,o):this.IX(e,r,o)},n.prototype.Dc=function(e,r){this.ud.T(e,1,r)},n.prototype.Cc=function(e,r){this.ud.T(e,2,r)},n.prototype.cj=function(e,r){this.ud.T(e,3,r)},n.prototype.Xj=function(e,r){this.nd.T(e,3,r)},n.prototype.Kf=function(e,r){this.nd.T(e,4,r)},n.prototype.Yg=function(e,r){this.nd.T(e,5,r)},n.prototype.Tl=function(e,r){this.dd.T(e,6,r)},n.prototype.Vj=function(e,r){this.dd.T(e,5,r)},n.prototype.kJ=function(e){var r=e;do{var o=this.V(r);this.Cc(r,this.Na(r)),this.Dc(r,o),r=o}while(r!=e)},n.prototype.XB=function(e){this.gd=e},n.prototype.br=function(e){var r=this.es(e),o=this.Sb(e),a=this.Sf(e);r!=-1?this.cp(r,o):this.ap(a,o),o!=-1?this.ep(o,r):this.bp(a,r),this.Kf(e,-1),this.Yg(e,-1),this.nF(e)},n.prototype.oi=function(e,r){var o=this.Na(e),a=this.V(e);if(o!=-1&&this.Cc(o,a),a!=-1&&this.Dc(a,o),o!=-1&&a!=-1)if(o=this.Va(o),a=this.Va(a),r){if(r=this.Uh(o),r!=null){var h=new u.h;this.wb.D(a,h),r.Rc(h)}}else r=this.Va(e),r=this.Uh(r),this.Zg(o,r),r!=null&&(h=new u.h,this.wb.D(o,h),r.Ec(h));this.Qy(e)},n.prototype.YS=function(e){return(this.Up(e)&4)!=0},n.prototype.fp=function(e,r){this.QB(e,(this.Up(e)|4)-4|(r?4:0))},n.prototype.nx=function(e,r){var o=this.ud.o;this.wb.oc();var a=this.wb.Aa[0].o;e.Wd(0,r,function(h,c){var p=o[5*h];h=o[5*c],c=a[2*p],p=a[2*p+1];var m=a[2*h];return h=a[2*h+1],p<h?-1:p>h?1:c<m?-1:c>m?1:0})},n.prototype.eS=function(){for(var e=this.md;e!=-1;e=this.ve(e))if(!u.ba.Ic(this.jc(e)))return!0;return!1},n.prototype.cC=function(e,r){for(var o=this.Ob(e),a=this.Ob(r),h=this.mv(e),c=this.mv(r),p=this.Ob(e);p!=-1;p=this.Sb(p))this.gx(p,r);for(p=this.Ob(r);p!=-1;p=this.Sb(p))this.gx(p,e);this.ap(e,a),this.ap(r,o),this.bp(e,c),this.bp(r,h),o=this.I(e),a=this.ea(e),h=this.ea(r),this.Vj(e,this.I(r)),this.Vj(r,o),this.Tl(e,h),this.Tl(r,a),o=this.dd.U(e,2),this.dd.T(e,2,this.dd.U(r,2)),this.dd.T(r,2,o)},n}(),u.hd=C})(U||(U={})),function(u){var C=function(y){function n(e,r,o,a){var h=y.call(this)||this;return h.aa=new u.l,e===void 0?h.PE():typeof e=="number"?h.QO(e,r,o,a):e instanceof u.Ta?r!==void 0?h.Su(e,r,o):h.RO(e):e instanceof u.sa?r!==void 0?h.TO(e,r):h.SO(e):e instanceof u.l?h.PO(e):h.PE(),h}return Bt(n,y),n.prototype.Su=function(e,r,o){this.description=u.fe.pg(),this.aa.Pa(),e.B()||this.vu(e,r,o)},n.prototype.PO=function(e){this.description=u.fe.pg(),this.aa.L(e),this.aa.normalize()},n.prototype.SO=function(e){if(e==null)throw u.i.O();this.description=e,this.aa.Pa()},n.prototype.TO=function(e,r){if(e==null)throw u.i.O();this.description=e,this.aa.L(r),this.aa.normalize()},n.prototype.PE=function(){this.description=u.fe.pg(),this.aa.Pa()},n.prototype.RO=function(e){this.description=u.fe.pg(),this.aa.Pa(),e.B()||this.vu(e)},n.prototype.QO=function(e,r,o,a){this.description=u.fe.pg(),this.L(e,r,o,a)},n.prototype.L=function(e,r,o,a){if(this.wc(),typeof e=="number")this.aa.L(e,r,o,a);else for(this.Pa(),r=0,o=e.length;r<o;r++)this.$b(e[r])},n.prototype.Zo=function(e){if(this.wc(),!e.aT())throw u.i.O();this.aa.L(e)},n.prototype.Pa=function(){this.wc(),this.aa.Pa()},n.prototype.B=function(){return this.aa.B()},n.prototype.S=function(){return this.aa.S()},n.prototype.da=function(){return this.aa.da()},n.prototype.ik=function(){return this.aa.ik()},n.prototype.Lp=function(){return this.aa.Lp()},n.prototype.Kp=function(){return this.aa.tf()},n.prototype.$b=function(e){if(e instanceof u.h)this.wc(),this.aa.$b(e);else if(e instanceof u.l)this.wc(),this.aa.$b(e);else if(e instanceof u.Ta){if(this.wc(),!e.Bc()){var r=e.description;if(this.description!=r&&this.Ll(r),this.B())this.vu(e);else{this.aa.$b(e.D());for(var o=1,a=r.Ba;o<a;o++)for(var h=r.Fd(o),c=u.sa.Wa(h),p=0;p<c;p++){var m=e.Vc(h,p),g=this.Vg(h,p);g.$b(m),this.setInterval(h,p,g)}}}}else if(e instanceof n&&!e.B())for(r=e.description,r!=this.description&&this.Ll(r),this.aa.$b(e.aa),o=1,a=r.Ba;o<a;o++)for(h=r.ld(o),c=u.sa.Wa(h),p=0;p<c;p++)m=e.Vg(h,p),g=this.Vg(h,p),g.$b(m),this.setInterval(h,p,g)},n.prototype.vu=function(e,r,o){if(r!==void 0){this.aa.L(e.D(),r,o),r=e.description,o=1;for(var a=r.Ba;o<a;o++)for(var h=r.Fd(o),c=u.sa.Wa(h),p=0;p<c;p++){var m=e.Vc(h,p);this.setInterval(h,p,m,m)}}else for(this.aa.L(e.la[0],e.la[1]),r=e.description,o=1,a=r.Ba;o<a;o++)for(h=r.Fd(o),c=u.sa.Wa(h),p=0;p<c;p++)m=e.Vc(h,p),this.setInterval(h,p,m,m)},n.prototype.setInterval=function(e,r,o,a){if(o=typeof o=="number"?new u.Oc(o,a):o,this.wc(),e==0)if(r==0)this.aa.v=o.pa,this.aa.C=o.wa;else if(r==1)this.aa.G=o.pa,this.aa.H=o.wa;else throw u.i.de();else this.qD(0,e,r,o.pa),this.qD(1,e,r,o.wa)},n.prototype.X=function(e,r){this.wc(),this.aa.X(e,r)},n.prototype.Pc=function(e){if(e instanceof u.Ed)this.wc(),e.hC(this.aa);else if(this.wc(),!this.aa.B()){var r=new u.JK;this.So(r),r.SS()?r.Pa():e.hC(r)}},n.prototype.copyTo=function(e){if(e.K()!=this.K())throw u.i.O();if(e.wc(),e.description=this.description,e.aa.L(this.aa),e.la=null,this.la!=null){e.qu();for(var r=0;r<2*(this.description.Be.length-2);r++)e.la[r]=this.la[r]}},n.prototype.Ja=function(){return new n(this.description)},n.prototype.He=function(){return this.aa.rF()},n.prototype.Rb=function(){return this.aa.tR()},n.prototype.K=function(){return 197},n.prototype.Eb=function(){return 2},n.prototype.dn=function(e){this.copyTo(e)},n.prototype.A=function(e){e.v=this.aa.v,e.G=this.aa.G,e.C=this.aa.C,e.H=this.aa.H},n.prototype.So=function(e){e.v=this.aa.v,e.G=this.aa.G,e.C=this.aa.C,e.H=this.aa.H,e.L(this.aa.v,this.aa.G,this.Pd(0,1,0),this.aa.C,this.aa.H,this.Pd(1,1,0))},n.prototype.Vg=function(e,r){var o=new u.Oc;return o.L(this.Pd(0,e,r),this.Pd(1,e,r)),o},n.prototype.If=function(e,r){r.Pf(this.description);var o=this.description.Ba-1;switch(e){case 0:for(e=0;e<o;e++)for(var a=this.description.ld(e),h=u.sa.Wa(a),c=0;c<h;c++)r.setAttribute(a,c,this.Pd(0,a,c));r.Db(this.aa.v,this.aa.G);break;case 1:for(e=0;e<o;e++)for(a=this.description.ld(e),h=u.sa.Wa(a),c=0;c<h;c++)r.setAttribute(a,c,this.Pd(1,a,c));r.Db(this.aa.v,this.aa.H);break;case 2:for(e=0;e<o;e++)for(a=this.description.ld(e),h=u.sa.Wa(a),c=0;c<h;c++)r.setAttribute(a,c,this.Pd(0,a,c));r.Db(this.aa.C,this.aa.H);break;case 3:for(e=0;e<o;e++)for(a=this.description.ld(e),h=u.sa.Wa(a),c=0;c<h;c++)r.setAttribute(a,c,this.Pd(1,a,c));r.Db(this.aa.C,this.aa.G);break;default:throw u.i.de()}},n.prototype.hB=function(e,r){e=this.aa.hB(e),r.na(e.x,e.y)},n.prototype.fR=function(e,r){return r*(e.Qq-2)},n.prototype.sF=function(e,r,o){if(this.aa.B())throw u.i.ga("empty geometry");if(r==0)return e!=0?o!=0?this.aa.H:this.aa.C:o!=0?this.aa.G:this.aa.v;if(o>=u.sa.Wa(r))throw u.i.O();var a=this.description.Rf(r);return this.qu(),0<=a?this.la[this.fR(this.description,e)+this.description.GR(a)-2+o]:u.sa.te(r)},n.prototype.qu=function(){if(this.wc(),this.la==null&&2<this.description.Be.length){this.la=[];for(var e=n.Ig(this.description,0),r=n.Ig(this.description,1),o=0,a=1,h=this.description.Ba;a<h;a++){var c=this.description.ld(a),p=u.sa.Wa(c);c=u.sa.te(c);for(var m=0;m<p;m++)this.la[e+o]=c,this.la[r+o]=c,o++}}},n.prototype.un=function(e){if(this.la!=null)if(2<e.Be.length){for(var r=u.fe.Kw(e,this.description),o=[],a=n.Ig(this.description,0),h=n.Ig(this.description,1),c=n.Ig(e,0),p=n.Ig(e,1),m=0,g=1,_=e.Ba;g<_;g++){var b=e.ld(g),x=u.sa.Wa(b);if(r[g]==-1){var P=u.sa.te(b);for(b=0;b<x;b++)o[c+m]=P,o[p+m]=P,m++}else for(P=this.description.bk(r[g])-2,b=0;b<x;b++)o[c+m]=this.la[a+P],o[p+m]=this.la[h+P],m++,P++}this.la=o}else this.la=null;this.description=e},n.prototype.Pd=function(e,r,o){if(this.aa.B())throw u.i.ga("This operation was performed on an Empty Geometry.");if(r==0)return e!=0?o!=0?this.aa.H:this.aa.C:o!=0?this.aa.G:this.aa.v;if(o>=u.sa.Wa(r))throw u.i.de();var a=this.description.Rf(r);return 0<=a?(this.qu(),this.la[n.Ig(this.description,e)+this.description.bk(a)-2+o]):u.sa.te(r)},n.prototype.qD=function(e,r,o,a){if(this.wc(),r==0)e!=0?o!=0?this.aa.H=a:this.aa.C=a:o!=0?this.aa.G=a:this.aa.v=a;else{if(o>=u.sa.Wa(r))throw u.i.de();if(!this.hasAttribute(r)){if(u.sa.yG(r,a))return;this.se(r)}r=this.description.Rf(r),this.qu(),this.la[n.Ig(this.description,e)+this.description.bk(r)-2+o]=a}},n.Ig=function(e,r){return r*(e.Be.length-2)},n.prototype.Fa=function(e){this.wc();var r=new u.l;return e.A(r),this.aa.Fa(r)},n.prototype.isIntersecting=function(e){return e instanceof u.l?this.aa.isIntersecting(e):this.aa.isIntersecting(e.aa)},n.prototype.Lu=function(e,r){this.wc(),e.B()?this.Pa():r!==void 0?this.vu(e,r,void 0):this.aa.Lu(e.Ng(),e.kh())},n.prototype.offset=function(e,r){this.wc(),this.aa.offset(e,r)},n.prototype.normalize=function(){this.wc(),this.aa.normalize()},n.prototype.tf=function(e){if(e!==void 0)if(e.Pf(this.description),this.B())e.Pa();else{for(var r=this.description.Ba,o=1;o<r;o++)for(var a=this.description.ld(o),h=u.sa.Wa(a),c=0;c<h;c++){var p=.5*(this.sF(0,a,c)+this.sF(1,a,c));e.setAttribute(a,c,p)}e.Db(this.aa.tf())}else{if(e=new u.Ta(this.description),this.B())return e;for(r=this.description.Ba,o=1;o<r;o++)for(a=this.description.Fd(o),h=u.sa.Wa(a),c=0;c<h;c++)p=.5*(this.Pd(0,a,c)+this.Pd(1,a,c)),e.setAttribute(a,c,p);return e.Db(this.aa.ik(),this.aa.Lp()),e}},n.prototype.hz=function(){return new u.Ta(this.aa.hz())},n.prototype.contains=function(e){return e instanceof u.Ta?e.B()?!1:this.aa.contains(e.Ng(),e.kh()):this.aa.contains(e.aa)},n.prototype.ZO=function(e){return this.aa.contains(e)},n.prototype.Nb=function(e){if(e==this)return!0;if(!(e instanceof n)||this.description!=e.description)return!1;if(this.B())return!!e.B();if(!this.aa.Nb(e.aa))return!1;for(var r=0,o=2*(this.description.Be.length-2);r<o;r++)if(this.la[r]!=e.la[r])return!1;return!0},n.prototype.dc=function(){var e=this.description.dc();if(e=u.P.Vh(e,this.aa.dc()),!this.B()&&this.la!=null)for(var r=0,o=2*(this.description.Be.length-2);r<o;r++)e=u.P.Vh(e,this.la[r]);return e},n.prototype.gs=function(){return this.aa.v},n.prototype.js=function(){return this.aa.G},n.prototype.fs=function(){return this.aa.C},n.prototype.hs=function(){return this.aa.H},n.prototype.ng=function(){return u.si.im(this,null)},n.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.aa.v+", "+this.aa.G+", "+this.aa.C+", "+this.aa.H+"]"},n}(u.ba);u.Hh=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o){n===void 0?this.Pa():(this.v=n,this.G=e,this.C=r,this.H=o)}return y.construct=function(n,e,r,o){var a=new y;return a.v=n,a.G=e,a.C=r,a.H=o,a},y.prototype.L=function(n,e,r,o){typeof n=="number"?r!==void 0?(this.v=n,this.G=e,this.C=r,this.H=o,this.normalize()):(this.v=n,this.G=e,this.C=n,this.H=e):n instanceof u.h?e!==void 0?(this.v=n.x-.5*e,this.C=this.v+e,this.G=n.y-.5*r,this.H=this.G+r,this.normalize()):(this.v=n.x,this.G=n.y,this.C=n.x,this.H=n.y):n instanceof y?this.L(n.v,n.G,n.C,n.H):n instanceof u.Oc&&(n.B()||e.B()?this.Pa():(this.v=n.pa,this.C=n.wa,this.G=e.pa,this.H=e.wa))},y.prototype.bx=function(n,e){if(e!==void 0)if(e==0)this.Pa();else{this.v=n[0].x,this.G=n[0].y,this.C=this.v,this.H=this.G;for(var r=1;r<e;r++){var o=n[r];o.x<this.v?this.v=o.x:o.x>this.C&&(this.C=o.x),o.y<this.G?this.G=o.y:o.y>this.H&&(this.H=o.y)}}else if(n==null||n.length==0)this.Pa();else for(o=n[0],this.L(o.x,o.y),r=1;r<n.length;r++)e=n[r],this.Nk(e.x,e.y)},y.prototype.Pa=function(){this.H=this.C=this.G=this.v=NaN},y.prototype.B=function(){return isNaN(this.v)},y.prototype.$b=function(n,e){typeof n=="number"?this.B()?(this.v=n,this.G=e,this.C=n,this.H=e):(this.v>n?this.v=n:this.C<n&&(this.C=n),this.G>e?this.G=e:this.H<e&&(this.H=e)):n instanceof u.h?this.$b(n.x,n.y):n instanceof u.Od?this.$b(n.x,n.y):n instanceof y&&!n.B()&&(this.$b(n.v,n.G),this.$b(n.C,n.H))},y.prototype.Nk=function(n,e){this.v>n?this.v=n:this.C<n&&(this.C=n),this.G>e?this.G=e:this.H<e&&(this.H=e)},y.prototype.X=function(n,e){this.B()||(this.v-=n,this.C+=n,this.G-=e,this.H+=e,(this.v>this.C||this.G>this.H)&&this.Pa())},y.prototype.scale=function(n){0>n&&this.Pa(),this.B()||(this.v*=n,this.C*=n,this.G*=n,this.H*=n)},y.prototype.zoom=function(n,e){this.B()||this.L(this.tf(),n*this.S(),e*this.da())},y.prototype.isIntersecting=function(n){return!this.B()&&!n.B()&&(this.v<=n.v?this.C>=n.v:n.C>=this.v)&&(this.G<=n.G?this.H>=n.G:n.H>=this.G)},y.prototype.CG=function(n){return(this.v<=n.v?this.C>=n.v:n.C>=this.v)&&(this.G<=n.G?this.H>=n.G:n.H>=this.G)},y.prototype.Fa=function(n){return this.B()||n.B()?!1:(n.v>this.v&&(this.v=n.v),n.C<this.C&&(this.C=n.C),n.G>this.G&&(this.G=n.G),n.H<this.H&&(this.H=n.H),(n=this.v<=this.C&&this.G<=this.H)||this.Pa(),n)},y.prototype.hB=function(n){switch(n){case 0:return u.h.construct(this.v,this.G);case 1:return u.h.construct(this.v,this.H);case 2:return u.h.construct(this.C,this.H);case 3:return u.h.construct(this.C,this.G);default:throw u.i.de()}},y.prototype.iB=function(n){if(n==null||4>n.length)throw u.i.O();n[0]!=null?n[0].na(this.v,this.G):n[0]=u.h.construct(this.v,this.G),n[1]!=null?n[1].na(this.v,this.H):n[1]=u.h.construct(this.v,this.H),n[2]!=null?n[2].na(this.C,this.H):n[2]=u.h.construct(this.C,this.H),n[3]!=null?n[3].na(this.C,this.G):n[3]=u.h.construct(this.C,this.G)},y.prototype.rF=function(){return this.B()?0:this.S()*this.da()},y.prototype.tR=function(){return this.B()?0:2*(this.S()+this.da())},y.prototype.ik=function(){return(this.C+this.v)/2},y.prototype.Lp=function(){return(this.H+this.G)/2},y.prototype.S=function(){return this.C-this.v},y.prototype.da=function(){return this.H-this.G},y.prototype.move=function(n,e){this.B()||(this.v+=n,this.G+=e,this.C+=n,this.H+=e)},y.prototype.Lu=function(n,e){if(e!==void 0)this.move(n-this.ik(),e-this.Lp());else if(n instanceof u.h)this.Lu(n.x,n.y);else if(n instanceof u.Ta){e=(this.C-this.v)/2;var r=(this.H-this.G)/2;this.v=n.Ng()-e,this.C=n.Ng()+e,this.G=n.kh()-r,this.H=n.kh()+r}else throw u.i.O()},y.prototype.offset=function(n,e){this.v+=n,this.C+=n,this.G+=e,this.H+=e},y.prototype.normalize=function(){if(!this.B()){var n=Math.min(this.v,this.C),e=Math.max(this.v,this.C);this.v=n,this.C=e,n=Math.min(this.G,this.H),e=Math.max(this.G,this.H),this.G=n,this.H=e}},y.prototype.fn=function(n){n.na(this.v,this.G)},y.prototype.VI=function(n){n.na(this.C,this.G)},y.prototype.YI=function(n){n.na(this.v,this.H)},y.prototype.gn=function(n){n.na(this.C,this.H)},y.prototype.aT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},y.prototype.tf=function(){return u.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},y.prototype.hz=function(){return u.h.construct(this.v,this.G)},y.prototype.contains=function(n,e){if(e!==void 0)return n>=this.v&&n<=this.C&&e>=this.G&&e<=this.H;if(n instanceof u.Ta)return this.contains(n.Ng(),n.kh());if(n instanceof u.h)return this.contains(n.x,n.y);if(n instanceof y)return n.v>=this.v&&n.C<=this.C&&n.G>=this.G&&n.H<=this.H;throw u.i.O()},y.prototype.jm=function(n,e){if(e!==void 0)return n>this.v&&n<this.C&&e>this.G&&e<this.H;if(n instanceof u.h)return this.jm(n.x,n.y);if(n instanceof y)return n.v>this.v&&n.C<this.C&&n.G>this.G&&n.H<this.H;throw u.i.O()},y.prototype.Nb=function(n){return n==this?!0:n instanceof y?this.B()&&n.B()?!0:!(this.v!=n.v||this.G!=n.G||this.C!=n.C||this.H!=n.H):!1},y.prototype.dc=function(){var n=this.v;n=u.P.truncate(n^n>>>32);var e=u.P.Vh(n);return n=this.C,n=u.P.truncate(n^n>>>32),e=u.P.Vh(n,e),n=this.G,n=u.P.truncate(n^n>>>32),e=u.P.Vh(n,e),n=this.H,n=u.P.truncate(n^n>>>32),e=u.P.Vh(n,e)},y.prototype.zr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},y.prototype.uy=function(n,e){var r=this.ak(n),o=this.ak(e);if(r&o)return 0;if(!(r|o))return 4;var a=(r!=0?1:0)|(o!=0?2:0);do{var h=e.x-n.x,c=e.y-n.y;if(h>c?r&y.TC?(r&y.lu?(n.y+=c*(this.v-n.x)/h,n.x=this.v):(n.y+=c*(this.C-n.x)/h,n.x=this.C),r=this.ak(n)):o&y.TC?(o&y.lu?(e.y+=c*(this.v-e.x)/h,e.x=this.v):(e.y+=c*(this.C-e.x)/h,e.x=this.C),o=this.ak(e)):r!=0?(r&y.mu?(n.x+=h*(this.G-n.y)/c,n.y=this.G):(n.x+=h*(this.H-n.y)/c,n.y=this.H),r=this.ak(n)):(o&y.mu?(e.x+=h*(this.G-e.y)/c,e.y=this.G):(e.x+=h*(this.H-e.y)/c,e.y=this.H),o=this.ak(e)):r&y.UC?(r&y.mu?(n.x+=h*(this.G-n.y)/c,n.y=this.G):(n.x+=h*(this.H-n.y)/c,n.y=this.H),r=this.ak(n)):o&y.UC?(o&y.mu?(e.x+=h*(this.G-e.y)/c,e.y=this.G):(e.x+=h*(this.H-e.y)/c,e.y=this.H),o=this.ak(e)):r!=0?(r&y.lu?(n.y+=c*(this.v-n.x)/h,n.x=this.v):(n.y+=c*(this.C-n.x)/h,n.x=this.C),r=this.ak(n)):(o&y.lu?(e.y+=c*(this.v-e.x)/h,e.x=this.v):(e.y+=c*(this.C-e.x)/h,e.x=this.C),o=this.ak(e)),r&o)return 0}while(r|o);return a},y.prototype.ak=function(n){return(n.x<this.v?1:0)|(n.x>this.C?1:0)<<1|(n.y<this.G?1:0)<<2|(n.y>this.H?1:0)<<3},y.prototype.Di=function(n){return!this.B()&&(this.S()<=n||this.da()<=n)},y.prototype.ub=function(n){return n instanceof u.h?Math.sqrt(this.dK(n)):Math.sqrt(this.px(n))},y.prototype.px=function(n){var e=0,r=0,o=this.v-n.C;return o>e&&(e=o),o=this.G-n.H,o>r&&(r=o),o=n.v-this.C,o>e&&(e=o),o=n.G-this.H,o>r&&(r=o),e*e+r*r},y.prototype.dK=function(n){var e=0,r=0,o=this.v-n.x;return o>e&&(e=o),o=this.G-n.y,o>r&&(r=o),o=n.x-this.C,o>e&&(e=o),o=n.y-this.H,o>r&&(r=o),e*e+r*r},y.prototype.en=function(n){this.B()?n.Pa():n.L(this.v,this.C)},y.lu=1,y.mu=4,y.TC=3,y.UC=12,y}();u.l=C}(U||(U={})),function(u){var C;(function(n){n[n.initialize=0]="initialize",n[n.initializeRed=1]="initializeRed",n[n.initializeBlue=2]="initializeBlue",n[n.initializeRedBlue=3]="initializeRedBlue",n[n.sweep=4]="sweep",n[n.sweepBruteForce=5]="sweepBruteForce",n[n.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",n[n.sweepRedBlue=7]="sweepRedBlue",n[n.sweepRed=8]="sweepRed",n[n.sweepBlue=9]="sweepBlue",n[n.iterate=10]="iterate",n[n.iterateRed=11]="iterateRed",n[n.iterateBlue=12]="iterateBlue",n[n.iterateBruteForce=13]="iterateBruteForce",n[n.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",n[n.resetRed=15]="resetRed",n[n.resetBlue=16]="resetBlue"})(C||(C={}));var y=function(){function n(e,r){this.ei=e,this.ZG=r}return n.prototype.qr=function(e,r,o){this.ei.FX(o,e,r,this.ZG)},n.prototype.bq=function(e){return this.ei.Tr(e,this.ZG)},n}();C=function(){function n(){this.qw=this.qo=this.ff=this.sd=null,this.yq=new u.l,this.Cm=this.Jj=this.Kj=this.Bd=this.Ff=this.Md=this.ew=this.io=this.rd=this.Fb=null,this.Yb=-1,this.ra=0,this.Pk()}return n.prototype.mr=function(){this.Pk(),this.Rv=!0,this.Fb==null?(this.io=new u.ja(0),this.Fb=[]):(this.io.Dh(0),this.Fb.length=0)},n.prototype.bd=function(e,r){if(!this.Rv)throw u.i.Hb();var o=new u.l;o.L(r),this.io.add(e),this.Fb.push(o)},n.prototype.Hp=function(){if(!this.Rv)throw u.i.Hb();this.Rv=!1,this.Fb!=null&&0<this.Fb.length&&(this.Yb=0,this.Jc=!1)},n.prototype.kK=function(){this.Pk(),this.Qv=!0,this.Fb==null?(this.io=new u.ja(0),this.Fb=[]):(this.io.Dh(0),this.Fb.length=0)},n.prototype.DD=function(e,r){if(!this.Qv)throw u.i.Hb();var o=new u.l;o.L(r),this.io.add(e),this.Fb.push(o)},n.prototype.dF=function(){if(!this.Qv)throw u.i.Hb();this.Qv=!1,this.Fb!=null&&0<this.Fb.length&&this.rd!=null&&0<this.rd.length&&(this.Yb==-1?this.Yb=3:this.Yb==2?this.Yb=3:this.Yb!=3&&(this.Yb=1),this.Jc=!1)},n.prototype.jK=function(){this.Pk(),this.Pv=!0,this.rd==null?(this.ew=new u.ja(0),this.rd=[]):(this.ew.Dh(0),this.rd.length=0)},n.prototype.zD=function(e,r){if(!this.Pv)throw u.i.Hb();var o=new u.l;o.L(r),this.ew.add(e),this.rd.push(o)},n.prototype.cF=function(){if(!this.Pv)throw u.i.Hb();this.Pv=!1,this.Fb!=null&&0<this.Fb.length&&this.rd!=null&&0<this.rd.length&&(this.Yb==-1?this.Yb=3:this.Yb==1?this.Yb=3:this.Yb!=3&&(this.Yb=2),this.Jc=!1)},n.prototype.next=function(){if(this.Jc)return!1;for(var e=!0;e;)switch(this.Yb){case 0:e=this.Bz();break;case 1:e=this.mS();break;case 2:e=this.jS();break;case 3:e=this.lS();break;case 4:e=this.QX();break;case 5:e=this.MX();break;case 6:e=this.NX();break;case 7:e=this.OX();break;case 8:e=this.tx();break;case 9:e=this.dC();break;case 10:e=this.Pz();break;case 11:e=this.eT();break;case 12:e=this.bT();break;case 13:e=this.cT();break;case 14:e=this.dT();break;case 15:e=this.fJ();break;case 16:e=this.eJ();break;default:throw u.i.Ra()}return!this.Jc},n.prototype.WB=function(e){this.ra=e},n.prototype.oz=function(e){return this.Fb[e]},n.prototype.Wy=function(e){return this.rd[e]},n.prototype.pl=function(e){return this.io.read(e)},n.prototype.jl=function(e){return this.ew.read(e)},n.Oz=function(e){return(e&1)==1},n.gq=function(e){return(e&1)==0},n.prototype.Pk=function(){this.Rv=this.Pv=this.Qv=!1,this.Df=this.Ef=this.Tg=this.qe=-1,this.Jc=!0},n.prototype.Bz=function(){if(this.Bf=this.Xf=-1,10>this.Fb.length)return this.qe=this.Fb.length,this.Yb=5,!0;this.sd==null&&(this.sd=new u.ur(!0),this.qo=this.sd.getIterator(),this.Md=new u.ja(0)),this.sd.mr();for(var e=0;e<this.Fb.length;e++){var r=this.Fb[e];this.sd.Dr(r.v,r.C)}for(this.sd.Hp(),this.Md.Jb(2*this.Fb.length),this.Md.resize(0),e=0;e<2*this.Fb.length;e++)this.Md.add(e);return this.Mt(this.Md,2*this.Fb.length,!0),this.qe=2*this.Fb.length,this.Yb=4,!0},n.prototype.mS=function(){if(this.Bf=this.Xf=-1,10>this.Fb.length||10>this.rd.length)return this.qe=this.Fb.length,this.Yb=6,!0;this.sd==null&&(this.sd=new u.ur(!0),this.qo=this.sd.getIterator(),this.Md=new u.ja(0)),this.sd.mr();for(var e=0;e<this.Fb.length;e++){var r=this.Fb[e];this.sd.Dr(r.v,r.C)}for(this.sd.Hp(),this.Md.Jb(2*this.Fb.length),this.Md.resize(0),e=0;e<2*this.Fb.length;e++)this.Md.add(e);return this.Mt(this.Md,this.Md.size,!0),this.qe=this.Md.size,this.Ef!=-1&&(this.Bd.eh(this.Ef),this.Kj.resize(0),this.Ef=-1),this.Yb=7,this.eJ()},n.prototype.jS=function(){if(this.Bf=this.Xf=-1,10>this.Fb.length||10>this.rd.length)return this.qe=this.Fb.length,this.Yb=6,!0;this.ff==null&&(this.ff=new u.ur(!0),this.qw=this.ff.getIterator(),this.Ff=new u.ja(0)),this.ff.mr();for(var e=0;e<this.rd.length;e++){var r=this.rd[e];this.ff.Dr(r.v,r.C)}for(this.ff.Hp(),this.Ff.Jb(2*this.rd.length),this.Ff.resize(0),e=0;e<2*this.rd.length;e++)this.Ff.add(e);return this.Mt(this.Ff,this.Ff.size,!1),this.Tg=this.Ff.size,this.Df!=-1&&(this.Bd.eh(this.Df),this.Jj.resize(0),this.Df=-1),this.Yb=7,this.fJ()},n.prototype.lS=function(){if(this.Bf=this.Xf=-1,10>this.Fb.length||10>this.rd.length)return this.qe=this.Fb.length,this.Yb=6,!0;this.sd==null&&(this.sd=new u.ur(!0),this.qo=this.sd.getIterator(),this.Md=new u.ja(0)),this.ff==null&&(this.ff=new u.ur(!0),this.qw=this.ff.getIterator(),this.Ff=new u.ja(0)),this.sd.mr();for(var e=0;e<this.Fb.length;e++){var r=this.Fb[e];this.sd.Dr(r.v,r.C)}for(this.sd.Hp(),this.ff.mr(),e=0;e<this.rd.length;e++)r=this.rd[e],this.ff.Dr(r.v,r.C);for(this.ff.Hp(),this.Md.Jb(2*this.Fb.length),this.Ff.Jb(2*this.rd.length),this.Md.resize(0),this.Ff.resize(0),e=0;e<2*this.Fb.length;e++)this.Md.add(e);for(e=0;e<2*this.rd.length;e++)this.Ff.add(e);return this.Mt(this.Md,this.Md.size,!0),this.Mt(this.Ff,this.Ff.size,!1),this.qe=this.Md.size,this.Tg=this.Ff.size,this.Ef!=-1&&(this.Bd.eh(this.Ef),this.Kj.resize(0),this.Ef=-1),this.Df!=-1&&(this.Bd.eh(this.Df),this.Jj.resize(0),this.Df=-1),this.Yb=7,!0},n.prototype.QX=function(){var e=this.Md.get(--this.qe),r=e>>1;return n.gq(e)?(this.sd.remove(r),this.qe==0?(this.Bf=this.Xf=-1,this.Jc=!0,!1):!0):(this.qo.zB(this.Fb[r].v,this.Fb[r].C,this.ra),this.Xf=r,this.Yb=10,!0)},n.prototype.MX=function(){return--this.qe==-1?(this.Bf=this.Xf=-1,this.Jc=!0,!1):(this.Tg=this.Xf=this.qe,this.Yb=13,!0)},n.prototype.NX=function(){return--this.qe==-1?(this.Bf=this.Xf=-1,this.Jc=!0,!1):(this.Xf=this.qe,this.Tg=this.rd.length,this.Yb=14,!0)},n.prototype.OX=function(){var e=this.Md.get(this.qe-1),r=this.Ff.get(this.Tg-1),o=this.Tr(e,!0),a=this.Tr(r,!1);return o>a?this.tx():o<a?this.dC():n.Oz(e)?this.tx():n.Oz(r)?this.dC():this.tx()},n.prototype.tx=function(){var e=this.Md.get(--this.qe),r=e>>1;if(n.gq(e))return this.Ef!=-1&&this.Kj.get(r)!=-1?(this.Bd.kd(this.Ef,this.Kj.get(r)),this.Kj.set(r,-1)):this.sd.remove(r),this.qe==0?(this.Bf=this.Xf=-1,this.Jc=!0,!1):!0;if(this.Df!=-1&&0<this.Bd.ds(this.Df))for(e=this.Bd.sc(this.Df);e!=-1;){var o=this.Bd.getData(e);this.ff.xj(o),this.Jj.set(o,-1),o=this.Bd.lb(e),this.Bd.kd(this.Df,e),e=o}return 0<this.ff.size()?(this.qw.zB(this.Fb[r].v,this.Fb[r].C,this.ra),this.Xf=r,this.Yb=12):(this.Ef==-1&&(this.Bd==null&&(this.Bd=new u.lp),this.Kj=new u.ja(0),this.Kj.resize(this.Fb.length,-1),this.Kj.Yj(-1,0,this.Fb.length),this.Ef=this.Bd.Rh(1)),this.Kj.set(r,this.Bd.addElement(this.Ef,r)),this.Yb=7),!0},n.prototype.dC=function(){var e=this.Ff.get(--this.Tg),r=e>>1;if(n.gq(e))return this.Df!=-1&&this.Jj.get(r)!=-1?(this.Bd.kd(this.Df,this.Jj.get(r)),this.Jj.set(r,-1)):this.ff.remove(r),this.Tg==0?(this.Bf=this.Xf=-1,this.Jc=!0,!1):!0;if(this.Ef!=-1&&0<this.Bd.ds(this.Ef))for(e=this.Bd.sc(this.Ef);e!=-1;){var o=this.Bd.getData(e);this.sd.xj(o),this.Kj.set(o,-1),o=this.Bd.lb(e),this.Bd.kd(this.Ef,e),e=o}return 0<this.sd.size()?(this.qo.zB(this.rd[r].v,this.rd[r].C,this.ra),this.Bf=r,this.Yb=11):(this.Df==-1&&(this.Bd==null&&(this.Bd=new u.lp),this.Jj=new u.ja(0),this.Jj.resize(this.rd.length,-1),this.Jj.Yj(-1,0,this.rd.length),this.Df=this.Bd.Rh(0)),this.Jj.set(r,this.Bd.addElement(this.Df,r)),this.Yb=7),!0},n.prototype.Pz=function(){if(this.Bf=this.qo.next(),this.Bf!=-1)return!1;var e=this.Md.get(this.qe)>>1;return this.sd.xj(e),this.Yb=4,!0},n.prototype.eT=function(){if(this.Xf=this.qo.next(),this.Xf!=-1)return!1;this.Bf=this.Xf=-1;var e=this.Ff.get(this.Tg)>>1;return this.ff.xj(e),this.Yb=7,!0},n.prototype.bT=function(){if(this.Bf=this.qw.next(),this.Bf!=-1)return!1;var e=this.Md.get(this.qe)>>1;return this.sd.xj(e),this.Yb=7,!0},n.prototype.cT=function(){if(--this.Tg==-1)return this.Yb=5,!0;this.yq.L(this.Fb[this.qe]);var e=this.Fb[this.Tg];return this.yq.X(this.ra,this.ra),this.yq.isIntersecting(e)?(this.Bf=this.Tg,!1):!0},n.prototype.dT=function(){if(--this.Tg==-1)return this.Yb=6,!0;this.yq.L(this.Fb[this.qe]);var e=this.rd[this.Tg];return this.yq.X(this.ra,this.ra),this.yq.isIntersecting(e)?(this.Bf=this.Tg,!1):!0},n.prototype.fJ=function(){return this.sd==null?(this.Jc=!0,!1):(this.qe=this.Md.size,0<this.sd.size()&&this.sd.reset(),this.Ef!=-1&&(this.Bd.eh(this.Ef),this.Kj.resize(0),this.Ef=-1),this.Jc=!1,!0)},n.prototype.eJ=function(){return this.ff==null?(this.Jc=!0,!1):(this.Tg=this.Ff.size,0<this.ff.size()&&this.ff.reset(),this.Df!=-1&&(this.Bd.eh(this.Df),this.Jj.resize(0),this.Df=-1),this.Jc=!1,!0)},n.prototype.Mt=function(e,r,o){this.Cm==null&&(this.Cm=new u.Zt),o=new y(this,o),this.Cm.sort(e,0,r,o)},n.prototype.FX=function(e,r,o,a){var h=this;e.Wd(r,o,function(c,p){var m=h.Tr(c,a),g=h.Tr(p,a);return m<g||m==g&&n.gq(c)&&n.Oz(p)?-1:1})},n.prototype.Tr=function(e,r){var o=.5*this.ra;return r?(r=this.Fb[e>>1],e=n.gq(e)?r.G-o:r.H+o):(r=this.rd[e>>1],e=n.gq(e)?r.G-o:r.H+o)},n}(),u.sC=C}(U||(U={})),function(u){var C=function(){function y(){}return y.construct=function(n,e,r,o,a,h){var c=new y;return c.v=n,c.G=e,c.Xe=r,c.C=o,c.H=a,c.Dg=h,c},y.prototype.Pa=function(){this.Xe=this.v=NaN},y.prototype.B=function(){return isNaN(this.v)},y.prototype.SS=function(){return isNaN(this.Xe)},y.prototype.L=function(n,e,r,o,a,h){o!==void 0?typeof n=="number"?(this.v=n,this.G=e,this.Xe=r,this.C=o,this.H=a,this.Dg=h):(this.v=n.x-.5*e,this.C=this.v+e,this.G=n.y-.5*r,this.H=this.G+r,this.Xe=n.z-.5*o,this.Dg=this.Xe+o):(this.v=n,this.G=e,this.Xe=r,this.C=n,this.H=e,this.Dg=r)},y.prototype.move=function(n){this.v+=n.x,this.G+=n.y,this.Xe+=n.z,this.C+=n.x,this.H+=n.y,this.Dg+=n.z},y.prototype.copyTo=function(n){n.v=this.v,n.G=this.G,n.C=this.C,n.H=this.H},y.prototype.Nk=function(n,e,r){this.v>n?this.v=n:this.C<n&&(this.C=n),this.G>e?this.G=e:this.H<e&&(this.H=e),isNaN(this.Xe)==0?this.Xe>r?this.Xe=r:this.Dg<r&&(this.Dg=r):this.Dg=this.Xe=r},y.prototype.$b=function(n,e,r){if(typeof n=="number")this.B()?(this.v=n,this.G=e,this.Xe=r,this.C=n,this.H=e,this.Dg=r):this.Nk(n,e,r);else if(n instanceof u.Od)this.$b(n.x,n.y,n.z);else if(n instanceof y)n.B()||(this.$b(n.v,n.G,n.Xe),this.$b(n.C,n.H,n.Dg));else throw u.i.O()},y.prototype.construct=function(n,e,r){n.B()||e.B()?this.Pa():(this.v=n.pa,this.C=n.wa,this.G=e.pa,this.H=e.wa,this.Xe=r.pa,this.Dg=r.wa)},y.prototype.iB=function(n){if(n==null||8>n.length)throw u.i.O();n[0]=new u.Od(this.v,this.G,this.Xe),n[1]=new u.Od(this.v,this.H,this.Xe),n[2]=new u.Od(this.C,this.H,this.Xe),n[3]=new u.Od(this.C,this.G,this.Xe),n[4]=new u.Od(this.v,this.G,this.Dg),n[5]=new u.Od(this.v,this.H,this.Dg),n[6]=new u.Od(this.C,this.H,this.Dg),n[7]=new u.Od(this.C,this.G,this.Dg)},y.prototype.bx=function(n){if(n==null||n.length==0)this.Pa();else{var e=n[0];for(this.L(e.x,e.y,e.z),e=1;e<n.length;e++){var r=n[e];this.Nk(r.x,r.y,r.z)}}},y}();u.JK=C}(U||(U={})),function(u){(function(C){C.Ra=function(){var y=Error();return y.message="Internal Error",y},C.Fe=function(){var y=Error();return y.message="Not Implemented",y},C.Zk=function(){var y=Error();return y.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",y},C.Hb=function(){var y=Error();return y.message="Invalid Call",y},C.O=function(y){var n=Error();return n.message="Illegal Argument Exception",y!==void 0&&(n.message+=": "+y),n},C.hu=function(y){var n=Error();return n.message=y!==void 0?"Runtime Exception: "+y:"Runtime Exception.",n},C.ga=function(y){var n=Error();return n.message="Geometry Exception: "+y,n},C.BK=function(){var y=Error();return y.message="Assert Failed Exception",y},C.de=function(){var y=Error();return y.message="IndexOutOfBoundsException",y},C.RC=function(){var y=Error();return y.message="UserCancelException",y}})(u.i||(u.i={}))}(U||(U={})),function(u){u=u.dm||(u.dm={}),u[u.forward=0]="forward",u[u.reverse=1]="reverse"}(U||(U={})),function(u){var C=function(){function e(r,o){this.Xa=r,this.AH=o,this.GH=-1,this.ul=!1}return e.prototype.re=function(){},e.prototype.next=function(){if(++this.GH==this.AH.I())return null;var r=this.AH.Oa(this.GH);r.scale(this.Xa.fc);var o=new u.Ea;return this.Xa.ny(r,this.ul,o),o},e.prototype.Ma=function(){return 0},e}(),y=function(){function e(r,o,a){this.Xa=r,this.tw=o,this.Zn=!1,this.fo=a,this.dw=[0],this.uk=[0],this.Pj=[0],this.Is=[0],this.ul=!1,this.sq=new u.Ea,this.wk=[]}return e.prototype.re=function(){},e.prototype.next=function(){if(this.Zn){this.Zn=!1,this.td.ia();var r=u.ba.kg(this.sq);return r=u.Hg.Ok(r,this.Xa.Cq,!0,!0,this.Xa.Vb)}if(this.td==null&&(this.td=this.tw.Ha(),this.td.ab(),this.fo!=null&&this.fo.$k(null,0)),!this.td.Ia()){if(!this.td.ab())return null;this.fo!=null&&this.fo.$k(null,0)}r=null,this.uk[0]=0,this.AA=this.dw[0]=0,this.fi=NaN,this.Zn=!1;for(var o=this.wk.length=0,a=new u.h,h=new u.h,c=[0];this.td.Ia()&&8>this.AA;){var p=this.td.ia();if(a.N(p.bc()),h.N(p.xc()),a.scale(this.Xa.fc),h.scale(this.Xa.fc),u.ej.Ou(a,h)?a.x=h.x:u.ej.Mu(a,h)&&(h.x=a.x),this.wk.length=0,u.ej.oF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,a,h,this.Xa.LA,this.Xa.at,c,this.Pj,this.Is,this.wk,this.dw),this.fo!=null&&(p=this.wk.slice(0),this.fo.lG(this.fo.ea()-1,p,p.length-1)),u.ej.Nu(a,h)?(this.sq.Pa(),this.Xa.ny(a,this.ul,this.sq),this.Zn=!0):(this.sq.Pa(),this.Zn=this.sy(c[0],this.sq)),this.Zn){if(this.td.ni(),this.td.zz()){this.td.ni(),this.td.ia();break}this.td.xW();break}r==null&&(r=new u.Ea,r.$k(null,0)),this.JD(r),o++}if(this.dw[0]=0,0<o){for(c=this.td.xb();0<o;)this.td.ni(),a.N(this.tw.Oa(this.td.xb())),h.N(this.tw.Oa(this.td.kk())),a.scale(this.Xa.fc),h.scale(this.Xa.fc),this.ul&&(u.ej.Ou(a,h)?a.x=h.x:u.ej.Mu(a,h)&&(h.x=a.x)),this.wk.length=0,u.ej.oF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,h,a,this.Xa.LA,this.Xa.at,null,this.Pj,this.Is,this.wk,this.dw),this.JD(r),o--;return a.N(this.tw.Oa(this.td.xb())),a.scale(this.Xa.fc),n.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,a,this.fi+1.570796326794897,this.fi+4.71238898038469,this.Xa.co,this.ul,this.uk,r,NaN,NaN),this.td.Wb(c),this.td.ia(),o=u.ua.mj(null,r,!0),r=u.Hg.Ok(r,o,!0,!0,this.Xa.Vb)}return this.Zn=!1,this.td.ia(),r=u.ba.kg(this.sq),r=u.Hg.Ok(r,this.Xa.Cq,!0,!0,this.Xa.Vb)},e.prototype.JD=function(r){var o=this.wk[0],a=this.Pj[0]-1.570796326794897,h=this.Is[0]+1.570796326794897;if(!isNaN(this.fi)){if(this.fi>=this.Pj[0]){var c=this.fi+1.570796326794897;a=c+3.141592653589793-(this.fi-this.Pj[0])}else c=this.fi+1.570796326794897,a=c+3.141592653589793-(6.283185307179586-(this.Pj[0]-this.fi));var p=this.fi>=this.Pj[0]&&3.141592653589793>=this.fi-this.Pj[0]?!1:!(this.fi<this.Pj[0]&&3.141592653589793<=this.Pj[0]-this.fi),m=!1;if(Math.abs(a-c)<=.5*this.Xa.co)if(p){var g=r.Oa(r.I()-2);g.scale(this.Xa.fc);var _=new u.ha(0);for(u.kb.Sy(this.Xa.Ub,this.Xa.lc,o.x,o.y,g.x,g.y,_),g=_.u;g<=c;)g+=6.283185307179586;for(;g>c;)g-=6.283185307179586;g<a&&(m=!0)}else m=!0;m?(r.yB(0,r.I()-1),this.ul||(o=new u.h,o.N(r.Oa(r.I()-1)),o.scale(this.Xa.fc),-3.141592653589793>o.x-this.uk[0]?this.uk[0]-=6.283185307179586:3.141592653589793<o.x-this.uk[0]&&(this.uk[0]+=6.283185307179586)),p||(a=.5*(a+c))):(p?(c=new u.h,c.N(o),c.scale(1/this.Xa.fc),r.xf(0,-1,c)):n.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.wk[0],c,a,this.Xa.co,this.ul,this.uk,r,NaN,NaN),this.AA+=1)}n.my(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.Xa.Ae,this.wk,a,h,this.ul,this.uk,r),this.fi=this.Is[0]},e.prototype.sy=function(r,o){return this.Xa.sy(this.wk,r,this.Pj[0],this.Is[0],this.ul,o)},e.prototype.Ma=function(){return 0},e}(),n=function(){function e(){}return e.buffer=function(r,o,a,h,c,p){if(r==null)throw u.i.O("Geometry::Geodesic_bufferer::buffer");if(r.B())return new u.Ea(r.description);var m=new e;m.Sg=o,m.Kc=u.cb.tc(o);var g=u.cb.xv(m.Kc);if(m.Vb=p,m.Ub=u.cb.gv(m.Kc),m.lc=g*(2-g),m.fc=m.Kc.Id().ci,m.ra=m.Sg.Mn(),m.Cq=m.Kc.Mn(),m.at=m.Cq*m.fc,m.Bq=1.570796326794897/m.fc,m.KY=3.141592653589793/m.fc,m.Ls=6.283185307179586/m.fc,m.LY=m.Ls/6,m.GA=0,m.JY=1.5707963267948966*m.Ub/m.GA,a==4?(m.Ae=2,m.Yv=!0):(m.Ae=a,m.Yv=!1),m.La=h,m.sb=Math.abs(h),isNaN(c)||.001>c?m.tX():m.bo=c,a=r.K(),u.ba.zd(a)?(a=new u.Ua(r.description),a.pc(r,!0),r=a,a=1607):a==197&&(a=new u.l,r.A(a),a.S()<=m.ra||a.da()<=m.ra?(a=new u.Ua(r.description),a.bd(r,!1),r=a,a=1607):(a=new u.Ea(r.description),a.bd(r,!1),r=a,a=1736)),m.uX(),u.ba.Tn(a)||m.vX(),m.sb<=.5*m.bo)return a!=1736?new u.Ea(r.description):m.Yv?r:u.ej.Sr(r,m.Sg,m.Ae,m.LA,-1,p);if(0>m.La&&a!=1736)return new u.Ea(r.description);if(m.Yv&&u.ba.Ic(a)?(o=u.ej.Sr(r,o,4,NaN,m.bo,p),r=u.cb.Bh(o,m.Sg,m.Kc)):r=u.cb.Bh(r,m.Sg,m.Kc),r=u.Jh.nj(r,m.Kc),r.B())return new u.Ea(r.description);switch(!m.Yv&&u.ba.Ic(a)&&(r=u.ej.kI(m.fc,r)),r=e.GX(r,m.Kc),a){case 1736:o=m.PN(r);break;case 1607:o=m.QN(r);break;case 550:o=m.NN(r);break;case 33:o=m.ON(r);break;default:throw u.i.ga("corrupted_geometry")}return m=u.cb.Bh(o,m.Kc,m.Sg),m.Ll(r.description),m},e.prototype.PN=function(r){var o=new u.Ea;r=new y(this,r,o),r=u.Ih.local().W(r,this.Kc,this.Vb).next(),r=u.kp.pj(r,this.Kc,2);var a=new u.Ed;return a.scale(1/this.fc,1/this.fc),o.Pc(a),o=u.kp.pj(o,this.Kc,2),0<=this.La?u.Ih.local().W(o,r,this.Kc,this.Vb):u.mp.local().W(o,r,this.Kc,this.Vb)},e.prototype.QN=function(r){return r=new y(this,r,null),r=u.Ih.local().W(r,this.Kc,this.Vb).next(),r=u.kp.pj(r,this.Kc,2)},e.prototype.NN=function(r){return r=new C(this,r),r=u.Ih.local().W(r,this.Kc,this.Vb).next(),r=u.kp.pj(r,this.Kc,2)},e.prototype.ON=function(r){r=r.D(),r.scale(this.fc);var o=new u.Ea;return this.ny(r,!1,o),o=u.kp.pj(o,this.Kc,2)},e.prototype.sy=function(r,o,a,h,c,p){var m=r[0],g=r[r.length-1],_=m.y>g.y?m.y:g.y,b=u.F.q(this.Ub,this.lc,m.y<g.y?m.y:g.y);if(_=u.F.q(this.Ub,this.lc,_),.001<this.GA-(b+o+this.sb)&&.001<this.GA+(_-o-this.sb))return!1;o=a-1.570796326794897,a=h+1.570796326794897,b=o-3.141592653589793,_=o+3.141592653589793;var x=a+3.141592653589793,P=[NaN],O=[NaN],L=[NaN],j=[NaN];if(h=!1,e.ZI(this.Ub,this.lc,this.sb,m,o,b,g,a,P,O),e.ZI(this.Ub,this.lc,this.sb,g,x,a,m,b,L,j),(a<P[0]&&P[0]<x||a<O[0]&&O[0]<x)&&(h=!0),h||(b<L[0]&&L[0]<o||b<j[0]&&j[0]<o)&&(h=!0),!h&&c)return!1;for(var D=[],k=r.length-1;0<=k;k--)D.push(r[k]);return p.Pa(),p.$k(null,0),k=[0],e.my(this.Ub,this.lc,this.fc,this.sb,this.Ae,r,o,a,c,k,p),e.Jr(this.Ub,this.lc,this.fc,this.sb,g,a,x,this.co,c,k,p,P[0],O[0]),e.my(this.Ub,this.lc,this.fc,this.sb,this.Ae,D,x,_,c,k,p),e.Jr(this.Ub,this.lc,this.fc,this.sb,m,b,o,this.co,c,k,p,L[0],j[0]),r=!1,c||(r=this.DE(this.fc,p)),h||r},e.prototype.ny=function(r,o,a){a.Pa(),a.$k(null,0),e.Jr(this.Ub,this.lc,this.fc,this.sb,r,-this.co,6.283185307179586,this.co,o,[0],a,NaN,NaN),o||this.DE(this.fc,a)},e.prototype.DE=function(r,o){var a=this.qO(r,o);return r=this.rO(r,o),a||r},e.prototype.qO=function(r,o){var a=o.I(),h=!1,c=new u.l;if(o.A(c),!u.s.$(c.H*r,1.570796326794897)&&!u.s.$(c.G*r,-1.570796326794897))return!1;var p=new u.h;for(--a;0<=a;a--)o.D(a,p),p.y==c.H&&u.s.$(p.y*r,1.570796326794897)?(h=!0,this.JI(p,a,o)):p.y==c.G&&u.s.$(p.y*r,-1.570796326794897)&&(h=!0,this.JI(p,a,o));return h},e.prototype.rO=function(r,o){var a=o.Oa(0),h=o.Oa(o.I()-1);return 3.141592653589793<Math.abs(a.x-h.x)*r?(this.QV(o),!0):this.pO(o)},e.prototype.pO=function(r){return 0>r.He()?(this.PV(r),!0):!1},e.prototype.JI=function(r,o,a){var h=a.I(),c=0<o?o-1:h-1;if(h=a.Oa(o<h-1?o+1:0),c=a.Oa(c),!u.s.$(h.y,r.y)&&!u.s.$(h.x,r.x)){var p=new u.h;p.na(h.x,r.y),a.Db(o,p)}u.s.$(c.y,r.y)||u.s.$(c.x,r.x)||(h=new u.h,h.na(c.x,r.y),a.xf(0,o,h))},e.prototype.QV=function(r){var o=new u.Ea,a=new u.Ea,h=new u.Ed,c=r.Oa(0),p=r.Oa(r.I()-1),m=new u.h;c.x>p.x?(p=this.Bq,h.ig(-this.Ls,0)):(p=-this.Bq,h.ig(this.Ls,0)),o.add(r,!1),r.Pa(),a.add(o,!1),a.Pc(h),c=new u.l,a.A(c),c.X((this.Ls-c.S())/2,0),c.G=-this.Bq,c.H=this.Bq;for(var g=0;g<a.I();g++)a.D(g,m),o.xf(0,-1,m);for(a.Pc(h),g=0;g<a.I();g++)a.D(g,m),o.xf(0,-1,m);a=o.Oa(0),h=o.Oa(o.I()-1),m.na(h.x,p),o.xf(0,-1,m),m.na(.5*(h.x+a.x),p),o.xf(0,-1,m),m.na(a.x,p),o.xf(0,-1,m),o=u.Jh.ms(o,this.Kc,2,!0,c.v),o=u.Jh.ms(o,this.Kc,2,!0,c.C),o=u.Vd.clip(o,c,this.Cq,NaN),r.add(o,!1)},e.prototype.PV=function(r){var o=new u.l;r.A(o),o.X((this.Ls-o.S())/2,0),o.G=-this.Bq,o.H=this.Bq,r.$k(null,0);var a=new u.h;a.na(o.v,o.G),r.xf(1,-1,a),a.na(o.v,o.H),r.xf(1,-1,a),a.na(.5*(o.v+o.C),o.H),r.xf(1,-1,a),a.na(o.C,o.H),r.xf(1,-1,a),a.na(o.C,o.G),r.xf(1,-1,a),a.na(.5*(o.v+o.C),o.G),r.xf(1,-1,a)},e.my=function(r,o,a,h,c,p,m,g,_,b,x){var P=null;_||(P=new u.h,P.Sc(),0<x.I()&&(P.N(x.Oa(x.I()-1)),P.scale(a)));var O=new u.ha(0),L=new u.ha(0),j=new u.ha(0),D=new u.h,k=new u.h,$=p[p.length-1];a=1/a;for(var G=0;G<p.length;G++){var B=p[G];if(G==0)var K=m;else G==p.length-1?K=g:(u.kb.xd(r,o,$.x,$.y,B.x,B.y,null,null,O,c),K=O.u-1.570796326794897);u.kb.Ai(r,o,B.x,B.y,h,K,L,j),_?k.na(L.u,j.u):(D.na(L.u,j.u),e.bJ(B.x,D.x,P.x,b),k.na(b[0]+D.x,D.y),P.N(k)),k.scale(a),x.xf(0,-1,k)}},e.Jr=function(r,o,a,h,c,p,m,g,_,b,x,P,O){if(!(m-p<g)){var L=new u.ha(0),j=new u.ha(0),D=new u.h,k=new u.h,$=null;_||($=new u.h,$.Sc(),0<x.I()&&($.N(x.Oa(x.I()-1)),$.scale(a)));var G=u.P.truncate(Math.ceil(p/g)),B=G++*g;for(B==p&&(B=G++*g),a=1/a;B<m+g&&(p<P&&P<B?(B=P,G--):p<O&&O<B&&(B=O,G--),!(B>=m));)u.kb.Ai(r,o,c.x,c.y,h,B,L,j),_?k.na(L.u,j.u):(D.na(L.u,j.u),e.bJ(c.x,D.x,$.x,b),k.na(b[0]+D.x,D.y),$.N(k)),k.scale(a),x.xf(0,-1,k),p=B,B=G++*g}},e.ZI=function(r,o,a,h,c,p,m,g,_,b){var x=new u.h,P=new u.h,O=new u.ha(0),L=new u.ha(0);for(u.kb.Ai(r,o,h.x,h.y,a,c,O,L),x.na(O.u,L.u),u.kb.Ai(r,o,h.x,h.y,a,p,O,L),P.na(O.u,L.u),a=new u.ha(0),u.kb.Sy(r,o,m.x,m.y,x.x,x.y,a),_[0]=a.u,u.kb.Sy(r,o,m.x,m.y,P.x,P.y,a),b[0]=a.u;_[0]<=b[0];)_[0]+=6.283185307179586;for(;_[0]>b[0];)_[0]-=6.283185307179586;for(;_[0]>=g;)_[0]-=6.283185307179586,b[0]-=6.283185307179586;for(;_[0]<g;)_[0]+=6.283185307179586,b[0]+=6.283185307179586},e.bJ=function(r,o,a,h){if(isNaN(a)){for(;3.141592653589793<h[0]+o-r;)h[0]-=6.283185307179586;for(;3.141592653589793<r-(h[0]+o);)h[0]+=6.283185307179586}else 3.141592653589793<h[0]+o-a?h[0]-=6.283185307179586:3.141592653589793<a-(h[0]+o)&&(h[0]+=6.283185307179586)},e.GX=function(r,o){var a=r.K(),h=u.ba.Ic(a)?r.ea():a==550?r.I():1;if(h==1)return r;var c=new u.ja(0);c.resize(h);for(var p=[],m=new u.l,g=0;g<h;g++){if(c.write(g,g),u.ba.Ic(a)){r.Tj(g,m);var _=m.tf()}else _=r.Oa(g);_=u.SK.WX(o,_),p[g]=_}for(c.Wd(0,c.size,function(b,x){return p[b]<p[x]?-1:p[b]>p[x]?1:0}),o=r.Ja(),g=0;g<h;g++)m=c.read(g),u.ba.Ic(a)?o.addPath(r,m,!0):o.Gd(r,m,m+1);return o},e.prototype.uX=function(){var r=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);r=Math.min(r,.39269908169872414*this.Ub);var o=new u.h;o.na(0,10*this.fc);var a=45*this.fc,h=new u.ha(0),c=new u.ha(0),p=new u.ha(0),m=new u.ha(0),g=new u.ha(0),_=new u.ha(0),b=new u.ha(0),x=new u.ha(0),P=new u.h,O=new u.h,L=new u.h,j=new u.h;u.kb.Ai(this.Ub,this.lc,o.x,o.y,r,0,h,c),P.na(h.u,c.u),u.kb.Ai(this.Ub,this.lc,o.x,o.y,r,a,p,m),O.na(p.u,m.u),h=new u.ha(0),c=new u.ha(0);for(var D=new u.ha(0);u.kb.Ai(this.Ub,this.lc,o.x,o.y,r,.5*(0+a),g,_),L.na(g.u,_.u),u.kb.xd(this.Ub,this.lc,P.x,P.y,O.x,O.y,h,c,null,2),u.kb.qj(this.Ub,this.lc,P.x,P.y,.5*h.u,c.u,b,x,2),j.na(b.u,x.u),u.kb.xd(this.Ub,this.lc,L.x,L.y,j.x,j.y,D,null,null,2),!(D.u<=this.bo);)a*=.9,u.kb.Ai(this.Ub,this.lc,o.x,o.y,r,a,p,m),O.na(p.u,m.u);this.co=6.283185307179586/Math.ceil(6.283185307179586/(a-0))},e.prototype.vX=function(){var r=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);r=Math.min(r,.39269908169872414*this.Ub);var o=new u.h,a=new u.h;o.na(0,10*this.fc),a.na(10*this.fc,10*this.fc);var h=new u.ha(0),c=new u.ha(0),p=new u.ha(0);u.kb.xd(this.Ub,this.lc,o.x,o.y,a.x,a.y,p,h,c,this.Ae);var m=new u.ha(0),g=new u.ha(0),_=new u.ha(0),b=new u.ha(0),x=new u.h,P=new u.ha(0),O=new u.ha(0),L=new u.ha(0),j=new u.ha(0),D=new u.ha(0),k=new u.ha(0),$=new u.ha(0),G=new u.ha(0),B=new u.ha(0),K=new u.h,X=new u.h,et=new u.h,tt=new u.h,lt=1;h=h.u,c=c.u+1.570796326794897,p=p.u,u.kb.Ai(this.Ub,this.lc,o.x,o.y,r,h-1.570796326794897,O,L),K.na(O.u,L.u),u.kb.Ai(this.Ub,this.lc,a.x,a.y,r,c,j,D),X.na(j.u,D.u),O=new u.ha(0),L=new u.ha(0),c=new u.ha(0);for(var ot=new u.ha(0);u.kb.qj(this.Ub,this.lc,o.x,o.y,.5*(0+lt)*p,h,m,g,this.Ae),x.na(m.u,g.u),u.kb.xd(this.Ub,this.lc,o.x,o.y,x.x,x.y,null,null,P,this.Ae),u.kb.Ai(this.Ub,this.lc,x.x,x.y,r,P.u+1.570796326794897,k,$),et.na(k.u,$.u),u.kb.xd(this.Ub,this.lc,K.x,K.y,X.x,X.y,O,L,null,2),u.kb.qj(this.Ub,this.lc,K.x,K.y,.5*O.u,L.u,G,B,2),tt.na(G.u,B.u),u.kb.xd(this.Ub,this.lc,et.x,et.y,tt.x,tt.y,c,null,null,2),!(c.u<=this.bo);)lt*=.9,u.kb.qj(this.Ub,this.lc,o.x,o.y,lt*p,h,_,b,this.Ae),a.na(_.u,b.u),u.kb.xd(this.Ub,this.lc,o.x,o.y,a.x,a.y,null,null,ot,this.Ae),u.kb.Ai(this.Ub,this.lc,a.x,a.y,r,ot.u+1.570796326794897,j,D),X.na(j.u,D.u);r=lt*p,1e5<r&&(r=1e5),this.LA=r},e.prototype.tX=function(){var r=5e4<this.sb?100:1e4<this.sb?10:1;500>this.sb/r&&(r=this.sb/500),.01>r&&(r=.01),this.bo=r},e}();u.QK=n}(U||(U={})),function(u){var C=function(){function y(){}return y.Of=function(n,e){var r=new u.h;r.N(e),n.push(r)},y.wp=function(n,e){n.add(e.x),n.add(e.y)},y.cB=function(n){n.Dh(n.size-2)},y.jB=function(n,e){e.na(n.get(n.size-2),n.get(n.size-1))},y.Sr=function(n,e,r,o,a,h){if(n==null)throw u.i.O();var c=n.K();if(n.B()||u.ba.Tn(c))return n;var p=new y;p.Sg=e,p.Kc=u.cb.tc(e);var m=u.cb.xv(p.Kc);if(p.Vb=h,p.Ub=u.cb.gv(p.Kc),p.lc=m*(2-m),p.fc=p.Kc.Id().ci,p.Cq=p.Kc.Mn(),p.at=p.Cq*p.fc,p.vA=o,p.uA=a,p.Ae=r,c==197?(r=new u.Ea(n.description),r.bd(n,!1)):u.ba.zd(c)?(r=new u.Ua(n.description),r.pc(n,!0)):r=n,p.Ae!=4){if(e=p.Sg.Nb(p.Kc)==0?u.cb.Bh(r,p.Sg,p.Kc):u.Jh.nj(r,p.Kc),e.B())return e;e=y.kI(p.fc,e),e=p.Uy(e),e=u.kp.pj(e,p.Kc,p.Ae),p=u.cb.Bh(e,p.Kc,p.Sg)}else{if(u.Gg.Tb(e)==2?(n=u.cb.ol(),e=u.Zj.local().W(r,n,e,h),e==n&&(e=new u.Ea,n.copyTo(e))):e=u.Jh.nj(r,p.Kc),e.B())return e;p=p.yX(e)}return p},y.kI=function(n,e){var r=new u.l;if(e.yc(r),3.141592653589793>r.S()*n)return e;var o=!1;r=e.Ha();for(var a=new u.h,h=new u.h;r.ab();)for(;r.Ia();){var c=r.ia();if(a.N(c.bc()),h.N(c.xc()),a.scale(n),h.scale(n),3.141592653589793<Math.abs(a.x-h.x)){var p=y.Nu(a,h);if(!p){o=!0;break}if(6.283185307179586<Math.abs(a.x-h.x)){o=!0;break}}}if(!o)return e;o=e.Ja();var m=1<e.description.Ba,g=new u.h,_=new u.h,b=new u.h,x=new u.h,P=new u.Ta;for(r.aj();r.ab();)for(var O=NaN,L=[0];r.Ia();){if(c=r.ia(),a.N(c.bc()),h.N(c.xc()),a.scale(n),h.scale(n),isNaN(O)?(y.Yi(a.x,NaN,L),_.N(a)):_.N(b),O=_.x,p=y.Nu(a,h)){if(6.283185307179586<h.x-a.x)for(;6.283185307179586<h.x-a.x;)h.x-=6.283185307179586;if(-6.283185307179586>h.x-a.x)for(;-6.283185307179586>h.x-a.x;)h.x+=6.283185307179586;y.Yi(h.x,NaN,L),b.N(h)}else g.N(h),y.vU(g),y.Yi(g.x,O,L),b.na(L[0]+g.x,g.y);.5>Math.abs(b.x-h.x)&&b.N(h),m?(c.Vw(0,P),x.N(_),x.scale(1/n),P.Db(x),(p=r.xm())?o.nf(P):o.lineTo(P),r.Sn()&&!e.ec(r.gb)&&(c.Vw(1,P),x.N(b),x.scale(1/n),P.Db(x),o.lineTo(P))):((p=r.xm())&&o.Cz(null,0),c=o.ea()-1,x.N(_),x.scale(1/n),o.xf(c,-1,x),r.Sn()&&!e.ec(r.gb)&&(x.N(b),x.scale(1/n),o.xf(c,-1,x)))}return o},y.oF=function(n,e,r,o,a,h,c,p,m,g,_,b){var x=new u.h,P=new u.h,O=0<o.compare(a);y.aJ(O,o,a,x,P),y.pF(n,e,r,x,P,h,NaN,c,p,m,g,null,_,b),O&&y.aC(m,g,null,_)},y.prototype.Uy=function(n){var e=n.Ja(),r=n.Ha(),o=[],a=null,h=null,c=1<n.description.Ba;c&&(a=new u.ce(0),h=new u.jg);for(var p=[0],m=new u.h,g=new u.h,_=new u.h,b=new u.h;r.ab();)for(p[0]=0;r.Ia();){var x=r.ia();m.N(x.bc()),g.N(x.xc()),m.scale(this.fc),g.scale(this.fc);var P=0<m.compare(g);y.aJ(P,m,g,_,b),o.length=0,a!=null&&a.Dh(0),0<this.vA?y.pF(this.Ub,this.lc,this.Ae,_,b,this.vA,this.uA,this.at,null,null,null,c?a:null,o,p):y.WQ(this.Ub,this.lc,this.Ae,_,b,this.uA,this.at,c?a:null,o,p),P&&y.aC(null,null,c?a:null,o),o[0].N(x.bc()),o[o.length-1].N(x.xc());for(var O=1;O<o.length-1;O++)o[O].scale(1/this.fc);c?(P=y.$I(P,x,h),y.OD(r.xm(),r.Sn()&&!n.ec(r.gb),x,P,a,o,e)):y.ND(r.xm(),r.Sn()&&!n.ec(r.gb),o,e)}return e},y.prototype.yX=function(n){var e=n.Ja(),r=n.Ha(),o=[],a=null,h=new u.jg,c=1<n.description.Ba;for(c&&(a=new u.ce(0));r.ab();)for(;r.Ia();){var p=r.ia(),m=p.bc(),g=p.xc();m=0<m.compare(g),g=y.$I(m,p,h),o.length=0,a!=null&&a.Dh(0),y.xX(this.Ub,this.lc,this.fc,g,this.Sg,this.vA,this.uA,c?a:null,o),m&&y.aC(null,null,c?a:null,o),c?y.OD(r.xm(),r.Sn()&&!n.ec(r.gb),p,g,a,o,e):y.ND(r.xm(),r.Sn()&&!n.ec(r.gb),o,e)}return e},y.ND=function(n,e,r,o){n&&o.Cz(null,0),n=o.ea()-1;var a=r.slice(0);o.lG(n,a,a.length-1),e&&o.xf(n,-1,r[r.length-1])},y.OD=function(n,e,r,o,a,h,c){var p=new u.Ta;if(r.Vo(p),n?c.nf(p):c.lineTo(p),2<h.length){n=o.Rb();for(var m=1;m<h.length-1;m++){var g=o.IG(a.get(m)*n);o.Vw(g,p),p.Db(h[m]),c.lineTo(p)}}e&&(r.Ro(p),c.lineTo(p))},y.pF=function(n,e,r,o,a,h,c,p,m,g,_,b,x,P){var O=new u.ha(0),L=new u.ha(0),j=new u.ha(0);u.kb.xd(n,e,o.x,o.y,a.x,a.y,j,O,L,r),j=j.u;var D=O=O.u;L=L.u,0>D&&(D+=6.283185307179586),0>L&&(L+=6.283185307179586),m!=null&&(m[0]=j),g!=null&&(g[0]=D),_!=null&&(_[0]=L),g=m=NaN,b!=null&&(g=u.F.Ch(n,e),_=u.F.q(n,e,o.y),m=(g-_)/j,g=(g+_)/j),_=y.Ou(o,a),L=y.Mu(o,a),D=_||L;var k=y.AE(o,a,p),$=new u.ha(0),G=new u.ha(0),B=new u.h,K=new u.h,X=new u.h;y.Yi(o.x,NaN,P);var et=[P[0]];if(j<=h)y.Of(x,o),y.Yi(a.x,NaN,P),b!=null&&b.add(0),D?(_&&y.fB(o,a,b,x),L&&y.dB(o,a,b,x)):k?y.eB(o,a,O,m,g,b,x):0<c&&(K.na(o.x-et[0],o.y),B.na(a.x-P[0],a.y),y.Ty(n,e,r,o,j,O,K,B,0,1,c,b,x,et)),y.Of(x,a);else{h=1+u.P.truncate(Math.ceil(j/h));var tt=j/(h-1),lt=new u.h,ot=0;y.Of(x,o),lt.N(o),K.na(o.x-P[0],o.y),b!=null&&b.add(0);for(var yt=1;yt<h;yt++){if(yt<h-1){u.kb.qj(n,e,o.x,o.y,yt*tt,O,$,G,r),B.na($.u,G.u),y.Yi(B.x,lt.x,P),X.na(P[0]+B.x,B.y);var vt=yt/(h-1)}else y.Yi(a.x,NaN,P),B.na(a.x-P[0],a.y),X.N(a),vt=1;D?(yt==1&&_&&y.fB(o,X,b,x),yt==h-1&&L&&y.dB(lt,a,b,x)):k?y.zE(lt,X,p)&&(o.x<a.x?lt.x>X.x&&(P[0]+=6.283185307179586,X.na(P[0]+B.x,B.y)):lt.x<X.x&&(P[0]-=6.283185307179586,X.na(P[0]+B.x,B.y)),y.eB(lt,X,O,m,g,b,x)):0<c&&y.Ty(n,e,r,o,j,O,K,B,ot,vt,c,b,x,et),y.Of(x,X),b!=null&&b.add(vt),lt.N(X),K.N(B),et[0]=P[0],ot=vt}}},y.WQ=function(n,e,r,o,a,h,c,p,m,g){var _=new u.ha(0),b=new u.ha(0),x=new u.ha(0);u.kb.xd(n,e,o.x,o.y,a.x,a.y,x,_,b,r),b=x.u,_=_.u;var P=x=NaN;if(p!=null){P=u.F.Ch(n,e);var O=u.F.q(n,e,o.y);x=(P-O)/b,P=(P+O)/b}O=y.Ou(o,a);var L=y.Mu(o,a),j=O||L;c=y.AE(o,a,c);var D=y.Nu(o,a);D=j||c||D,y.Yi(o.x,NaN,g);var k=new u.h;y.Of(m,o),k.N(o),p!=null&&p.add(0),D?(j?(O&&y.fB(o,a,p,m),L&&y.dB(o,a,p,m)):c&&y.eB(o,a,_,x,P,p,m),y.Yi(a.x,NaN,g),y.Of(m,a)):b<=h?(y.Yi(a.x,NaN,g),y.Of(m,a)):(x=new u.h,c=new u.h,x.N(o),c.N(a),x.x-=g[0],c.x-=g[0],-3.141592653589793>c.x?c.x+=6.283185307179586:3.141592653589793<c.x&&(c.x-=6.283185307179586),y.Ty(n,e,r,o,b,_,x,c,0,1,h,p,m,g),y.Of(m,a),y.Yi(a.x,NaN,g)),p!=null&&p.add(1)},y.Ty=function(n,e,r,o,a,h,c,p,m,g,_,b,x,P){var O=new u.h,L=new u.h;O.na(c.x+P[0],c.y),new u.ha(0),new u.ha(0),new u.ha(0),new u.ha(0);var j=new u.ha(0),D=new u.ha(0),k=new u.ha(0),$=new u.h,G=new u.h,B=new u.h,K=new u.h;$.N(c),G.N(p),c=new u.ce(0),p=new u.ce(0),y.wp(c,G),p.add(g);var X=new u.h,et=new u.zb,tt=[];for(y.TJ(4,tt);0<c.size;){for(var lt=!1,ot,yt=NaN,vt=0;3>vt;vt++)if(ot=tt[vt]*g+(1-tt[vt])*m,u.kb.qj(n,e,o.x,o.y,ot*a,h,j,D,r),B.na(j.u,D.u),vt==0&&(yt=ot,K.N(B)),y.RW($,B,G,et),et.ic(et.ge(B,!0),X),u.kb.xd(n,e,B.x,B.y,X.x,X.y,k,null,null,2),k.u>_){lt=!0;break}lt?(G.N(K),g=yt,y.wp(c,G),p.add(g)):(y.cB(c),p.Gn(p.size-1,1,p.size-1),0<c.size&&(y.Yi(G.x,O.x,P),L.na(P[0]+G.x,G.y),y.Of(x,L),O.N(L),b!=null&&b.add(g),$.N(G),m=g,y.jB(c,G),g=p.get(p.size-1)))}},y.xX=function(n,e,r,o,a,h,c,p,m){var g=new u.h,_=new u.h,b=new u.h,x=new u.h,P=new u.h,O=new u.h,L=new u.h,j=new u.h,D=new u.h,k=new u.h,$=new u.ha(0),G=new u.ha(0),B=new u.h,K=[[],[]],X=u.Gg.Tb(a)==1;a=a.Yd(0);var et=o.bc(),tt=o.xc();X?(O.na(et.x*r,et.y*r),L.na(tt.x*r,tt.y*r)):(K[0][0]=et.x,K[0][1]=et.y,K[1][0]=tt.x,K[1][1]=tt.y,u.cb.wt(),O.x=K[0][0]*r,O.y=K[0][1]*r,L.x=K[1][0]*r,L.y=K[1][1]*r);var lt=0,ot=0,yt=1,vt=o.Rn();g.N(et),_.N(tt),tt=new u.ce(0);var Ut=new u.ce(0),te=new u.ce(0);y.wp(tt,_),y.wp(Ut,L),te.add(yt),y.Of(m,g),p!=null&&p.add(ot);var Oe=[],_e=0<c?vt?5:3:vt?5:1;y.TJ(_e,Oe);for(var Ft=new u.ha(0),Kt=new u.ha(0),jt=new u.ha(0),Se=new u.ha(0),ce=new u.ha(0),Be=new u.ha(0),Yt=new u.ha(0);0<Ut.size;){var Re=!1,ee=NaN;for(u.kb.xd(n,e,O.x,O.y,L.x,L.y,Ft,Kt,null,2),et=0;et<_e&&!(et==0&&(!vt&&0>=c&&Ft.u<=h&&3.141592653589793>Math.abs(O.x-L.x)||o.Tx(ot,yt)<=a));et++){var so=Oe[et]*yt+(1-Oe[et])*ot;if(o.ic(so,b),X?j.na(b.x*r,b.y*r):(K[0][0]=b.x,K[0][1]=b.y,u.cb.wt(),j.x=K[0][0]*r,j.y=K[0][1]*r),et==0&&(ee=so,P.N(b),k.N(j),0<h&&(Ft.u>h||3.141592653589793<=Math.abs(O.x-L.x)))){Re=!0;break}if(vt&&0<h){if(u.kb.xd(n,e,O.x,O.y,j.x,j.y,jt,null,null,2),jt.u>h||3.141592653589793<=Math.abs(O.x-j.x)){Re=!0;break}}else if(0<c)if(vt?(x.IS(g,_,Oe[et]),X?D.na(x.x*r,x.y*r):(K[0][0]=x.x,K[0][1]=x.y,u.cb.wt(),D.x=K[0][0]*r,D.y=K[0][1]*r)):(x.N(b),D.N(j)),u.kb.xd(n,e,O.x,O.y,D.x,D.y,Se,null,null,2),Se.u<=Ft.u){if(u.kb.qj(n,e,O.x,O.y,Se.u,Kt.u,$,G,2),B.na($.u,G.u),u.kb.xd(n,e,B.x,B.y,j.x,j.y,ce,null,null,2),ce.u>c){Re=!0;break}if(vt){if(u.kb.xd(n,e,B.x,B.y,D.x,D.y,Be,null,null,2),Be.u>c){Re=!0;break}if(u.kb.xd(n,e,D.x,D.y,j.x,j.y,Yt,null,null,2),Yt.u>c){Re=!0;break}}}else{Re=!0;break}}Re?(_.N(P),L.N(k),yt=ee,y.wp(tt,_),y.wp(Ut,L),te.add(yt)):(y.cB(tt),y.cB(Ut),te.Gn(te.size-1,1,te.size-1),y.Of(m,_),lt+=Ft.u,p!=null&&p.add(lt),0<Ut.size&&(g.N(_),O.N(L),ot=yt,y.jB(tt,_),y.jB(Ut,L),yt=te.get(te.size-1)))}if(p!=null)for(n=1/lt,et=0;et<p.size;et++)p.write(et,p.read(et)*n)},y.aC=function(n,e,r,o){o.reverse(),r!=null&&r.pi(0,r.size,1),r=n!=null?n[0]:NaN,o=e!=null?e[0]:NaN,n!=null&&(n[0]=o),e!=null&&(e[0]=r)},y.aJ=function(n,e,r,o,a){n?(o.N(r),a.N(e)):(o.N(e),a.N(r))},y.$I=function(n,e,r){return n?(r.create(e.K()),e.copyTo(r.get()),r.get().reverse(),r.get()):e},y.Yi=function(n,e,r){if(isNaN(e)){for(;3.141592653589793<r[0]-n;)r[0]-=6.283185307179586;for(;3.141592653589793<n-r[0];)r[0]+=6.283185307179586}else 3.141592653589793<r[0]+n-e?r[0]-=6.283185307179586:3.141592653589793<e-(r[0]+n)&&(r[0]+=6.283185307179586)},y.RW=function(n,e,r,o){3.141592653589793>Math.abs(e.x-n.x)?(o.Ec(n),3.141592653589793<=r.x-n.x?o.Sl(r.x-6.283185307179586,r.y):3.141592653589793<=n.x-r.x?o.Sl(r.x+6.283185307179586,r.y):o.Sl(r.x,r.y)):(o.Ec(r),3.141592653589793<=n.x-r.x?o.Sl(n.x-6.283185307179586,n.y):3.141592653589793<=r.x-n.x?o.Sl(n.x+6.283185307179586,n.y):o.Sl(n.x,n.y))},y.TJ=function(n,e){for(var r=0;r<n;r++){var o=Math.ceil(r/2)/(n+1);r%2!=0&&(o=-o),e[r]=.5+o}},y.Ou=function(n,e){return!!(u.s.$(n.y,1.570796326794897)&&!u.s.$(e.y,1.570796326794897)||u.s.$(n.y,-1.570796326794897)&&!u.s.$(e.y,-1.570796326794897))},y.Mu=function(n,e){return!!(u.s.$(e.y,1.570796326794897)&&!u.s.$(n.y,1.570796326794897)||u.s.$(e.y,-1.570796326794897)&&!u.s.$(n.y,-1.570796326794897))},y.AE=function(n,e,r){return!(!y.zE(n,e,r)||u.s.$(n.y,1.570796326794897)||u.s.$(n.y,-1.570796326794897)||u.s.$(e.y,1.570796326794897)||u.s.$(e.y,-1.570796326794897))},y.zE=function(n,e,r){return Math.abs(Math.abs(n.x-e.x)-3.141592653589793)<=r},y.Nu=function(n,e){return!!(u.s.$(n.y,1.570796326794897)&&u.s.$(e.y,1.570796326794897)||u.s.$(n.y,-1.570796326794897)&&u.s.$(e.y,-1.570796326794897))},y.fB=function(n,e,r,o){if(0<n.y){var a=new u.h;a.na(e.x,1.570796326794897)}else a=new u.h,a.na(e.x,-1.570796326794897);u.s.$(n.x,a.x)||u.s.$(e.y,a.y)||(y.Of(o,a),r!=null&&r.add(0))},y.dB=function(n,e,r,o){if(0<e.y){var a=new u.h;a.na(n.x,1.570796326794897)}else a=new u.h,a.na(n.x,-1.570796326794897);u.s.$(e.x,a.x)||u.s.$(n.y,a.y)||(y.Of(o,a),r!=null&&r.add(1))},y.eB=function(n,e,r,o,a,h,c){u.s.Dd(r)?(0<1.570796326794897-n.y&&(r=new u.h,r.na(n.x,1.570796326794897),y.Of(c,r),h!=null&&h.add(o)),0<1.570796326794897-e.y&&(r=new u.h,r.na(e.x,1.570796326794897),y.Of(c,r),h!=null&&h.add(o))):(0<1.570796326794897+n.y&&(r=new u.h,r.na(n.x,-1.570796326794897),y.Of(c,r),h!=null&&h.add(a)),0<1.570796326794897+e.y&&(r=new u.h,r.na(e.x,-1.570796326794897),y.Of(c,r),h!=null&&h.add(a)))},y.vU=function(n){if(-3.141592653589793>n.x)for(;-3.141592653589793>n.x;)n.x+=6.283185307179586;if(3.141592653589793<n.x)for(;3.141592653589793<n.x;)n.x-=6.283185307179586},y}();u.ej=C}(U||(U={})),function(u){u.kp=function(){function C(){}return C.pj=function(y,n,e){if(y==null||n==null||!u.cb.Xc(n))throw u.i.O();if(y.B())return y;var r=y,o=r.K();if(u.ba.Ic(o)){r=u.Jh.nj(y,n),y=new u.l,r.A(y),o=u.ua.Xd(n,y,!1);for(var a=u.cb.ih(n),h=Math.floor((y.v-a.v)/a.S())*a.S()+a.v;h<y.C;)h>y.v+o&&h<y.C-o&&(r=u.Jh.ms(r,n,e,!0,h)),h+=a.S()}else{if(o==197)return y=new u.Ea(r.description),y.bd(r,!1),C.pj(y,n,e);if(u.ba.zd(o))return y=new u.Ua(r.description),y.pc(r,!0),C.pj(y,n,e)}return C.Py(r,n)},C.Py=function(y,n){if(y==null||n==null||!u.cb.Xc(n))throw u.i.O();if(y.B())return y;var e=y.K();return e==197?(e=new u.Ea(y.description),e.bd(y,!1)):u.ba.zd(e)?(e=new u.Ua(y.description),e.pc(y,!0)):e=y,e=u.Jh.nj(e,n),e.B()?e:u.Gg.Tb(n)==1?u.Jh.Hn(e,n,0,e!=y,0):C.IQ(e,n,e!=y)},C.IQ=function(y,n,e){if(!u.cb.Xc(n))throw u.i.O();if(y.B())return y;var r=u.cb.bf(n),o=-(180*r);return r*=360,u.Gg.Tb(n)==2&&(o=u.cb.ih(n),r=o.C,o=o.v,r-=o),u.Jh.Jp(y,o,r,n,e,0,!0)},C}()}(U||(U={})),function(u){u.xY=function(){function C(){}return C.R=function(y){return 0>y?-y:y},C.Mb=function(y,n){return 0<=n?C.R(y):-C.R(y)},C.$=function(y,n){return y==n||C.R(y-n)<=C.EC*(1+(C.R(y)+C.R(n))/2)},C.Dd=function(y){return y==0||C.R(y)<=C.EC},C.Ch=function(y,n){n=Math.sqrt(1-n),n=(1-n)/(1+n);var e=n*n;return y/(1+n)*(1+e*(.25+e*(.015625+1/256*e)))*C.zL},C.zL=1.5707963267948966,C.EC=3552713678800501e-30,C}()}(U||(U={})),function(u){var C=function(){return function(n){this.Yf=n,this.Mk=this.Yf.getCode(),0>this.Mk&&(this.Mk=0)}}();u.zY=C;var y=function(){function n(e){e===void 0&&(e=null),this.Ej=null,this.Wn=!1,e!==null&&(this.Ej=new C(e))}return n.prototype.Fc=function(){return this.Ej!=null?this.Ej.Mk:0},n.prototype.Qf=function(){var e=new n;return this.copyTo(e),e},n.prototype.copyTo=function(e){e.Ej=this.Ej,e.Wn=this.Wn},n.prototype.Lz=function(){this.Wn=!this.Wn},n.prototype.sm=function(){return this.Ej!=null?this.Ej.Yf:null},n.prototype.GJ=function(e){if(0>=e)throw u.i.O();if(e!=this.Fc()){if(e=u.qf.geogtran(e),e==null)throw u.i.O("Geogtran not found.");this.Ej=new C(e)}},n.prototype.wz=function(){return this.Ej==null?null:this.Ej.Yf.toString()},n.prototype.pX=function(e){if(e==null)throw u.i.O();var r=null;try{r=u.qf.fromString(u.Tc.PE_TYPE_GEOGTRAN,e)}catch{throw u.i.O()}this.Ej=new C(r)},n.prototype.Nb=function(e){return e==this?!0:e instanceof n&&(!(0>=this.Fc()||this.Fc()!=e.Fc())||this.sm().isEqual(e.sm()))?this.Wn==e.Wn:!1},n.prototype.toString=function(){var e="GeographicTransformation: "+this.wz();return 200<e.length?e.substring(0,197)+"... ("+e.length.toString()+" characters)":e},n.create=function(e,r){var o=new n;return o.GJ(e),r&&o.Lz(),o},n.pP=function(e,r){var o=new n;return o.pX(e),r&&o.Lz(),o},n}();u.Cx=y}(U||(U={})),function(u){var C=function(){function n(){}return n.construct=function(e,r,o,a){var h=new n;return h.jw=e,h.kw=r,h.MY=o,h.NY=a,h},n.zy=function(e,r){return e.jw==r.jw?e.kw==r.kw?0:e.kw<r.kw?-1:1:e.jw<r.jw?-1:1},n}(),y=function(){function n(){this.tT=[],this.uT=[],this.sp()}return n.fz=function(){return n.eK==null&&(n.eK=new n),n.eK},n.prototype.sp=function(){this.dD(this.tT),this.dD(this.uT)},n.prototype.dD=function(e){try{var r=[];r=r.sort(C.zy);for(var o=0;o<r.length;o++)e.push(r[o])}catch{}},n}();u.yY=y}(U||(U={})),function(u){var C=function(){function y(){}return y.prototype.tD=function(n){this.Hk=n},y.prototype.RM=function(n){this.Gb=n},y.prototype.sD=function(n){this.Bo=n},y.xE=function(n){return!(n.B()||n.K()!=1607&&n.K()!=1736)},y.vE=function(n){return!(n.B()||n.K()!=1607&&n.K()!=1736||20>n.I())},y.wE=function(n){return!(n.B()||n.K()!=1607&&n.K()!=1736||20>n.I())},y}();u.Wk=C}(U||(U={})),function(u){u.ac=function(){function C(){}return C.OT=function(y){var n=new u.Ea;return n.rx(y.gs(),y.js()),n.Aj(y.gs(),y.hs()),n.Aj(y.fs(),y.hs()),n.Aj(y.fs(),y.js()),n},C.Bh=function(y,n){return y===null?null:u.Gx.local().W(y,n,null)},C.fY=function(y,n){var e=u.Ih.local();return y=new u.$c(y),e.W(y,n,null).next()},C.km=function(y,n,e){return u.mp.local().W(y,n,e,null)},C.gp=function(y,n,e){return u.Jx.local().W(y,n,e,null)},C.RX=function(y,n,e){var r=u.Jx.local();for(y=new u.$c(y),n=new u.$c(n),e=r.W(y,n,e,null),r=[];(n=e.next())!=null;)r.push(n);return r},C.Nb=function(y,n,e){return u.fj.local().W(3,y,n,e,null)},C.OP=function(y,n,e){return u.fj.local().W(4,y,n,e,null)},C.MS=function(y,n,e){var r=u.Zj.local();for(y=new u.$c(y),n=new u.$c(n),e=r.W(y,n,e,null),r=[];(n=e.next())!=null;)r.push(n);return r},C.LP=function(y,n,e){var r=u.mp.local();for(y=new u.$c(y),n=new u.$c(n),e=r.W(y,n,e,null),r=[];(n=e.next())!=null;)r.push(n);return r},C.Fa=function(y,n,e){return u.Zj.local().W(y,n,e,null)},C.LS=function(y,n,e){if(y=u.Zj.local().W(y,n,e,null,1),y===null)return[];if(y.K()===550){for(n=[],e=0;e<y.xa;e++)n.push(y.FR(e));return n}return y.K()===33?[y]:[]},C.mY=function(y,n,e){return u.fj.local().W(2,y,n,e,null)},C.contains=function(y,n,e){return u.fj.local().W(1,y,n,e,null)},C.wP=function(y,n,e){return u.fj.local().W(16,y,n,e,null)},C.touches=function(y,n,e){return u.fj.local().W(8,y,n,e,null)},C.yU=function(y,n,e){return u.fj.local().W(32,y,n,e,null)},C.OS=function(y,n,e){return u.fj.local().W(1073741824,y,n,e,null)},C.tB=function(y,n,e,r){return u.uL.local().W(y,n,e,r,null)},C.ub=function(y,n,e,r){var o=null;if(e!=null){if(o=e.Id(),r!=null&&o.Fc()!=r.Fc()&&o.pd!=r.pd)throw u.i.Zk()}else if(r!=null)throw u.i.O();return y=u.lL.local().W(y,n,null),o!==null&&r!==null&&(y=u.Uc.Ph(y,o,r)),y},C.clip=function(y,n,e){return u.fL.local().W(y,u.l.construct(n.gs(),n.js(),n.fs(),n.hs()),e,null)},C.fl=function(y,n,e){if(y==null||n==null)return null;for(y=u.hL.local().W(!0,y,n,e,null),n=[];(e=y.next())!=null;)e.B()||n.push(e);return n.slice(0)},C.HN=function(y,n,e,r,o,a,h,c){if(o===!0)return C.IN(y,n,e,r,a,h,c);if(o=e,n!=null){if(h=n.Id(),r!=null&&h.Fc()!=r.Fc()){if(h.pd!=r.pd)throw u.i.Zk();o=[],u.Uc.SE(e,e.length,r,h,o)}}else if(r!=null)throw u.i.O();if(e=u.vC.local(),a){for(y=new u.$c(y),n=e.W(y,n,o,a,null),y=[];(a=n.next())!=null;)y.push(a);a=y.slice(0)}else for(a=[],r=0;r<y.length;r++)a[r]=e.W(y[r],n,o[r],null);return a},C.IN=function(y,n,e,r,o,a,h){if(n===null||(r==null&&(r=n.Fc()!==4326?n.Id():u.Uc.ah(9001)),r.pd!==0))throw u.i.O();if(u.Uc.SE(e,e.length,r,u.Uc.ah(9001),e),r=u.AC.local(),o){for(y=new u.$c(y),n=r.W(y,n,a,e,h,!1,o,null),e=[];(a=n.next())!=null;)e.push(a);o=e.slice(0)}else{o=[];for(var c=0;c<y.length;c++)o[c]=r.W(y[c],n,a,e[c],h,!1,null)}return o},C.buffer=function(y,n,e,r,o,a,h){var c=e;if(o===!1){if(n!=null){if(o=n.Id(),r!=null&&o.Fc()!=r.Fc()){if(o.pd!=r.pd)throw u.i.Zk();c=u.Uc.Ph(e,r,o)}}else if(r!=null)throw u.i.O();y=u.vC.local().W(y,n,c,null)}else{if(n===null||(r==null&&(r=n.Fc()!==4326?n.Id():u.Uc.ah(9001)),r.pd!==0))throw u.i.O();c=u.Uc.Ph(e,r,u.Uc.ah(9001)),y=u.AC.local().W(y,n,a,c,h,!1,null)}return y},C.wU=function(y,n,e,r,o,a,h){if(n!=null){var c=n.Id();if(h!=null&&c.Fc()!=h.Fc()){if(c.pd!=h.pd)throw u.i.Zk();e=u.Uc.Ph(e,h,c)}}else if(h!=null)throw u.i.O();for(y=new u.$c(y),n=u.DC.local().W(y,n,e,r,o,a,null),e=[];(r=n.next())!=null;)e.push(r);return e.slice(0)},C.offset=function(y,n,e,r,o,a,h){if(n!=null){var c=n.Id();if(h!=null&&c.Fc()!=h.Fc()){if(c.pd!=h.pd)throw u.i.Zk();e=u.Uc.Ph(e,h,c)}}else if(h!=null)throw u.i.O();return u.DC.local().W(y,n,e,r,o,a,null)},C.dP=function(y){return u.xC.local().W(y,null)},C.eP=function(y,n){var e=u.xC.local();for(y=new u.$c(y),n=e.W(y,n,null),e=[];(y=n.next())!=null;)e.push(y);return e},C.iz=function(y,n,e){return u.Hx.local().iz(y,n,e)},C.jz=function(y,n){return u.Hx.local().jz(y,n)},C.kz=function(y,n,e,r){return u.Hx.local().kz(y,n,e,r)},C.$B=function(y,n){return u.$l.local().W(y,n,!1,null)},C.ZS=function(y,n){return u.$l.local().ts(y,n,null)},C.LQ=function(y,n,e,r,o){var a=u.zC.local();if(n!=null){if(n=n.Id(),o!=null&&n.Fc()!=o.Fc()){if(n.pd!=o.pd)throw u.i.Zk();e=u.Uc.Ph(e,o,n)}}else if(o!=null)throw u.i.O();return a.W(y,e,r,null)},C.Sr=function(y,n,e,r){var o=u.Zl.local();if(n!=null){if(n=n.Id(),r!=null&&n.Fc()!=r.Fc()){if(n.pd!=r.pd)throw u.i.Zk();e=u.Uc.Ph(e,r,n)}}else if(r!=null)throw u.i.O();return o.W(y,e,null)},C.Ry=function(y,n,e,r,o){o===void 0&&(o=0);var a=u.nL.local();if(o==4||o!==0)throw u.i.Fe();if(r!==null){if(r.pd!==0)throw u.i.O("Unit must be a linear unit type");e=u.Uc.Ph(e,r,u.Uc.ah(9001))}return a.W(y,e,n,o,null)},C.RQ=function(y,n,e,r){if(y===null)return 0;if(r==4||r!==0)throw u.i.Fe();if(y.K()==197)y=C.OT(y);else if(y.K()!=1736)return 0;if(r=u.cb.tc(n),y=u.cb.Bh(y,n,r),y=u.PK.SQ([y])[0],e!==null){if(e.pd!==2)throw u.i.O("Unit must be a area unit type");y=u.Uc.Ph(y,u.Uc.ah(109404),e)}return y},C.UQ=function(y,n,e,r){if(y=u.qL.local().W(y,n,r,null),e!==null){if(e.pd!==0)throw u.i.O("Unit must be a linear unit type");y=u.Uc.Ph(y,u.Uc.ah(9001),e)}return y},C.EU=function(y,n,e){if(y===null)return 0;var r=null;if(n!=null){if(r=n.Id(),r.pd==0&&(r=u.Uc.WF(r),r==null&&e!==null))throw u.i.O();if(e!=null&&r.Fc()!=e.Fc()&&r.pd!=e.pd)throw u.i.Zk()}else if(e!=null)throw u.i.O();return y.K()==1736||y.K()==197?(y=y.He(),e!==null?u.Uc.Ph(y,r,e):y):0},C.FU=function(y,n,e){if(y===null||y.B()||1>y.Eb())return 0;var r=null;if(n!=null){if(r=n.Id(),e!=null&&r.Fc()!=e.Fc()&&r.pd!=e.pd)throw u.i.Zk()}else if(e!=null)throw u.i.O();y.K()==1736||y.K()==197?n=y.ng():u.ba.zd(y.K())?(n=new u.Ua(y.description),n.pc(y,!0)):n=y,y=0,n=n.Ha();for(var o=new u.h,a=new u.h;n.ab();)for(;n.Ia();){var h=n.ia();h.$p(o),h.Vr(a),y+=u.h.ub(o,a)}return r!==null&&e!==null&&(y=u.Uc.Ph(y,r,e)),y},C.aP=function(y){return y.points!==void 0?C.hS(y,y.hasZ===void 0?!1:y.hasZ,y.hasM===void 0?!1:y.hasM):y.rings!==void 0?C.gG(y.rings,y.hasZ===void 0?!1:y.hasZ,y.hasM===void 0?!1:y.hasM,"P"):y.paths!==void 0?C.gG(y.paths,y.hasZ===void 0?!1:y.hasZ,y.hasM===void 0?!1:y.hasM,"L"):y.x!==void 0?C.iS(y):y.xmin!==void 0?C.gS(y):null},C.iS=function(y){if(y.x==null||y.x=="NaN")return new u.Ta;var n=new u.Ta(y.x,y.y);return y.z!==void 0&&y.z!==null&&n.sX(y.z),y.m!==void 0&&y.m!==null&&n.cX(y.m),n},C.gS=function(y){if(y.xmin==null||y.xmin=="NaN")return new u.Hh;var n=new u.Hh(y.xmin,y.ymin,y.xmax,y.ymax);return y.zmin!==void 0&&y.zmin!==null&&n.setInterval(1,0,y.zmin,y.zmax),y.mmin!==void 0&&y.mmin!==null&&n.setInterval(2,0,y.mmin,y.mmax),n},C.hS=function(y,n,e){var r=0,o=new u.ee,a=3*y.points.length;a%2!=0&&a++,2>a&&(a=2);var h=u.P.truncate(3*y.points.length/2);4>h?h=4:16>h&&(h=16),a=u.Zc.Fn(a,0);var c=u.Zc.Fn(h);h=u.Zc.Fn(h);for(var p=0;p<y.points.length;p++)a.write(2*p,y.points[p][0]),a.write(2*p+1,y.points[p][1]),c.write(p,n||e?y.points[p][2]:NaN),h.write(p,e&&n?y.points[p][3]:NaN),r++;return r!=0&&(o.resize(r),o.kn(0,a)),n&&(o.se(1),o.kn(1,c)),e&&(o.se(2),o.kn(2,n==0?c:h)),o.Qc(16777215),o},C.gG=function(y,n,e,r){var o=0,a=2;if(r=="P"){var h=new u.Ea;o=1,a=3}else h=new u.Ua;for(var c=u.Zc.Qh(0),p=u.Zc.Or(0),m=0,g=0,_=[],b=[],x=0;x<y.length;x++){var P=y[x].length;if(_[x]=!1,r==="P"&&y[x][0][0]===y[x][y[x].length-1][0]&&y[x][0][1]===y[x][y[x].length-1][1]){var O=e==0?!0:y[x][0][3]===y[x][y[x].length-1][3]||y[x][0][3]===void 0&&y[x][y[x].length-1][3]===void 0;(n==0||y[x][0][2]===y[x][y[x].length-1][2]||y[x][0][2]===void 0&&y[x][y[x].length-1][2]===void 0)&&O&&(_[x]=!0,--P)}P>=a?(b[x]=!1,g+=1,c.add(m),p.add(o),m+=P):b[x]=!0}for(r=3*m,r%2!=0&&r++,2>r&&(r=2),x=u.P.truncate(3*m/2),4>x?x=4:16>x&&(x=16),r=u.Zc.Fn(r,0),o=u.Zc.Fn(x),a=u.Zc.Fn(x),x=P=0;x<y.length;x++)if(b[x]===!1)for(O=0;O<y[x].length;O++){var L=!1;O===y[x].length-1&&_[x]===!0&&(L=!0),L||(r.write(2*P,y[x][O][0]),r.write(2*P+1,y[x][O][1]),o.write(P,n||e?y[x][O][2]:NaN),a.write(P,e&&n?y[x][O][3]:NaN),P++)}return m!=0&&(y=h,c.resize(g),p.resize(g),0<m&&(c.add(m),p.add(0)),y.kn(0,r),y.KJ(p),y.LJ(c)),n&&(h.se(1),h.kn(1,o)),e&&(h.se(2),h.kn(2,n==0?o:a)),h.Qc(16777215),h},C}()}(U||(U={})),function(u){u.Dx=function(){function C(){}return C.dr=function(y){var n=0,e,r=y.length,o=y[0];for(e=0;e<r-1;e++){var a=y[e+1];n+=(a[0]-o[0])*(a[1]+o[1]),o=a}return 0<=n},C.rotate=function(y,n,e){n=n*Math.PI/180;var r=Math.cos(n),o=Math.sin(n);if(y.paths!==void 0){n={paths:[]};for(var a=0;a<y.paths.length;a++){for(var h=y.paths[a],c=[],p=0;p<h.length;p++){var m=h[p].slice(0);c.push(m);var g=r*(h[p][0]-e.x)-o*(h[p][1]-e.y)+e.x,_=o*(h[p][0]-e.x)+r*(h[p][1]-e.y)+e.y;m[0]=g,m[1]=_}n.paths.push(c),y.hasZ!==void 0&&(n.hasZ=y.hasZ),y.hasM!==void 0&&(n.hasM=y.hasM)}return n}if(y.rings!==void 0){for(n={rings:[]},a=0;a<y.rings.length;a++){h=y.rings[a],c=[];var b=C.dr(h);for(p=0;p<h.length;p++)m=h[p].slice(0),c.push(m),g=r*(h[p][0]-e.x)-o*(h[p][1]-e.y)+e.x,_=o*(h[p][0]-e.x)+r*(h[p][1]-e.y)+e.y,m[0]=g,m[1]=_;C.dr(c)!==b&&c.reverse(),n.rings.push(c),y.hasZ!==void 0&&(n.hasZ=y.hasZ),y.hasM!==void 0&&(n.hasM=y.hasM)}return n}if(y.x!==void 0)return n={x:r*(y.x-e.x)-o*(y.y-e.y)+e.x,y:o*(y.x-e.x)+r*(y.y-e.y)+e.y},y.z!==void 0&&(n.z=y.z),y.m!==void 0&&(n.m=y.m),y.hasZ!==void 0&&(n.hasZ=y.hasZ),y.hasM!==void 0&&(n.hasM=y.hasM),n;if(y.points!==void 0){for(n={points:[]},a=y.points,p=0;p<a.length;p++)h=a[p].slice(0),h[0]=r*(a[p][0]-e.x)-o*(a[p][1]-e.y)+e.x,h[1]=o*(a[p][0]-e.x)+r*(a[p][1]-e.y)+e.y,n.points.push(h);return y.hasZ!==void 0&&(n.hasZ=y.hasZ),y.hasM!==void 0&&(n.hasM=y.hasM),n}return null},C.EQ=function(y,n){if(y.paths!==void 0){for(var e={paths:[]},r=0;r<y.paths.length;r++){for(var o=y.paths[r],a=[],h=0;h<o.length;h++){var c=o[h].slice(0);a.push(c);var p=n.x-o[h][0];c[0]=o[h][0]+2*p}e.paths.push(a)}return y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e}if(y.rings!==void 0){for(e={rings:[]},r=0;r<y.rings.length;r++){o=y.rings[r];var m=C.dr(o);for(a=[],h=0;h<o.length;h++)c=o[h].slice(0),a.push(c),p=n.x-o[h][0],c[0]=o[h][0]+2*p;C.dr(a)!==m&&a.reverse(),e.rings.push(a)}return y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e}if(y.x!==void 0)return p=n.x-y.x,e={x:y.x+2*p,y:y.y},y.z!==void 0&&(e.z=y.z),y.m!==void 0&&(e.m=y.m),y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e;if(y.points!==void 0){for(e={points:[]},r=y.points,h=0;h<r.length;h++)o=r[h].slice(0),p=n.x-o[0],o[0]+=2*p,e.points.push(o);return y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e}return y.xmin!==void 0?(e={v:y.xmin,G:y.ymin,C:y.xmax,H:y.ymax},y.zmin!==void 0&&(e.zmin=y.zmin,e.zmax=y.zmax),y.mmin!==void 0&&(e.mmin=y.mmin,e.mmax=y.mmax),p=n.x-y.xmin,e.xmax=y.xmin+2*p,p=n.x-y.xmax,e.xmin=y.xmax+2*p,y.zmin!==void 0&&(e.zmin=y.zmin),y.zmax!==void 0&&(e.zmax=y.zmax),y.mmin!==void 0&&(e.mmin=y.mmin),y.mmax!==void 0&&(e.mmax=y.mmax),y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e):null},C.FQ=function(y,n){if(y.paths!==void 0){for(var e={paths:[]},r=0;r<y.paths.length;r++){for(var o=y.paths[r],a=[],h=0;h<o.length;h++){var c=o[h].slice(0);a.push(c);var p=n.y-o[h][1];c[1]=o[h][1]+2*p}e.paths.push(a)}return y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e}if(y.rings!==void 0){for(e={rings:[]},r=0;r<y.rings.length;r++){o=y.rings[r];var m=C.dr(o);for(a=[],h=0;h<o.length;h++)c=o[h].slice(0),a.push(c),p=n.y-o[h][1],c[1]=o[h][1]+2*p;C.dr(a)!==m&&a.reverse(),e.rings.push(a)}return y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e}if(y.x!==void 0)return p=n.y-y.y,e={y:y.y+2*p,x:y.x},y.z!==void 0&&(e.z=y.z),y.m!==void 0&&(e.m=y.m),y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e;if(y.points!==void 0){for(e={points:[]},r=y.points,h=0;h<r.length;h++)o=r[h].slice(0),p=n.y-o[1],o[1]+=2*p,e.points.push(o);return y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e}return y.xmin!==void 0?(e={v:y.xmin,G:y.ymin,C:y.xmax,H:y.ymax},y.zmin!==void 0&&(e.zmin=y.zmin,e.zmax=y.zmax),y.mmin!==void 0&&(e.mmin=y.mmin,e.mmax=y.mmax),p=n.y-y.ymin,e.ymax=y.ymin+2*p,p=n.y-y.ymax,e.ymin=y.ymax+2*p,y.zmin!==void 0&&(e.zmin=y.zmin),y.zmax!==void 0&&(e.zmax=y.zmax),y.mmin!==void 0&&(e.mmin=y.mmin),y.mmax!==void 0&&(e.mmax=y.mmax),y.hasZ!==void 0&&(e.hasZ=y.hasZ),y.hasM!==void 0&&(e.hasM=y.hasM),e):null},C}()}(U||(U={})),function(u){u.UK=function(){function C(){}return C.Kg=function(y,n){switch(n==null&&(n=u.fe.pg()),y){case 33:return new u.Ta(n);case 322:return new u.zb(n);case 197:return new u.Hh(n);case 550:return new u.ee(n);case 1607:return new u.Ua(n);case 1736:return new u.Ea(n);default:throw u.i.ga("invalid argument.")}},C}()}(U||(U={})),function(u){var C=function(){function y(n,e){this.Qe=u.ja.rf(n,-1),this.va=new u.cu,this.yl=e}return y.prototype.vW=function(n){this.va.Bt(Math.min(this.Qe.size,n)),this.va.hn(n)},y.prototype.addElement=function(n,e){if(e===void 0)return this.$M(n);e=u.P.truncate(e%this.Qe.size);var r=this.Qe.get(e);return r==-1&&(r=this.va.Rh(),this.Qe.set(e,r)),this.va.addElement(r,n)},y.prototype.$M=function(n){var e=this.yl.ez(n);e=u.P.truncate(e%this.Qe.size);var r=this.Qe.get(e);return r==-1&&(r=this.va.Rh(),this.Qe.set(e,r)),this.va.addElement(r,n)},y.prototype.kd=function(n,e){if(e===void 0)this.FP(n);else{e=u.P.truncate(e%this.Qe.size);var r=this.Qe.get(e);if(r==-1)throw u.i.O();for(var o=this.va.sc(r),a=-1;o!=-1;){var h=this.va.lb(o);this.va.ka(o)==n?(this.va.kd(r,a,o),this.va.sc(r)==-1&&(this.va.eh(r),this.Qe.set(e,-1))):a=o,o=h}}},y.prototype.FP=function(n){var e=this.yl.ez(n);e=u.P.truncate(e%this.Qe.size);var r=this.Qe.get(e);if(r==-1)throw u.i.O();for(var o=this.va.sc(r),a=-1;o!=-1;){var h=this.va.lb(o);this.va.ka(o)==n?(this.va.kd(r,a,o),this.va.sc(r)==-1&&(this.va.eh(r),this.Qe.set(e,-1))):a=o,o=h}},y.prototype.lR=function(n){return n=u.P.truncate(n%this.Qe.size),n=this.Qe.get(n),n==-1?-1:this.va.sc(n)},y.prototype.zR=function(n){return this.va.lb(n)},y.prototype.wd=function(n){var e=this.yl.ez(this.ka(n));e=u.P.truncate(e%this.Qe.size);var r=this.Qe.get(e);if(r==-1)throw u.i.O();for(var o=this.va.sc(r),a=-1;o!=-1;){if(o==n){this.va.kd(r,a,o),this.va.sc(r)==-1&&(this.va.eh(r),this.Qe.set(e,-1));return}a=o,o=this.va.lb(o)}throw u.i.O()},y.prototype.ka=function(n){return this.va.ka(n)},y.prototype.clear=function(){this.Qe=u.ja.rf(this.Qe.size,-1),this.va.clear()},y.prototype.size=function(){return this.va.OF()},y}();u.ZK=C}(U||(U={})),function(u){var C=function(){function y(){this.Ni=new u.ad(3),this.va=new u.ad(6),this.mT=!1,this.ke=-1}return y.prototype.hl=function(n){this.Ni.kd(n)},y.prototype.Rw=function(){return this.Ni.De()},y.prototype.dv=function(n){this.va.kd(n)},y.prototype.VA=function(){return this.va.De()},y.prototype.RB=function(n,e){this.Ni.T(n,1,e)},y.prototype.fx=function(n,e){this.Ni.T(n,2,e)},y.prototype.bX=function(n,e){this.Ni.T(n,3,e)},y.prototype.PB=function(n,e){this.va.T(n,4,e)},y.prototype.eX=function(n,e){this.va.T(n,3,e)},y.prototype.OJ=function(n,e){this.va.T(n,2,e)},y.prototype.Rh=function(n){var e=this.VA();return this.va.T(e,3,this.ke),this.va.T(e,4,0),this.va.T(e,5,n),this.ke!=-1&&this.OJ(this.ke,e),this.ke=e},y.prototype.eh=function(n){this.GE(n);var e=this.va.U(n,2),r=this.va.U(n,3);return e!=-1?this.eX(e,r):this.ke=r,r!=-1&&this.OJ(r,e),this.dv(n),r},y.prototype.Bt=function(n){this.va.Ee(n)},y.prototype.KF=function(n){return this.va.U(n,5)},y.prototype.aX=function(n,e){this.va.T(n,5,e)},y.prototype.addElement=function(n,e){return this.oS(n,e)},y.prototype.oS=function(n,e){var r=this.Rw();this.fx(r,-1),this.va.U(n,0)==-1&&this.va.T(n,0,r);var o=this.va.U(n,1);return this.RB(r,o),o!=-1&&this.fx(o,r),this.va.T(n,1,r),this.setData(r,e),this.PB(n,this.ds(n)+1),this.mT&&this.bX(r,n),r},y.prototype.kd=function(n,e){var r=this.xe(e),o=this.lb(e);return r!=-1?this.fx(r,o):this.va.T(n,0,o),o!=-1?this.RB(o,r):this.va.T(n,1,r),this.hl(e),this.PB(n,this.ds(n)-1),o},y.prototype.hn=function(n){this.Ni.Ee(n)},y.prototype.getData=function(n){return this.Ni.U(n,0)},y.prototype.setData=function(n,e){this.Ni.T(n,0,e)},y.prototype.lb=function(n){return this.Ni.U(n,2)},y.prototype.xe=function(n){return this.Ni.U(n,1)},y.prototype.sc=function(n){return this.va.U(n,0)},y.prototype.Gc=function(n){return this.va.U(n,1)},y.prototype.clear=function(){for(var n=this.ke;n!=-1;)n=this.eh(n)},y.prototype.GE=function(n){for(var e=this.Gc(n);e!=-1;){var r=e;e=this.xe(r),this.hl(r)}this.va.T(n,0,-1),this.va.T(n,1,-1),this.PB(n,0)},y.prototype.B=function(){return this.Ni.size==0},y.prototype.OF=function(){return this.Ni.size},y.prototype.ds=function(n){return this.va.U(n,4)},y.prototype.lz=function(n){return this.va.U(n,3)},y}();u.lp=C}(U||(U={})),function(u){var C=function(){function y(n){n===void 0?(this.vg=new u.ad(2),this.va=new u.ad(4),this.ke=-1,this.Sv=!0):(this.vg=new u.ad(2),this.va=new u.ad(n?4:2),this.ke=-1,this.Sv=n)}return y.prototype.hl=function(n){this.vg.kd(n)},y.prototype.Rw=function(){return this.vg.De()},y.prototype.dv=function(n){this.va.kd(n)},y.prototype.VA=function(){return this.va.De()},y.prototype.Rh=function(){var n=this.VA();return this.Sv&&(this.va.T(n,3,this.ke),this.ke!=-1&&this.va.T(this.ke,2,n),this.ke=n),n},y.prototype.eh=function(n){for(var e=this.sc(n);e!=-1;){var r=e;e=this.lb(e),this.hl(r)}this.Sv&&(e=this.va.U(n,2),r=this.va.U(n,3),e!=-1?this.va.T(e,3,r):this.ke=r,r!=-1&&this.va.T(r,2,e)),this.dv(n)},y.prototype.Bt=function(n){this.va.Ee(n)},y.prototype.addElement=function(n,e){var r=this.va.U(n,1),o=this.Rw();return r!=-1?this.vg.T(r,1,o):this.va.T(n,0,o),this.va.T(n,1,o),this.vg.T(o,0,e),o},y.prototype.hn=function(n){this.vg.Ee(n)},y.prototype.kd=function(n,e,r){e!=-1?(this.vg.T(e,1,this.vg.U(r,1)),this.va.U(n,1)==r&&this.va.T(n,1,e)):(this.va.T(n,0,this.vg.U(r,1)),this.va.U(n,1)==r&&this.va.T(n,1,-1)),this.hl(r)},y.prototype.Cy=function(n,e){var r=this.va.U(n,1),o=this.va.U(e,0);o!=-1&&(r!=-1?this.vg.T(r,1,o):this.va.T(n,0,o),this.va.T(n,1,this.va.U(e,1))),this.Sv&&(n=this.va.U(e,2),r=this.va.U(e,3),n!=-1?this.va.T(n,3,r):this.ke=r,r!=-1&&this.va.T(r,2,n)),this.dv(e)},y.prototype.ka=function(n){return this.vg.U(n,0)},y.prototype.Uj=function(n,e){this.vg.T(n,0,e)},y.prototype.lb=function(n){return this.vg.U(n,1)},y.prototype.sc=function(n){return this.va.U(n,0)},y.prototype.Ln=function(n){return this.ka(this.sc(n))},y.prototype.clear=function(){this.vg.oj(!0),this.va.oj(!0),this.ke=-1},y.prototype.B=function(){return this.vg.size==0},y.prototype.OF=function(){return this.vg.size},y.prototype.lz=function(n){return this.va.U(n,3)},y}();u.cu=C}(U||(U={})),function(u){u.ua=function(){function C(){}return C.Xd=function(y,n,e){return n=n.zr(),y=y!=null&&y.Yd!==void 0?y.Yd(0):0,e&&(n*=4,y*=1.1),Math.max(y,n)},C.Gr=function(y){return 2*Math.sqrt(2)*y},C.mN=function(y){return Math.sqrt(2)*y},C.mj=function(y,n,e){var r=new u.l;return n.A(r),C.Xd(y,r,e)},C.rE=function(y,n,e){return n=n.Vg(1,0).zr(),y=y!=null?y.Yd(1):0,e&&(n*=4,y*=1.1),Math.max(y,n)},C.ov=function(y,n){var e=new u.l;return y.yc(e),y=new u.l,n.yc(y),e.$b(y),e},C.TN=function(y){var n=new u.l;if(y.yc(n),n.B())return null;var e=new u.fu(n,8),r=-1,o=new u.l,a=!1;do for(var h=0,c=y.ea();h<c;h++)if(y.Tj(h,o),r=e.Ez(h,o,r),r==-1){if(a)throw u.i.ga("internal error");y.Ap(n,!1),a=!0,e.reset(n,8);break}else a=!1;while(a);return e},C.iE=function(y){var n=new u.l;y.yc(n);for(var e=new u.fu(n,8),r=-1,o=y.Ha(),a=new u.l,h=!1;o.ab();)for(;o.Ia();){var c=o.ia(),p=o.xb();if(c.A(a),r=e.Ez(p,a,r),r==-1){if(h)throw u.i.Ra();y.Ap(n,!1),h=!0,e.reset(n,8),o.aj();break}}return e},C.lj=function(y,n){var e=new u.l;y.yc(e);for(var r=new u.fu(e,8),o=-1,a=new u.l,h=y.Ha(),c=!1;h.ab();)for(;h.Ia();){var p=h.ia(),m=h.xb();if(p.A(a),a.isIntersecting(n)&&(o=r.Ez(m,a,o),o==-1)){if(c)throw u.i.ga("internal error.");y.Ap(e,!1),c=!0,r.reset(e,8),h.aj();break}}return r},C.jE=function(y,n){for(var e=new u.fu(n,8),r=new u.h,o=!1,a=new u.l,h=0;h<y.I();h++)if(y.D(h,r),n.contains(r)&&(a.L(r),e.xj(h,a)==-1)){if(o)throw u.i.Ra();o=!0,h=new u.l,y.Ap(h,!1),e.reset(h,8),h=-1}return e},C.gR=function(y,n,e){var r=new u.l,o=new u.l;y.yc(r),n.yc(o),r.X(e,e),o.X(e,e);var a=new u.l;a.L(r),a.Fa(o),y=y.Ha(),n=n.Ha();var h=new u.sC;h.WB(e);var c=!1;for(h.kK();y.ab();)for(;y.Ia();)y.ia().A(r),r.isIntersecting(a)&&(c=!0,e=new u.l,e.L(r),h.DD(y.xb(),e));if(h.dF(),!c)return null;for(r=!1,h.jK();n.ab();)for(;n.Ia();)n.ia().A(o),o.isIntersecting(a)&&(r=!0,e=new u.l,e.L(o),h.zD(n.xb(),e));return h.cF(),r?h:null},C.hR=function(y,n,e,r,o){var a=y.K(),h=n.K(),c=new u.l,p=new u.l;y.yc(c),n.yc(p),c.X(e,e),p.X(e,e);var m=new u.l;m.L(c),m.Fa(p);var g=new u.sC;g.WB(e);var _=!1;g.kK();var b=0;for(e=y.ea();b<e;b++)(!r||a!=1736||y.Gv(b))&&(y.Tj(b,c),c.isIntersecting(m)&&(_=!0,g.DD(b,c)));if(g.dF(),!_)return null;for(y=!1,g.jK(),r=0,e=n.ea();r<e;r++)(!o||h!=1736||n.Gv(r))&&(n.Tj(r,p),p.isIntersecting(m)&&(y=!0,g.zD(r,p)));return g.cF(),y?g:null},C.Tu=function(y,n,e){if(y!=n)for(var r=0;r<e;r++)y[r]==null?y[r]=u.h.cl(n[r]):y[r].N(n[r])},C.Ey=function(y,n,e,r){var o=0;for(r+=0;o<r;e++,o++)y[o]==null&&(y[o]=[0,0]),y[o][0]=n[e].x,y[o][1]=n[e].y},C.Dy=function(y,n,e,r){var o=n,a=0;for(n=r+n;o<n;a++,o++)y[o]==null?y[o]=u.h.construct(e[a][0],e[a][1]):y[o].na(e[a][0],e[a][1])},C.fP=function(y,n,e){if(y!=n)for(var r=0;r<e;r++)y[r]==null?y[r]=new u.Ta(n[r]):n[r].copyTo(y[r])},C.qE=function(y,n,e,r){var o=0;return y!=null&&(o=y.Yd(0),r&&!e||y==null||(o+=1.01*y.pz(0))),e&&(n*=4,o*=1.01),Math.max(o,n)},C.oy=function(y,n,e){return C.qE(y,n.zr(),e,!1)},C.bO=function(y,n){var e=new u.l;return n.A(e),C.oy(y,e,!0)},C.py=function(y,n){return C.qE(y,n.zr(),!1,!0)},C.Ju=function(y,n){var e=new u.l;return n.A(e),C.py(y,e)},C.vG=function(y,n,e,r){r*=r;var o=new u.h;if(o.vc(y,n),y=new u.h,y.vc(e,n),n=o.Uk(),e=y.Uk(),n<=r&&e<=r)return!0;var a=u.mc.ox(o.yi(y));return a<=r*n||a<=r*e?0<=o.Sh(y):!1},C.ZJ=function(y,n,e,r){for(var o=0;o<n;o++){var a=y[o].y,h=u.P.Tk(a,e,r);h!=a&&(y[o].y=h)}},C}()}(U||(U={})),function(u){var C=function(){function o(a){this.Za=a}return o.prototype.compare=function(a,h,c){a=a.ka(c),c=this.Za.qk(h);var p=this.Za.qk(a);return c<p?-1:c==p?r.iq(h)&&r.Iv(a)?-1:r.iq(a)&&r.Iv(h)?1:0:1},o}(),y=function(){function o(a){this.Za=a}return o.prototype.qr=function(a,h,c){this.Za.CX(c,a,h)},o.prototype.bq=function(a){return this.Za.qk(a)},o}(),n;(function(o){o[o.initialize=0]="initialize",o[o.pIn=1]="pIn",o[o.pL=2]="pL",o[o.pR=3]="pR",o[o.pT=4]="pT",o[o.right=5]="right",o[o.left=6]="left",o[o.all=7]="all"})(n||(n={}));var e=function(){function o(){this.Za=null,this.Si=new u.Oc,this.ji=new u.ja(0),this.tg=[0,0]}return o.prototype.Zi=function(a,h){this.Si.pa=a.pa-h,this.Si.wa=a.wa+h,this.ji.resize(0),this.ie=0,this.tg[0]=0},o.prototype.zB=function(a,h,c){if(a>h)throw u.i.O();this.Si.pa=a-c,this.Si.wa=h+c,this.ji.resize(0),this.ie=0,this.tg[0]=0},o.prototype.Wo=function(a,h){this.Si.pa=a-h,this.Si.wa=a+h,this.ji.resize(0),this.ie=0,this.tg[0]=0},o.prototype.next=function(){if(!this.Za.nq)throw u.i.Hb();if(0>this.ie)return-1;for(var a=!0;a;)switch(this.tg[this.ie]){case 1:a=this.AU();break;case 2:a=this.BU();break;case 3:a=this.CU();break;case 4:a=this.DU();break;case 5:a=this.AW();break;case 6:a=this.fT();break;case 7:a=this.oN();break;case 0:a=this.Bz();break;default:throw u.i.Ra()}return this.Qg!=-1?this.Op()>>1:-1},o.construct=function(a){var h=new o;return h.Za=a,h.ji.Jb(20),h.ie=-1,h},o.prototype.Bz=function(){return this.Qg=this.qH=this.Oi=this.Mc=-1,this.Za.ne!=null&&0<this.Za.ne.size?(this.tg[0]=1,this.Oi=this.Za.kf,!0):(this.ie=-1,!1)},o.prototype.AU=function(){if(this.Mc=this.Oi,this.Mc==-1)return this.Qg=this.ie=-1,!1;var a=this.Za.Pp(this.Mc);return this.Si.wa<a?(a=this.Za.pk(this.Mc),this.Oi=this.Za.sj(this.Mc),a!=-1&&(this.gi=this.Za.ml(a),this.tg[++this.ie]=6),!0):a<this.Si.pa?(a=this.Za.pk(this.Mc),this.Oi=this.Za.nk(this.Mc),a!=-1&&(this.gi=this.Za.bs(a),this.tg[++this.ie]=5),!0):(this.tg[this.ie]=2,this.qH=this.Mc,a=this.Za.pk(this.Mc),this.Oi=this.Za.sj(this.Mc),a!=-1&&(this.gi=this.Za.ml(a),this.tg[++this.ie]=7),!0)},o.prototype.BU=function(){if(this.Mc=this.Oi,this.Mc==-1)return this.tg[this.ie]=3,this.Oi=this.Za.nk(this.qH),!0;if(this.Za.Pp(this.Mc)<this.Si.pa){var a=this.Za.pk(this.Mc);return this.Oi=this.Za.nk(this.Mc),a!=-1&&(this.gi=this.Za.bs(a),this.tg[++this.ie]=5),!0}return a=this.Za.pk(this.Mc),this.Oi=this.Za.sj(this.Mc),a!=-1&&(this.gi=this.Za.ml(a),this.tg[++this.ie]=7),a=this.Za.nk(this.Mc),a!=-1&&this.ji.add(a),!0},o.prototype.CU=function(){if(this.Mc=this.Oi,this.Mc==-1)return this.tg[this.ie]=4,!0;if(this.Si.wa<this.Za.Pp(this.Mc)){var a=this.Za.pk(this.Mc);return this.Oi=this.Za.sj(this.Mc),a!=-1&&(this.gi=this.Za.ml(a),this.tg[++this.ie]=6),!0}return a=this.Za.pk(this.Mc),this.Oi=this.Za.nk(this.Mc),a!=-1&&(this.gi=this.Za.ml(a),this.tg[++this.ie]=7),a=this.Za.sj(this.Mc),a!=-1&&this.ji.add(a),!0},o.prototype.DU=function(){if(this.ji.size==0)return this.Qg=this.ie=-1,!1;this.Mc=this.ji.get(this.ji.size-1),this.ji.resize(this.ji.size-1);var a=this.Za.pk(this.Mc);return a!=-1&&(this.gi=this.Za.ml(a),this.tg[++this.ie]=7),this.Za.sj(this.Mc)!=-1&&this.ji.add(this.Za.sj(this.Mc)),this.Za.nk(this.Mc)!=-1&&this.ji.add(this.Za.nk(this.Mc)),!0},o.prototype.fT=function(){return this.Qg=this.gi,this.Qg!=-1&&r.iq(this.Op())&&this.Za.qk(this.Op())<=this.Si.wa?(this.gi=this.NF(),!1):(this.ie--,!0)},o.prototype.AW=function(){return this.Qg=this.gi,this.Qg!=-1&&r.Iv(this.Op())&&this.Za.qk(this.Op())>=this.Si.pa?(this.gi=this.LR(),!1):(this.ie--,!0)},o.prototype.oN=function(){return this.Qg=this.gi,this.Qg!=-1&&r.iq(this.Op())?(this.gi=this.NF(),!1):(this.ie--,!0)},o.prototype.NF=function(){return this.Za.Uf?this.Za.bg.lb(this.Qg):this.Za.Vi.lb(this.Qg)},o.prototype.LR=function(){return this.Za.Uf?this.Za.bg.xe(this.Qg):this.Za.Vi.xe(this.Qg)},o.prototype.Op=function(){return this.Za.Uf?this.Za.bg.ka(this.Qg):this.Za.Vi.getData(this.Qg)},o}();u.AY=e;var r=function(){function o(a){this.Cm=this.bi=this.bg=this.Vi=this.Mm=this.Gj=this.ne=this.Hj=null,this.Uf=a,this.nq=this.Uv=!1}return o.prototype.mr=function(){this.Pk(!0)},o.prototype.Dr=function(a,h){if(!this.Uv)throw u.i.Hb();this.Hj.push(new u.Oc(a,h))},o.prototype.Hp=function(){if(!this.Uv)throw u.i.ga("invalid call");this.Uv=!1,this.nq=!0,this.Uf||(this.qS(),this.aw=this.Hj.length)},o.prototype.xj=function(a){if(!this.Uf||!this.nq)throw u.i.O("invalid call");if(this.kf==-1){var h=this.Hj.length;if(this.dA){var c=new u.ja(0);c.Jb(2*h),this.XI(c),this.bi.Jb(2*h),this.bi.resize(0),this.WI(c),this.Mm.resize(h,-1),this.Mm.Yj(-1,0,h),this.dA=!1}else this.Mm.Yj(-1,0,h);this.kf=this.Vu()}h=this.kG(a<<1,this.kf),c=this.bg.addElement((a<<1)+1,this.rz(h)),this.QJ(h,c),this.Mm.set(a,h),this.aw++},o.prototype.remove=function(a){if(!this.Uf||!this.nq)throw u.i.ga("invalid call");var h=this.Mm.get(a);if(h==-1)throw u.i.O("the interval does not exist in the interval tree");this.Mm.set(a,-1),this.aw--;var c=this.rz(h),p=this.bg.UR(c);this.bg.wd(this.rR(h),c),this.bg.wd(this.OR(h),c),a=this.bg.size(c),a==0&&(this.bg.HP(c),this.UJ(p,-1)),this.Gj.kd(h),c=this.PF(p);var m=this.sj(p),g=this.nk(p);for(h=0;!(0<a||p==this.kf||m!=-1&&g!=-1);)p==this.sj(c)?m!=-1?(this.Qk(c,m),this.Wj(m,c),this.Qk(p,-1)):g!=-1?(this.Qk(c,g),this.Wj(g,c),this.Sk(p,-1)):this.Qk(c,-1):m!=-1?(this.Sk(c,m),this.Wj(m,c),this.Qk(p,-1)):g!=-1?(this.Sk(c,g),this.Wj(g,c),this.Sk(p,-1)):this.Sk(c,-1),this.Wj(p,-1),h++,p=c,c=this.pk(p),a=c!=-1?this.bg.size(c):0,m=this.sj(p),g=this.nk(p),c=this.PF(p)},o.prototype.reset=function(){if(!this.Uf||!this.nq)throw u.i.O("invalid call");this.Pk(!1)},o.prototype.size=function(){return this.aw},o.prototype.getIterator=function(){return e.construct(this)},o.prototype.XI=function(a){for(var h=this.Hj.length,c=0;c<2*h;c++)a.add(c);this.DX(a,2*h)},o.prototype.WI=function(a){for(var h=NaN,c=0;c<a.size;c++){var p=a.get(c),m=this.qk(p);m!=h&&(this.bi.add(p),h=m)}},o.prototype.qS=function(){var a=this.Hj.length,h=new u.ja(0);h.Jb(2*a),this.XI(h),this.bi.Jb(2*a),this.bi.resize(0),this.WI(h),this.Gj.Ee(a),this.Vi.hn(2*a);var c=u.Zc.Qh(a);for(c.Yj(-1,0,a),this.kf=this.Vu(),a=0;a<h.size;a++){var p=h.get(a),m=c.get(p>>1);m!=-1?this.QJ(m,this.Vi.addElement(this.rz(m),p)):(m=this.kG(p,this.kf),c.set(p>>1,m))}},o.prototype.kG=function(a,h){var c=h,p=h,m=-1,g=0,_=this.bi.size-1,b=0,x=a>>1,P=NaN,O=NaN,L=!0,j=this.yR(x);for(x=this.vR(x);L;){g<_?(b=g+u.P.truncate((_-g)/2),this.bz(c)==-1&&this.AJ(c,this.bi.get(b),this.bi.get(b+1))):this.bz(c)==-1&&this.AJ(c,this.bi.get(g),this.bi.get(g));var D=this.Pp(c);if(x<D)h!=-1&&(h==c?(p=c,P=D,h=this.sj(c),O=h!=-1?this.Pp(h):NaN):O>D&&(D<P?this.Qk(p,c):this.Sk(p,c),this.Sk(c,h),this.Uf&&(this.Wj(c,p),this.Wj(h,c)),p=c,P=D,h=-1,O=NaN)),_=this.sR(c),_==-1&&(_=this.Vu(),this.ZW(c,_)),c=_,_=b;else if(j>D)h!=-1&&(h==c?(p=c,P=D,h=this.nk(c),O=h!=-1?this.Pp(h):NaN):O<D&&(D<P?this.Qk(p,c):this.Sk(p,c),this.Qk(c,h),this.Uf&&(this.Wj(c,p),this.Wj(h,c)),p=c,P=D,h=-1,O=NaN)),g=this.PR(c),g==-1&&(g=this.Vu(),this.jX(c,g)),c=g,g=b+1;else{L=this.pk(c),L==-1&&(L=this.uP(c),this.UJ(c,L));var k=this.aN(L,a);m=this.sP(),this.mX(m,L),this.YW(m,k),c!=h&&(D<P?this.Qk(p,c):this.Sk(p,c),this.Uf&&this.Wj(c,p),h!=-1&&(O<D?this.Qk(c,h):this.Sk(c,h),this.Uf&&this.Wj(h,c))),L=!1}}return m},o.prototype.Vu=function(){return this.ne.De()},o.prototype.uP=function(a){return this.Uf?this.bg.Rr(a):this.Vi.Rh(a)},o.prototype.sP=function(){return this.Gj.De()},o.prototype.Pk=function(a){a?(this.Uv=this.dA=!0,this.nq=!1,this.bi==null?this.bi=u.Zc.Qh(0):this.bi.resize(0),this.Hj==null?this.Hj=[]:this.Hj.length=0):this.dA=!1,this.Uf?this.Mm==null?(this.Mm=u.Zc.Qh(0),this.bg=new u.$j,this.bg.Xo(new C(this))):this.bg.clear():this.Vi==null?this.Vi=new u.lp:this.Vi.clear(),this.ne==null?(this.Gj=new u.ad(3),this.ne=new u.ad(this.Uf?8:7)):(this.Gj.oj(!1),this.ne.oj(!1)),this.kf=-1,this.aw=0},o.prototype.AJ=function(a,h,c){this.SW(a,h),this.TW(a,c)},o.prototype.Pp=function(a){var h=this.bz(a);return h==-1?NaN:(h=this.qk(h),a=this.qk(this.bR(a)),h==a?h:.5*(h+a))},o.prototype.SW=function(a,h){this.ne.T(a,0,h)},o.prototype.TW=function(a,h){this.ne.T(a,1,h)},o.prototype.ZW=function(a,h){this.ne.T(a,3,h)},o.prototype.jX=function(a,h){this.ne.T(a,4,h)},o.prototype.UJ=function(a,h){this.ne.T(a,2,h)},o.prototype.Qk=function(a,h){this.ne.T(a,5,h)},o.prototype.Sk=function(a,h){this.ne.T(a,6,h)},o.prototype.Wj=function(a,h){this.ne.T(a,7,h)},o.prototype.mX=function(a,h){this.Gj.T(a,0,h)},o.prototype.aN=function(a,h){return this.Uf?this.bg.addElement(h,a):this.Vi.addElement(a,h)},o.prototype.YW=function(a,h){this.Gj.T(a,1,h)},o.prototype.QJ=function(a,h){this.Gj.T(a,2,h)},o.prototype.ml=function(a){return this.Uf?this.bg.sc(a):this.Vi.sc(a)},o.prototype.bs=function(a){return this.Uf?this.bg.Gc(a):this.Vi.Gc(a)},o.iq=function(a){return(a&1)==0},o.Iv=function(a){return(a&1)==1},o.prototype.bz=function(a){return this.ne.U(a,0)},o.prototype.bR=function(a){return this.ne.U(a,1)},o.prototype.pk=function(a){return this.ne.U(a,2)},o.prototype.sR=function(a){return this.ne.U(a,3)},o.prototype.PR=function(a){return this.ne.U(a,4)},o.prototype.sj=function(a){return this.ne.U(a,5)},o.prototype.nk=function(a){return this.ne.U(a,6)},o.prototype.PF=function(a){return this.ne.U(a,7)},o.prototype.rz=function(a){return this.Gj.U(a,0)},o.prototype.rR=function(a){return this.Gj.U(a,1)},o.prototype.OR=function(a){return this.Gj.U(a,2)},o.prototype.yR=function(a){return this.Hj[a].pa},o.prototype.vR=function(a){return this.Hj[a].wa},o.prototype.DX=function(a,h){this.Cm==null&&(this.Cm=new u.Zt);var c=new y(this);this.Cm.sort(a,0,h,c)},o.prototype.CX=function(a,h,c){var p=this;a.Wd(h,c,function(m,g){var _=p.qk(m),b=p.qk(g);return _<b||_==b&&o.iq(m)&&o.Iv(g)?-1:1})},o.prototype.qk=function(a){var h=this.Hj[a>>1];return o.iq(a)?h.pa:h.wa},o}();u.ur=r}(U||(U={})),function(u){var C=function(){function y(n){if(n==null)throw u.i.ga("Invalid arguement");this.hf=n;var e=n.iR();e.cS()?n.ef.DG()?this.no=u.ui.PannableFold:this.no=u.ui.Clip:this.no=u.ui.DontClip,e.dS()?n.$f.DG()?this.Sm=u.ui.PannableFold:this.Sm=u.ui.Clip:this.Sm=u.ui.DontClip,this.Dm=e.Lr,this.hH=e.Xu,n=this.hf.nH,this.WG=n.ks(2147483648),this.Wv=n.ks(1073741824)}return y.Bh=function(n,e,r){return e.yw.Bh(n,r)},y.Tt=function(n,e,r,o){return n.yw.Tt(e,r,o)},y.St=function(n,e,r,o){if(r=0>r?e.length:r,n=n.yw.Tt(e,r,o),n==r)return n;for(var a=e=0;a<r;a++){var h=o[a];h.isNaN()||(e<a&&o[e].N(h),e++)}for(;e<r;e++)o[e].Sc();return n},y.transform=function(n,e,r,o,a){if(n.isIdentity())return u.ua.fP(o,e,r),r;for(var h=[],c=0,p=0;p<r;){for(var m=Math.min(h.length,r-p),g=p,_=0;g<m;g++,_++)h[_]==null?h[_]=e[g].D():e[g].D(h[_]);var b=a?y.St(n,h,m,h):y.Tt(n,h,m,h);for(_=g=0;g<b;g++,_++)o[p]==null&&(o[p]=new u.Ta(e[p])),o[p].Db(h[_]);p+=m,c+=b}return c},y.prototype.Tt=function(n,e,r){if(this.hf.isIdentity())return n!=r&&u.ua.Tu(r,n,e),e;var o=this.hf.ef,a=this.hf.$f,h=o.Tb(),c=a.Tb();if(h==0&&h===c){var p=o.Sp();return a=a.Sp(),a=p/a,p=new u.Ed,p.Jt(a,a),p.aY(n,e,r),e}if(p=u.P.Hu(Math.min(e,64)),h==3){var m=o.Li;o=m.hk(),h=o.Tb(),r!=n&&u.ua.Tu(r,n,e),u.Ab.bl(m,r,e,!0),m.St(u.dm.forward,r,e),u.Ab.al(m,r,e,!0)}if(h==3||c===3)throw u.i.ga("image: transform_in_place_");if(h==2)this.no==u.ui.Clip?(r!=n&&u.ua.Tu(r,n,e),n=o.ol(),u.Ab.JS(n,o,r,e)):(r!=n&&u.ua.Tu(r,n,e),o.Xc()&&(h=o.Yd(0),m=o.Le(),u.Ab.AX(r,e,m,h),u.Ab.lF(r,e,o,0))),u.Ab.DL(o,r,e,p);else for(h=o.Yd(0),m=o.Le(),o=0;o<e;o++)u.Ab.BX(n[o],m,h,r[o]);for(u.Ab.BL(this.hf,r,e,p),n=0,(c=c==2)?n=a.Bi():isNaN(this.Dm)||(n=this.Dm),c&&this.Sm!=u.ui.Clip||u.Ab.lF(r,e,a.tc(),n),c&&(u.Ab.tG(r,e,a,this.Sm),u.Ab.CL(a,r,e,p)),n=e,o=0;o<e;++o)r[o].isNaN()&&n--;return n},y.prototype.Bh=function(n,e){if(this.hf.isIdentity()||n.B())return n;if(n.K()==33)return this.SI(n);var r=this.hf.ef,o=this.hf.$f,a=r.Tb(),h=o.Tb();if(a==0&&a==h)return e=r.Sp(),o=o.Sp(),e/=o,o=new u.Ed,o.Jt(e,e),n=u.ba.kg(n),n.Pc(o),n;switch(n.K()){case 1607:case 1736:n=this.QI(n,e);break;case 550:n=this.aW(n,e);break;case 197:n=this.$V(n,e);break;default:throw u.i.ga("")}return n},y.prototype.SI=function(n){var e=n.D(),r=[];return r[0]=e,this.Tt(r,1,r),n=new u.Ta(n),n.Db(r[0]),n},y.prototype.QI=function(n,e){if(n.vm())throw u.i.ga("curves not supported");var r=n.K();if(r==1736)return this.bW(n,e);if(r==1607)return this.cW(n,e);throw u.i.ga("projectMultiPath")},y.prototype.bW=function(n,e){var r=this.hf.ef,o=this.hf.$f,a=r.Tb(),h=o.Tb(),c=u.P.Hu(Math.min(n.I(),64)),p=u.Ea.kg(n);a==3&&(n=r.Li,r=n.hk(),a=r.Tb(),p=n.bl(p,!0),this.yp(n,u.dm.forward,p),p=n.al(p,!0)),n=null,h==3&&(n=o.Li,o=n.hk(),h=o.Tb());var m=a==2,g=h==2,_=g?o.tc():o,b=!g&&!this.Wv;h=!1;var x=p;if(m){if(x=u.Ab.OI(x,r,this.no,e),x.B())return x}else{if(p=new u.l,x.yc(p),a=r.Le(),p.G<a.G||p.H>a.H){var P=u.l.construct(p.v-1,a.G,p.C+1,a.H);if(x=u.ti.Pu(x,P,r,NaN,0,e),x.B())return x}p.S()>2*a.S()&&(x=u.Ab.Jp(x,-2*a.S(),2*a.S(),r,!0,0,!0,e))}p=this.hH,(a=!isNaN(p))&&(x=u.Zl.local().W(x,p,e)),P=g?o.mk():null;var O=NaN;m&&(O=r.Bi());var L=o.Yr()!=null;if(this.WG)m&&(u.Ab.wr(r,O,x,c),a&&(m=r.jh(),O=r.tc().jh(),p*=O/m)),u.Ab.vr(this.hf,x,b,c),a&&(m=r.tc().jh(),O=o.tc().jh(),p*=O/m),r=x;else{var j=new u.Ua(x.description);j.yD(x),m&&(u.Ab.wr(r,O,j,c),a&&(m=r.jh(),O=r.tc().jh(),p*=O/m)),u.Ab.vr(this.hf,j,b,c),a&&(m=r.tc().rm(),O=o.tc().rm(),p*=O/m),b=NaN,g?(P=o.mk(),b=o.Bi()):isNaN(this.Dm)||(b=this.Dm),m=y.vv(r)|y.vv(o),O=10*_.Yd(0),this.Wv&&(m=3,O=0),r=u.Ab.PQ(x,r,j,_,b,e,m,O)}return L&&(r=u.Ab.SD(r,o,e)),g&&(h||(g=_.Le().S(),r.Vg(0,0).S()>=g-_.Yd(0)&&(_=P.getNorthPoleLocation(),g=P.getSouthPoleLocation(),x=P.getNorthPoleGeometry(),P=P.getSouthPoleGeometry(),b=0,x==u.Eg.PE_POLE_POINT&&_!=u.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(b=1),P==u.Eg.PE_POLE_POINT&&g!=u.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(b|=2),b!==0&&(h=!0))),r=u.Ab.Hz(r,o,this.Sm,e),a&&(r=u.Zl.local().W(r,p,e)),u.Ab.Kx(o,r,c)),r.B()||(h&&(r=u.$l.local().W(r,o,!1,e)),n!=null&&(r=n.al(r,!1),this.yp(n,u.dm.reverse,r),r=n.bl(r,!1))),r},y.vv=function(n){if(n.Tb()!=2)return 0;var e=0,r=n.mk();n=r.getNorthPoleLocation();var o=r.getSouthPoleLocation(),a=r.getNorthPoleGeometry();return r=r.getSouthPoleGeometry(),a==u.Eg.PE_POLE_POINT&&n!=u.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(e=1),r==u.Eg.PE_POLE_POINT&&o!=u.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(e|=2),e},y.prototype.cW=function(n,e){var r=this.hf.ef,o=this.hf.$f,a=r.Tb(),h=o.Tb(),c=u.P.Hu(Math.min(n.I(),64)),p=u.Ua.kg(n);a==3&&(n=r.Li,r=n.hk(),a=r.Tb(),p=n.bl(p,!0),this.yp(n,u.dm.forward,p),p=n.al(p,!0)),n=null,h==3&&(n=o.Li,o=n.hk(),h=o.Tb());var m=a==2;a=(h=h==2)?o.tc():o;var g=!h&&!this.Wv;if(m){if(p=u.Ab.OI(p,r,this.no,e),p.B())return p}else{var _=new u.l;p.yc(_);var b=r.Le();if((_.G<b.G||_.H>b.H)&&(_=u.l.construct(_.v-1,b.G,_.C+1,b.H),p=u.ti.Pu(p,_,r,NaN,0,e),p.B()))return p}var x=NaN;m&&(x=r.Bi()),_=o.Yr()!=null,b=this.hH;var P=!isNaN(b);if(P&&(p=u.Zl.local().W(p,b,e)),this.WG)m&&u.Ab.wr(r,x,p,c),P&&(m=r.jh(),x=r.tc().jh(),b*=x/m),u.Ab.vr(this.hf,p,g,c),P&&(m=r.tc().jh(),x=o.tc().jh(),b*=x/m),r=p;else{var O=new u.Ua(p.description);O.yD(p),m&&(u.Ab.wr(r,x,O,c),P&&(m=r.jh(),x=r.tc().jh(),b*=x/m)),u.Ab.vr(this.hf,O,g,c),P&&(m=r.tc().jh(),x=o.tc().jh(),b*=x/m),g=NaN,h?g=o.Bi():isNaN(this.Dm)||(g=this.Dm),m=y.vv(r)|y.vv(o),x=10*a.Yd(0),this.Wv&&(m=3,x=0),r=u.Ab.QQ(p,r,O,a,g,e,m,x)}return _&&(r=u.Ab.SD(r,o,e)),h&&(r=u.Ab.Hz(r,o,this.Sm,e),P&&(r=u.Zl.local().W(r,b,e)),u.Ab.Kx(o,r,c)),r.B()||n!=null&&(r=n.al(r,!1),this.yp(n,u.dm.reverse,r),r=n.bl(r,!1)),r},y.prototype.$V=function(n,e){var r=(n.da()+n.S())/400;return r!=0?(r=u.Zl.local().W(n,r,e),r=this.QI(r,e),e=n.Ja(),r.dn(e)):(e=new u.Ta(n.Kp()),r=this.SI(e),e=n.Ja(),r.B()?e.Pa():(n.copyTo(e),n=r.D(),e.L(n.x,n.y,n.x,n.y))),e},y.prototype.aW=function(n,e){n=u.ba.kg(n);var r=this.hf.ef,o=this.hf.$f,a=r.Tb(),h=o.Tb(),c=u.P.Hu(Math.min(n.I(),64));if(a==3){var p=r.Li;r=p.hk(),a=r.Tb(),n=p.al(n,!0),this.yp(p,u.dm.forward,n),n=p.bl(n,!0)}if(a==2){if(this.no==u.ui.Clip?n=u.Zj.local().W(n,r.ol(),r,e):r.Xc()&&(a=new u.l,n.yc(a),r.Le().contains(a)||(this.no==u.ui.PannableFold&&(n=u.Ab.nj(n,r)),u.Ab.Lt(n,r.Le(),r.Yd(0),!0),n=u.Ab.Hn(n,r,0,!0,0,e))),n.B())return n;u.Ab.wr(r,0,n,c)}else u.Ab.Lt(n,r.Le(),r.Yd(0),!0);return u.Ab.vr(this.hf,n,!1,c),r=0,a=!1,p=null,h==3&&(a=!0,p=o.Li,o=p.hk(),h=o.Tb()),(h=h==2)?r=o.Bi():isNaN(this.Dm)||(r=this.Dm),h&&this.Sm!=u.ui.Clip||(n=u.Ab.Hn(n,o.tc(),r,!1,0,e)),h&&(n=u.Ab.Hz(n,o,this.Sm,e),u.Ab.Kx(o,n,c),n.B())||a&&(n=p.al(n,!0),this.yp(p,u.dm.reverse,n),n=p.bl(n,!0)),n},y.prototype.yp=function(n,e,r){var o=r.I();if(o!=0){for(var a=r.vb(0),h=u.P.mg(200,0),c=[],p=0;p<o;){var m=Math.min(100,o-p);a.Xw(2*p,2*m,h,2,!0);for(var g=0;g<m;++g)c[g]=u.h.construct(h[2*p],h[2*p+1]);n.St(e,c,m),p+=m}r.Qc(1993)}},y.Py=function(n,e,r){if(n==null||e==null||!e.Xc())throw u.i.ga("Invalid Arguement");if(n.B())return n;var o=n.K();return o==197?(o=new u.Ea(n.description),o.bd(n,!1)):u.ba.zd(o)?(o=new u.Ua(n.description),o.pc(n,!0)):o=n,o=u.Ab.nj(o,e),o.B()?o:u.Ab.Hn(o,e,0,o!=n,0,r)},y.pj=function(n,e,r,o){if(n==null||e==null||!e.Xc())throw u.i.ga("Invalid Arguement");if(n.B())return n;var a=n.K();if(u.ba.Ic(a)){n=u.Ab.nj(n,e),a=new u.l,n.A(a);for(var h=u.ua.oy(e,a,!1),c=e.ih(),p=Math.floor((a.v-c.v)/c.S())*c.S()+c.v;p<a.C;)p>a.v+h&&p<a.C-h&&(n=u.Ab.pS(n,e,r,p)),p+=c.S()}else{if(a==197)return a=new u.Ea(n.description),a.bd(n,!1),y.pj(a,e,r,o);if(u.ba.zd(a))return a=new u.Ua(n.description),a.pc(n,!0),y.pj(a,e,r,o)}return y.Py(n,e,o)},y}();u.du=C}(U||(U={})),function(u){var C=function(y){function n(e,r,o,a){var h=y.call(this)||this;return e===void 0?h.description=u.fe.pg():o===void 0?h.description=e:(h.description=u.fe.pg(),h.UB(e,r),h.Sl(o,a)),h}return Bt(n,y),n.prototype.K=function(){return 322},n.prototype.Rb=function(){var e=this.ta-this.qa,r=this.oa-this.ma;return Math.sqrt(e*e+r*r)},n.prototype.Di=function(e){var r=this.ta-this.qa,o=this.oa-this.ma;return Math.sqrt(r*r+o*o)<=e},n.prototype.Rn=function(){return!1},n.prototype.lg=function(){var e=new u.h;return e.vc(this.xc(),this.bc()),e},n.YO=function(e,r){return new n(e.x,e.y,r.x,r.y)},n.prototype.dn=function(e){e.Pa(),e.Pf(this.description);var r=new u.l;this.A(r),e.Zo(r),r=1;for(var o=this.description.Ba;r<o;r++)for(var a=this.description.ld(r),h=u.sa.Wa(a);r<h;r++){var c=this.Vg(a,0);e.setInterval(a,0,c)}},n.prototype.A=function(e){e.L(this.ta,this.oa,this.qa,this.ma),e.normalize()},n.prototype.So=function(e){e.Pa(),e.$b(this.ta,this.oa,this.Pd(0,1,0)),e.$b(this.qa,this.ma,this.Pd(1,1,0))},n.prototype.Pc=function(e){if(e instanceof u.Ed){this.wc();var r=new u.h;r.x=this.ta,r.y=this.oa,e.Gh(r,r),this.ta=r.x,this.oa=r.y,r.x=this.qa,r.y=this.ma,e.Gh(r,r),this.qa=r.x,this.ma=r.y}else this.wc(),r=new u.Od,r.x=this.ta,r.y=this.oa,r.z=this.Pd(0,1,0),r=e.hp(r),this.ta=r.x,this.oa=r.y,this.vn(0,1,0,r.z),r.x=this.qa,r.y=this.ma,r.z=this.Pd(1,1,0),r=e.hp(r),this.qa=r.x,this.ma=r.y,this.vn(1,1,0,r.z)},n.prototype.Ja=function(){return new n(this.description)},n.prototype.Sx=function(e,r){return(this.qa-e-(this.ta-e))*(this.ma-r+(this.oa-r))*.5},n.prototype.ux=function(e){return e*this.Rb()},n.prototype.IG=function(e){return e/this.Rb()},n.prototype.yF=function(e){return u.mc.jq(this.ta,this.qa,e)},n.prototype.aR=function(e){return u.mc.jq(this.oa,this.ma,e)},n.prototype.fl=function(e,r){var o=new u.jg;return this.dh(e,r,o),o.get()},n.prototype.dh=function(e,r,o){if(o==null)throw u.i.O();o.Qr(),o=o.get(),o.Pf(this.description);var a=new u.h;this.ic(e,a),o.UB(a.x,a.y),this.ic(r,a),o.Sl(a.x,a.y),a=1;for(var h=this.description.Ba;a<h;a++)for(var c=this.description.Fd(a),p=u.sa.Wa(c),m=0;m<p;m++){var g=this.Vc(e,c,m);o.TB(c,m,g),g=this.Vc(r,c,m),o.JB(c,m,g)}},n.prototype.Vc=function(e,r,o){if(r==0)return o==0?this.ic(e).x:this.ic(e).y;switch(u.sa.gz(r)){case 0:return .5>e?this.yv(r,o):this.jv(r,o);case 1:var a=this.yv(r,o);return r=this.jv(r,o),u.mc.jq(a,r,e);case 2:throw u.i.ga("not implemented")}throw u.i.Ra()},n.prototype.ge=function(e,r){var o=this.qa-this.ta,a=this.ma-this.oa,h=o*o+a*a;return h==0?.5:(e=((e.x-this.ta)*o+(e.y-this.oa)*a)/h,r||(0>e?e=0:1<e&&(e=1)),e)},n.prototype.fq=function(e,r,o,a){if(e){if(e=this.ma-this.oa,e==0)return r==this.ma?-1:0;if(r=(r-this.oa)/e,0>r||1<r)return 0;o!=null&&(o[0]=this.yF(r))}else{if(e=this.qa-this.ta,e==0)return r==this.qa?-1:0;if(r=(r-this.ta)/e,0>r||1<r)return 0;o!=null&&(o[0]=this.aR(r))}return a!=null&&(a[0]=r),1},n.prototype.Me=function(e,r){var o=this.ma-this.oa;return o==0?e==this.ma?r:NaN:(e=(e-this.oa)/o,r=this.yF(e),e==1&&(r=this.qa),r)},n.prototype.tu=function(e,r,o){return 0<=this.tp(e.x,e.y,r,o)},n.prototype.xi=function(e,r,o){return 0<=this.tp(e,r,o,!0)},n.prototype.ss=function(e,r){return this.tu(e,r,!1)},n.prototype.mI=function(){if(this.ma<this.oa||this.ma==this.oa&&this.qa<this.ta){var e=this.ta;this.ta=this.qa,this.qa=e,e=this.oa,this.oa=this.ma,this.ma=e,e=0;for(var r=this.description.Qq-2;e<r;e++){var o=this.la[e];this.la[e]=this.la[e+r],this.la[e+r]=o}}},n.prototype.wu=function(e,r){r=u.h.construct(e,r),r.sub(this.bc());var o=new u.h;return o.vc(this.xc(),this.bc()),e=o.yi(r),r=8881784197001252e-31*(Math.abs(o.x*r.y)+Math.abs(o.y*r.x)),e>r?-1:e<-r?1:0},n.prototype.tp=function(e,r,o,a){var h=this.ta,c=this.oa,p=e-h,m=r-c;if(p=Math.sqrt(p*p+m*m),p<=Math.max(o,6661338147750939e-31*p))return a&&p==0?NaN:0;if(p=e-this.qa,m=r-this.ma,p=Math.sqrt(p*p+m*m),p<=Math.max(o,6661338147750939e-31*p))return a&&p==0?NaN:1;if(p=this.qa-this.ta,m=this.ma-this.oa,a=Math.sqrt(p*p+m*m),0<a){var g=1/a;p*=g,m*=g;var _=e-h,b=r-c,x=_*p+b*m,P=17763568394002505e-31*(Math.abs(_*p)+Math.abs(b*m)),O=p;if(p=-m,m=O,P=Math.max(o,P),x<-P||x>a+P)return NaN;if(Math.abs(_*p+b*m)<=Math.max(o,17763568394002505e-31*(Math.abs(_*p)+Math.abs(b*m)))&&(p=u.P.Tk(x*g,0,1),.5>=p?(m=this.ta+(this.qa-this.ta)*p,a=this.oa+(this.ma-this.oa)*p):(m=this.qa-(this.qa-this.ta)*(1-p),a=this.ma-(this.ma-this.oa)*(1-p)),u.h.Jy(m,a,e,r)<=o)){if(.5>p){if(u.h.Jy(m,a,h,c)<=o)return 0}else if(u.h.Jy(m,a,this.qa,this.ma)<=o)return 1;return p}}return NaN},n.prototype.Nb=function(e){return e==null?!1:e==this?!0:e.constructor!==this.constructor?!1:this.AM(e)},n.prototype.mD=function(e,r,o){var a=o?this.ta:this.qa;o=o?this.oa:this.ma;var h=new u.h;return h.x=e.qa-a,h.y=e.ma-o,r.Sh(h)>6661338147750939e-31*r.aD(h)?(h.x=e.ta-a,h.y=e.oa-o,r.Sh(h)<=6661338147750939e-31*r.aD(h)):!0},n.prototype.lD=function(e){var r=new u.h;return r.x=this.qa-this.ta,r.y=this.ma-this.oa,this.mD(e,r,!1)?(r.Uq(),!!this.mD(e,r,!0)):!1},n.IM=function(e,r){var o=e.wu(r.ta,r.oa),a=e.wu(r.qa,r.ma);return 0>o&&0>a||0<o&&0<a||(o=r.wu(e.ta,e.oa),a=r.wu(e.qa,e.ma),0>o&&0>a||0<o&&0<a)?!1:(o=e.Rb(),a=r.Rb(),o>a?e.lD(r):r.lD(e))},n.GM=function(e,r,o){var a=u.h.construct(NaN,NaN),h=e.qa-e.ta,c=e.ma-e.oa,p=r.qa-r.ta,m=r.ma-r.oa,g=p*c-h*m;if(g==0)return a;var _=8881784197001252e-31*(Math.abs(p*c)+Math.abs(h*m)),b=r.ta-e.ta,x=r.oa-e.oa,P=p*x-b*m,O=P/g,L=Math.abs(g);return p=(8881784197001252e-31*(Math.abs(p*x)+Math.abs(b*m))*L+_*Math.abs(P))/(g*g)+2220446049250313e-31*Math.abs(O),O<-p||O>1+p||(m=h*x-b*c,p=m/g,h=(8881784197001252e-31*(Math.abs(h*x)+Math.abs(b*c))*L+_*Math.abs(m))/(g*g)+2220446049250313e-31*Math.abs(p),p<-h||p>1+h)||(O=u.P.Tk(O,0,1),h=u.P.Tk(p,0,1),c=e.ic(O),g=r.ic(h),_=new u.h,_.vc(c,g),_.length()>o&&(_.add(c,g),_.scale(.5),O=e.ge(_,!1),h=r.ge(_,!1),e=e.ic(O),r=r.ic(h),e.sub(r),e.length()>o))||a.na(O,h),a},n.JM=function(e,r,o,a){var h=0;if((e.ta==r.ta&&e.oa==r.oa||e.ta==r.qa&&e.oa==r.ma)&&(h++,!a))return 1;if(e.qa==r.ta&&e.ma==r.oa||e.qa==r.qa&&e.ma==r.ma){if(h++,h==2)return 2;if(!a)return 1}return r.xi(e.ta,e.oa,o)||r.xi(e.qa,e.ma,o)||e.xi(r.ta,r.oa,o)||e.xi(r.qa,r.ma,o)?1:a&&h!=0||n.IM(e,r)==0?0:1},n.Yx=function(e,r,o,a,h,c){var p=0,m=e.tp(r.ta,r.oa,c,!1),g=e.tp(r.qa,r.ma,c,!1),_=r.tp(e.ta,e.oa,c,!1),b=r.tp(e.qa,e.ma,c,!1);return isNaN(m)||(a!=null&&(a[p]=m),h!=null&&(h[p]=0),o!=null&&(o[p]=u.h.construct(r.ta,r.oa)),p++),isNaN(g)||(a!=null&&(a[p]=g),h!=null&&(h[p]=1),o!=null&&(o[p]=u.h.construct(r.qa,r.ma)),p++),p==2||isNaN(_)||m==0&&_==0||g==0&&_==1||(a!=null&&(a[p]=0),h!=null&&(h[p]=_),o!=null&&(o[p]=u.h.construct(e.ta,e.oa)),p++),p==2||isNaN(b)||m==1&&b==0||g==1&&b==1||(a!=null&&(a[p]=1),h!=null&&(h[p]=b),o!=null&&(o[p]=u.h.construct(r.qa,r.ma)),p++),0<p?(p==2&&a!=null&&a[0]>a[1]&&(e=a[0],a[0]=a[1],a[1]=e,h!=null&&(a=h[0],h[0]=h[1],h[1]=a),o!=null&&(h=u.h.construct(o[0].x,o[0].y),o[0]=o[1],o[1]=h)),p):(p=n.GM(e,r,c),isNaN(p.x)?0:(o!=null&&(o[0]=e.ic(p.x)),a!=null&&(a[0]=p.x),h!=null&&(h[0]=p.y),1))},n.prototype.$F=function(){return 0},n.prototype.qp=function(){},n.prototype.toString=function(){return"Line: ["+this.ta.toString()+", "+this.oa.toString()+", "+this.qa.toString()+", "+this.ma.toString()+"]"},n}(u.NC);u.zb=C}(U||(U={})),function(u){var C=function(){function y(){this.Lm=[],this.za=-1}return y.prototype.Ma=function(){return this.za},y.prototype.next=function(){if(this.Lm!=null&&this.Lm.length!=0){this.za++;var n=this.Lm[0];return this.Lm=1>=this.Lm.length?[]:this.Lm.slice(1),n}return this.Lm=null},y.prototype.VX=function(n){this.Lm.push(n)},y.prototype.re=function(){},y}();u.bL=C}(U||(U={})),function(u){(function(y){y[y.enumFillRuleOddEven=0]="enumFillRuleOddEven",y[y.enumFillRuleWinding=1]="enumFillRuleWinding"})(u.NL||(u.NL={}));var C=function(y){function n(e,r){var o=y.call(this)||this;if(o.yf=!1,o.Gq=null,o.uq=0,o.tq=0,o.Cj=null,o.Og=!1,o.nb=null,o.mb=null,o.Se=null,o.Nj=null,o.Td=null,o.vq=0,o.gb=0,o.zq=0,r===void 0)o.yf=e,o.Og=!1,o.vq=0,o.uq=0,o.tq=0,o.xa=0,o.description=u.fe.pg();else{if(r==null)throw u.i.O();o.yf=e,o.Og=!1,o.vq=0,o.uq=0,o.tq=0,o.xa=0,o.description=r}return o.Cj=null,o.gb=0,o}return Bt(n,y),n.prototype.vm=function(){return 0<this.vq},n.prototype.Xx=function(){this.wc(),this.Gq==null?this.Gq=new u.Ta(this.description):this.Gq.Pf(this.description)},n.prototype.rx=function(e,r){var o=new u.h;o.x=e,o.y=r,this.Nt(o)},n.prototype.Nt=function(e){this.Xx(),this.Gq.Db(e),this.Og=!0},n.prototype.nf=function(e){if(e.B())throw u.i.O();this.Ll(e.description),this.Xx(),e.copyTo(this.Gq),this.Og=!0},n.prototype.Rx=function(){var e=1;this.Og&&(this.Xx(),this.nb==null?(this.nb=u.Zc.Qh(2),this.nb.write(0,0),this.mb=u.Zc.Or(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.yf&&this.mb.write(this.mb.size-2,1),e++);var r=this.xa;this.nb.write(this.nb.size-1,this.xa+e),this.fm(r+e),this.mb.write(this.nb.size-1,0),this.Og&&(this.It(r,this.Gq),this.Og=!1)},n.prototype.Aj=function(e,r){this.Rx(),this.Db(this.xa-1,e,r)},n.prototype.Ei=function(e){this.Rx(),this.Db(this.xa-1,e)},n.prototype.lineTo=function(e){this.Rx(),this.It(this.xa-1,e)},n.prototype.xU=function(e){if(this.wc(),this.yf)throw u.i.Ra();var r=this.ea();if(e>r)throw u.i.Ra();if(this.ec(e)){if(this.mb==null)throw u.i.Ra();var o=this.xa,a=this.Ca(e),h=this.Wc(e);this.fm(this.xa+1),this.oc();for(var c=0,p=this.description.Ba;c<p;c++)if(this.Aa[c]!=null){var m=u.sa.Wa(this.description.Fd(c));this.Aa[c].On(m*h,this.Aa[c],m*a,m,!0,1,m*o)}for(;r>e;r--)o=this.nb.read(r),this.nb.write(r,o+1);this.mb.FE(e,1)}},n.prototype.Cp=function(){if(this.vx(),e===void 0){this.Og=!1;var e=this.ea()-1}var r=this.mb.read(e);this.mb.write(e,r|1),this.Se!=null&&(e=this.Wc(e)-1,this.Se.write(e,1),this.Nj.write(e,-1))},n.prototype.ec=function(e){return(this.mb.read(e)&1)!=0},n.prototype.Pn=function(e){if(this.ec(e))return!0;var r=this.Ca(e);return e=this.Wc(e)-1,r>e?!1:(r=this.Oa(r),e=this.Oa(e),r.rb(e))},n.prototype.Av=function(e){return(this.mb.read(e)&2)!=0},n.prototype.pc=function(e,r){if(this.Ll(e.description),e.K()==322){var o=new u.Ta;(r||this.B())&&(e.Vo(o),this.nf(o)),e.Ro(o),this.lineTo(o)}else throw u.i.Ra()},n.prototype.vp=function(e){var r=this.xa==0;this.rx(e.v,e.G),this.Aj(e.v,e.H),this.Aj(e.C,e.H),this.Aj(e.C,e.G),this.Cp(),this.Og=!1,r&&this.Nf(256,!1)},n.prototype.bd=function(e,r){if(!e.B()){for(var o=this.xa==0,a=new u.Ta(this.description),h=0;4>h;h++)e.If(r?4-h-1:h,a),h==0?this.nf(a):this.lineTo(a);this.Cp(),this.Og=!1,o&&!r&&this.Nf(256,!1)}},n.prototype.add=function(e,r){for(var o=0;o<e.ea();o++)this.addPath(e,o,!r)},n.prototype.addPath=function(e,r,o){this.wf(-1,e,r,o)},n.prototype.$k=function(e,r){this.Cz(e,r)},n.prototype.Fr=function(e,r,o,a,h){if(h||this.ea()!=0||(h=!0),0>r&&(r=e.ea()-1),r>=e.ea()||0>o||0>a||a>e.tv(r))throw u.i.ga("index out of bounds");if(a!=0){var c=e.ec(r)&&o+a==e.tv(r);if(!c||a!=1){if(this.Og=!1,this.Ll(e.description),o=e.Ca(r)+o+1,h&&(a++,o--),c&&a--,c=this.xa,this.fm(this.xa+a),this.oc(),h){if(a==0)return;this.nb.add(this.xa),h=e.mb.read(r),h&=-5,this.yf&&(h|=1),this.mb.write(this.mb.size-1,h),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.xa);h=0;for(var p=this.description.Ba;h<p;h++){var m=this.description.ld(h),g=u.sa.Wa(m),_=e.description.Rf(m);0>_||e.Aa[_]==null?this.Aa[h].Nn(g*c,u.sa.te(m),a*g,g*c):this.Aa[h].On(g*c,e.Aa[_],g*o,a*g,!0,g,g*c)}if(this.vm()||e.Av(r))throw u.i.Ra();this.Qc(1993)}}},n.prototype.jJ=function(){for(var e=0,r=this.ea();e<r;e++)this.zW(e)},n.prototype.zW=function(e){if(this.oc(),e>=this.ea())throw u.i.O();var r=this.Ca(e),o=this.Ka(e);e=this.ec(e)?1:0;for(var a=0,h=this.description.Ba;a<h;a++)if(this.Aa[a]!=null){var c=u.sa.Wa(this.description.Fd(a));this.Aa[a].pi(c*(r+e),c*(o-e),c)}this.Qc(1993)},n.prototype.ar=function(e){this.oc();var r=this.ea();if(0>e&&(e=r-1),e>=r)throw u.i.O();for(var o=this.Ca(e),a=this.Ka(e),h=0,c=this.description.Ba;h<c;h++)if(this.Aa[h]!=null){var p=u.sa.Wa(this.description.Fd(h));this.Aa[h].Gn(p*o,p*a,p*this.xa)}for(o=e+1;o<=r;o++)h=this.nb.read(o),this.nb.write(o-1,h-a);if(this.mb==null)for(o=e+1;o<=r;o++)e=this.mb.read(o),this.mb.write(o-1,e);this.nb.resize(r),this.mb.resize(r),this.xa-=a,this.Rg-=a,this.Qc(1993)},n.prototype.wf=function(e,r,o,a){if(r==this||o>=r.ea())throw u.i.O();var h=this.ea();if(e>h)throw u.i.O();0>e&&(e=h),0>o&&(o=r.ea()-1),this.Og=!1,this.Ll(r.description),r.oc();var c=r.Ca(o),p=r.Ka(o),m=this.xa,g=r.ec(o)&&!a?1:0;this.fm(this.xa+p),this.oc();for(var _=e<h?this.Ca(e):m,b=0,x=this.description.Ba;b<x;b++){var P=this.description.Fd(b),O=r.description.Rf(P),L=u.sa.Wa(P);0<=O&&r.Aa[O]!=null?(g!=0&&this.Aa[b].On(_*L,r.Aa[O],L*c,L,!0,L,L*m),this.Aa[b].On((_+g)*L,r.Aa[O],L*(c+g),L*(p-g),a,L,L*(m+g))):this.Aa[b].Nn(_*L,u.sa.te(P),L*p,L*m)}for(this.nb.add(m+p),a=h;a>=e+1;a--)c=this.nb.read(a-1),this.nb.write(a,c+p);for(r.Av(o),this.mb.add(0),a=h-1;a>=e+1;a--)h=this.mb.read(a),h&=-5,this.mb.write(a+1,h);h=r.ER().read(o),h&=-5,this.yf&&(h|=1),this.mb.write(e,h)},n.prototype.Cz=function(e,r){var o=-1,a=this.ea();if(o>a)throw u.i.O();0>o&&(o=a),this.Og=!1;var h=this.xa;this.fm(this.xa+r),this.oc();var c=o<a?this.Ca(o):h;if(e!=null)this.Aa[0].Dz(2*c,e,0,r,!0,2*h);else{var p=u.sa.te(0);this.Aa[0].Nn(2*c,p,2*r,2*h)}e=1;for(var m=this.description.Ba;e<m;e++){p=this.description.ld(e);var g=u.sa.Wa(p);p=u.sa.te(p),this.Aa[e].Nn(c*g,p,g*r,g*h)}for(this.nb.add(this.xa),h=a;h>=o+1;h--)c=this.nb.read(h-1),this.nb.write(h,c+r);for(this.mb.add(0),h=a-1;h>=o+1;h--)r=this.mb.read(h),r&=-5,this.mb.write(h+1,r);this.yf&&this.mb.write(o,1)},n.prototype.lG=function(e,r,o){var a=-1;if(0>e&&(e=this.ea()),e>this.ea()||a>this.Ka(e)||o>r.length)throw u.i.ga("index out of bounds");if(o!=0){e==this.ea()&&(this.nb.add(this.xa),this.yf?this.mb.add(1):this.mb.add(0)),0>a&&(a=this.Ka(e)),this.oc();var h=this.xa;this.fm(this.xa+o),this.oc();for(var c=0,p=this.description.Ba;c<p;c++){var m=this.description.Fd(c),g=u.sa.Wa(m);this.Aa[c].Wt(g*(this.Ca(e)+a+o),(h-this.Ca(e)-a)*g,this.Aa[c],g*(this.Ca(e)+a),!0,g),c==0?this.Aa[c].qC(g*(this.Ca(e)+a),o,r,0,!0):this.Aa[c].Yj(u.sa.te(m),(this.Ca(e)+a)*g,o*g)}for(this.vm()&&(this.Se.Wt(this.Ca(e)+a+o,h-this.Ca(e)-a,this.Se,this.Ca(e)+a,!0,1),this.Nj.Wt(this.Ca(e)+a+o,h-this.Ca(e)-a,this.Nj,this.Ca(e)+a,!0,1),this.Se.Yj(1,this.Ca(e)+a,o),this.Nj.Yj(-1,this.Ca(e)+a,o)),e+=1,r=this.ea();e<=r;e++)this.nb.write(e,this.nb.read(e)+o)}},n.prototype.xf=function(e,r,o){var a=this.ea();if(0>e&&(e=this.ea()),e>=a||r>this.Ka(e))throw u.i.ga("index out of bounds");e==this.ea()&&(this.nb.add(this.xa),this.yf?this.mb.add(1):this.mb.add(0)),0>r&&(r=this.Ka(e));var h=this.xa;this.fm(this.xa+1),this.oc();var c=this.Ca(e);this.Aa[0].xj(2*(c+r),o,2*h),o=1;for(var p=this.description.Ba;o<p;o++){var m=this.description.Fd(o),g=u.sa.Wa(m);this.Aa[o].Nn(g*(c+r),u.sa.te(m),g,g*h)}for(e+=1;e<=a;e++)this.nb.write(e,this.nb.read(e)+1)},n.prototype.yB=function(e,r){var o=this.ea();if(0>e&&(e=o-1),e>=o||r>=this.Ka(e))throw u.i.ga("index out of bounds");this.oc();var a=this.Ca(e);0>r&&(r=this.Ka(e)-1),r=a+r,a=0;for(var h=this.description.Ba;a<h;a++)if(this.Aa[a]!=null){var c=u.sa.Wa(this.description.Fd(a));this.Aa[a].Gn(c*r,c,c*this.xa)}for(;o>=e+1;o--)r=this.nb.read(o),this.nb.write(o,r-1);this.xa--,this.Rg--,this.Qc(1993)},n.prototype.pE=function(e,r,o,a){if(e=this.Ca(e)+r,o=this.Ca(o)+a,o<e||0>e||o>this.I()-1)throw u.i.O();a=this.Ha(),r=0,a.Wb(e);do{for(;a.Ia()&&(e=a.ia(),a.xb()!=o);)e=e.Rb(),r+=e;if(a.xb()==o)break}while(a.ab());return r},n.prototype.aO=function(e,r,o){if(r=this.Ca(e)+r,o=this.Ca(e)+o,0>r||o>this.I()-1)throw u.i.O();var a=this.Ha();if(r>o){if(!this.ec(e))throw u.i.O("cannot iterate across an open path");a.EB()}var h=e=0;a.Wb(r);do h+=e,e=a.ia().Rb();while(a.xb()!=o);return h},n.prototype.ng=function(){return u.si.im(this,null)},n.prototype.FS=function(e,r,o){for(var a=e;a<o-1;a++)if(this.ec(a))throw u.i.O("cannot interpolate across closed paths");if(a=this.description.Ba,a!=1){var h=this.pE(e,r,o,void 0);if(h!=0)for(var c=1;c<a;c++){var p=this.description.ld(c);if(u.sa.gz(p)!=2)for(var m=u.sa.Wa(p),g=0;g<m;g++)this.HS(p,e,r,o,h,g)}}},n.prototype.ES=function(e,r,o){var a=this.description.Ba;if(a!=1){var h=this.aO(e,r,o);if(h!=0)for(var c=1;c<a;c++){var p=this.description.ld(c);if(u.sa.gz(p)!=2)for(var m=u.sa.Wa(p),g=0;g<m;g++)this.GS(p,e,r,o,h,g)}}},n.prototype.HS=function(e,r,o,a,h,c){var p=this.Ha(),m=this.Ca(r)+o;a=this.Ca(a)+void 0,r=this.Vc(e,m,c),o=this.Vc(e,a,c);var g=r,_=0;p.Wb(m);do if(p.Ia()){if(p.ia(),p.xb()==a)break;this.setAttribute(e,p.xb(),c,g),p.ni();do{if(m=p.ia(),p.kk()==a)return;m=m.Rb(),_+=m,g=u.mc.jq(r,o,_/h),p.Qn()||this.setAttribute(e,p.kk(),c,g)}while(p.Ia())}while(p.ab())},n.prototype.GS=function(e,r,o,a,h,c){var p=this.Ha(),m=this.Ca(r)+o;if(r=this.Ca(r)+a,r!=m){a=this.Vc(e,m,c),o=this.Vc(e,r,c);var g=0;p.Wb(m),p.EB(),m=a;do{var _=p.ia();this.setAttribute(e,p.xb(),c,m),m=_.Rb(),g+=m,m=u.mc.jq(a,o,g/h)}while(p.kk()!=r)}},n.prototype.Pa=function(){this.vq=0,this.Og=!1,this.Td=this.Se=this.Nj=this.mb=this.nb=null,this.rD()},n.prototype.Pc=function(e){e instanceof u.Ed?this.TD(e,-1):this.rN(e)},n.prototype.TD=function(e,r){if(!this.B()&&!e.isIdentity()){this.oc();var o=this.Aa[0],a=new u.h,h=new u.h;if(0>r){var c=this.vm(),p=0;r=this.xa}else c=this.Av(r),p=this.Ca(r),r=this.Wc(r);for(;p<r;p++){if(a.x=o.read(2*p),a.y=o.read(2*p+1),c){var m=this.Nj.read(p);if(0<=m)switch(this.Se.read(p)&7){case 2:h.x=this.Td.read(m),h.y=this.Td.read(m+1),e.Gh(h,h),this.Td.write(m,h.x),this.Td.write(m+1,h.y),h.x=this.Td.read(m+3),h.y=this.Td.read(m+4),e.Gh(h,h),this.Td.write(m+3,h.x),this.Td.write(m+4,h.y);break;case 4:throw u.i.Ra()}}e.Gh(a,a),o.write(2*p,a.x),o.write(2*p+1,a.y)}this.Qc(1993)}},n.prototype.rN=function(e){if(!this.B()){this.se(1),this.oc();for(var r=this.Aa[0],o=this.Aa[1],a=new u.Od,h=new u.Od,c=this.vm(),p=0;p<this.xa;p++){if(a.x=r.read(2*p),a.y=r.read(2*p+1),a.z=o.read(p),c){var m=this.Nj.read(p);if(0<=m)switch(this.Se.read(p)&7){case 2:h.x=this.Td.read(m),h.y=this.Td.read(m+1),h.z=this.Td.read(m+2),h=e.hp(h),this.Td.write(m,h.x),this.Td.write(m+1,h.y),this.Td.write(m+1,h.z),h.x=this.Td.read(m+3),h.y=this.Td.read(m+4),h.z=this.Td.read(m+5),h=e.hp(h),this.Td.write(m+3,h.x),this.Td.write(m+4,h.y),this.Td.write(m+5,h.z);break;case 4:throw u.i.Ra()}}a=e.hp(a),r.write(2*p,a.x),r.write(2*p+1,a.y),o.write(p,a.z)}this.Qc(1993)}},n.prototype.ey=function(){this.nb==null&&(this.nb=u.Zc.Qh(1,0),this.mb=u.Zc.Or(1,0)),this.Se!=null&&(this.Se.resize(this.Rg,1),this.Nj.resize(this.Rg,-1))},n.prototype.qp=function(e){e.Og=!1,e.vq=this.vq,e.zq=this.zq,e.nb=this.nb!=null?u.ja.Dn(this.nb):null,e.mb=this.mb!=null?u.rn.Dn(this.mb):null,e.Nj=this.Nj!=null?u.ja.Dn(this.Nj):null,e.Se=this.Se!=null?u.rn.Dn(this.Se):null,e.Td=this.Td!=null?u.ce.Dn(this.Td):null,e.uq=this.uq,e.tq=this.tq,e.Cj=this.ck(1024)?null:this.Cj},n.prototype.Rb=function(){if(!this.ck(512))return this.uq;for(var e=this.Ha(),r=new u.Ex(0);e.ab();)for(;e.Ia();)r.add(e.ia().Rb());return this.uq=r.tm(),this.Nf(512,!1),r.tm()},n.prototype.Nb=function(e){if(e==this)return!0;if(!(e instanceof n&&y.prototype.Nb.call(this,e)))return!1;var r=this.ea();return r!=e.ea()||this.nb!=null&&!this.nb.Nb(e.nb,0,r+1)||this.zq!=e.zq||this.mb!=null&&!this.mb.Nb(e.mb,0,r)?!1:y.prototype.Nb.call(this,e)},n.prototype.Ha=function(){return new u.TL(this)},n.prototype.dy=function(e){if(y.prototype.dy.call(this,e),this.vm())for(e=this.Ha();e.ab();)for(;e.Ia();)break},n.prototype.Ap=function(e,r){if(y.prototype.Ap.call(this,e,r),this.vm())for(e=this.Ha();e.ab();)for(;e.Ia();)break},n.prototype.Zx=function(){this.xa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},n.prototype.He=function(){return this.yf?(this.zu(),this.tq):0},n.prototype.Gv=function(e){return this.yf?this.ck(8)?(this.zu(),0<this.Cj.read(e)):(this.mb.read(e)&4)!=0:!1},n.prototype.Kr=function(e){return this.yf?(this.zu(),this.Cj.read(e)):0},n.prototype.zu=function(){if(this.ck(1024)){var e=this.ea();this.Cj==null?this.Cj=new u.ce(e):this.Cj.size!=e&&this.Cj.resize(e),e=new u.Ex(0);for(var r=new u.Ex(0),o=new u.h,a=0,h=this.Ha();h.ab();){for(r.reset(),this.D(this.Ca(h.gb),o);h.Ia();)r.add(h.ia().Sx(o.x,o.y));e.add(r.tm());var c=a++;this.Cj.write(c,r.tm())}this.tq=e.tm(),this.Nf(1024,!1)}},n.prototype.AR=function(){if(this.yf){this.hm();for(var e=0,r=this.ea(),o=0;o<r;o++)this.mb.read(o)&4&&e++}},n.prototype.hm=function(){if(this.ck(8)){this.zu();var e=this.ea();(this.mb==null||this.mb.size<e)&&(this.mb=u.Zc.Or(e+1));for(var r=1,o=0;o<e;o++){var a=this.Cj.read(o);o==0&&(r=0<a?1:-1),0<a*r?this.mb.uJ(o,4):this.mb.FE(o,4)}this.Nf(8,!1)}},n.prototype.nz=function(e){var r=this.gb,o=this.ea();if(0<=r&&r<o){if(e<this.Wc(r)){if(e>=this.Ca(r))return r;r--}else r++;if(0<=r&&r<o&&e>=this.Ca(r)&&e<this.Wc(r))return this.gb=r}if(5>o){for(r=0;r<o;r++)if(e<this.Wc(r))return this.gb=r;throw u.i.ga("corrupted geometry")}for(r=0,--o;o>r;){var a=r+(o-r>>1),h=this.Ca(a);if(e<h)o=a-1;else if(r=this.Wc(a),e>=r)r=a+1;else return this.gb=a}return this.gb=r},n.prototype.sz=function(){var e=this.I();if(!this.yf){e-=this.ea();for(var r=0,o=this.ea();r<o;r++)this.ec(r)&&e++}return e},n.prototype.tv=function(e){var r=this.Ka(e);return this.ec(e)||r--,r},n.prototype.Ja=function(){return new n(this.yf,this.description)},n.prototype.Eb=function(){return this.yf?2:1},n.prototype.K=function(){return this.yf?1736:1607},n.prototype.LJ=function(e){this.nb=e,this.Qc(16777215)},n.prototype.QR=function(){return this.vx(),this.Se},n.prototype.ER=function(){return this.vx(),this.mb},n.prototype.KJ=function(e){this.mb=e,this.Qc(16777215)},n.prototype.ea=function(){return this.nb!=null?this.nb.size-1:0},n.prototype.Wc=function(e){return this.nb.read(e+1)},n.prototype.Ka=function(e){return this.nb.read(e+1)-this.nb.read(e)},n.prototype.Ca=function(e){return this.nb.read(e)},n.prototype.nu=function(e,r){this.Cb==null&&(this.Cb=new u.Wk),r=u.Mx.kW(r);var o=this.Cb.Hk;if(o!=null)if(o.Kk<e||r>o.MR())this.Cb.tD(null);else return!0;return o=u.Mx.create(this,e,r),this.Cb.tD(o),!0},n.prototype.dc=function(){var e=y.prototype.dc.call(this);if(!this.Bc()){var r=this.ea();this.nb!=null&&this.nb.Cn(e,0,r+1),this.mb!=null&&this.mb.Cn(e,0,r)}return e},n.prototype.UF=function(e){return this.Se!=null?this.Se.read(e):1},n.prototype.cc=function(e,r,o){var a=this.nz(e);if(e==this.Wc(a)-1&&!this.ec(a))throw u.i.ga("index out of bounds");this.oc();var h=this.Se,c=1;switch(h!=null&&(c=h.read(e)&7),c){case 1:r.Qr();break;case 2:throw u.i.Ra();case 4:throw u.i.Ra();default:throw u.i.Ra()}if(r=r.get(),o?r.Pf(u.fe.pg()):r.Pf(this.description),a=e==this.Wc(a)-1&&this.ec(a)?this.Ca(a):e+1,h=new u.h,this.D(e,h),r.Ec(h),this.D(a,h),r.Rc(h),!o)for(o=1,h=this.description.Ba;o<h;o++){c=this.description.Fd(o);for(var p=u.sa.Wa(c),m=0;m<p;m++){var g=this.Vc(c,e,m);r.TB(c,m,g),g=this.Vc(c,a,m),r.JB(c,m,g)}}},n.prototype.Tj=function(e,r){if(e>=this.ea())throw u.i.O();if(this.B())r.Pa();else{if(this.Av(e))throw u.i.ga("not implemented");var o=this.vb(0),a=new u.h,h=new u.l;h.Pa();var c=this.Ca(e);for(e=this.Wc(e);c<e;c++)o.uc(2*c,a),h.$b(a);r.L(h)}},n.prototype.hj=function(e){return this.Cb==null&&(this.Cb=new u.Wk),e==0||16>this.I()?!1:(e=u.ua.iE(this),this.Cb.RM(e),!0)},n.prototype.cM=function(){if(this.Cb==null&&(this.Cb=new u.Wk),this.Cb.Bo==null){this.Cb.sD(null);var e=u.ua.TN(this);this.Cb.sD(e)}},n.prototype.$o=function(e){this.zq=e},n.prototype.Kn=function(){return this.zq},n.prototype.yD=function(e){if(this==e)throw u.i.ga("MultiPathImpl.add");for(var r=this.ea(),o=0;o<e.ea();o++)this.addPath(e,o,!0),this.xU(r),r++},n.prototype.fO=function(e){var r=this.nz(e),o=this.Ca(r);if(o!=e){if(r=this.Wc(r),e>=r||e<o)throw u.i.ga("change_ring_start_point");for(var a=0,h=this.description.Ba;a<h;a++){var c=this.description.ld(a);c=u.sa.Wa(c),this.Aa[a].rotate(o*c,e*c,r*c)}}},n}(u.Fx);u.Xk=C}(U||(U={})),function(u){var C=function(y){function n(e){var r=y.call(this)||this;if(e!==void 0){if(e==null)throw u.i.O();r.description=e}else r.description=u.fe.pg();return r.xa=0,r}return Bt(n,y),n.prototype.Ja=function(){return new n(this.description)},n.prototype.add=function(e){this.resize(this.xa+1),this.Fh(this.xa-1,e)},n.prototype.Du=function(e,r){this.resize(this.xa+1);var o=new u.h;o.na(e,r),this.Db(this.xa-1,o)},n.prototype.Gd=function(e,r,o){if(o=0>o?e.I():o,0>r||r>e.I()||o<r)throw u.i.O();if(r!=o){this.Ll(e.description),o-=r;var a=this.xa;this.resize(this.xa+o),this.oc();for(var h=0,c=e.description.Ba;h<c;h++){var p=e.description.Fd(h),m=u.sa.Wa(p),g=this.vb(p);p=e.vb(p),g.On(a*m,p,r*m,o*m,!0,1,a*m)}}},n.prototype.CD=function(e,r){var o=e.length;if(r=0>r?o:r,0>o||0>r)throw u.i.O();if(r!=0){o=r-0,r=this.xa,this.resize(this.xa+o);for(var a=0;a<o;a++)this.Db(r+a,e[0+a])}},n.prototype.yB=function(e){if(0>e||e>=this.I())throw u.i.ga("index out of bounds");this.oc();for(var r=0,o=this.description.Ba;r<o;r++)if(this.Aa[r]!=null){var a=u.sa.Wa(this.description.Fd(r));this.Aa[r].Gn(a*e,a,a*this.xa)}this.xa--,this.Rg--,this.Qc(1993)},n.prototype.resize=function(e){this.fm(e)},n.prototype.qp=function(){},n.prototype.Pa=function(){y.prototype.rD.call(this)},n.prototype.Pc=function(e){if(e instanceof u.Ed){if(this.B())return;this.oc();for(var r=this.Aa[0],o=new u.h,a=0;a<this.xa;a++)o.x=r.read(2*a),o.y=r.read(2*a+1),e.Gh(o,o),r.write(2*a,o.x),r.write(2*a+1,o.y)}else{if(this.B())return;this.oc(),this.se(1),this.oc(),r=this.Aa[0],o=this.Aa[1];var h=new u.Od;for(a=0;a<this.xa;a++){h.x=r.read(2*a),h.y=r.read(2*a+1),h.z=o.read(a);var c=e.hp(h);r.write(2*a,c.x),r.write(2*a+1,c.y),o.write(a,c.z)}}this.Qc(1993)},n.prototype.Eb=function(){return 0},n.prototype.K=function(){return 550},n.prototype.He=function(){return 0},n.prototype.Rb=function(){return 0},n.prototype.Nb=function(e){return e==this?!0:e instanceof n?y.prototype.Nb.call(this,e):!1},n.prototype.gW=function(e,r){var o=this.xa;if(o=Math.min(o,r+1e3),0>r||r>=this.xa||o<r||e.length!=1e3)throw u.i.O();var a=this.vb(0),h=o-r,c=[];for(a.Xw(2*r,2*h,c,0,!0),r=0;r<h;r++)e[r]=u.h.construct(c[2*r],c[2*r+1]);return o},n.prototype.Zx=function(){},n.prototype.ey=function(){},n.prototype.nu=function(){return!1},n.prototype.hj=function(){return!1},n.prototype.ng=function(){return null},n}(u.Fx);u.ee=C}(U||(U={})),function(u){(function(y){y[y.NotDetermined=0]="NotDetermined",y[y.Structure=1]="Structure",y[y.DegenerateSegments=2]="DegenerateSegments",y[y.Clustering=3]="Clustering",y[y.Cracking=4]="Cracking",y[y.CrossOver=5]="CrossOver",y[y.RingOrientation=6]="RingOrientation",y[y.RingOrder=7]="RingOrder",y[y.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",y[y.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",y[y.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(u.dL||(u.dL={}));var C=function(){function y(n,e,r){n===void 0?(this.Lj=0,this.Mo=this.Lo=-1):(this.Lj=n,this.Lo=e,this.Mo=r)}return y.prototype.Yt=function(n){this.Lj=n.Lj,this.Lo=n.Lo,this.Mo=n.Mo},y}();u.Nd=C}(U||(U={})),function(u){u.P=function(){function C(){}return C.assert=function(y){if(y===!1)throw u.i.BK()},C.XJ=function(y){return isNaN(y)?NaN:y===0?y:0<y?1:-1},C.Hu=function(y){var n;n===void 0&&(n=0);for(var e=[],r=0;r<y;r++)e[r]=C.mg(2,n);return e},C.mg=function(y,n){n===void 0&&(n=0);for(var e=[],r=0;r<y;r++)e[r]=n;return e},C.bv=function(y,n){var e,r;for(e===void 0&&(e=0),r===void 0&&(r=y.length-1);e<=r;e++)y[e]=n},C.Tk=function(y,n,e){return y<n?n:y>e?e:y},C.Vh=function(y,n){var e=5381;return e=n!==void 0?(n<<5)+n+(y&255):(e<<5)+e+(y&255),e=(e<<5)+e+(y>>8&255),e=(e<<5)+e+(y>>16&255),(e<<5)+e+(y>>24&255)&2147483647},C.wj=function(){throw Error("Not Implemented")},C.XA=function(y){return C.WT(y)+12345&2147483647},C.SG=function(y){var n=32,e=y%C.Px|0,r=y/C.Px|0;return(n&=63)===0?y:(32>n?(y=e>>>n|r<<32-n,n=r>>n):(y=r>>n-32,n=0<=r?0:-1),n*C.Px+(y>>>0))},C.WT=function(y){var n=1103515245;y|=0;var e=n&65535;return((n-e)*y|0)+(e*y|0)|0},C.truncate=function(y){return 0>y?-1*Math.floor(Math.abs(y)):Math.floor(y)},C.MAX_SAFE_INTEGER=Math.pow(2,53)-1,C.MIN_SAFE_INTEGER=-C.MAX_SAFE_INTEGER,C.QC=65536,C.Px=C.QC*C.QC,C}()}(U||(U={})),function(u){(function(y){y[y.Project=0]="Project",y[y.Union=1]="Union",y[y.Difference=2]="Difference",y[y.Proximity2D=3]="Proximity2D",y[y.Relate=4]="Relate",y[y.Equals=5]="Equals",y[y.Disjoint=6]="Disjoint",y[y.Intersects=7]="Intersects",y[y.Within=8]="Within",y[y.Contains=9]="Contains",y[y.Crosses=10]="Crosses",y[y.Touches=11]="Touches",y[y.Overlaps=12]="Overlaps",y[y.Buffer=13]="Buffer",y[y.Distance=14]="Distance",y[y.Intersection=15]="Intersection",y[y.Clip=16]="Clip",y[y.Cut=17]="Cut",y[y.DensifyByLength=18]="DensifyByLength",y[y.DensifyByAngle=19]="DensifyByAngle",y[y.LabelPoint=20]="LabelPoint",y[y.GeodesicBuffer=21]="GeodesicBuffer",y[y.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",y[y.ShapePreservingDensify=23]="ShapePreservingDensify",y[y.GeodeticLength=24]="GeodeticLength",y[y.GeodeticArea=25]="GeodeticArea",y[y.Simplify=26]="Simplify",y[y.SimplifyOGC=27]="SimplifyOGC",y[y.Offset=28]="Offset",y[y.Generalize=29]="Generalize",y[y.SymmetricDifference=30]="SymmetricDifference",y[y.ConvexHull=31]="ConvexHull",y[y.Boundary=32]="Boundary",y[y.SimpleRelation=33]="SimpleRelation"})(u.xL||(u.xL={}));var C=function(){function y(){}return y.prototype.K=function(){return null},y.prototype.yn=function(){},y.prototype.Ku=function(){return!1},y}();u.Ge=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 13},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a,h){return e instanceof u.ba?(h=new u.$c(e),this.W(h,r,[o],!1,a).next()):a===!0?(o=new u.wC(e,r,o,!1,h),u.Ih.local().W(o,r,h)):new u.wC(e,r,o,!1,h)},n.instance=null,n}(u.Ge);u.vC=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o,a){this.za=-1,this.Sd=n,this.Vz=e,this.Es=r,this.nT=new u.l,this.nT.Pa(),this.ho=-1,this.Vb=a}return y.prototype.next=function(){for(var n;(n=this.Sd.next())!=null;)return this.za=this.Sd.Ma(),this.ho+1<this.Es.length&&this.ho++,this.buffer(n,this.Es[this.ho]);return null},y.prototype.Ma=function(){return this.za},y.prototype.buffer=function(n,e){return u.CK.buffer(n,e,this.Vz,NaN,96,this.Vb)},y.prototype.re=function(){},y}();u.wC=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 16},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a){return e instanceof u.ba?(e=new u.$c(e),this.W(e,r,o,a).next()):new u.gL(e,r,o,a)},n.instance=null,n}(u.Ge);u.fL=C}(U||(U={})),function(u){var C=function(){function y(n,e,r){if(this.za=-1,n==null)throw u.i.O();this.aa=e,this.Ak=n,this.ra=u.ua.Xd(r,e,!1)}return y.prototype.next=function(){var n;return(n=this.Ak.next())!=null?(this.za=this.Ak.Ma(),u.Vd.clip(n,this.aa,this.ra,0)):null},y.prototype.Ma=function(){return this.za},y.prototype.re=function(){},y}();u.gL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 31},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o){return e instanceof u.ba?u.yC.mE(e):new u.yC(r,e,o)},n.instance=null,n}(u.Ge);u.xC=C}(U||(U={})),function(u){var C=function(){function y(n,e,r){if(this.pA=new u.au,this.za=-1,e==null)throw u.i.O();this.YG=n,this.Jc=!1,this.Ak=e,this.Vb=r}return y.prototype.next=function(){if(this.YG){if(!this.Jc){var n=this.ZN(this.Ak);return this.Jc=!0,n}return null}if(!this.Jc){if(n=this.Ak.next(),n!=null)return this.za=this.Ak.Ma(),y.mE(n);this.Jc=!0}return null},y.prototype.Ma=function(){return this.za},y.prototype.ZN=function(n){for(var e;(e=n.next())!=null;)this.pA.Ib(e);return this.pA.YQ()},y.prototype.re=function(){if(!this.Jc){if(!this.YG)throw u.i.ga("Invalid call for non merging convex hull.");var n=this.Ak.next();if(n!=null)this.pA.Ib(n);else throw u.i.ga("Expects a non-null geometry.")}},y.mE=function(n){if(y.QS(n))return n;var e=n.K();if(u.Xk.zd(e))return e=new u.Ua(n.description),e.pc(n,!0),e;if(e==550&&n.I()==2){var r=new u.Ta;return e=new u.Ua(n.description),n.we(0,r),e.nf(r),n.we(1,r),e.lineTo(r),e}return u.au.MO(n)},y.QS=function(n){if(n.B())return!0;var e=n.K();return e==33||e==197?!0:u.Xk.zd(e)?!1:e==550?n.I()==1:e==1607?n.ea()==1&&2>=n.I():n.ea()!=1?!1:2>=n.I()?!0:u.au.EG(n,0)},y}();u.yC=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 17},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a,h){return new u.iL(e,r,o,a,h)},n.instance=null,n}(u.Ge);u.hL=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o,a){if(this.Vf=null,e==null||r==null)throw u.i.ga("invalid argument");this.kT=n,this.iA=e,this.gH=r,n=u.ua.ov(e,r),this.ra=u.ua.Xd(o,n,!0),this.fH=-1,this.od=a}return y.prototype.Ma=function(){return 0},y.prototype.next=function(){return this.MQ(),++this.fH<this.Vf.length?this.Vf[this.fH]:null},y.prototype.MQ=function(){if(this.Vf==null)switch(this.Vf=[],this.iA.K()){case 1607:this.OQ();break;case 1736:this.NQ()}},y.prototype.OQ=function(){var n=new u.Ua,e=new u.Ua,r=new u.Ua;this.Vf.push(n),this.Vf.push(e);var o=[];u.GK.EK(this.kT,this.iA,this.gH,this.ra,o,this.od);for(var a=0;a<o.length;a++){var h=o[a];if(h.ct==0)n.add(h.Y,!1);else if(h.ct==1||h.ct==2)e.add(h.Y,!1);else if(h.ct==3)this.Vf.push(h.Y);else if(h.ct==4)r.add(h.Y,!1);else throw u.i.ga("internal")}r.B()||n.B()&&e.B()&&!(3<=this.Vf.length)||this.Vf.push(r),n.B()&&e.B()&&3>this.Vf.length&&(this.Vf.length=0)},y.prototype.NQ=function(){var n=new u.ja(0),e=new u.hd,r=e.WE(),o=e.Ib(this.iA),a=e.Ib(this.gH),h=new u.Hg;try{h.Gt(e,this.ra,this.od),h.fl(r,o,a,n);var c=e.Ke(o),p=new u.Ea,m=new u.Ea;for(this.Vf.length=0,this.Vf.push(p),this.Vf.push(m),o=0;o<n.size;o++){var g=new u.hd,_=g.Ib(c),b=g.Ib(e.Ke(n.get(o)));h.fr(g,this.od);var x=h.Cv(_,b),P=g.Ke(x);if(!P.B()){var O=e.FF(n.get(o),r);O==2?p.add(P,!1):O==1?m.add(P,!1):this.Vf.push(P);var L=new u.hd;_=L.Ib(c),b=L.Ib(e.Ke(n.get(o))),h.fr(L,this.od),c=L.Ke(h.km(_,b))}}!c.B()&&0<n.size&&this.Vf.push(c),p.B()&&m.B()&&(this.Vf.length=0)}finally{h.Wg()}},y.prototype.re=function(){},y}();u.iL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 18},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o){if(e instanceof u.ba)return e=new u.$c(e),this.W(e,r,o).next();if(0>=r)throw u.i.O();return new u.jL(e,r,o)},n.instance=null,n}(u.Ge);u.Zl=C}(U||(U={})),function(u){var C=function(){function y(n,e){this.za=-1,this.Sd=n,this.Rs=e}return y.prototype.Ma=function(){return this.za},y.prototype.next=function(){var n;return(n=this.Sd.next())!=null?(this.za=this.Sd.Ma(),this.IP(n)):null},y.prototype.IP=function(n){if(n.B()||1>n.Eb())return n;var e=n.K();if(e==1736||e==1607)return this.Iy(n);if(u.ba.zd(e))return this.KP(n);if(e==197)return this.JP(n);throw u.i.Ra()},y.prototype.KP=function(n){if(n.Rb()<=this.Rs)return n;var e=new u.Ua(n.description);return e.pc(n,!0),this.Iy(e)},y.prototype.JP=function(n){var e=new u.Ea(n.description);e.bd(n,!1);var r=new u.l;return n.A(r),n=r.da(),r.S()<=this.Rs&&n<=this.Rs?e:this.Iy(e)},y.prototype.Iy=function(n){for(var e=n.Ja(),r=n.Ha();r.ab();)for(var o=!0;r.Ia();){var a=r.ia();if(a.K()!=322)throw u.i.ga("not implemented");var h=r.Qn(),c=a.Rb();if(c>this.Rs){var p=Math.ceil(c/this.Rs);c=new u.Ta(n.description),o&&(a.Vo(c),e.nf(c));var m=o=1/p,g=0;for(--p;g<p;g++)a.Vw(m,c),e.lineTo(c),m+=o;h?e.Cp():(a.Ro(c),e.lineTo(c))}else h?e.Cp():e.pc(a,o);o=!1}return e},y.prototype.re=function(){},y}();u.jL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.K=function(){return 2},n.prototype.W=function(e,r,o,a){return e instanceof u.ba?(e=new u.$c(e),r=new u.$c(r),this.W(e,r,o,a).next()):new u.kL(e,r,o,a)},n.km=function(e,r,o,a){if(e.B()||r.B())return e;var h=e.Eb(),c=r.Eb();if(h>c)return e;var p=e.K(),m=r.K(),g=new u.l,_=new u.l,b=new u.l;e.A(g),r.A(_),b.L(g),b.$b(_),b=u.ua.Xd(o,b,!0);var x=b*Math.sqrt(2)*1.00001,P=new u.l;if(P.L(g),P.X(x,x),!P.isIntersecting(_))return e;if(h==1&&c==2)return n.FV(e,r,m,o,a);if(p==33)switch(u.Xk.zd(m)?(o=new u.Ua(r.description),o.pc(r,!0)):o=r,m){case 1736:return n.SU(e,o,b);case 1607:return n.TU(e,o,b);case 550:return n.QU(e,o,b);case 197:return n.PU(e,o,b);case 33:return n.RU(e,o,b);default:throw u.i.O()}else if(p==550)switch(m){case 1736:return n.iU(e,r,b);case 197:return n.gU(e,r,b);case 33:return n.hU(e,r,b)}return u.Hg.km(e,r,o,a)},n.SU=function(e,r,o){return u.jd.FG(r,e,o)==0?e:e.Ja()},n.TU=function(e,r,o){var a=e.D();r=r.Ha();for(var h=o*Math.sqrt(2)*1.00001,c=h*h,p=new u.l;r.ab();)for(;r.Ia();){var m=r.ia();if(m.A(p),p.X(h,h),p.contains(a)){if(m.ss(a,o))return e.Ja();var g=m.bc();if(u.h.zc(a,g)<=c||(g=m.xc(),u.h.zc(a,g)<=c))return e.Ja()}}return e},n.QU=function(e,r,o){var a=r.vb(0);r=r.I();var h=e.D(),c=new u.h;o=o*Math.sqrt(2)*1.00001,o*=o;for(var p=0;p<r;p++)if(a.uc(2*p,c),u.h.zc(c,h)<=o)return e.Ja();return e},n.PU=function(e,r,o){var a=new u.l;return r.A(a),a.X(o,o),r=e.D(),a.contains(r)?e.Ja():e},n.RU=function(e,r,o){o=o*Math.sqrt(2)*1.00001,o*=o;var a=e.D();return r=r.D(),u.h.zc(a,r)<=o?e.Ja():e},n.iU=function(e,r,o){var a=new u.l;r.A(a),a.X(o,o);for(var h=e.I(),c=!1,p=[],m=0;m<h;m++)p[m]=!1;var g=new u.h;for(m=0;m<h;m++)e.D(m,g),a.contains(g)&&u.jd.Zd(r,g,o)!=0&&(c=!0,p[m]=!0);if(!c)return e;for(r=e.Ja(),m=0;m<h;m++)p[m]||r.Gd(e,m,m+1);return r},n.gU=function(e,r,o){var a=new u.l;r.A(a),a.X(o,o),r=e.I();var h=!1;o=[];for(var c=0;c<r;c++)o[c]=!1;var p=new u.h;for(c=0;c<r;c++)e.D(c,p),a.contains(p)&&(h=!0,o[c]=!0);if(!h)return e;for(a=e.Ja(),c=0;c<r;c++)o[c]||a.Gd(e,c,c+1);return a},n.hU=function(e,r,o){var a=e.vb(0),h=e.I(),c=r.D(),p=new u.h,m=!1;r=[];for(var g=0;g<h;g++)r[g]=!1;for(g=o*Math.sqrt(2)*1.00001,o=g*g,g=0;g<h;g++)a.uc(2*g,p),u.h.zc(p,c)<=o&&(m=!0,r[g]=!0);if(!m)return e;for(a=e.Ja(),g=0;g<h;g++)r[g]||a.Gd(e,g,g+1);return a},n.FV=function(e,r,o,a,h){var c=new u.Hh;e.dn(c);var p=new u.l;return r.A(p),c.$b(p),c.X(.1*c.S(),.1*c.da()),p=new u.Ea,p.bd(c,!1),o==1736?p.add(r,!0):p.bd(r,!0),u.Zj.local().W(e,p,a,h)},n.instance=null,n}(u.Ge);u.mp=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o){this.vs=e==null,this.za=-1,this.Sd=n,this.Vz=r,this.rT=e.next(),this.Vb=o}return y.prototype.next=function(){if(this.vs)return null;var n;return(n=this.Sd.next())!=null?(this.za=this.Sd.Ma(),u.mp.km(n,this.rT,this.Vz,this.Vb)):null},y.prototype.Ma=function(){return this.za},y.prototype.re=function(){},y}();u.kL=C}(U||(U={})),function(u){var C=function(){function n(e){this.od=e,this.Dj=new u.l,this.Dj.Pa(),this.qh=new u.l,this.qh.Pa()}return n.prototype.Pt=function(){var e=this.Dj.v;this.Dj.v=this.qh.v,this.qh.v=e,e=this.Dj.C,this.Dj.C=this.qh.C,this.qh.C=e,e=this.Dj.G,this.Dj.G=this.qh.G,this.qh.G=e,e=this.Dj.H,this.Dj.H=this.qh.H,this.qh.H=e},n.prototype.$P=function(e,r){if(this.od!=null&&!this.od.progress(-1,-1))throw u.i.hu("user_canceled");var o=!this.Dj.isIntersecting(this.qh);return u.ba.Ic(e.K())&&u.ba.Ic(r.K())?e.I()>r.I()?this.bE(e,r,o):(this.Pt(),e=this.bE(r,e,o),this.Pt(),e):e.K()==550&&u.ba.Ic(r.K())?(e=this.cE(r,e,o),this.Pt(),e):r.K()==550&&u.ba.Ic(e.K())?this.cE(e,r,o):e.K()==550&&r.K()==550?e.I()>r.I()?this.dE(e,r):(this.Pt(),e=this.dE(r,e),this.Pt(),e):0},n.prototype.bE=function(e,r,o){var a=e.Ha(),h=r.Ha(),c=new u.l,p=new u.l,m=17976931348623157e292;if(!o&&this.lY(e,r,a,h))return 0;for(;a.ab();)for(;a.Ia();)if(e=a.ia(),e.A(c),!(c.px(this.qh)>m)){for(;h.ab();)for(;h.Ia();)if(r=h.ia(),r.A(p),c.px(p)<m&&(r=e.ub(r,o),r*=r,r<m)){if(r==0)return 0;m=r}h.aj()}return Math.sqrt(m)},n.prototype.cE=function(e,r,o){var a=e.Ha(),h=new u.l,c=17976931348623157e292,p=new u.h,m=r.I();for(o=!o&&e.K()==1736;a.ab();)for(;a.Ia();){var g=a.ia();if(g.A(h),!(1<m&&h.px(this.qh)>c)){for(var _=0;_<m;_++){if(r.D(_,p),o&&u.jd.Zd(e,p,0)!=0)return 0;var b=g.ge(p,!1);if(p.sub(g.ic(b)),b=p.Uk(),b<c){if(b==0)return 0;c=b}}o=!1}}return Math.sqrt(c)},n.prototype.dE=function(e,r){for(var o=17976931348623157e292,a=new u.h,h=new u.h,c,p=e.I(),m=r.I(),g=0;g<p;g++)if(e.D(g,a),!(1<m&&this.qh.dK(a)>o)){for(var _=0;_<m;_++)if(r.D(_,h),c=u.h.zc(a,h),c<o){if(c==0)return 0;o=c}}return Math.sqrt(o)},n.prototype.lY=function(e,r,o,a){if(e.K()==1736){for(;a.ab();)if(a.Ia()){var h=a.ia();if(u.jd.Zd(e,h.xc(),0)!=0)return!0}a.aj()}if(r.K()==1736){for(;o.ab();)if(o.Ia()&&(e=o.ia(),u.jd.Zd(r,e.xc(),0)!=0))return!0;o.aj()}return!1},n.prototype.im=function(e,r){return e.B()||r.B()?NaN:(e.A(this.Dj),r.A(this.qh),this.$P(e,r))},n}(),y=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Bt(e,n),e.prototype.W=function(r,o,a){if(r==null||o==null)throw u.i.O();if(r.B()||o.B())return NaN;var h=r.K(),c=o.K();if(h==33){if(c==33)return u.h.ub(r.D(),o.D());if(c==197)return a=new u.l,o.A(a),a.ub(r.D());h=new u.ee,h.add(r),r=h}else if(h==197){if(c==197)return c=new u.l,r.A(c),a=new u.l,o.A(a),a.ub(c);h=new u.Ea,h.bd(r,!1),r=h}return c==33?(c=new u.ee,c.add(o),o=c):c==197&&(c=new u.Ea,c.bd(o,!1),o=c),new C(a).im(r,o)},e.local=function(){return e.instance===null&&(e.instance=new e),e.instance},e.prototype.K=function(){return 14},e.instance=null,e}(u.Ge);u.lL=y}(U||(U={})),function(u){var C=function(){function y(n,e,r,o){this.uH=n,this.yH=e,this.od=o,this.VG=r}return y.prototype.next=function(){var n=this.uH.next();return n==null?null:this.uC(n)},y.prototype.Ma=function(){return this.uH.Ma()},y.prototype.uC=function(n){var e=n.K();if(u.ba.Tn(e))return n;if(e==197)return e=new u.Ea(n.description),e.bd(n,!1),this.uC(e);if(n.B())return n;if(n==null)throw u.i.Ra();e=n.Ja();for(var r=new u.zb,o=0,a=n.ea();o<a;o++)this.OK(n,o,e,r);return e},y.prototype.OK=function(n,e,r,o){if(!(2>n.Ka(e))){var a=n.Ca(e),h=n.Wc(e)-1,c=n.vb(0),p=n.ec(e),m=new u.ja(0);m.Jb(n.Ka(e)+1);var g=new u.ja(0);for(g.Jb(n.Ka(e)+1),m.add(p?a:h),m.add(a),a=new u.h;1<m.size;){var _=m.Gc();m.Jf();var b=m.Gc();n.D(_,a),o.Ec(a),n.D(b,a),o.Rc(a),b=this.NK(o,a,c,_,b,h),0<=b?(m.add(b),m.add(_)):g.add(_)}if(p||g.add(m.get(0)),g.size==m.size)r.addPath(n,e,!0);else if(2<=g.size&&(!this.VG||g.size!=2||!(p||u.h.ub(n.Oa(g.get(0)),n.Oa(g.get(1)))<=this.yH))){for(e=new u.Ta,o=0,h=g.size;o<h;o++)n.we(g.get(o),e),o==0?r.nf(e):r.lineTo(e);p&&(this.VG||g.size!=2||r.lineTo(e),r.Cp())}}},y.prototype.NK=function(n,e,r,o,a,h){var c=a-1;for(a<=o&&(c=h),h=a=-1,o+=1;o<=c;o++){r.uc(2*o,e);var p=e.x,m=e.y;n.ic(n.ge(e,!1),e),e.x-=p,e.y-=m,p=e.length(),p>this.yH&&p>h&&(a=o,h=p)}return a},y.prototype.re=function(){},y}();u.mL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 29},n.prototype.W=function(e,r,o,a){return e instanceof u.ba?(e=new u.$c(e),this.W(e,r,o,a).next()):new u.mL(e,r,o,a)},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.instance=null,n}(u.Ge);u.zC=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 21},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a,h,c,p,m){return e instanceof u.ba?(m=new u.$c(e),this.W(m,r,o,[a],h,c,!1,p).next()):p===!0?(o=new u.BC(e,r,o,a,h,!1,!1,m),u.Ih.local().W(o,r,m)):new u.BC(e,r,o,a,h,!1,!1,m)},n.instance=null,n}(u.Ge);u.AC=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o,a,h,c,p){if(h)throw u.i.Fe();if(e==null)throw u.i.O();this.za=-1,this.Os=n,this.wg=e,this.Ae=r,this.Es=o,this.bo=a,this.ho=-1,this.Vb=p,this.oT=new u.l,this.oT.Pa()}return y.prototype.next=function(){for(var n;(n=this.Os.next())!=null;)return this.za=this.Os.Ma(),this.ho+1<this.Es.length&&this.ho++,this.VQ(n,this.Es[this.ho]);return null},y.prototype.Ma=function(){return this.za},y.prototype.VQ=function(n,e){return u.QK.buffer(n,this.wg,this.Ae,e,this.bo,this.Vb)},y.prototype.re=function(){},y}();u.BC=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 24},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o){if(r==null)throw u.i.O();if(e.B()||1>e.Eb())return 0;if(o==4)throw u.i.Fe();var a=u.cb.tc(r),h=u.cb.xv(a),c=u.cb.gv(a);h*=2-h;var p=a.Id().ci,m=e.K();if(m==1736||m==197)var g=e.ng();else u.ba.zd(m)?(g=new u.Ua(e.description),g.pc(e,!0)):g=e;if(a.Nb(r)==0){if(u.cb.Xc(r)){g=u.Jh.nj(g,r),m==1607&&g==e&&(g=u.ba.kg(e)),e=new u.Oc,u.cb.ih(r).en(e),m=0;for(var _=g.I();m<_;m++){var b=g.Oa(m);b.x=u.Jh.an(b.x,e),g.Db(m,b)}}e=g.Ja(),g=u.Jh.RI(r,a,g,e)?e:u.cb.Bh(g,r,a)}return this.cQ(g,o,c,h,p)},n.prototype.cQ=function(e,r,o,a,h){var c=new u.ha(0),p=0;for(e=e.Ha();e.ab();)for(;e.Ia();){var m=e.ia(),g=m.bc();m=m.xc(),g.scale(h),m.scale(h),u.kb.xd(o,a,g.x,g.y,m.x,m.y,c,null,null,r),p+=c.u}return p},n.instance=null,n}(u.Ge);u.qL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 18},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a,h){return e instanceof u.ba?(e=new u.$c(e),this.W(e,r,o,a,h).next()):new u.oL(e,o,a,r,-1,-1,h)},n.instance=null,n}(u.Ge);u.nL=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o,a,h){if(0<h||r!=4&&0<a)throw u.i.Fe();if(e==null)throw u.i.O();this.za=-1,this.Os=n,this.wg=e,this.Ae=r,this.yT=o,this.xT=a}return y.prototype.next=function(){for(var n;(n=this.Os.next())!=null;)return this.za=this.Os.Ma(),this.Uy(n);return null},y.prototype.Ma=function(){return this.za},y.prototype.Uy=function(n){return u.ej.Sr(n,this.wg,this.Ae,this.yT,this.xT,this.Vb)},y.prototype.re=function(){},y}();u.oL=C}(U||(U={})),function(u){(function(C){C[C.Unknown=0]="Unknown",C[C.Contains=1]="Contains",C[C.Within=2]="Within",C[C.Equals=3]="Equals",C[C.Disjoint=4]="Disjoint",C[C.Touches=8]="Touches",C[C.Crosses=16]="Crosses",C[C.Overlaps=32]="Overlaps",C[C.NoThisRelation=64]="NoThisRelation",C[C.Intersects=1073741824]="Intersects",C[C.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(u.YK||(u.YK={})),u.rL=function(){function C(){}return C.iW=function(y,n){var e=y.K(),r=n.K();if(u.ba.zj(e)){var o=y.Cb;if(o!=null&&(o=o.Hk,o!=null)){if(r==33){var a=n.D();o=o.Uo(a.x,a.y)}else a=new u.l,n.A(a),o=o.To(a);if(o==1)return 1;if(o==0)return 4}}if(u.ba.zj(r)&&(o=n.Cb,o!=null&&(o=o.Hk,o!=null))){if(e==33?(y=y.D(),o=o.Uo(y.x,y.y)):(n=new u.l,y.A(n),o=o.To(n)),o==1)return 2;if(o==0)return 4}return 0},C}()}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.K=function(){return 15},n.prototype.W=function(e,r,o,a,h){return e instanceof u.ba?(e=new u.$c(e),r=new u.$c(r),this.W(e,r,o,a,h===void 0?-1:h).next()):h===void 0?new u.CC(e,r,o,a,-1):new u.CC(e,r,o,a,h)},n.prototype.yn=function(e,r,o){this.Ku(e)&&(r=u.ua.mj(r,e,!1),e.hj(o)||e.nu(r,o))},n.prototype.Ku=function(e){return u.Mx.uE(e)},n.instance=null,n}(u.Ge);u.Zj=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o,a){if(this.vs=e==null,this.za=-1,this.Sd=n,this.wg=r,this.Pe=e.next(),this.Fj=this.Pe.K(),this.Vb=o,this.Hi=a,this.Hi!=-1&&(0>=this.Hi||7<this.Hi))throw u.i.O("bad dimension mask")}return y.prototype.next=function(){if(this.vs)return null;if(this.Bw!=null){var n=this.Bw.next();if(n!=null)return n;this.Bw=null}for(;(n=this.Sd.next())!=null;)return this.za=this.Sd.Ma(),this.Hi==-1?n=this.Fa(n):(this.Bw=this.KS(n),n=this.Bw.next()),n;return null},y.prototype.Ma=function(){return this.za},y.prototype.Fa=function(n){var e=this.uK(n);if(e!=null)return e;e=u.ua.ov(this.Pe,n);var r=u.ua.Xd(this.wg,e,!0);e=new u.l,this.Pe.A(e);var o=new u.l;return n.A(o),e.X(2*r,2*r),e.Fa(o),e.X(100*r,100*r),r=u.Vd.clip(this.Pe,e,0,0),n=u.Vd.clip(n,e,0,0),u.Hg.Cv(n,r,this.wg,this.Vb)},y.prototype.KI=function(n,e,r){var o=0;if(e&1)r[0]==null&&(r[0]=new u.ee(n)),o++;else for(var a=0;a<r.length-1;a++)r[a]=r[a+1];if(e&2)r[o]==null&&(r[o]=new u.Ua(n)),o++;else for(a=o;a<r.length-1;a++)r[a]=r[a+1];if(e&4)r[o]==null&&(r[o]=new u.Ea(n)),o++;else for(a=o;a<r.length-1;a++)r[a]=r[a+1];if(o!=3){for(n=[],a=0;a<o;a++)n[a]=r[a];return new u.$c(n)}return new u.$c(r)},y.prototype.KS=function(n){var e=this.uK(n);if(e!=null){var r=[null,null,null];return r[e.Eb()]=e,this.KI(n.description,this.Hi,r)}e=u.ua.ov(this.Pe,n),r=u.ua.Xd(this.wg,e,!0),e=new u.l,this.Pe.A(e),e.X(2*r,2*r);var o=new u.l;return n.A(o),e.Fa(o),e.X(100*r,100*r),r=u.Vd.clip(this.Pe,e,0,0),e=u.Vd.clip(n,e,0,0),r=u.Hg.Kz(e,r,this.wg,this.Vb),this.KI(n.description,this.Hi,r)},y.prototype.uK=function(n){var e=u.ua.ov(n,this.Pe),r=u.ua.Xd(this.wg,e,!0);e=n.K();var o=n.B(),a=this.Pe.B();if(a=o||a,!a){a=new u.l,n.A(a);var h=new u.l;this.Pe.A(h),h.X(2*r,2*r),a=!a.isIntersecting(h)}if(!a)if(h=u.rL.iW(this.Pe,n),h==4)a=!0;else{if(h&2)return this.Pe;if(h&1)return n}if(a)return r=u.ba.uf(e),a=u.ba.uf(this.Fj),r<a?y.CB(n,o):r>a?this.iJ():r==0&&e==550&&this.Fj==33?this.iJ():y.CB(n,o);if((this.Hi==-1||this.Hi==4)&&e==197&&this.Fj==197)return r=this.Pe,e=new u.l,n.A(e),o=new u.l,r.A(o),e.Fa(o),r=new u.Hh,n.copyTo(r),r.Zo(e),r;if(e==197&&u.ba.uf(this.Fj)==0||this.Fj==197&&u.ba.uf(e)==0)return o=e==197?n:this.Pe,n=e==197?this.Pe:n,e=new u.l,o.A(e),u.Vd.clip(n,e,r,0);if(u.ba.uf(e)==0&&0<u.ba.uf(this.Fj)||0<u.ba.uf(e)&&u.ba.uf(this.Fj)==0){if(r=u.ua.mj(this.wg,n,!1),e==550||e==33)return u.Hg.uG(n,this.Pe,r);if(this.Fj==550||this.Fj==33)return u.Hg.uG(this.Pe,n,r);throw u.i.Ra()}return this.Hi!=-1&&this.Hi!=2||e!=1607||this.Fj!=1736?this.Hi!=-1&&this.Hi!=2||e!=1736||this.Fj!=1607?null:this.rK(this.Pe,n):this.rK(n,this.Pe)},y.prototype.rK=function(n,e){var r=n,o=e,a=u.ua.mj(this.wg,e,!1),h=new u.l;o.A(h);var c=new u.l;r.A(c),c.X(2*a,2*a),h.Fa(c),h.X(10*a,10*a),r=n=u.Vd.clip(n,h,0,0),c=new u.ja(0);var p=-1,m=o.Cb;if(m!=null){var g=m.Hk;if(g!=null){p=0,c.Jb(r.I()+r.ea());for(var _=new u.l,b=r.Ha();b.ab();)for(;b.Ia();){b.ia().A(_);var x=g.To(_);x==1?c.add(1):x==0?c.add(0):(c.add(-1),p++)}}}if(5<e.I()&&(o=e=u.Vd.clip(e,h,0,0),m=o.Cb),0>p&&(p=r.sz()),h=r.I()+o.I(),p*o.I()>Math.log(h)*h*4)return null;h=null,p=o.Ha(),m!=null&&m.Gb!=null&&(h=m.Gb),h==null&&20<o.I()&&(h=u.ua.iE(o)),n=n.Ja(),o=null,m=r.Ha(),g=[0,0,0,0,0,0,0,0,0],_=new u.ce(0),b=new u.jg,x=-1;for(var P=0,O=0,L=0<c.size,j=-1;m.ab();){j=m.gb;var D=0;for(x=-1,P=0;m.Ia();){var k=L?u.P.truncate(c.get(O)):-1;O++;var $=m.ia();if(0>k){if(h!=null)for(o==null?o=h.qR($,a):o.Wo($,a),k=o.next();k!=-1;k=o.next()){p.Wb(h.ka(k)),k=p.ia();var G=$.Fa(k,null,g,null,a);for(k=0;k<G;k++)_.add(g[k])}else for(p.aj();p.ab();)for(;p.Ia();)for(k=p.ia(),G=$.Fa(k,null,g,null,a),k=0;k<G;k++)_.add(g[k]);if(0<_.size){_.Wd(0,_.size,function(tt,lt){return tt-lt});var B=0;_.add(1),G=-1,k=0;for(var K=_.size;k<K;k++){var X=_.get(k);if(X!=B){var et=!1;if(B!=0||X!=1?($.dh(B,X,b),B=b.get()):(B=$,et=!0),2<=D){if(n.Fr(r,j,x,P,D==3),this.LD(e,B.bc(),a)!=1&&this.MD(e,B,a)!=1)return null;n.pc(B,!1),D=1,P=0}else switch(G=this.MD(e,B,a),G){case 1:et?2>D?(x=m.xb()-r.Ca(j),P=1,D=D==0?3:2):P++:(n.pc(B,D==0),D=1);break;case 0:D=0,x=-1,P=0;break;default:return null}B=X}}}else{if(k=this.LD(e,$.bc(),a),0>k)return null;k==1?(2>D&&(x=m.xb()-r.Ca(j),D=D==0?3:2),P++):(x=-1,P=0)}_.clear(!1)}else k!=0&&k==1&&(D==0?(D=3,x=m.xb()-r.Ca(j)):D==1?(D=2,x=m.xb()-r.Ca(j)):P++)}2<=D&&(n.Fr(r,j,x,P,D==3),x=-1)}return n},y.prototype.LD=function(n,e,r){return u.Fg.ym(n,e,r)},y.prototype.MD=function(n,e,r){var o=e.bc();e=e.xc();var a=u.Fg.ym(n,o,r),h=u.Fg.ym(n,e,r);return a==1&&h==0||a==0&&h==1?-1:a==0||h==0?0:a==1||h==1?1:(a=new u.h,a.add(o,e),a.scale(.5),n=u.Fg.ym(n,a,r),n==0?0:n==1?1:-1)},y.CB=function(n,e){return e?n:n.Ja()},y.prototype.iJ=function(){return this.tH==null&&(this.tH=this.Pe.Ja()),this.tH},y.prototype.re=function(){},y}();u.CC=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 28},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a,h,c,p){return e instanceof u.ba?(e=new u.$c(e),this.W(e,r,o,a,h,c,p).next()):new u.sL(e,r,o,a,h,c,p)},n.instance=null,n}(u.Ge);u.DC=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o,a,h,c){this.za=-1,this.Sd=n,this.Oj=e,this.La=r,this.Mi=o,this.xA=a,this.pH=h,this.od=c}return y.prototype.next=function(){var n=this.Sd.next();return n!=null?(this.za=this.Sd.Ma(),this.eL(n)):null},y.prototype.Ma=function(){return this.za},y.prototype.eL=function(n){var e=0>=this.pH?u.ua.mj(this.Oj,n,!1):this.pH;return u.DK.W(n,this.La,this.Mi,this.xA,e,this.od)},y.prototype.re=function(){},y}();u.sL=C}(U||(U={})),function(u){(function(y){y[y.clipToDomainOnly=1]="clipToDomainOnly",y[y.clipWithHorizon=2]="clipWithHorizon",y[y.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(u.IK||(u.IK={}));var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 0},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o){return e instanceof u.ba?(e=new u.$c(e),this.W(e,r,o).next()):new u.tL(e,r,o)},n.prototype.transform=function(e,r,o,a){return u.du.transform(e,r,o,a,!0)},n.prototype.St=function(e,r,o,a){return u.du.St(e,r,o,a)},n.instance=null,n}(u.Ge);u.Gx=C}(U||(U={})),function(u){var C=function(){function y(n,e,r){this.za=-1,this.Sd=n,this.HT=e,this.od=r}return y.prototype.next=function(){var n=this.Sd.next();return n!=null?(this.za=this.Sd.Ma(),u.du.Bh(n,this.HT,this.od)):null},y.prototype.Ma=function(){return this.za},y.prototype.re=function(){},y}();u.tL=C}(U||(U={})),function(u){var C=function(){function n(){}return n.prototype.reset=function(){this.rh=this.zk=-1,this.ws=this.mq=!1},n.prototype.vQ=function(e,r,o){for(e.Wb(r,o);e.Ia();){var a=e.ia();if(a=a.Rb(),a!=0)return e.xb()}for(e.Wb(r,o);e.zz();)if(a=e.ni(),a=a.Rb(),a!=0)return e.xb();return-1},n.prototype.wQ=function(e,r){for(e.Wb(r,-1);e.zz();)if(e.ni().Rb()!=0)return e.xb();return-1},n.prototype.uQ=function(e,r){for(e.Wb(r,-1),e.ia();e.Ia();)if(e.ia().Rb()!=0)return e.xb();return-1},n.prototype.tQ=function(e,r,o,a){if(this.zk=this.vQ(r,o,a),this.zk!=-1){r.Wb(this.zk,-1);var h=r.ia(),c=h.ic(h.ge(e,!1));if(o=u.h.zc(c,e),a=new u.h,a.N(c),a.sub(h.bc()),c=new u.h,c.N(e),c.sub(h.bc()),this.mq=0>a.yi(c),this.rh=this.uQ(r,this.zk),this.rh!=-1){r.Wb(this.rh,-1),h=r.ia();var p=h.ge(e,!1);p=h.ic(p);var m=u.h.zc(p,e);m>o?this.rh=-1:(a.N(p),a.sub(h.bc()),c.N(e),c.sub(h.bc()),this.ws=0>a.yi(c))}this.rh==-1&&(this.rh=this.wQ(r,this.zk),this.rh!=-1&&(r.Wb(this.rh,-1),h=r.ia(),p=h.ge(e,!1),p=h.ic(p),m=u.h.zc(p,e),m>o?this.rh=-1:(a.N(p),a.sub(h.bc()),c.N(e),c.sub(h.bc()),this.ws=0>a.yi(c),e=this.zk,this.zk=this.rh,this.rh=e,e=this.mq,this.mq=this.ws,this.ws=e)))}},n.prototype.YN=function(e,r,o,a,h){return o=o.Ha(),this.tQ(e,o,a,h),this.zk!=-1&&this.rh==-1?this.mq:this.zk!=-1&&this.rh!=-1?this.mq==this.ws?this.mq:(o.Wb(this.zk,-1),e=o.ia().lg(),o.Wb(this.rh,-1),r=o.ia().lg(),0<=e.yi(r)):r},n}(),y=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Bt(e,n),e.local=function(){return e.instance===null&&(e.instance=new e),e.instance},e.prototype.K=function(){return 3},e.prototype.iz=function(r,o,a){var h;if(h===void 0&&(h=!1),r.B())return new u.bm;o=o.D();var c=r,p=r.K();switch(p==197&&(c=new u.Ea,c.bd(r,!1),p=1736),p){case 33:return this.sI(c,o);case 550:return this.eI(c,o);case 1607:case 1736:return this.XT(c,o,a,h);default:throw u.i.ga("not implemented")}},e.prototype.jz=function(r,o){if(r.B())return new u.bm;o=o.D();var a=r,h=r.K();switch(h==197&&(a=new u.Ea,a.bd(r,!1),h=1736),h){case 33:return this.sI(a,o);case 550:case 1607:case 1736:return this.eI(a,o);default:throw u.i.ga("not implemented")}},e.prototype.kz=function(r,o,a,h){if(0>h)throw u.i.O();if(r.B())return[];o=o.D();var c=r,p=r.K();switch(p==197&&(c=new u.Ea,c.bd(r,!1),p=1736),p){case 33:return this.OU(c,o,a,h);case 550:case 1607:case 1736:return this.oU(c,o,a,h);default:throw u.i.ga("not implemented")}},e.prototype.XT=function(r,o,a,h){if(r.K()==1736&&a&&(a=new u.l,r.A(a),a=u.ua.Xd(null,a,!1),(h?u.jd.Zd(r,o,0):u.jd.Zd(r,o,a))!=0)){var c=new u.bm(o,0,0);return h&&c.RJ(!0),c}var p=r.Ha();c=new u.h;for(var m=a=-1,g=17976931348623157e292,_=0;p.ab();)for(;p.Ia();){var b=p.ia();b=b.ic(b.ge(o,!1));var x=u.h.zc(b,o);x<g?(_=1,c=b,a=p.xb(),m=p.gb,g=x):x==g&&_++}return c=new u.bm(c,a,Math.sqrt(g)),h&&(p.Wb(a,m),b=p.ia(),h=0>u.h.Wq(o,b.bc(),b.xc()),1<_&&(_=new C,_.reset(),h=_.YN(o,h,r,a,m)),c.RJ(h)),c},e.prototype.sI=function(r,o){return r=r.D(),o=u.h.ub(r,o),new u.bm(r,0,o)},e.prototype.eI=function(r,o){for(var a=r.vb(0),h=r.I(),c=r=0,p=0,m=17976931348623157e292,g=0;g<h;g++){var _=new u.h;a.uc(2*g,_);var b=u.h.zc(_,o);b<m&&(c=_.x,p=_.y,r=g,m=b)}return o=new u.bm,o.by(c,p,r,Math.sqrt(m)),o},e.prototype.OU=function(r,o,a,h){return h==0?a=[]:(a*=a,r=r.D(),o=u.h.zc(r,o),o<=a?(a=[],h=new u.bm,h.by(r.x,r.y,0,Math.sqrt(o)),a[0]=h):a=[],a)},e.prototype.oU=function(r,o,a,h){if(h==0)return h=[];var c=r.vb(0),p=r.I();r=[],a*=a;for(var m=0;m<p;m++){var g=c.read(2*m),_=c.read(2*m+1),b=o.x-g,x=o.y-_;b=b*b+x*x,b<=a&&(x=new u.bm,x.by(g,_,m,Math.sqrt(b)),r.push(x))}return o=r.length,r.sort(function(P,O){return P.La<O.La?-1:P.La==O.La?0:1}),h>=o||(r.length=h),r.slice(0)},e.instance=null,e}(u.Ge);u.Hx=y}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 4},n.prototype.W=function(e,r,o,a,h){return u.cm.tB(e,r,o,a,h)},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.Ku=function(e){return u.Xt.ry(e)},n.prototype.yn=function(e,r,o){u.Xt.xD(e,r,o)},n.instance=null,n}(u.Ge);u.uL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 33},n.prototype.W=function(e,r,o,a,h){return e===1073741824?!u.vd.uB(r,o,a,4,h):u.vd.uB(r,o,a,e,h)},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.Ku=function(e){return u.Xt.ry(e)},n.prototype.yn=function(e,r,o){u.Xt.xD(e,r,o)},n.instance=null,n}(u.Ge);u.fj=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o){if(this.od=o,this.lT=r,this.za=-1,n==null)throw u.i.O();this.Ak=n,this.Oj=e}return y.prototype.next=function(){var n;if((n=this.Ak.next())!=null){if(this.za=this.Ak.Ma(),this.od!=null&&!this.od.progress(-1,-1))throw u.i.hu("user_canceled");return this.$B(n)}return null},y.prototype.Ma=function(){return this.za},y.prototype.$B=function(n){if(n==null)throw u.i.O();return u.Ix.YJ(n,this.Oj,this.lT,this.od)},y.prototype.re=function(){},y}();u.vL=C}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 26},n.prototype.W=function(e,r,o,a){return e instanceof u.ba?(e=new u.$c(e),this.W(e,r,o,a).next()):new u.vL(e,r,o,a)},n.prototype.ts=function(e,r,o,a,h){return 0<(a!==void 0?u.Ix.ts(e,r,o,a,h):u.Ix.ts(e,r,!1,null,o))},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.instance=null,n}(u.Ge);u.$l=C}(U||(U={})),function(u){var C=function(){function h(){this.Aq=0}return h.prototype.iX=function(c){this.Aq&=-2,this.Aq|=c?1:0},h.prototype.Yp=function(){return(this.Aq&1)!=0},h.prototype.SF=function(){return this.Yp()?0:1},h}();u.tY=C;var y=function(){return function(){}}(),n=function(){return function(h,c,p,m){this.x=h,this.y=c,this.Ci=p,this.zm=m}}(),e=function(){function h(c){this.Ce=c}return h.prototype.compare=function(c,p,m){return c=c.ka(m),p=this.Ce.lf.read(2*p),c=this.Ce.lf.read(2*c),p-=c,0>p?-1:0<p?1:0},h}(),r=function(){function h(c){this.Ce=c}return h.prototype.compare=function(c,p,m){p=this.Ce.hb[p],c=this.Ce.hb[c.ka(m)];var g=p.Yp(),_=c.Yp();m=p.oe.Me(this.Ce.Oo,0);var b=c.oe.Me(this.Ce.Oo,0);return m==b&&(m=Math.min(g?p.oe.oa:p.oe.ma,_?c.oe.oa:c.oe.ma),g=.5*(m-this.Ce.Oo)+this.Ce.Oo,g==this.Ce.Oo&&(g=m),m=p.oe.Me(g,0),b=c.oe.Me(g,0)),m<b?-1:m>b?1:0},h}(),o=function(){function h(c,p){this.TI=new u.h,this.parent=c,this.ZR=p}return h.prototype.qr=function(c,p,m){var g=this.parent,_=this.ZR;m.Wd(c,p,function(b,x){return g.Oh(b,x,_)})},h.prototype.bq=function(c){return c=this.parent.ii.get(c),this.parent.lf.uc(2*(c>>1),this.TI),this.TI.y+(c&1?this.parent.Qj:-this.parent.Qj)},h}(),a=function(){function h(c,p,m,g,_){this.iH=c.description,this.Y=c,this.Sg=p,this.Qj=u.ua.mj(this.Sg,c,!1),this.Do=u.ua.mj(this.Sg,c,!0),this.sA=m,this.jT=this.iH.Ba,this.hb=[],this.ro=[],this.oh=new u.lp,this.fb=new u.$j,this.le=new u.Nd,this.UG=this.sl=_}return h.prototype.$S=function(){return this.UG=!0,(!u.ba.Ic(this.Y.K())||this.BE()&&this.yE(!1))&&this.hO()?u.ba.Ic(this.Y.K())?this.kO()?this.Y.K()==1607?this.mO()?2:0:this.nO()?this.oO():0:0:2:0},h.prototype.fC=function(c,p){var m=this.lf.read(2*c);c=this.lf.read(2*c+1);var g=this.lf.read(2*p);p=this.lf.read(2*p+1);var _=!u.$t.Ev(m,c,g,p,this.Qj*this.Qj);return _||(this.Y.Eb()==0?!1:m==g&&c==p)},h.prototype.BE=function(){for(var c=this.Y,p=c.yf?3:2,m=0,g=c.ea();m<g;m++)if(c.Ka(m)<p)return this.le=new u.Nd(1,m,0),!1;return!0},h.prototype.yE=function(c){var p=this.Y,m=p.Ha(),g=p.hasAttribute(1);for(p=g?u.ua.rE(this.Sg,p,!1):0;m.ab();)for(;m.Ia();){var _=m.ia();if(!(_.Rb()>this.Qj)){if(c&&g){var b=_.yv(1,0);if(_=_.yv(1,0),Math.abs(_-b)>p)continue}return this.le=new u.Nd(2,m.xb(),-1),!1}}return!0},h.prototype.hO=function(){var c=this.Y,p=null;u.ba.Ic(this.Y.K())&&(p=this.Y);var m=(this.UG||this.sl)&&p!=null,g=c.I();this.lf=c.vb(0),this.ii=new u.ja(0),this.ii.Jb(2*g),this.hi=new u.ja(0),this.hi.Jb(2*g),m&&(this.Hl==null&&(this.Hl=new u.ja(0)),this.Hl.Jb(g));for(var _=c=0;_<g;_++)if(this.ii.add(2*_),this.ii.add(2*_+1),this.hi.add(2*_),this.hi.add(2*_+1),m){for(;_>=p.Wc(c);)c++;this.Hl.add(c)}for(new u.Zt().sort(this.hi,0,2*g,new o(this,m)),this.fb.clear(),this.fb.Xo(new e(this)),this.fb.Ee(g),p=0,g*=2;p<g;p++)if(m=this.hi.get(p),c=this.ii.get(m),m=c>>1,(c&1)==0){if(c=this.fb.addElement(m,-1),_=this.fb.xe(c),_!=-1&&!this.fC(this.fb.ka(_),m))return this.le=new u.Nd(3,m,this.fb.ka(_)),!1;var b=this.fb.lb(c);if(b!=-1&&!this.fC(this.fb.ka(b),m))return this.le=new u.Nd(3,m,this.fb.ka(b)),!1}else if(c=this.fb.search(m,-1),_=this.fb.xe(c),b=this.fb.lb(c),this.fb.wd(c,-1),_!=-1&&b!=-1&&!this.fC(this.fb.ka(_),this.fb.ka(b)))return this.le=new u.Nd(3,this.fb.ka(_),this.fb.ka(b)),!1;return!0},h.prototype.kO=function(){return 10>this.Y.I()?this.iO():this.jO()},h.prototype.jO=function(){var c=new u.hd;c.Ib(this.Y);var p=new u.Nd;return u.bu.fI(!1,c,this.Qj,p,this.od)?(p.Lo=c.Va(p.Lo),p.Mo=c.Va(p.Mo),this.le.Yt(p),!1):!0},h.prototype.iO=function(){var c=this.Y,p=c.Ha();for(c=c.Ha();p.ab();)for(;p.Ia();){var m=p.ia();if(!p.Sn()||!p.VS()){c.wW(p);do for(;c.Ia();){var g=c.ia();if(g=m.Br(g,this.Qj,!0),g!=0)return this.le=new u.Nd(g==2?5:4,p.xb(),c.xb()),!1}while(c.ab())}}return!0},h.prototype.nO=function(){var c=this.Y;this.hb.length=0,this.ro.length=0,this.ag=c.Ha(),this.ag.EB();var p=new u.ja(0);p.Jb(10);var m=NaN,g=0,_=0;for(c=2*c.I();_<c;_++){var b=this.hi.get(_);if(b=this.ii.get(b),!(b&1)){b>>=1;var x=this.lf.read(2*b),P=this.lf.read(2*b+1);if(p.size!=0&&(x!=m||P!=g)){if(!this.LI(p))return!1;p!=null&&p.clear(!1)}p.add(b),m=x,g=P}}return!!this.LI(p)},h.prototype.mO=function(){for(var c=this.Y,p=Array(c.ea()),m=0,g=c.ea();m<g;m++)p[m]=c.Pn(m);g=new y;var _=new u.h;m=this.hi.get(0),m=this.ii.get(m);var b=m>>1;this.lf.uc(2*b,_),m=this.Hl.get(b);var x=p[m],P=c.Ca(m),O=c.Wc(m)-1;g.gl=b==P||b==O,g.jy=this.sl?!x&&g.gl:g.gl,g.Ci=m,g.x=_.x,g.y=_.y,g.zm=b;for(var L=new y,j=1,D=this.hi.size;j<D;j++)if(m=this.hi.get(j),m=this.ii.get(m),(m&1)==0){b=m>>1,this.lf.uc(2*b,_),m=this.Hl.get(b),m!=g.Ci&&(x=p[m],P=c.Ca(m),O=c.Wc(m)-1);var k=b==P||b==O,$=this.sl?!x&&g.gl:g.gl;if(L.x=_.x,L.y=_.y,L.Ci=m,L.zm=b,L.jy=$,L.gl=k,L.x==g.x&&L.y==g.y){if(this.sl){if((!L.jy||!g.jy)&&(L.Ci!=g.Ci||!L.gl&&!g.gl))return this.le=new u.Nd(8,L.zm,g.zm),!1}else if(!L.gl||!g.gl)return this.le=new u.Nd(5,L.zm,g.zm),!1}m=g,g=L,L=m}return!0},h.prototype.EE=function(){for(var c=this.Y,p=[],m=-1,g=!1,_=0,b=c.ea();_<b;_++)c.Gv(_)&&(g=!1,m++,_<b-1&&(c.Gv(_+1)||(g=!0))),p[_]=g?m:-1;g=new u.h,_=this.hi.get(0),_=this.ii.get(_);var x=_>>1;this.lf.uc(2*x,g),_=this.Hl.get(x),m=new n(g.x,g.y,_,x,p[_]),c=[];var P=1;for(b=this.hi.size;P<b;P++)if(_=this.hi.get(P),_=this.ii.get(_),(_&1)==0){if(x=_>>1,this.lf.uc(2*x,g),_=this.Hl.get(x),_=new n(g.x,g.y,_,x,p[_]),_.x==m.x&&_.y==m.y){if(_.Ci==m.Ci)return this.le=new u.Nd(9,_.zm,m.zm),!1;0<=p[_.Ci]&&p[_.Ci]==p[m.Ci]&&(c.length!=0&&c[c.length-1]==m||c.push(m),c.push(_))}m=_}if(c.length==0)return!0;for(_=new u.lp(!0),u.P.bv(p,-1),g=-1,P=new u.h,P.Sc(),m=0,b=c.length;m<b;m++){x=c[m],(x.x!=P.x||x.y!=P.y)&&(g=_.Rh(0),P.x=x.x,P.y=x.y);var O=p[x.Ci];O==-1&&(O=_.Rh(2),p[x.Ci]=O),_.addElement(O,g),_.addElement(g,O)}for(b=new u.ja(0),b.Jb(10),m=_.ke;m!=-1;m=_.lz(m))if(c=_.KF(m),(c&1)==0&&(c&2)!=0){for(c=-1,b.add(m),b.add(-1);0<b.size;){if(g=b.Gc(),b.Jf(),P=b.Gc(),b.Jf(),x=_.KF(P),x&1){c=x&2?P:g;break}for(_.aX(P,x|1),x=_.sc(P);x!=-1;x=_.lb(x))O=_.getData(x),O!=g&&(b.add(O),b.add(P))}if(c!=-1){for(_=-1,m=0,b=p.length;m<b;m++)if(p[m]==c){_=m;break}return this.le=new u.Nd(10,_,-1),!1}}return!0},h.prototype.oO=function(){var c=this.Y;if(0>=c.He())return this.le=new u.Nd(6,c.ea()==1?1:-1,-1),0;if(c.ea()==1)return this.sl&&!this.EE()?0:2;this.vo=u.ja.rf(c.ea(),0),this.EA=u.ja.rf(c.ea(),-1);for(var p=-1,m=0,g=0,_=c.ea();g<_;g++){var b=c.Kr(g);if(this.vo.write(g,0>b?0:256),0<b)p=g,m=b;else{if(b==0)return this.le=new u.Nd(6,g,-1),0;if((0>p||m<Math.abs(b))&&(this.le=new u.Nd(7,g,-1),this.sl))return 0;this.EA.write(g,p)}}for(this.et=c.ea(),this.Qm=new u.ja(0),this.Qm.Jb(10),_=c.I(),this.Oo=NaN,c=new u.ja(0),c.Jb(10),this.Sq=u.ja.rf(_,-1),this.Jw=u.ja.rf(_,-1),this.Bj!=null?this.Bj.clear(!1):this.Bj=new u.ja(0),this.Bj.Jb(10),this.fb.clear(),this.fb.Xo(new r(this)),p=0,_*=2;0<this.et&&p<_;p++)if(m=this.hi.get(p),m=this.ii.get(m),(m&1)==0){if(m>>=1,g=this.lf.read(2*m+1),g!=this.Oo&&c.size!=0){if(!this.vt(c))return 0;c!=null&&c.clear(!1)}c.add(m),this.Oo=g}return 0<this.et&&!this.vt(c)?0:this.sl?this.le.Lj==0&&this.EE()?2:0:this.le.Lj==0?2:1},h.prototype.LI=function(c){if(c.size==1)return!0;for(var p=0,m=c.size;p<m;p++){var g=c.get(p);this.ag.Wb(g);var _=this.ag.ni();this.hb.push(this.Uu(_,g,this.ag.gb,!0)),this.ag.ia(),_=this.ag.ia(),this.hb.push(this.Uu(_,g,this.ag.gb,!1))}var b=this;for(this.hb.sort(function(O,L){return b.SP(O,L)}),g=this.oh.ke,g==-1&&(g=this.oh.Rh(0)),this.oh.hn(this.hb.length),p=0,m=this.hb.length;p<m;p++)this.oh.addElement(g,p);p=!0;for(var x=m=-1;p&&(p=!1,_=this.oh.sc(g),_!=-1);)for(var P=this.oh.lb(_);P!=-1;){if(m=this.oh.getData(_),x=this.oh.getData(P),m=this.hb[m].Ko,x=this.hb[x].Ko,m==x){if(p=!0,this.oh.kd(g,_),_=this.oh.xe(P),P=this.oh.kd(g,P),P==-1||_==-1)break;continue}_=P,P=this.oh.lb(_)}if(p=this.oh.ds(g),this.oh.GE(g),0<p)return this.le=new u.Nd(5,m,x),!1;for(p=0,m=c.size;p<m;p++)this.qB(this.hb[p]);return this.hb.length=0,!0},h.prototype.vt=function(c){for(var p=0,m=c.size;p<m;p++){var g=c.get(p),_=this.Sq.read(g);if(_!=-1){var b=this.fb.ka(_);this.Bj.add(b),this.fb.wd(_,-1),this.qB(this.hb[b]),this.hb[b]=null,this.Sq.write(g,-1)}_=this.Jw.read(g),_!=-1&&(b=this.fb.ka(_),this.Bj.add(b),this.fb.wd(_,-1),this.qB(this.hb[b]),this.hb[b]=null,this.Jw.write(g,-1))}for(p=0,m=c.size;p<m;p++){if(g=c.get(p),this.ag.Wb(g),_=this.ag.ni(),_.oa>_.ma){var x=this.ag.xb(),P=this.Uu(_,g,this.ag.gb,!0);0<this.Bj.size?(b=this.Bj.Gc(),this.Bj.Jf(),this.hb[b]=P):(b=this.hb.length,this.hb.push(P)),_=this.fb.addElement(b,-1),this.Sq.read(x)==-1?this.Sq.write(x,_):this.Jw.write(x,_),!(this.vo.read(this.ag.gb)&3)&&this.Qm.add(_)}this.ag.ia(),_=this.ag.ia(),_.oa<_.ma&&(x=this.ag.kk(),P=this.Uu(_,g,this.ag.gb,!1),0<this.Bj.size?(b=this.Bj.Gc(),this.Bj.Jf(),this.hb[b]=P):(b=this.hb.length,this.hb.push(P)),_=this.fb.addElement(b,-1),this.Sq.read(x)==-1?this.Sq.write(x,_):this.Jw.write(x,_),!(this.vo.read(this.ag.gb)&3)&&this.Qm.add(_))}for(p=0,m=this.Qm.size;p<m&&0<this.et;p++)if(_=this.Qm.get(p),(this.vo.read(this.hb[this.fb.ka(_)].DA)&3)==0){c=-1,g=this.fb.xe(_);var O=_;P=null,b=-1;for(var L=0;g!=-1&&(b=this.fb.ka(g),P=this.hb[b],b=P.DA,L=this.vo.read(b),!(L&3));)O=g,g=this.fb.xe(g);g==-1?(x=1,g=O):(c=(L&3)==1?b:this.EA.read(b),x=P.SF()!=0?0:1,g=this.fb.lb(g));do{if(b=this.fb.ka(g),P=this.hb[b],b=P.DA,O=this.vo.read(b),!(O&3)){if(x!=P.SF())return this.le=new u.Nd(6,b,-1),!1;if(L=x==0||P.Yp()?2:1,O=O&252|L,this.vo.write(b,L),L==2&&this.le.Lj==0&&this.EA.read(b)!=c&&(this.le=new u.Nd(7,b,-1),this.sl))return!1;if(this.et--,this.et==0)return!0}(O&3)==1&&(c=b),O=g,g=this.fb.lb(g),x=x!=0?0:1}while(O!=_)}return this.Qm!=null?this.Qm.clear(!1):this.Qm=new u.ja(0),!0},h.prototype.Uu=function(c,p,m,g){if(c.K()==322)c=this.nP(c);else throw u.i.Ra();return c.Ko=p,c.DA=m,c.Aq=0,c.iX(g),c},h.prototype.nP=function(c){if(0<this.ro.length){var p=this.ro[this.ro.length-1];--this.ro.length,c.copyTo(p.oe)}else p=new C,p.oe=u.NC.kg(c);return p},h.prototype.qB=function(c){c.oe.K()==322&&this.ro.push(c)},h.prototype.fU=function(){for(var c=this.Y.I(),p=new u.ja(0),m=0;m<c;m++)p.add(m);var g=this;for(p.Wd(0,c,function(_,b){return g.Qu(_,b)}),m=1;m<c;m++)if(this.Qu(p.get(m-1),p.get(m))==0)return this.le=new u.Nd(3,p.get(m-1),p.get(m)),0;return 2},h.prototype.EV=function(){return this.BE()&&this.yE(!0)?2:0},h.prototype.jV=function(){return this.$S()},h.prototype.kU=function(){for(var c=this.Y.I(),p=new u.ja(0),m=0;m<c;m++)p.add(m);var g=this;p.Wd(0,c,function(O,L){return g.KO(O,L)});var _=Array(c);for(u.P.bv(_,!1),_[p.get(0)]=!0,m=1;m<c;m++){var b=p.get(m-1),x=p.get(m);this.Qu(b,x)==0?_[x]=!1:_[x]=!0}p=this.Y.Ja(),b=this.Y,x=0;var P=1;for(m=0;m<c;m++)_[m]?P=m+1:(x<P&&p.Gd(b,x,P),x=m+1);return x<P&&p.Gd(b,x,P),p.Eh(2,this.Do),p},h.prototype.IV=function(){var c=this.Y,p=c.Ha(),m=c.Ha(),g=this.Y.Ja(),_=this.Y,b=c.hasAttribute(1),x=b?u.ua.rE(this.Sg,c,!0):0,P=new u.ja(0),O=new u.ja(0);for(P.Jb(u.P.truncate(c.I()/2+1)),O.Jb(u.P.truncate(c.I()/2+1));p.ab();)if(m.ab(),!(2>c.Ka(p.gb))){m.yW();for(var L,j,D=!0;p.Ia();){var k=p.ia(),$=m.ni();if(p.xb()>m.xb())break;D&&(P.add(p.xb()),O.add(m.kk()),D=!1),j=P.Gc();var G=p.kk();if(1<G-j){var B=new u.h;B.vc(c.Oa(j),c.Oa(G)),L=B.length()}else L=k.Rb();j=O.Gc(),G=m.xb(),1<G-j?(B=new u.h,B.vc(c.Oa(j),c.Oa(G)),j=B.length()):j=$.Rb(),L>this.Do?P.add(p.kk()):b&&(L=c.Vc(1,P.Gc(),0),k=k.jv(1,0),Math.abs(k-L)>x&&P.add(p.kk())),j>this.Do?O.add(m.xb()):b&&(L=c.Vc(1,O.Gc(),0),k=$.jv(1,0),Math.abs(k-L)>x&&O.add(m.xb()))}if(P.Gc()<O.Gc()?P.size>O.size?P.Jf():O.Jf():(P.Gc()!=O.Gc()&&O.Jf(),O.Jf()),2<=O.size+P.size){for(D=new u.Ta,$=0,k=P.size;$<k;$++)_.we(P.get($),D),$==0?g.nf(D):g.lineTo(D);for($=O.size-1;0<$;$--)_.we(O.get($),D),g.lineTo(D);_.ec(p.gb)?g.Cp():0<O.size&&(_.we(O.get(0),D),g.lineTo(D))}P!=null&&P.clear(!1),O!=null&&O.clear(!1)}return g.Eh(2,this.Do),g},h.prototype.mV=function(){return this.zX()},h.prototype.zX=function(){return this.Y.K()==1736&&this.Y.Kn()==1?u.Hg.Ok(this.Y,this.Do,!0,!1,this.od):(this.Ji=new u.hd,this.Ji.Ib(this.Y),this.Ji.gd!=0&&(this.sA!=1&&u.Vk.W(this.Ji,this.Do,this.od,!0),this.Y.K()==1736&&u.tn.W(this.Ji,this.Ji.md,this.sA,!1,this.od)),this.Y=this.Ji.Ke(this.Ji.md),this.Y.K()==1736&&(this.Y.hm(),this.Y.$o(0)),this.Y.Eh(2,this.Do),this.Y)},h.ts=function(c,p,m,g,_){if(g!=null&&(g.Lj=0,g.Lo=-1,g.Mo=-1),c.B())return 1;var b=c.K();if(b==33)return 1;var x=u.ua.mj(p,c,!1);if(b==197)return p=new u.l,c.A(p),p.Di(x)?(g!=null&&(g.Lj=2,g.Lo=-1,g.Mo=-1),0):1;if(u.ba.zd(b))return x=new u.Ua(c.description),x.pc(c,!0),h.ts(x,p,m,g,_);var P=c.qm(x);if(m=m?-1:P,m!=-1)return m;if(p=new h(c,p,m,_,!1),b==550)m=p.fU();else if(b==1607)m=p.EV();else if(b==1736)m=p.jV();else throw u.i.Ra();return c.Eh(m,x),g!=null&&m==0&&g.Yt(p.le),m},h.YJ=function(c,p,m,g){if(c.B())return c;var _=c.K();if(_==33)return c;var b=u.ua.mj(p,c,!1);if(_==197)return p=new u.l,c.A(p),p.Di(b)?c.Ja():c;if(u.ba.zd(_))return _=new u.Ua(c.description),_.pc(c,!0),h.YJ(_,p,m,g);if(b=c.qm(b),m=m?-1:b,m==2)return c;if(c=new h(c,p,m,g,!1),_==550)c=c.kU();else if(_==1607)c=c.IV();else if(_==1736)c=c.mV();else throw u.i.Ra();return c},h.prototype.Oh=function(c,p,m){if(c==p)return 0;c=this.ii.get(c);var g=this.ii.get(p);p=c>>1;var _=g>>1,b=new u.h,x=new u.h;return this.lf.uc(2*p,b),b.y+=c&1?this.Qj:-this.Qj,this.lf.uc(2*_,x),x.y+=g&1?this.Qj:-this.Qj,c=b.compare(x),c==0&&m?(m=this.Hl.get(p)-this.Hl.get(_),0>m?-1:0<m?1:0):c},h.prototype.Qu=function(c,p){if(c==p)return 0;var m=this.Y,g=m.Oa(c),_=m.Oa(p);if(g.x<_.x)return-1;if(g.x>_.x)return 1;if(g.y<_.y)return-1;if(g.y>_.y)return 1;for(g=1;g<this.jT;g++){_=this.iH.ld(g);for(var b=u.sa.Wa(_),x=0;x<b;x++){var P=m.Vc(_,c,x),O=m.Vc(_,p,x);if(P<O)return-1;if(P>O)return 1}}return 0},h.prototype.KO=function(c,p){var m=this.Qu(c,p);return m==0?c<p?-1:1:m},h.prototype.SP=function(c,p){if(c===p)return 0;var m=c.oe.lg();c.Yp()&&m.Uq(),c=p.oe.lg(),p.Yp()&&c.Uq(),p=m.su();var g=c.su();return g==p?(p=m.yi(c),Math.abs(p)<=8881784197001252e-31*(Math.abs(c.x*m.y)+Math.abs(c.y*m.x))&&(p--,p++),0>p?1:0<p?-1:0):p<g?-1:1},h}();u.Ix=a}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 30},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.prototype.W=function(e,r,o,a){return e instanceof u.ba?(e=new u.$c(e),r=new u.$c(r),this.W(e,r,o,a).next()):new u.wL(e,r,o,a)},n.gp=function(e,r,o,a){var h=e.Eb(),c=r.Eb();if(e.B()&&r.B())return h>c?e:r;if(e.B())return r;if(r.B())return e;var p=new u.l,m=new u.l,g=new u.l;return e.A(p),r.A(m),g.L(p),g.$b(m),p=u.ua.Xd(o,g,!0),m=e.K(),g=r.K(),m==33&&g==33?n.WU(e,r,p):m!=g?0<h||0<c?h>c?e:r:m==550?n.dI(e,r,p):n.dI(r,e,p):u.Hg.gp(e,r,o,a)},n.WU=function(e,r,o){o=o*Math.sqrt(2)*1.00001,o*=o;var a=e.D(),h=r.D(),c=new u.ee(e.description);return u.h.zc(a,h)>o&&(c.add(e),c.add(r)),c},n.dI=function(e,r,o){var a=e.vb(0),h=e.I(),c=r.D(),p=e.Ja();o=o*Math.sqrt(2)*1.00001;var m=new u.l;if(e.A(m),m.X(o,o),m.contains(c)){o*=o,m=!1;for(var g=[],_=0;_<h;_++)g[_]=!1;for(_=0;_<h;_++){var b=a.read(2*_),x=a.read(2*_+1);b-=c.x,x-=c.y,b*b+x*x<=o&&(m=!0,g[_]=!0)}if(m)for(_=0;_<h;_++)g[_]||p.Gd(e,_,_+1);else p.Gd(e,0,h),p.add(r)}else p.Gd(e,0,h),p.add(r);return p},n.instance=null,n}(u.Ge);u.Jx=C}(U||(U={})),function(u){var C=function(){function y(n,e,r,o){this.vs=e==null,this.za=-1,this.Sd=n,this.wg=r,this.IT=e.next(),this.Vb=o}return y.prototype.next=function(){if(this.vs)return null;var n;return(n=this.Sd.next())!=null?(this.za=this.Sd.Ma(),u.Jx.gp(n,this.IT,this.wg,this.Vb)):null},y.prototype.Ma=function(){return this.za},y.prototype.re=function(){},y}();u.wL=C}(U||(U={})),function(u){var C=function(){function e(){}return e.prototype.Az=function(){this.Vy=null,this.zx=-1,this.vK=!1},e}(),y=function(){function e(){this.Ir=0,this.rj=[]}return e.prototype.kN=function(r){this.Ir+=r.zx,this.rj.push(r)},e.prototype.OV=function(){this.Ir-=this.rj[this.rj.length-1].zx,--this.rj.length},e.prototype.iy=function(){return this.rj[this.rj.length-1]},e.prototype.Nb=function(r){return r===this},e}(),n=function(){function e(r,o,a){this.za=-1,this.Jc=!1,this.vH=[!1,!1,!1,!1],this.wq=[0,0,0,0],this.eA=!1,this.Bk=-1,this.kq=0,this.eo=-1,this.Fo=[],this.Sd=r,this.wg=o,this.Vb=a}return e.ZD=function(r){var o=[],a=0;for(r=Object.keys(r);a<r.length;a++)o.push(Number(r[a]));return o.sort(function(h,c){return h-c}),o},e.prototype.aG=function(r){var o=this.Fo[r],a=e.ZD(o)[0],h=o[a],c=h.iy().Vy;return h=h.iy().vK,delete o[a],h&&(c=u.$l.local().W(c,this.wg,!1,this.Vb),r==0&&c.K()==33&&(r=new u.ee(c.description),c.B()||r.add(c),c=r)),c},e.prototype.next=function(){if(this.Jc&&this.eo==this.Bk)return null;for(;!this.lK(););if(this.Bk==-1)return null;if(this.eA){for(this.eo++;;){if(this.eo>this.Bk||0>this.eo)throw u.i.Ra();if(this.vH[this.eo])break}return this.za++,this.aG(this.eo)}return this.za=0,this.eo=this.Bk,this.aG(this.Bk)},e.prototype.Ma=function(){return this.za},e.prototype.lK=function(){if(this.Jc)return!0;var r=null;if(this.Sd!=null&&(r=this.Sd.next(),r==null&&(this.Jc=!0,this.Sd=null)),u.op.Bp(this.Vb),r!=null){var o=r.Eb();this.vH[o]=!0,o>=this.Bk&&!this.eA&&(this.HD(o,!1,r),o>this.Bk&&!this.eA&&this.uW(o))}if(0<this.kq)for(o=0;o<=this.Bk;o++)for(;1<this.wq[o]&&(r=this.AO(o),r.length!=0);)r=u.Hg.QP(r,this.wg,this.Vb),this.HD(o,!0,r);return this.Jc},e.prototype.AO=function(r){for(var o=[],a=[],h=this.Fo[r],c=e.ZD(h),p=0;p<c.length;p++){var m=c[p],g=h[m];if(this.Jc||1e4<g.Ir&&1<g.rj.length){for(this.wq[r]-=g.rj.length,this.kq-=g.rj.length;0<g.rj.length;)o.push(g.iy().Vy),g.OV();a.push(m)}}for(p=0;p<a.length;p++)delete h[a[p]];return o},e.prototype.uW=function(r){for(var o=0;o<r;o++)this.Fo[o]=[],this.kq-=this.wq[o],this.wq[o]=0},e.prototype.HD=function(r,o,a){var h=new C;if(h.Az(),h.Vy=a,a=e.$R(a),h.zx=a,a=e.YR(a),r+1>this.Fo.length)for(var c=0,p=Math.max(2,r+1);c<p;c++)this.Fo.push([]);c=this.Fo[r][a],c===void 0&&(c=new y,this.Fo[r][a]=c),h.vK=o,c.kN(h),this.wq[r]++,this.kq++,this.Bk=Math.max(this.Bk,r)},e.YR=function(r){return 0<r?u.P.truncate(Math.log(r)/Math.log(4)+.5):0},e.$R=function(r){var o=r.K();if(u.ba.zj(o))return r.I();if(o==33)return 1;if(o==197)return 4;if(u.ba.zd(o))return 2;throw u.i.Ra()},e.prototype.re=function(){this.lK()},e}();u.yL=n}(U||(U={})),function(u){var C=function(y){function n(){return y!==null&&y.apply(this,arguments)||this}return Bt(n,y),n.prototype.K=function(){return 1},n.prototype.W=function(e,r,o,a){return a===void 0?new u.yL(e,r,o):this.bQ(e,r,o,a)},n.prototype.bQ=function(e,r,o,a){return e=new u.$c([e,r]),this.W(e,o,a).next()},n.local=function(){return n.instance===null&&(n.instance=new n),n.instance},n.instance=null,n}(u.Ge);u.Ih=C}(U||(U={})),function(u){var C;(function(y){y[y.nextPath=0]="nextPath",y[y.nextSegment=1]="nextSegment",y[y.iterate=2]="iterate"})(C||(C={})),C=function(){function y(n,e,r,o){this.Vs=new u.l,this.BT=n,this.CT=e,this.oq=o,this.wo=-1,this.tl=!1;var a=n.Cb;a!=null&&(a=o?a.Bo:a.Gb,a!=null&&(this.Jc=!1,this.ra=r,this.Gb=a,this.zw=this.Gb.getIterator(),this.pq=this.tl=!0,this.Yb=0,o?this.wo=e.ea():this.td=e.Ha())),this.tl||(a=e.Cb,a!=null&&(a=o?a.Bo:a.Gb,a!=null&&(this.Jc=!1,this.ra=r,this.Gb=a,this.zw=this.Gb.getIterator(),this.tl=!0,this.pq=!1,this.Yb=0,o?this.wo=n.ea():this.td=n.Ha()))),this.tl||(this.ei=o?u.ua.hR(n,e,r,1<=n.qm(0),1<=e.qm(0)):u.ua.gR(n,e,r))}return y.prototype.next=function(){if(this.tl){if(this.Jc)return!1;for(var n=!0;n;)switch(this.Yb){case 0:n=this.sU();break;case 1:n=this.tU();break;case 2:n=this.Pz();break;default:throw u.i.ga("internal error")}return!this.Jc}return this.ei==null?!1:this.ei.next()},y.prototype.pl=function(){return this.tl?this.pq?this.Gb.ka(this.Hs):this.oq?this.wo:this.td.xb():this.ei.pl(this.ei.Xf)},y.prototype.jl=function(){return this.tl?this.pq?this.oq?this.wo:this.td.xb():this.Gb.ka(this.Hs):this.ei.jl(this.ei.Bf)},y.prototype.oz=function(){if(!this.oq)throw u.i.ga("internal error");return this.tl?this.pq?this.Gb.BF(this.Hs):this.Vs:this.ei.oz(this.ei.Xf)},y.prototype.Wy=function(){if(!this.oq)throw u.i.ga("internal error");return this.tl?this.pq?this.Vs:this.Gb.BF(this.Hs):this.ei.Wy(this.ei.Bf)},y.prototype.sU=function(){return this.oq?--this.wo==-1?(this.Jc=!0,!1):(this.pq?this.CT.Tj(this.wo,this.Vs):this.BT.Tj(this.wo,this.Vs),this.zw.Zi(this.Vs,this.ra),this.Yb=2,!0):this.td.ab()?(this.Yb=1,!0):(this.Jc=!0,!1)},y.prototype.tU=function(){if(!this.td.Ia())return this.Yb=0,!0;var n=this.td.ia();return this.zw.Wo(n,this.ra),this.Yb=2,!0},y.prototype.Pz=function(){return this.Hs=this.zw.next(),this.Hs==-1?(this.Yb=this.oq?0:1,!0):!1},y}(),u.am=C}(U||(U={})),function(u){u=u.JL||(u.JL={}),u[u.enumClosed=1]="enumClosed",u[u.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",u[u.enumOGCStartPolygon=4]="enumOGCStartPolygon",u[u.enumCalcMask=4]="enumCalcMask"}(U||(U={})),function(u){u.LC=function(){function C(){}return C.ub=function(y,n,e,r,o,a,h,c,p){var m=[0,0,0],g=[0,0,0],_=[0,0,0],b=[0,0,0,0],x=new u.ha(0),P=new u.ha(0),O=new u.ha(0);if(h!=null||c!=null||p!=null)if(u.s.vi(n))u.$g.ub(y,e,r,o,a,h,c,p);else{o=u.F.ca(o),e=u.F.ca(e);var L=u.F.ca(o-e);if(u.s.$(r,a)&&(u.s.$(e,o)||u.s.$(u.s.R(r),1.570796326794897)))h!=null&&(h.u=0),c!=null&&(c.u=0),p!=null&&(p.u=0);else{if(u.s.$(r,-a)){if(u.s.$(u.s.R(r),1.570796326794897)){h!=null&&(h.u=2*u.F.Ch(y,n)),c!=null&&(c.u=0<r?u.F.ca(3.141592653589793-u.F.ca(o)):u.F.ca(o)),p!=null&&(p.u=0<r?u.F.ca(o):u.F.ca(3.141592653589793-u.F.ca(o)));return}u.s.$(u.s.R(L),3.141592653589793)&&(h!=null&&(h.u=2*u.F.Ch(y,n)),c!=null&&(c.u=0),p!=null&&(p.u=0))}else{if(u.s.$(u.s.R(r),1.570796326794897)||u.s.$(u.s.R(a),1.570796326794897)){u.Yk.ub(y,n,e,r,o,a,h,c,p);return}if(u.s.$(e,o)||u.s.$(u.s.R(L),3.141592653589793)){u.Yk.ub(y,n,e,r,o,a,h,c,p);return}if(u.s.Dd(r)){u.Yk.ub(y,n,e,r,o,a,h,c,p);return}}var j=Math.sqrt(1-n);o=u.F.ca(o-e),e=0,u.F.el(1,n,r,e,0,x,P,O),m[0]=x.u,m[1]=P.u,m[2]=O.u,u.F.el(1,n,a,o,0,x,P,O),g[0]=x.u,g[1]=P.u,g[2]=O.u,_[0]=0,_[1]=0,_[2]=-1*n*u.F.n(1,n,r)*Math.sin(r),0>o?u.F.Yq(_,g,m,b,0):u.F.Yq(_,m,g,b,0),P=[0,0,0],O=[0,0,0];var D=[0,0,0];m=[0,0,0],x=[0,0,0];var k=Math.acos(b[2]/1),$=1-n,G=Math.tan(k),B=1+G*G/$,K=2*_[2]*G/$;for(G=Math.sqrt(K*K-4*B*(_[2]*_[2]/$-1)),B*=2,$=(-K+G)/B,K=(-K-G)/B,G=Math.tan(k),B=G*$+_[2],k=($+K)/2,_=(B+(G*K+_[2]))/2,G=u.F.ip($-k,B-_),$=_/j*1.570796326794897,K=0;100>K&&(B=u.F.w(n,$),B=B*B/Math.cos($)*(Math.sin($)-_*B/(1-n)),!u.s.Dd(B));K++)$-=B;_=u.F.n(1,n,$)*Math.cos($),_=Math.sqrt((_-k)*(_+k)),G=1-G/_,G*=2-G,B=u.F.qn(P),k=u.F.qn(O),$=u.F.qn(D);var X=u.F.Ut(D,P);K=u.F.Ut(D,O),u.F.yx(D,P,m),u.F.yx(D,O,x),P=Math.acos(X/($*B)),O=Math.acos(K/($*k)),O*=u.s.Mb(1,u.F.Ut(m,x)),(1.570796326794897<=u.s.R(P)&&1.570796326794897<=u.s.R(O)||3.141592653589793<u.s.R(P-O))&&(P=(3.141592653589793-u.s.R(P))*u.s.Mb(1,P),O=(3.141592653589793-u.s.R(O))*u.s.Mb(1,O)),m=u.F.Sj(G,O),x=u.F.q(_,G,u.F.Sj(G,P)),m=u.F.q(_,G,m),m=u.s.R(m-x)*y,P=new u.ha(0),O=new u.ha(0),D=b[1]/1,D*=-u.s.Mb(1,L),x=Math.acos(D)*u.s.Mb(1,L),C.sf(y,n,e,r,m,x,P,O),u.s.$(o,P.u)&&u.s.$(a,O.u)||(G=u.F.ip(u.F.ca(o-P.u),a-O.u),C.sf(y,n,e,r,m,u.F.ca(x+3.141592653589793),P,O),B=u.F.ip(u.F.ca(o-P.u),a-O.u),B<G&&(x=u.F.ca(x+3.141592653589793))),P=[0,0,0,0],O=[0,0,0,0],_=[0,0,0],G=[0,0,0],y=[0,0,0],e=[0,0,0],r=[0,0,0],D=[0,0,0],_[0]=0,_[1]=0,_[2]=j,G[0]=0,G[1]=0,G[2]=0,u.F.Yq(G,_,g,P,0),u.s.Dd(a)?(y[0]=g[0],y[1]=g[1],y[2]=1,e[0]=1*Math.cos(o)-1*Math.sin(o),e[1]=1*Math.sin(o)+1*Math.cos(o)):(n=u.F.n(1,n,a)*Math.cos(a),y[0]=0,y[1]=0,g[2]+=Math.tan(1.570796326794897-u.s.R(a))*n*u.s.Mb(1,a),e[0]=n*Math.cos(o)-n*Math.sin(o),e[1]=n*Math.sin(o)+n*Math.cos(o)),e[2]=g[2],u.F.Yq(g,e,y,O,1),u.F.yx(O,P,r),u.F.yx(O,b,D),D=u.F.Ut(r,D)/(u.F.qn(r)*u.F.qn(D)),D*=u.s.Mb(1,L),o=Math.acos(D)*-u.s.Mb(1,L),(0<x&&0<o||0>x&&0>o)&&(o=u.F.ca(o+3.141592653589793)),h!=null&&(h.u=m),c!=null&&(c.u=x),p!=null&&(p.u=o)}}},C.sf=function(y,n,e,r,o,a,h,c){var p=[0,0,0],m=[0,0,0],g=[0,0,0],_=[0,0,0],b=[0,0,0],x=[0,0,0],P=[0,0,0],O=[0,0,0,0],L=new u.ha(0),j=new u.ha(0),D=new u.ha(0),k=new u.ha(0),$=new u.ha(0),G=new u.ha(0);if(h!=null&&c!=null)if(u.s.vi(n))u.$g.sf(y,e,r,o,a,h,c);else if(u.s.Dd(o))h!=null&&(h.u=e),c!=null&&(c.u=r);else if(a=u.F.ca(a),0>o&&(o=u.s.R(o),a=u.F.ca(a+3.141592653589793)),e=u.F.ca(e),r=u.F.ca(r),1.570796326794897<u.s.R(r)&&(e=u.F.ca(e+3.141592653589793),r=u.s.Mb(3.141592653589793,r)-r),u.s.$(u.s.R(r),1.570796326794897)||u.s.Dd(r)||u.s.Dd(a)||u.s.$(u.s.R(a),3.141592653589793))u.Yk.sf(y,n,e,r,o,a,h,c);else{var B=Math.sqrt(1-n);for(y=o/y,u.F.el(1,n,r,0,0,k,$,G),p[0]=k.u,p[1]=$.u,p[2]=$.u,P[0]=0,P[1]=0,P[2]=-1*n*u.F.n(1,n,r)*Math.sin(r),k=u.F.n(1,n,r),$=u.F.ca(1.570796326794897-a),G=Math.sin($),o=Math.cos(r),r=Math.sin(r),b[0]=k*o-r*G,b[1]=Math.cos($),b[2]=(1-n)*k*r+o*G,0>a?u.F.Yq(P,b,p,O,0):u.F.Yq(P,p,b,O,0),p=Math.acos(O[2]/1),O=Math.atan2(-O[1],-O[0]),r=1-n,b=Math.tan(p),$=1+b*b/r,k=2*P[2]*b/r,b=Math.sqrt(k*k-4*$*(P[2]*P[2]/r-1)),$*=2,r=(-k+b)/$,k=(-k-b)/$,b=Math.tan(p),$=b*r+P[2],p=(r+k)/2,P=($+(b*k+P[2]))/2,b=u.F.ip(r-p,$-P),B=P/B*1.570796326794897,r=0;100>r&&(k=u.F.w(n,B),k=k*k/Math.cos(B)*(Math.sin(B)-P*k/(1-n)),!u.s.Dd(k));r++)B-=k;B=u.F.n(1,n,B)*Math.cos(B),B=Math.sqrt((B-p)*(B+p)),P=1-b/B,P*=2-P,x=Math.acos(u.F.Ut(x,m)/(u.F.qn(x)*u.F.qn(m))),x*=u.s.Mb(1,m[0]),a=(u.F.q(B,P,u.F.Sj(P,x))+y*u.s.Mb(1,a))/u.F.Ch(B,P),a=u.F.ca(1.570796326794897*a),a=u.F.Tq(P,a),u.F.n(B,P,a),b=u.F.ca(O+e),e=Math.cos(b),a=Math.sin(b),g[0]=_[0]*e+_[1]*-a,g[1]=_[0]*a+_[1]*e,g[2]=_[2],u.F.eO(n,g[0],g[1],g[2],D,j,L),h!=null&&(h.u=j.u),c!=null&&(c.u=D.u)}},C}()}(U||(U={})),function(u){var C=function(){function o(a){this.Za=null,this.xt=new u.h,this.yt=new u.h,this.g=a}return o.prototype.compare=function(a,h,c){return this.g.Hc(h,this.xt),this.g.Hc(a.ka(c),this.yt),this.xt.compare(this.yt)},o}(),y=function(){function o(a){this.Cf=new u.h,this.Fk=new u.h,this.g=a}return o.prototype.Fh=function(a){this.Cf.N(a)},o.prototype.compare=function(a,h){return this.g.Hc(a.ka(h),this.Fk),this.Cf.compare(this.Fk)},o}(),n=function(o){function a(h){var c=o.call(this,h.g,h.ra,!1)||this;return c.ib=h,c}return Bt(a,o),a.prototype.compare=function(h,c,p){if(this.sg)return-1;var m=this.ib.Rd.Ln(this.ib.Th(c));h=h.ka(p);var g=this.ib.Rd.Ln(this.ib.Th(h));return this.Fm=p,this.ME(c,m,h,g)},a}(u.PC),e=function(o){function a(h){var c=o.call(this,h.g,h.ra)||this;return c.ib=h,c}return Bt(a,o),a.prototype.compare=function(h,c){return this.sg?-1:(h=this.ib.Rd.Ln(this.ib.Th(h.ka(c))),this.Fm=c,this.NE(c,h))},a}(u.WL),r=function(){function o(){this.Nc=this.df=this.lo=this.Rd=this.nh=this.Ad=this.hb=this.g=null,this.Pg=!1,this.xh=this.Pm=this.je=this.Ik=this.ph=this.Ck=this.Gf=this.ae=null,this.zh=this.Lq=this.PA=this.ra=0,this.Zv=this.Yn=!1,this.Ao=new u.h,this.Ri=new u.h,this.hb=new u.ad(8),this.Ad=new u.ad(5),this.nh=new u.cu,this.Rd=new u.cu,this.Pg=!1,this.xh=new u.h,this.xh.na(0,0),this.ra=0,this.zh=-1,this.Yn=!1,this.g=null,this.df=new u.$j,this.Nc=new u.$j,this.ph=new u.ja(0),this.Ik=new u.OC,this.Gf=new u.ja(0),this.Ck=new u.ja(0),this.lo=new u.Ta}return o.prototype.LX=function(a,h){var c=new u.Ed;return c.VB(),a.Pc(c),this.gr(a),this.Yn=!1,this.ra=h,this.PA=h*h,h=this.eC(),a.Pc(c),h||(this.lQ(),h||this.eC()),this.zh!=-1&&(this.g.Ud(this.zh),this.zh=-1),this.g=null,this.Yn},o.prototype.PX=function(a,h){this.gr(a),this.Yn=!1,this.ra=h,this.PA=h*h,this.Pg=!1,this.eC(),this.Pg||(this.Pg=a.Ip(h,!0,!1)==1),this.zh!=-1&&(this.g.Ud(this.zh),this.zh=-1),this.g=null},o.prototype.qg=function(a,h){return this.hb.U(a,0+h)},o.prototype.GB=function(a,h,c){this.hb.T(a,0+h,c)},o.prototype.Th=function(a){return this.hb.U(a,2)},o.prototype.UW=function(a,h){this.hb.T(a,2,h)},o.prototype.MF=function(a,h){return this.hb.U(a,3+h)},o.prototype.Rp=function(a){return this.hb.U(a,7)},o.prototype.Rl=function(a,h){this.hb.T(a,7,h)},o.prototype.Tp=function(a,h){return this.hb.U(a,3+this.Qp(a,h))},o.prototype.hr=function(a,h,c){this.hb.T(a,3+this.Qp(a,h),c)},o.prototype.IR=function(a,h){return this.hb.U(a,5+this.Qp(a,h))},o.prototype.jr=function(a,h,c){this.hb.T(a,5+this.Qp(a,h),c)},o.prototype.Ur=function(a){return this.Ad.U(a,0)},o.prototype.PW=function(a,h){this.Ad.T(a,0,h)},o.prototype.$y=function(a){return this.Ad.U(a,4)},o.prototype.er=function(a,h){this.Ad.T(a,4,h)},o.prototype.kl=function(a){return this.Ad.U(a,1)},o.prototype.nn=function(a,h){this.Ad.T(a,1,h)},o.prototype.Zy=function(a){return this.Ad.U(a,3)},o.prototype.Ft=function(a,h){this.Ad.T(a,3,h)},o.prototype.$m=function(a){var h=this.Ad.De(),c=this.nh.Rh();return this.PW(h,c),a!=-1?(this.nh.addElement(c,a),this.g.Sa(a,this.zh,h),this.er(h,this.g.Va(a))):this.er(h,-1),h},o.prototype.CP=function(a){this.Ad.kd(a)},o.prototype.FD=function(a,h){this.nh.addElement(this.Ur(a),h),this.g.Sa(h,this.zh,a)},o.prototype.ot=function(a){var h=this.hb.De(),c=this.Rd.Rh();return this.UW(h,c),a!=-1&&this.Rd.addElement(c,a),h},o.prototype.GD=function(a,h){this.Rd.addElement(this.Th(a),h)},o.prototype.Wu=function(a){this.hb.kd(a),a=this.ph.gF(a),0<=a&&this.ph.NV(a)},o.prototype.jj=function(a,h){if(this.qg(a,0)==-1)this.GB(a,0,h);else if(this.qg(a,1)==-1)this.GB(a,1,h);else throw u.i.Ra();this.gy(a,h)},o.prototype.gy=function(a,h){var c=this.kl(h);if(c!=-1){var p=this.Tp(c,h);this.jr(p,h,a),this.hr(a,h,p),this.hr(c,h,a),this.jr(a,h,c)}else this.jr(a,h,a),this.hr(a,h,a),this.nn(h,a)},o.prototype.Qp=function(a,h){return this.qg(a,0)==h?0:1},o.prototype.Zm=function(a,h){var c=this.Zy(h);c!=-1&&(this.df.wd(c,-1),this.Ft(h,-1));var p;if(c=this.kl(h),c!=-1){var m=p=c;do{var g=!1,_=this.Qp(p,h),b=this.MF(p,_);if(this.qg(p,_+1&1)==a){if(this.Zu(p),this.Rd.eh(this.Th(p)),this.Wu(p),p==b){c=-1;break}c==p&&(c=this.kl(h),m=b,g=!0)}p=b}while(p!=m||g);if(c!=-1){do _=this.Qp(p,h),b=this.MF(p,_),this.GB(p,_,a),p=b;while(p!=m);p=this.kl(a),p!=-1?(m=this.Tp(p,a),g=this.Tp(c,a),m==p?(this.nn(a,c),this.gy(p,a),this.nn(a,p)):g==c&&this.gy(c,a),this.hr(c,a,m),this.jr(m,a,c),this.hr(p,a,g),this.jr(g,a,p)):this.nn(a,c)}}for(c=this.Ur(a),p=this.Ur(h),m=this.nh.sc(p);m!=-1;m=this.nh.lb(m))this.g.Sa(this.nh.ka(m),this.zh,a);this.nh.Cy(c,p),this.CP(h)},o.prototype.PT=function(a,h){var c=this.qg(a,0),p=this.qg(a,1),m=this.qg(h,0),g=this.qg(h,1);this.Rd.Cy(this.Th(a),this.Th(h)),h==this.kl(c)&&this.nn(c,a),h==this.kl(p)&&this.nn(p,a),this.Zu(h),this.Wu(h),c==m&&p==g||p==m&&c==g||(this.Jn(c,this.Ao),this.Jn(m,this.Ri),this.Ao.rb(this.Ri)?(c!=m&&this.Zm(c,m),p!=g&&this.Zm(p,g)):(p!=m&&this.Zm(p,m),c!=g&&this.Zm(c,g)))},o.prototype.Zu=function(a){var h=this.qg(a,1);this.ZE(a,this.qg(a,0)),this.ZE(a,h)},o.prototype.ZE=function(a,h){var c=this.Tp(a,h),p=this.IR(a,h),m=this.kl(h);c!=a?(this.hr(p,h,c),this.jr(c,h,p),m==a&&this.nn(h,c)):this.nn(h,-1)},o.prototype.RD=function(a,h,c){var p=this.Rd.sc(a),m=this.Rd.ka(p);a=this.Ie(m);var g=this.Ie(this.g.V(m));for(this.g.lr(m,h,c,!0),p=this.Rd.lb(p);p!=-1;p=this.Rd.lb(p)){m=this.Rd.ka(p);var _=this.Ie(m)==a;this.g.lr(m,h,c,_)}p=h.Xp(c,0).bc(),h=h.Xp(c,h.ql(c)-1).xc(),this.wK(a,p),this.wK(g,h)},o.prototype.UE=function(a,h,c){var p=this.Th(a),m=this.qg(a,0),g=this.qg(a,1),_=this.ot(-1);for(this.ph.add(_),this.Rl(_,-3),this.Gf.add(_),this.jj(_,m),a=1,h=h.ql(c);a<h;a++)c=this.$m(-1),this.Ck.add(c),this.Gf.add(c),this.jj(_,c),_=this.ot(-1),this.ph.add(_),this.Rl(_,-3),this.Gf.add(_),this.jj(_,c);for(this.jj(_,g),p=this.Rd.sc(p);p!=-1;p=this.Rd.lb(p))if(g=this.Rd.ka(p),this.Ie(g)==m){a=0;do 0<a&&(_=this.Gf.get(a-1),this.FD(_,g),this.$y(_)==-1&&this.er(_,this.g.Va(g))),_=this.Gf.get(a),a+=2,this.GD(_,g),g=this.g.V(g);while(a<this.Gf.size)}else{a=this.Gf.size-1;do a<this.Gf.size-2&&(_=this.Gf.get(a+1),this.FD(_,g),0>this.$y(_)&&this.er(_,this.g.Va(g))),_=this.Gf.get(a),a-=2,this.GD(_,g),g=this.g.V(g);while(0<=a)}this.Gf.clear(!1)},o.prototype.Ie=function(a){return this.g.Qa(a,this.zh)},o.prototype.NI=function(a,h,c){var p=this.qg(h,0),m=new u.h;this.Jn(p,m);var g=new u.h,_=this.qg(h,1);this.Jn(_,g);var b=c.ql(a),x=c.Xp(a,0),P=new u.h;if(x.$p(P),!m.rb(P)){if(!this.Pg){var O=m.compare(this.xh);P=P.compare(this.xh),0>O*P&&(this.Pg=!0)}this.qF(p,this.Gf),this.Ck.add(p)}for(!this.Pg&&1<b&&(O=m.compare(g),x=x.xc(),m.compare(x)!=O||x.compare(g)!=O?this.Pg=!0:0>x.compare(this.xh)&&(this.Pg=!0)),x=c.Xp(a,b-1),a=x.xc(),g.rb(a)||(this.Pg||(O=g.compare(this.xh),P=a.compare(this.xh),0>O*P&&(this.Pg=!0)),this.qF(_,this.Gf),this.Ck.add(_)),this.Gf.add(h),g=0,_=this.Gf.size;g<_;g++)a=this.Gf.get(g),c=this.Rp(a),u.ad.GG(c)&&(this.Nc.wd(c,-1),this.Rl(a,-1)),a!=h&&this.Rp(a)!=-3&&(this.ph.add(a),this.Rl(a,-3));this.Gf.clear(!1)},o.prototype.gO=function(a,h){this.ae.compare(this.Nc,this.Nc.ka(a),h),this.ae.sg&&(this.ae.Mr(),this.jF(a,h))},o.prototype.jF=function(a,h){this.Yn=!0,a=this.Nc.ka(a),h=this.Nc.ka(h);var c=this.Rd.Ln(this.Th(a)),p=this.Rd.Ln(this.Th(h)),m=this.g.cc(c);m==null&&(this.je==null&&(this.je=new u.zb),this.g.fd(c,this.je),m=this.je),c=this.g.cc(p),c==null&&(this.Pm==null&&(this.Pm=new u.zb),this.g.fd(p,this.Pm),c=this.Pm),this.Ik.Qo(m),this.Ik.Qo(c),this.Ik.Fa(this.ra,!0)&&(this.Pg=!0),this.cK(a,h,-1,this.Ik),this.Ik.clear()},o.prototype.BQ=function(a,h){this.Yn=!0,h=this.Nc.ka(h);var c=this.Rd.Ln(this.Th(h)),p=this.g.cc(c);p==null&&(this.je==null&&(this.je=new u.zb),this.g.fd(c,this.je),p=this.je),c=this.wF(a),this.Ik.Qo(p),this.g.Xi(c,this.lo),this.Ik.Fz(this.ra,this.lo,!0),this.cK(h,-1,a,this.Ik),this.Ik.clear()},o.prototype.sS=function(){if(this.ph.size!=0)for(;this.ph.size!=0;){if(this.ph.size>Math.max(100,this.g.gd)){this.ph.clear(!1),this.Pg=!0;break}var a=this.ph.Gc();this.ph.Jf(),this.Rl(a,-1),this.RS(a)!=-1&&this.rS(a),this.Xn=!1}},o.prototype.rS=function(a){if(this.Xn){var h=this.Nc.Bu(this.HH,this.BH,a,!0);this.Xn=!1}else h=this.Nc.ED(a);h==-1?this.PT(this.Nc.ka(this.Nc.AF()),a):(this.Rl(a,h),this.ae.sg&&(this.ae.Mr(),this.jF(this.ae.Fm,h)))},o.prototype.RS=function(a){var h=this.qg(a,0);if(a=this.qg(a,1),this.Jn(h,this.Ao),this.Jn(a,this.Ri),u.h.zc(this.Ao,this.Ri)<=this.PA)return this.Pg=!0,-1;var c=this.Ao.compare(this.xh),p=this.Ri.compare(this.xh);return 0>=c&&0<p?a:0>=p&&0<c?h:-1},o.prototype.jQ=function(){var a=new u.ja(0);a.Jb(this.g.gd);for(var h=this.g.$q(),c=h.next();c!=-1;c=h.next())this.g.Qa(c,this.zh)!=-1&&a.add(c);this.g.nx(a,a.size),this.kQ(a)},o.prototype.kQ=function(a){this.df.clear(),this.df.Ee(a.size),this.df.Xo(new C(this.g));var h=new u.h;h.Sc();for(var c=-1,p=new u.h,m=0,g=a.size;m<g;m++){var _=a.get(m);this.g.Hc(_,p),p.rb(h)?(_=this.g.Qa(_,this.zh),this.Zm(c,_)):(c=this.Ie(_),this.g.Hc(_,h),_=this.df.zn(_),this.Ft(c,_))}},o.prototype.lQ=function(){var a=new u.ja(0);a.Jb(this.g.gd);for(var h=this.df.sc(-1);h!=-1;h=this.df.lb(h))a.add(this.df.ka(h));this.df.clear(),this.g.nx(a,a.size),h=0;for(var c=a.size;h<c;h++){var p=a.get(h),m=this.Ie(p);p=this.df.zn(p),this.Ft(m,p)}},o.prototype.qF=function(a,h){var c=this.kl(a);if(c!=-1){var p=c;do u.ad.GG(this.Rp(p))&&h.add(p),p=this.Tp(p,a);while(p!=c)}},o.prototype.wK=function(a,h){for(a=this.nh.sc(this.Ur(a));a!=-1;a=this.nh.lb(a))this.g.mf(this.nh.ka(a),h)},o.prototype.cK=function(a,h,c,p){this.Zu(a),h!=-1&&this.Zu(h),this.NI(0,a,p),h!=-1&&this.NI(1,h,p),c!=-1&&(p.Cf.D(this.Ao),this.Jn(c,this.Ri),this.Ri.rb(this.Ao)||this.Ck.add(c)),c=0;for(var m=this.Ck.size;c<m;c++){var g=this.Ck.get(c),_=this.Zy(g);_!=-1&&(this.df.wd(_,-1),this.Ft(g,-1))}for(c=this.Th(a),m=h!=-1?this.Th(h):-1,this.RD(c,p,0),h!=-1&&this.RD(m,p,1),this.UE(a,p,0),h!=-1&&this.UE(h,p,1),this.Rd.eh(c),this.Wu(a),h!=-1&&(this.Rd.eh(m),this.Wu(h)),c=0,m=this.Ck.size;c<m;c++)g=this.Ck.get(c),g==this.Lq&&(this.Zv=!0),_=this.Zy(g),_==-1&&(_=this.df.ED(this.wF(g)),_==-1?(a=this.Ie(this.df.ka(this.df.AF())),this.Zm(a,g)):this.Ft(g,_));this.Ck.clear(!1)},o.prototype.Jn=function(a,h){this.g.ZF(this.$y(a),h)},o.prototype.wF=function(a){return this.nh.Ln(this.Ur(a))},o.prototype.eC=function(){this.Zv=!1,this.Lq=-1,this.ae==null&&(this.Nc.Tv=!1,this.ae=new n(this),this.Nc.ao=this.ae);var a=new u.ja(0),h=null,c=null;this.BH=this.HH=-1,this.Xn=!1;for(var p=this.df.sc(-1);p!=-1;){this.Xn=!1;var m=this.df.ka(p);this.Lq=this.Ie(m),this.g.Hc(m,this.xh),this.ae.VJ(this.xh.y,this.xh.x);var g=this.kl(this.Lq),_=g==-1;if(!_){m=g;do{var b=this.Rp(m);b==-1?(this.ph.add(m),this.Rl(m,-3)):b!=-3&&a.add(b),m=this.Tp(m,this.Lq)}while(m!=g)}if(0<a.size){for(this.Xn=a.size==1&&this.ph.size==1,_=0,g=a.size;_<g;_++)m=this.Nc.ka(a.get(_)),this.Rl(m,-2);var x=-2,P=-2;for(_=0,g=a.size;_<g;_++){if(b=a.get(_),x==-2){var O=this.Nc.xe(b);O!=-1?(m=this.Nc.ka(O),m=this.Rp(m),m!=-2&&(x=O)):x=-1}if(P==-2&&(b=this.Nc.lb(b),b!=-1?(m=this.Nc.ka(b),m=this.Rp(m),m!=-2&&(P=b)):P=-1),x!=-2&&P!=-2)break}for(_=0,g=a.size;_<g;_++)b=a.get(_),m=this.Nc.ka(b),this.Nc.wd(b,-1),this.Rl(m,-1);a.clear(!1),this.HH=x!=-1?x:-1,this.BH=P!=-1?P:-1,x!=-1&&P!=-1?this.Xn||this.gO(x,P):x==-1&&P==-1&&(this.Xn=!1)}else _&&(h==null&&(h=new e(this)),h.Fh(this.xh),this.Nc.pJ(h),h.sg&&(h.Mr(),this.BQ(this.Lq,h.Fm)));this.sS(),this.Zv?(this.Zv=!1,c==null&&(c=new y(this.g)),c.Fh(this.xh),p=this.df.pJ(c)):p=this.df.lb(p)}return this.Yn},o.prototype.gr=function(a){for(this.g=a,this.zh=this.g.Hd(),this.hb.Ee(a.gd+32),this.Ad.Ee(a.gd),this.nh.Bt(a.gd),this.nh.hn(a.gd),this.Rd.Bt(a.gd+32),this.Rd.hn(a.gd+32),a=this.g.md;a!=-1;a=this.g.ve(a))if(u.ba.Ic(this.g.jc(a)))for(b=this.g.Ob(a);b!=-1;b=this.g.Sb(b)){var h=this.g.Ka(b),c=this.g.Ya(b),p=this.$m(c),m=this.ot(c);for(this.jj(m,p),x=this.g.V(c),c=0,h-=2;c<h;c++){var g=this.g.V(x),_=this.$m(x);this.jj(m,_),m=this.ot(x),this.jj(m,_),x=g}this.g.ec(b)?(_=this.$m(x),this.jj(m,_),m=this.ot(x),this.jj(m,_),this.jj(m,p)):(_=this.$m(x),this.jj(m,_))}else for(var b=this.g.Ob(a);b!=-1;b=this.g.Sb(b)){var x=this.g.Ya(b);for(p=0,h=this.g.Ka(b);p<h;p++)this.$m(x),x=this.g.V(x)}this.jQ()},o}();u.MC=r}(U||(U={})),function(u){var C=function(y){function n(e,r,o){var a=y.call(this)||this;if(e!==void 0)if(o!==void 0){a.description=u.fe.pg();var h=new u.Od;h.L(e,r,o),a.ZB(h)}else if(r!==void 0)a.description=u.fe.pg(),a.Db(e,r);else if(e instanceof u.sa)a.description=e;else if(e instanceof u.h)a.description=u.fe.pg(),a.Db(e);else if(e instanceof n)a.description=e.description,a.Db(e.Ng(),e.kh()),e.la!==null&&(a.la=e.la.slice(0));else throw u.i.O();else a.description=u.fe.pg();return a}return Bt(n,y),n.prototype.D=function(e){if(e!==void 0){if(this.Bc())throw u.i.ga("This operation should not be performed on an empty geometry.");e.na(this.la[0],this.la[1])}else{if(this.Bc())throw u.i.ga("This operation should not be performed on an empty geometry.");return e=new u.h,e.na(this.la[0],this.la[1]),e}},n.prototype.Db=function(e,r){typeof e=="number"?(this.wc(),this.la==null&&this.wn(),this.la[0]=e,this.la[1]=r):(this.wc(),this.Db(e.x,e.y))},n.prototype.xz=function(){if(this.Bc())throw u.i.ga("This operation should not be performed on an empty geometry.");var e=new u.Od;return e.x=this.la[0],e.y=this.la[1],e.z=this.description.dG()?this.la[2]:u.sa.te(1),e},n.prototype.ZB=function(e){this.wc();var r=this.hasAttribute(1);r||u.sa.yG(1,e.z)||(this.se(1),r=!0),this.la==null&&this.wn(),this.la[0]=e.x,this.la[1]=e.y,r&&(this.la[2]=e.z)},n.prototype.Ng=function(){if(this.Bc())throw u.i.ga("This operation should not be performed on an empty geometry.");return this.la[0]},n.prototype.YB=function(e){this.setAttribute(0,0,e)},n.prototype.kh=function(){if(this.Bc())throw u.i.ga("This operation should not be performed on an empty geometry.");return this.la[1]},n.prototype.WJ=function(e){this.setAttribute(0,1,e)},n.prototype.XR=function(){return this.Vc(1,0)},n.prototype.sX=function(e){this.setAttribute(1,0,e)},n.prototype.uR=function(){return this.Vc(2,0)},n.prototype.cX=function(e){this.setAttribute(2,0,e)},n.prototype.Fc=function(){return this.tF(3,0)},n.prototype.GJ=function(e){this.setAttribute(3,0,e)},n.prototype.Vc=function(e,r){var o=this.description.Rf(e);return 0<=o?this.la[this.description.bk(o)+r]:u.sa.te(e)},n.prototype.tF=function(e,r){var o=this.description.Rf(e);return 0<=o?this.la[this.description.bk(o)+r]:u.sa.te(e)},n.prototype.setAttribute=function(e,r,o){this.wc();var a=this.description.Rf(e);0>a&&(this.se(e),a=this.description.Rf(e)),this.la==null&&this.wn(),this.la[this.description.bk(a)+r]=o},n.prototype.K=function(){return 33},n.prototype.Eb=function(){return 0},n.prototype.Pa=function(){this.wc(),this.la!=null&&(this.la[0]=NaN,this.la[1]=NaN)},n.prototype.un=function(e){if(this.la!=null){for(var r=u.fe.Kw(e,this.description),o=[],a=0,h=0,c=e.Ba;h<c;h++){var p=e.ld(h),m=u.sa.Wa(p);if(r[h]==-1){var g=u.sa.te(p);for(p=0;p<m;p++)o[a]=g,a++}else for(g=this.description.bk(r[h]),p=0;p<m;p++)o[a]=this.la[g],a++,g++}this.la=o}this.description=e},n.prototype.wn=function(){this.gJ(this.description.Be.length),n.YD(this.description.Be,this.la,this.description.Be.length),this.la[0]=NaN,this.la[1]=NaN},n.prototype.Pc=function(e){if(e instanceof u.Ed){if(!this.Bc()){var r=this.D();e.Gh(r,r),this.Db(r)}}else this.Bc()||(this.se(1),r=this.xz(),this.ZB(e.hp(r)))},n.prototype.copyTo=function(e){if(e.K()!=33)throw u.i.O();e.wc(),this.la==null?(e.Pa(),e.la=null,e.Pf(this.description)):(e.Pf(this.description),e.gJ(this.description.Be.length),n.YD(this.la,e.la,this.description.Be.length))},n.prototype.Ja=function(){return new n(this.description)},n.prototype.B=function(){return this.Bc()},n.prototype.Bc=function(){return this.la==null||isNaN(this.la[0])||isNaN(this.la[1])},n.prototype.dn=function(e){e.Pa(),this.description!=e.description&&e.Pf(this.description),e.$b(this)},n.prototype.A=function(e){this.Bc()?e.Pa():(e.v=this.la[0],e.G=this.la[1],e.C=this.la[0],e.H=this.la[1])},n.prototype.So=function(e){if(this.Bc())e.Pa();else{var r=this.xz();e.v=r.x,e.G=r.y,e.Xe=r.z,e.C=r.x,e.H=r.y,e.Dg=r.z}},n.prototype.Vg=function(e,r){var o=new u.Oc;return this.Bc()?(o.Pa(),o):(e=this.Vc(e,r),o.pa=e,o.wa=e,o)},n.prototype.gJ=function(e){if(this.la==null)this.la=u.P.mg(e);else if(this.la.length<e){for(var r=this.la.slice(0),o=this.la.length;o<e;o++)r[o]=0;this.la=r}},n.YD=function(e,r,o){if(0<o)for(o=0;o<e.length;o++)r[o]=e[o]},n.prototype.Nb=function(e){if(e==this)return!0;if(!(e instanceof n)||this.description!=e.description)return!1;if(this.Bc())return!!e.Bc();for(var r=0,o=this.description.Be.length;r<o;r++)if(this.la[r]!=e.la[r])return!1;return!0},n.prototype.dc=function(){var e=this.description.dc();if(!this.Bc())for(var r=0,o=this.description.Be.length;r<o;r++){var a=this.la[r];a=u.P.truncate(a^a>>>32),e=u.P.Vh(a,e)}return e},n.prototype.ng=function(){return null},n}(u.ba);u.Ta=C}(U||(U={})),function(u){var C=function(){function y(n,e,r){n!==void 0&&(this.x=n,this.y=e,this.z=r)}return y.construct=function(n,e,r){var o=new y;return o.x=n,o.y=e,o.z=r,o},y.prototype.L=function(n,e,r){this.x=n,this.y=e,this.z=r},y.prototype.lx=function(){this.z=this.y=this.x=0},y.prototype.normalize=function(){var n=this.length();n==0&&(this.x/=n,this.y/=n,this.z/=n)},y.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},y.prototype.sub=function(n){return new y(this.x-n.x,this.y-n.y,this.z-n.z)},y.prototype.Bg=function(n){new y(this.x*n,this.y*n,this.z*n)},y.prototype.Sh=function(n){return this.x*n.x+this.y*n.y+this.z*n.z},y}();u.Od=C}(U||(U={})),function(u){var C=function(){function y(n,e,r){this.Iw=this.yA=null,this.Zf=e,this.AT=e.y-r,this.zT=e.y+r,this.Gw=0,this.Zz=n,this.ra=r,this.MT=r*r,this.$z=r!=0,this.Nv=!1}return y.prototype.result=function(){return this.Gw!=0?1:0},y.prototype.UM=function(n){return n=n.ic(n.ge(this.Zf,!1)),u.h.zc(n,this.Zf)<=this.MT},y.prototype.aF=function(n){if(!this.$z&&(this.Zz&&this.Zf.rb(n.bc())||this.Zf.rb(n.xc())))this.Nv=!0;else if(n.oa==this.Zf.y&&n.oa==n.ma){if(this.Zz&&!this.$z){var e=Math.max(n.ta,n.qa);this.Zf.x>Math.min(n.ta,n.qa)&&this.Zf.x<e&&(this.Nv=!0)}}else{var r=!1;if(e=Math.max(n.ta,n.qa),this.Zf.x>e?r=!0:this.Zf.x>=Math.min(n.ta,n.qa)&&(r=0<n.fq(!0,this.Zf.y,this.Iw,null)&&this.Iw[0]<=this.Zf.x),r){if(this.Zf.y==n.bc().y){if(this.Zf.y<n.xc().y)return}else if(this.Zf.y==n.xc().y&&this.Zf.y<n.bc().y)return;this.Gw=this.Zz?this.Gw^1:this.Gw+(n.bc().y>n.xc().y?1:-1)}}},y.prototype.MI=function(n){var e=n.Vg(0,1);if(e.pa>this.zT||e.wa<this.AT)return!1;if(this.$z&&this.UM(n))return!0;if(e.pa>this.Zf.y||e.wa<this.Zf.y)return!1;if(this.yA==null&&(this.yA=[null,null,null,null,null]),this.Iw==null&&(this.Iw=[0,0,0]),e=n.$F(),0<e)for(n=0;n<e;n++){var r=this.yA[n].get();if(this.aF(r),this.Nv)return!0}else if(this.aF(n),this.Nv)return!0;return!1},y.KM=function(n,e,r){for(e=new y(n.Kn()==0,e,r),n=n.Ha();n.ab();)for(;n.Ia();)if(r=n.ia(),e.MI(r))return-1;return e.result()},y.LM=function(n,e,r,o){var a=new u.l;n.yc(a),a.X(o,o);var h=new y(n.Kn()==0,r,o);n=n.Ha();var c=new u.l;for(c.L(a),c.C=r.x+o,c.G=r.y-o,c.H=r.y+o,r=e.HF(c,o),o=r.next();o!=-1;o=r.next())if(n.Wb(e.ka(o)),n.Ia()&&(o=n.ia(),h.MI(o)))return-1;return h.result()},y.ym=function(n,e,r){if(n.B())return 0;var o=new u.l;if(n.yc(o),o.X(r,r),!o.contains(e))return 0;if(o=n.Cb,o!=null){var a=o.Hk;if(a!=null){if(a=a.Uo(e.x,e.y),a==1)return 1;if(a==0)return 0}if(o=o.Gb,o!=null)return y.LM(n,o,e,r)}return y.KM(n,e,r)},y.XS=function(n,e,r){return e.B()?0:y.ym(n,e.D(),r)},y.Ol=function(n,e){return n=n.I(),16>n?!1:2*n+Math.log(n)/Math.log(2)*e<1*n*e},y}();u.Fg=C}(U||(U={})),function(u){var C=function(y){function n(e){return y.call(this,!0,e)||this}return Bt(n,y),n.prototype.Ja=function(){return new n(this.description)},n.prototype.Eb=function(){return 2},n.prototype.K=function(){return 1736},n.prototype.sG=function(e,r,o){this.ES(e,r,o)},n.prototype.kR=function(){this.AR()},n}(u.Xk);u.Ea=C}(U||(U={})),function(u){(function(C){C[C.PiPOutside=0]="PiPOutside",C[C.PiPInside=1]="PiPInside",C[C.PiPBoundary=2]="PiPBoundary"})(u.ML||(u.ML={})),u.jd=function(){function C(){}return C.FG=function(y,n,e){return y=u.Fg.XS(y,n,e),y==0?0:y==1?1:2},C.Zd=function(y,n,e){return y=u.Fg.ym(y,n,e),y==0?0:y==1?1:2},C.SX=function(y,n,e,r,o){if(n.length<e||o.length<e)throw u.i.O();for(var a=0;a<e;a++)o[a]=C.Zd(y,n[a],r)},C.nK=function(y,n,e,r,o){if(y.K()==1736)C.SX(y,n,e,r,o);else if(y.K()==197){var a=new u.l;y.A(a),C.VM(a,n,e,r,o)}else throw u.i.ga("invalid_call")},C.VM=function(y,n,e,r,o){if(n.length<e||o.length<e)throw u.i.O();if(y.B())for(r=0;r<e;r++)o[r]=0;else for(y.X(.5*-r,.5*-r),y.X(.5*r,.5*r),r=0;r<e;r++)y.contains(n[r])?o[r]=1:y.contains(n[r])?o[r]=2:o[r]=0},C.UX=function(y,n,e,r,o){for(var a=0;a<e;a++)o[a]=y.ss(n[a],r)?2:0},C.TX=function(y,n,e,r,o){var a=y.Cb,h=null;a!=null&&(h=a.Hk),a=e;for(var c=0;c<e;c++)if(o[c]=1,h!=null){var p=n[c];h.Uo(p.x,p.y)==0&&(o[c]=0,a--)}if(a!=0)for(y=y.Ha();y.ab()&&a!=0;)for(;y.Ia()&&a!=0;)for(h=y.ia(),c=0;c<e&&a!=0;c++)o[c]==1&&h.ss(n[c],r)&&(o[c]=2,a--);for(c=0;c<e;c++)o[c]==1&&(o[c]=0)},C.oK=function(y,n,e,r,o){var a=y.K();if(a==1607)C.TX(y,n,e,r,o);else if(u.ba.zd(a))C.UX(y,n,e,r,o);else throw u.i.ga("Invalid call.")},C}()}(U||(U={})),function(u){var C=function(y){function n(e,r){if(arguments.length==2){var o=y.call(this,!1,e.description)||this;o.nf(e),o.lineTo(r)}else o=y.call(this,!1,e)||this;return o}return Bt(n,y),n.prototype.Ja=function(){return new n(this.description)},n.prototype.Eb=function(){return 1},n.prototype.K=function(){return 1607},n.prototype.sG=function(e,r,o){this.FS(e,r,o)},n}(u.Xk);u.Ua=C}(U||(U={})),function(u){var C=function(){function y(){}return y.prototype.progress=function(){return!0},y.Bp=function(n){if(n!=null&&!n.progress(-1,-1))throw u.i.RC()},y}();u.op=C}(U||(U={})),function(u){(function(e){e[e.clipWithInputHorizon=1]="clipWithInputHorizon",e[e.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(u.KK||(u.KK={}));var C=function(){function e(){this.Mg=3,this.Xu=this.Lr=NaN}return e.prototype.KW=function(r){this.LB(1,r)},e.prototype.LW=function(r){this.LB(2,r)},e.prototype.cS=function(){return this.ks(1)},e.prototype.dS=function(){return this.ks(2)},e.prototype.LB=function(r,o){this.Mg=o?this.Mg|r:this.Mg&~r},e.prototype.ks=function(r){return(this.Mg&r)!=0},e.prototype.Qf=function(){var r=new e;return r.Lr=this.Lr,r.Xu=this.Xu,r.Mg=this.Mg,r},e}();u.tC=C,function(e){e[e.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",e[e.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(u.LK||(u.LK={}));var y=function(){function e(){this.Mg=0}return e.prototype.LB=function(r,o){this.Mg=o?this.Mg|r:this.Mg&~r},e.prototype.ks=function(r){return(this.Mg&r)!=0},e.kg=function(r){var o=new e;return o.Mg=r.Mg,o},e.prototype.hM=function(r){this.Mg=r.Mg},e}();u.wY=y;var n=function(){function e(r,o,a){this.ef=r,this.$f=o,this.Wf=new u.l,this.Wf.L(a),this.vT=r.dc()+o.dc()+this.Wf.dc().toString()}return e.prototype.dc=function(){return this.vT},e.prototype.Nb=function(r){return this==r||this.ef.Nb(r.ef)&&this.$f.Nb(r.$f)&&this.Wf.Nb(r.Wf)},e}();u.BY=n,n=function(){function e(){this.$f=this.ef=null,this.mH=new C,this.nH=new y,this.yw=this.Yf=null,this.ow=this.Vn=!0}return e.Pr=function(r,o,a,h){var c;h===void 0&&(h=null),c===void 0&&(c=null);var p=new e;return p.sp(r,o,a,h,c),p},e.prototype.sp=function(r,o,a,h,c){if(r==null||o==null)throw u.i.ga("invalidArgument");if(this.ef=r,this.$f=o,this.ow=this.Vn=!1,h!=null&&(this.mH=h.Qf()),c!=null&&this.nH.hM(c),c=!1,o.Tb()==1&&h!=null&&(h=h.Lr,isNaN(h)||h==0||(c=!0)),r==o)this.Vn=!c,this.ow=!0;else{h=r.Tb();var p=o.Tb();if(h==0||p==0){if(a!=null)throw u.i.O();r.Id()!=null&&o.Id()!=null&&(this.Vn=r.Id().Nb(o.Id()))}else h==3||p==3?this.Vn=r.Nb(o):this.ef.fS(this.$f)?this.Vn=!c:this.Vn=!1,this.Yf=a,this.Yf!=null&&this.Yf.ix(),this.ow=(this.Yf==null||this.Yf.count()==0)&&this.ef.tc().Nb(this.$f.tc())}this.kY()},e.prototype.isIdentity=function(){return this.Vn},e.prototype.iR=function(){return this.mH.Qf()},e.prototype.Nb=function(r){return r==this?!0:r instanceof e&&this.ef.Nb(r.ef)&&this.$f.Nb(r.$f)?this.Yf==r.Yf?!0:!!(this.Yf!=null&&r.Yf!=null&&this.Yf.Nb(r.Yf)):!1},e.prototype.kY=function(){this.yw=new u.du(this)},e}(),u.xr=n}(U||(U={})),function(u){var C=function(){function y(){}return y.Ep=function(n){return n*y.jW},y.mx=function(n,e){return y.bP(e-n)},y.cP=function(n){return-360<=n&&720>n?(0>n?n+=360:360<=n&&(n-=360),n):(n=u.mc.MK(n),0>n&&(n+=360),n)},y.bP=function(n){return n=y.cP(n),180<n&&(n-=360),n},y.jW=57.29577951308232,y}();u.sr=C,u.Jh=function(){function y(){}return y.nj=function(n,e){var r=new u.l;n.A(r);var o=u.cb.ih(e),a=new u.l;return a.L(o),a.v=r.v,a.C=r.C,a.X(.01*a.da(),0),e=u.ua.Xd(e,r,!1),a.contains(r)?n:u.Vd.clip(n,a,e,0)},y.ms=function(n,e,r,o,a){if(!u.cb.Xc(e))throw u.i.O();var h=u.ua.mj(e,n,!1),c=u.cb.ih(e),p=u.cb.tc(e),m=p.Id().ci,g=u.cb.xv(p);p=u.cb.gv(p),g*=2-g;var _=new u.Oc;c.en(_);var b=[[0,0],[0,0]];if(u.Gg.Tb(e)==2?o?(b[0][0]=y.an(a,_),b[0][1]=c.Lp(),u.cb.wt(),c=b[0][0]*m):(b[0][0]=c.ik(),b[0][1]=a,u.cb.wt(),c=b[0][1]*m):c=a*m,!o&&c!=0)throw u.i.O();var x=new u.ha,P=new u.hd;n=P.Ib(n);for(var O=[0],L=new u.h,j=new u.h,D=new u.h,k=new u.h,$=new u.h,G=new u.h,B=P.Ob(n);B!=-1;B=P.Sb(B)){var K=P.Ya(B);P.D(K,D);for(var X=!1,et=K=P.V(K);et!=-1;et=P.V(et)){if(et==K){if(X)break;X=!0}if(P.D(et,k),o&&h<a-D.x&&k.x-a>h||h<a-k.x&&D.x-a>h||!o&&h<-D.y&&k.y>h||h<-k.y&&D.y>h)do if(!(Math.abs(D.x-k.x)>=.5*_.S())){if(u.Gg.Tb(e)==2?(b[0][0]=y.an(D.x,_),b[0][1]=D.y,b[1][0]=y.an(k.x,_),b[1][1]=k.y,u.cb.ZV(),$.x=b[0][0]*m,$.y=b[0][1]*m,G.x=b[1][0]*m,G.y=b[1][1]*m):($.x=D.x*m,$.y=D.y*m,G.x=k.x*m,G.y=k.y*m),G.x=6.283185307179586*(k.x-D.x)/_.S()+$.x,o){if(j.x=c,j.y=y.Iz(p,g,$,G,c,r),isNaN(j.y))break}else{if(j.x=y.Gz(p,g,$,G,r),isNaN(j.x))break;j.y=0}u.kb.xd(p,g,$.x,$.y,G.x,G.y,x,null,null,r);var tt=x.u;u.kb.xd(p,g,$.x,$.y,j.x,j.y,x,null,null,r);var lt=x.u;u.Gg.Tb(e)==2?(b[0][0]=j.x/m,b[0][1]=j.y/m,u.cb.XQ(),o?(L.y=b[0][1],L.x=a):(L.x=y.qs(b[0][0],D.x,k.x,_),L.y=a)):o?(L.x=a,L.y=j.y/m):(L.x=y.qs(j.x/m,D.x,k.x,_),L.y=a),O[0]=0<tt?u.P.Tk(lt/tt,0,1):.5,O[0]!=0&&O[0]!=1&&(tt=P.Na(et),P.Wl(tt,O,1),P.Db(P.V(tt),L.x,L.y))}while(0);D.N(k)}}return P.Ke(n)},y.Hn=function(n,e,r,o,a){if(n.B())return n;var h=u.cb.bf(e);return y.Jp(n,r-180*h,360*h,e,o,a,!0)},y.Iz=function(n,e,r,o,a,h){if(3.141592653589793<=Math.abs(r.x-o.x)||!y.Un(r.x,o.x,a))return NaN;if(r.x>o.x)var c=o;else c=r,r=o;o=new u.ha(0);var p=new u.ha(0),m=new u.ha(0);u.kb.xd(n,e,c.x,c.y,r.x,r.y,p,o,null,h);var g=p.u,_=0,b=1,x=new u.h;for(x.N(c);g*(b-_)>1e-12*n;){var P=.5*(_+b);if(u.kb.qj(n,e,c.x,c.y,g*P,o.u,p,m,h),x.x=p.u,x.y=m.u,x.x==a)break;if(y.Un(c.x,x.x,a))b=P;else if(y.Un(r.x,x.x,a))_=P;else return NaN}return x.y},y.Un=function(n,e,r){return n=C.Ep(n),e=C.mx(n,C.Ep(e)),r=C.mx(n,C.Ep(r)),r==0||0<e&&0<r&&r<=e||0>e&&0>r&&r>=e},y.an=function(n,e){var r=e.wa-e.pa;return e.Kt(n-Math.floor((n-e.pa)/r)*r)},y.qs=function(n,e,r,o){var a=new u.Oc;for(a.L(e,r),r=o.S(),n=Math.floor((n-e)/r)*r+n,a=a.tf();Math.abs(n-a)>Math.abs(n+r-a);)n+=r;return n},y.Gz=function(n,e,r,o,a){if(r.y>o.y)var h=o;else h=r,r=o;if(o=new u.Oc,o.L(h.y,r.y),!o.contains(0)||3.141592653589793<=Math.abs(h.x-r.x))return NaN;if(h.x==r.x)return h.x;var c=new u.ha(0),p=new u.ha(0),m=new u.ha(0);u.kb.xd(n,e,h.x,h.y,r.x,r.y,p,c,null,a);var g=p.u,_=0,b=1,x=new u.h;for(x.N(h);g*(b-_)>1e-12*n;){var P=.5*(_+b);if(u.kb.qj(n,e,h.x,h.y,g*P,c.u,p,m,a),x.x=p.u,x.y=m.u,o.L(h.y,x.y),x.y==0)break;if(o.contains(0))b=P;else if(o.L(r.y,x.y),o.contains(0))_=P;else return NaN}return x.x},y.Jp=function(n,e,r,o,a,h,c){var p=new u.l;if(n.A(p),p.B())return n;var m=new u.Oc;p.en(m);var g=new u.Oc;if(g.L(e,e+r),g.contains(m)&&g.wa!=m.wa)return n;var _=new u.l;_.L(p);var b=n.K();if(b==33)return _=a?n:n.Qf(),p=_.Ng(),(p<g.pa||p>=g.wa||c&&p==g.wa)&&(p+=Math.ceil((g.pa-p)/r)*r,p=g.Kt(p),_.YB(p)),_;if(b==550){for(_=a?n:n.Qf(),o=_.vb(0),b=2*_.I(),n=!1,a=0;a<b;a+=2)p=o.read(a),(p<g.pa||p>=g.wa||c&&p==g.wa)&&(n=!0,p+=Math.ceil((g.pa-p)/r)*r,p=g.Kt(p),o.write(a,p));return n&&_.Qc(1993),_}if(g.contains(m))return n;if(b==197)return r=a?n:n.Qf(),p.Fa(_),r.Zo(p),r;var x=.1*Math.max(p.da(),p.S());_.X(0,x),c=n,g=o.Yd(0),n=u.Ih.local(),a=new u.Ed;for(var P=0;;){var O=Math.floor((m.pa-e)/r),L=Math.ceil((m.wa-e)/r);if(3<L-O){O=Math.floor(.5*(L+O)),_.v=p.v-x,_.C=e+r*O;var j=u.Vd.clip(c,_,g,h);_.v=_.C,_.C=p.C+x;var D=u.Vd.clip(c,_,g,h);a.ig((O-L)*r,0),D.Pc(a),b==1736?c=n.W(j,D,o,null):(c=j,c.add(D,!1)),c.A(p),p.en(m),P++}else break}for(_.v=e,_.C=e+r,e=new u.l,e.L(_),e.X(g,0),e=Math.floor((p.v-_.v)/r)*r,e!=0?(_.move(e,0),a.ig(-e,0)):a.MB(),e=b==1607?new u.Ua(c.description):new u.Ea(c.description),h=new u.l,m=new u.l;p.C>_.v;)x=u.Vd.clip(c,_,g,0),x.A(m),(b==1607?!x.B()&&(m.S()>g||m.da()>g):!x.B()&&(b!=1736||m.S()>g))&&(x.Pc(a),x.A(m),e.A(h),h.X(g,g),h.isIntersecting(m)&&b==1736?e=n.W(e,x,o,null):e.add(x,!1)),_.move(r,0),a.shift(-r,0);return e},y.RI=function(n,e,r,o){var a=new u.ee(r.description);a.Gd(r,0,-1),a=u.cb.Bh(a,n,e);var h=r.I();if(o.Pa(),!u.cb.Xc(n)||h!=a.I())return!1;var c=new u.l;r.A(c);var p=new u.l;if(a.A(p),c=c.S(),p=p.S(),c!=0&&p!=0){if(p/=c,n=u.cb.ih(e).S()/u.cb.ih(n).S(),1e-10<Math.abs(p/n-1))return!1}else if(c!=0||p!=0)return!1;for(o.add(r,!1),r=0;r<h;r++)n=a.Oa(r),o.Db(r,n);return!0},y.Jz=function(){throw u.i.Fe()},y}()}(U||(U={})),function(u){var C;(function(n){n[n.Clip=0]="Clip",n[n.DontClip=1]="DontClip",n[n.PannableFold=2]="PannableFold"})(C=u.ui||(u.ui={}));var y;(function(n){n[n.Geodesic=0]="Geodesic",n[n.Loxodrome=1]="Loxodrome",n[n.GreatElliptic=2]="GreatElliptic",n[n.NormalSection=3]="NormalSection",n[n.ShapePreserving=4]="ShapePreserving"})(y=u.RK||(u.RK={})),u.Ab=function(){function n(){}return n.zv=function(e,r,o){if(o||0<r){for(e=e.toString(u.Tc.PE_STR_NAME_CANON|u.Tc.PE_STR_AUTH_NONE),r=[],o=0;o<e.length;o++)r[o]="a"<=e[o]&&"z">=e[o]?r[o]=e[o].toUpperCase():e[o];return r.join()}return e.toString(u.Tc.PE_STR_AUTH_TOP)},n.wr=function(e,r,o,a){var h=a.length,c=o.I();if(c!=0){var p=o.vb(0),m=Math.min(c,h),g=0,_=e.gh();isNaN(r)&&(r=0);var b=e.Xc();e=b?e.tc().Le().S():0;for(var x=179*e/360;0<c;){if(p.pB(g<<1,m,a),u.gj.projToGeogCenter(_,m,a,r),b)for(var P=0;P<m;P++){var O=a[P][0]-r,L=u.mc.sign(O),j=p.read(2*(g+P));0>L*u.mc.sign(j)&&Math.abs(O)>x&&(a[P][0]+=-L*e)}p.pC(g<<1,m,a),g+=m,c-=m,m=Math.min(c,h)}o.Qc(1993)}},n.DL=function(e,r,o,a){var h=0,c=e.gh();isNaN(h)&&(h=0);var p=e.Xc(),m=e.bf();e=360*m,m*=179;for(var g=a.length,_=0;_<o;){for(var b=_;b<o&&r[b].isNaN();++b)_++;var x=Math.min(g,o-_);if(0<x){b=1;for(var P=_+1;b<x;++b,++P)if(r[P].isNaN()){x=b;break}if(u.ua.Ey(a,r,_,x),u.gj.projToGeogCenter(c,x,a,h),p)for(b=0,P=_;b<x;++b,++P){var O=r[P].x,L=a[b][0]-h,j=u.mc.sign(L);0>j*u.mc.sign(O)&&Math.abs(L)>m&&(a[b][0]-=j*e)}u.ua.Dy(r,_,a,x),_+=x}}},n.Kx=function(e,r,o){var a=o.length,h=r.I();if(!(1>h)){var c=r.vb(0),p=Math.min(h,a),m=0,g=e.gh(),_=e.Xc(),b=_?e.Le().S():0,x=179*b/360,P=0;for(_&&(P=e.Bi());0<h;){if(c.pB(m<<1,p,o),u.gj.geogToProj(g,p,o),_)for(e=0;e<p;e++){var O=o[e][0],L=u.mc.sign(O),j=c.read(2*(m+e))-P;0>L*u.mc.sign(j)&&Math.abs(O)>x&&(o[e][0]+=-L*b)}c.pC(m<<1,p,o),m+=p,h-=p,p=Math.min(h,a)}r.Qc(1993)}},n.CL=function(e,r,o,a){if(o!=0){var h=e.gh(),c=e.Xc(),p=c?e.Le().S():0,m=179*p/360,g=0;for(c&&(g=e.Bi()),e=0;e<o;){for(var _=e;_<o&&r[_].isNaN();++_)e++;var b=Math.min(a.length,o-e);if(0<b){_=1;for(var x=e+1;_<b;++_,++x)if(r[x].isNaN()){b=_;break}if(u.ua.Ey(a,r,e,b),u.gj.geogToProj(h,b,a),c)for(_=0,x=e;_<b;_++){var P=a[_][0],O=u.mc.sign(P);0>O*u.mc.sign(r[x].x-g)&&Math.abs(P)>m&&(a[_][0]-=O*p)}u.ua.Dy(r,e,a,b),e+=b}}}},n.vr=function(e,r,o,a){var h=r.I();if(h!=0){var c=r.vb(0),p=e.ef,m=e.$f,g=p.tc().Sp(),_=m.tc().Sp(),b=p.bf(),x=m.bf();if(e=e.Yf,e==null||e.count()==0){for(o=g/_,a=(p.Wp()-m.Wp())*x,_=-90*b,e=90*b,g=!1,x=1,p=2*h;x<p;)b=c.get(x),m=u.P.Tk(b,_,e),m!=b&&(c.set(x,m),g=!0),x+=2;if(a!=0||o!=1)for(g=!0,_=new u.h,x=0;x<h;x++)c.uc(2*x,_),_.x*=o,_.x+=a,_.y*=o,c.Vt(2*x,_);g&&r.Qc(1993)}else{p=a.length,m=Math.min(h,p);var P=u.P.mg(m),O=null,L=0,j=NaN,D=NaN,k=360*x,$=x/b;o&&(D=90*x,j=89.9*b,O=u.P.mg(m));for(var G=!0,B=0;h!=0;){for(b=!1,c.pB(L<<1,m,a),x=0;x<m;x++)P[x]=a[x][0];if(o)for(x=0;x<m;x++){var K=Math.abs(a[x][1])-j;0<K&&(b=a[x][1],a[x][1]=u.mc.En(j,b),O[x]=u.mc.En(K,b),b=!0)}for(x=a[0][0],e.transform(a,m,g,_),G&&(B=a[0][0]-$*x,G=!1),x=0;x<m;x++)K=a[x][0]-P[x]*$-B,200<Math.abs(K)&&(a[x][0]=0<K?a[x][0]-k:a[x][0]+k);if(b){for(x=0;x<m;x++)O[x]!=0&&(a[x][1]+=$*O[x],a[x][1]>D?a[x][1]=D:a[x][1]<-D&&(a[x][1]=-D));for(b=0;b<m;b++)O[b]=0}c.pC(L<<1,m,a),L+=m,h-=m,m=Math.min(h,p)}r.Qc(1993)}}},n.BL=function(e,r,o,a){if(e.ow)a=90*e.ef.bf(),u.ua.ZJ(r,o,-a,a);else{var h=e.Yf,c=e.ef,p=e.$f;e=c.Zr();var m=p.Zr(),g=c.bf(),_=90*g,b=p.bf();if(h==null||h.count()==0){if(a=e/m,h=(c.Wp()-p.Wp())*b,u.ua.ZJ(r,o,-_,_),h!=0||a!=1)for(b=0;b<o;b++)r[b].x*=a,r[b].x+=h,r[b].y*=a}else{c=Math.min(o,a.length),_=u.P.mg(c),p=360*b,g=b/g;for(var x=!0,P=0,O=0;o!=0;){for(b=0;b<c;b++)_[b]=r[b+O].x;for(b=r[0].x,u.ua.Ey(a,r,O,c),h.transform(a,c,e,m),u.ua.Dy(r,O,a,c),x&&(P=r[0].x-g*b,x=!1),b=0;b<c;b++){var L=r[O+b].x-_[b]*g-P;200<Math.abs(L)&&(r[O+b].x=0<L?r[O+b].x-p:r[O+b].x+p)}O+=c,o-=c,c=Math.min(o,a.length)}}}},n.fv=function(e,r){return e=e.ih(),isNaN(r)||e.Lu(r,0),e},n.PQ=function(e,r,o,a,h,c,p,m){for(var g=n.fv(a,h),_=g.S(),b=_/360,x=n.kE*b,P=e.vb(0),O=r.Xc(),L=O?_/r.Le().S():0,j=!1,D=new u.Ea(o.description),k=0,$=o.ea();k<$;++k){var G=O,B=new u.Ua(o.description);if(B.addPath(o,k,!0),p!=0){var K=n.KD(!0,B,g.H-m,g.H,p);(j=j||K)&&(G=!1)}var X=-1;G&&(X=e.Ca(k));var et=B.vb(0),tt=B.I(),lt=0,ot=et.read(0),yt=0;K=3*a.Yd(0);var vt=!1,Ut=new u.h;Ut.Sc();var te=new u.h;te.Sc();for(var Oe=!1,_e=1;_e<tt;++_e){var Ft=u.h.construct(et.gg(2*_e),et.gg(2*_e+1)),Kt=Ft.x,jt=Kt+lt,Se=jt-ot;if(Ft.x=jt,Math.abs(Se)>x){if(G){var ce=X+(_e+1<tt?_e:0),Be=P.read(2*(X+_e-1));ce=(P.read(2*ce)-Be)*L,Math.abs(Se-ce)>1*b&&(G=!1)}G||(lt-=u.mc.En(_,jt-ot),jt=Kt+lt,++yt,Oe=lt!=0,Ft.x=jt)}else vt||u.ua.vG(te,Ut,Ft,K)&&(vt=!0);Oe&&et.write(2*_e,jt),ot=jt,te.N(Ut),Ut.N(Ft)}0<yt&&B.Qc(1993),G=B.Oa(0),tt=B.Oa(tt-1),B=u.h.ub(G,tt)<K?n.pQ(B,a,h,c,vt):n.qQ(e,k,B,a,h),D.add(B,!1)}return h=a.Yd(0),o=g.S()/180,n.Lt(D,g,.1*h,!1),h=u.ti.clip(D,g,h,o,c),D=D!=h,e=e.He(),m=h.He(),p=0,0<m&&0>e?p=1:0>=m&&0<e&&(m==0?(m=NaN,r.Tb()==2?m=r.ol().He():r.Tb()==1&&(m=r.Le().rF()),e>.99*m&&(p=-1)):p=-1),p!=0&&(r=new u.Ea(h.description),r.vp(g),r=u.Zl.local().W(r,o,c),r.add(h,!1),D=!0,h=r),D&&(h=u.$l.local().W(h,a,!1,c)),h},n.qQ=function(e,r,o,a,h){var c=o.I(),p=o.Oa(0),m=o.Oa(c-1);a=n.fv(a,h),h=a.S(),p=u.mc.sign(m.x-p.x);var g=new u.l;o.yc(g);var _=a.ik();if(m=_-h,_+=h,0<=p){var b=Math.ceil((m-g.v)/h);for(b*=h;m>g.v+b;)b+=h;for(;m<g.C+b;)b-=h;var x=b;720<g.S()&&(_=m+360*Math.ceil(g.S()/360))}else{for(b=Math.ceil((_-g.C)/h),b*=h;_<g.C+b;)b-=h;for(;_>g.v+b;)b+=h;x=b,720<g.S()&&(m=_-360*Math.ceil(g.S()/360))}b=p*h;var P=u.l.construct(g.v,g.G,g.C,g.H);P.move(x,0);var O=new u.Ed;O.ig(x,0),o.Pc(O),g=new u.Ua(o.description),g.add(o,!1),x=o.Oa(c-1),h=0;for(var L=g.Oa(0).x,j=0;0<p?P.C<_:P.v>m;)1024<=j&&(j=0),P.move(b,0),O.Lb=b,o.Pc(O),L+=b,a.v<=L&&a.C>=L&&(h=g.I()-1),o.Db(0,x),x=o.Oa(c-1),g.Fr(o,0,0,c-1,!1);return o=new u.Ea(g.description),c=0<e.Kr(r),o.add(g,!1),e=g.Oa(0),m=g.Oa(g.I()-1),r=o.ea()-1,(0>p?c:!c)?(p=u.h.construct(m.x,a.H),o.Ei(p),p=u.h.construct(a.ik(),a.H),o.Ei(p),a=u.h.construct(e.x,a.H)):(p=u.h.construct(m.x,a.G),o.Ei(p),p=u.h.construct(a.ik(),a.G),o.Ei(p),a=u.h.construct(e.x,a.G)),o.Ei(a),o.sG(0,r,0),o.fO(h),o},n.pQ=function(e,r,o,a,h){var c=new u.Ea(e.description);c.add(e,!1),c.yB(0,c.I()-1);var p=new u.l;c.yc(p),o=n.fv(r,o);var m=o.S(),g=Math.ceil((o.v-p.v)/m);for(g*=m;o.v>p.v+g;)g+=m;for(;o.v<p.C+g;)g-=m;if(g+=m,g!=0){p.move(g,0);var _=new u.Ed;_.ig(g,0),c.Pc(_)}if(o.v<=p.v&&o.C>p.C)return h&&(h=c.He(),c=u.$l.local().W(c,r,!0,a),r=c.He(),(r=u.mc.sign(h)!=u.mc.sign(r))&&c.jJ()),c;for(e=new u.Ea(e.description),e.add(c,!1),h=h||p.S()>m-r.Yd(0);p.v<o.C;)p.move(m,0),_=new u.Ed,_.ig(m,0),c.Pc(_),e.add(c,!1);return h&&(h=e.He(),e.$o(1),e=u.$l.local().W(e,r,!0,a),r=e.He(),(r=u.mc.sign(h)!=u.mc.sign(r))&&e.jJ()),e},n.KD=function(e,r,o,a,h){for(var c=r.vb(0),p=r.I(),m=!1,g=0;g<p;g++){var _=u.h.construct(c.gg(2*g),c.gg(2*g+1));if(h&1&&_.y>=o){m=!0;break}if(h&2&&_.y<=-o){m=!0;break}}if(!m)return!1;c=!1,e&&(c=r.Pn(0)),e=new u.hd,p=e.Ib(r),m=e.Ob(p);var b=-1,x=!0,P=new u.h;P.Sc(),g=new u.Ta;for(var O=-1,L=e.Ya(m);L!=-1;L=e.V(L)){_=e.Oa(L);var j=h&1&&90<=_.y?1:0;if(j|=h&2&&_.y<=-o?2:0,0<b&&b!=j){if(P.x!=_.x){P.x=_.x,e.Xi(e.Na(L),g);var D=e.yj(m,L,g);e.mf(D,P)}if(c)for(O=O!=-1?e.V(O):e.Ya(m),D=e.Na(L);O!=D;)O=e.qd(O,!1);O=-1}0<j&&(_.y=u.mc.En(a,_.y),e.mf(L,_),x||b==j||(_.x!=P.x?(e.Xi(L,g),D=e.yj(m,L,g),e.Db(D,P.x,_.y),O=D):O=L)),b=j,P=_,x=!1}if(c){if(O!=-1)for(O=e.V(O);O!=-1;)O=e.qd(O,!1);o=e.Ya(m),e.hq(o,e.tj(m))||(e.Xi(o,g),e.yj(m,-1,g))}return e.Ke(p).copyTo(r),!0},n.Hz=function(e,r,o,a){var h=e;if(h.B()||o==C.DontClip)return h;var c=h.K();if(c==33)return a=h,h=[a.D()],n.tG(h,1,r,o),h[0].isNaN()?a.Pa():a.Db(h[0]),e;e=r.tc();var p=e.bf(),m=90*p,g=180*p,_=360*p,b=r.Bi(),x=.5*p,P=new u.l;h.A(P);var O=r.Xr(),L=r.KQ(),j=O.K()==197;if(r=new u.l,O.A(r),o==C.PannableFold&&(o=e.Le().S(),r.v=b-.5*o,r.C=r.v+o),P.G<-m||P.H>m){if(new u.l().L(P.v-p,-m,P.C+p,m),h=u.ti.Pu(h,r,e,NaN,0,a),h.B())return h;h.A(P)}if(L&&(r.H<P.G||r.G>P.H))return h.Ja();if(P.S()>_&&(h=n.Jp(h,b-g,_,e,!0,0,!0,a),h.A(P)),m=n.$N(P.v,P.C,r.v,r.C,_),m!=0&&P.move(m,0),P.C>r.C||P.v<r.v){if(P.C>r.C)for(;P.v>=r.C;)P.move(-_,0),m-=_;for(;P.v<r.C-_;)P.move(_,0),m+=_}if(o=u.ua.Ju(e,O),m!=0&&(p=new u.Ed,p.ig(m,0),h.Pc(p)),L){if(j&&r.contains(P))return h;for(L=[null,null],m=0;2>m;m++){if(j?p=u.ba.Ic(c)?u.ti.clip(h,r,o,x,a):u.ti.clip(h,r,o,0,a):(p=u.Zj.local().W(h,O,e,a),p==O&&(p=u.ba.kg(p))),r.v<=P.v&&r.C>=P.C||r.v>=P.v&&r.C<=P.C)return p;L[m]=p,m==0&&(P.move(-_,0),p=new u.Ed,p.ig(-_,0),h.Pc(p))}if(c==550)L[0].Gd(L[1],0,-1);else if(u.ba.Ic(c))L[0].add(L[1],!1);else if(c==33)L[0].B()&&(L[0]=L[1]);else throw u.i.ga("intersect_with_GCS_horizon: unexpected geometry type");return L[0]}if(r.H<P.G||r.G>P.H)return h;for(c=0;!h.B()&&P.C>r.v;)c!=0&&(p=new u.Ed,p.ig(c,0),h.Pc(p)),u.fj.local().W(4,h,O,e,a)||(h=u.mp.local().W(h,O,e,a),O==h&&(h=u.ba.kg(h))),c!=0&&(x=new u.Ed,x.ig(-c,0),h.Pc(x)),c-=_,P.move(-_,0);return h},n.tG=function(e,r,o,a){if(r!=0&&a!=C.DontClip)if(a==C.PannableFold){a=o.CR();for(var h=r,c=0;c<r;c++)(e[c].y>a.H||e[c].y<a.G)&&(e[c].Sc(),h--);h!=0&&n.cv(e,r,a.v,a.S())}else{a=o.bf();var p=90*a,m=180*a;for(a*=360,h=r,c=0;c<r;c++)(e[c].y>p||e[c].y<-p)&&(e[c].Sc(),h--);if(h!=0){h=new u.l,h.bx(e,r),p=o.Xr();var g=o.kv();c=p.K()==197;var _=new u.l;if(p.A(_),!g||!(_.H<h.G||_.G>h.H))if(g)if(n.cv(e,r,_.ik()-m,a),h=r,c)for(c=0;c<r;c++)_.contains(e[c])||(e[c].Sc(),h--);else for(o=u.ua.Ju(o.tc(),p),c=0;c<r;c++)m=u.jd.Zd(p,e[c],o)!=0,m||(e[c].Sc(),h--);else for(n.cv(e,r,-m,a),h=r,o=u.ua.Ju(o.tc(),p),c=0;c<r;c++)m=e[c],m.isNaN()&&h--,g=n.oE(m.x,_.v,_.C,a),m.x+=g,(m=u.jd.Zd(p,m,o)!=0)&&(e[c].Sc(),h--)}}},n.Jp=function(e,r,o,a,h,c,p,m){var g=e.K(),_=r+o;if(g===33){a=h?e:e.Qf();var b=a.Ng();return(b<r||b>=_||p&&b==_)&&(b+=Math.ceil((r-b)/o)*o,b=u.P.Tk(b,r,_),a.YB(b)),a}if(e.B()||(b=new u.l,e.A(b),b.B()))return e;var x=new u.Oc;b.en(x);var P=new u.Oc;if(P.L(r,_),P.contains(x))return e;if(_=new u.l,_.L(b),g===550){for(a=h?e:e.Qf(),m=a.vb(0),g=2*a.I(),_=!1,r=0;r<g;r+=2)b=m.read(r),(b<P.pa||b>=P.wa||p&&b==P.wa)&&(_=!0,b+=Math.ceil((P.pa-b)/o)*o,b=P.Kt(b),m.write(r,b));return _&&a.Qc(1993),a}if(g==197)return o=h?e:e.Qf(),b.Fa(_),o.Zo(b),o;var O=.1*Math.max(b.da(),b.S());for(_.X(0,O),p=e,P=a.Yd(0),e=u.Ih.local(),h=new u.Ed;;){var L=Math.floor((x.pa-r)/o),j=Math.ceil((x.wa-r)/o);if(3<j-L){L=Math.floor(.5*(j+L)),_.v=b.v-O,_.C=r+o*L;var D=u.ti.clip(p,_,P,c,m);_.v=_.C,_.C=b.C+O;var k=u.ti.clip(p,_,P,c,m);h.ig((L-j)*o,0),k.Pc(h),g==1736?p=e.W(D,k,a,null):(p=D,p.add(k,!1)),p.A(b),b.en(x)}else break}for(_.v=r,_.C=r+o,r=new u.l,r.L(_),r.X(P,0),r=Math.floor((b.v-_.v)/o)*o,r!=0?(_.move(r,0),h.ig(-r,0)):h.MB(),r=g==1607?new u.Ua(p.description):new u.Ea(p.description),c=new u.l,x=new u.l;b.C>_.v;)O=u.ti.clip(p,_,P,0,m),O.A(x),(g==1607?!O.B()&&(x.S()>P||x.da()>P):!O.B()&&(g!=1736||x.S()>P))&&(O.Pc(h),O.A(x),r.A(c),c.X(P,P),c.isIntersecting(x)&&g==1736?r=e.W(r,O,a,null):r.add(O,!1)),_.move(o,0),h.shift(-o,0);return r},n.cv=function(e,r,o,a){for(var h=o+a,c=0;c<r;c++){var p=e[c].x;o<=p&&p<h||!(p<o||p>h||p==h)||(p+=Math.ceil((o-p)/a)*a,p=u.P.Tk(p,o,h),e[c].x=p)}},n.Hn=function(e,r,o,a,h,c){if(!r.Xc())throw u.i.ga("fold_into_360_degree_range");if(e.B())return e;if(r.Tb()==2){o=r.rv();var p=r.qv()-o}else{var m=r.bf();p=360*m,o-=180*m}return n.Jp(e,o,p,r,a,h,!0,c)},n.lF=function(e,r,o,a){if(o.Tb()==2)a=o.rv(),o=o.qv()-a;else{var h=o.bf();o=360*h,a-=180*h}n.cv(e,r,a,o)},n.nj=function(e,r){var o=r.Le();if(e.K()==33){var a=e.kh();return o.G<=a&&a<=o.H?e:e.Ja()}a=new u.l,e.A(a);var h=new u.l;return h.L(o),h.v=a.v,h.C=a.C,h.X(.01*h.da(),0),o=u.ua.py(r,a),h.contains(a)?e:u.ti.clip(e,h,o,0,null)},n.kr=function(e,r,o){return e>r.C&&e-r.C<o?r.C:e<r.v&&r.v-e<o?r.v:e},n.BX=function(e,r,o,a){a.x=n.kr(e.x,r,o),a.y=e.y},n.AX=function(e,r,o,a){for(var h=0;h<r;h++)e[h].y<o.G||e[h].y>o.H?e[h].Sc():e[h].x=n.kr(e[h].x,o,a)},n.Lt=function(e,r,o,a){if(!e.B()){var h=e.K();if(!a||h!=1736)if(u.ba.zj(h)){a=e.vb(0),h=0;for(var c=e.I();h<c;h++){var p=a.read(2*h),m=n.kr(p,r,o);m!=p&&a.write(2*h,m)}e.Qc(1993)}else if(h==197)a=new u.l,e.A(a),a.v=n.kr(a.v,r,o),a.C=n.kr(a.C,r,o),e.Zo(a);else if(h==33)e.YB(n.kr(e.Ng(),r,o));else throw u.i.ga("internal error")}},n.pS=function(e,r,o,a){var h=new u.hd,c=h.Ib(e);return e=u.ua.Ju(r,e),n.ms(h,c,r,e,o,!0,a),h.Ke(c)},n.ms=function(e,r,o,a,h,c,p){if(!o.Xc())throw u.i.O("invalid call");var m=o.Le(),g=o.tc(),_=g.gh().getDatum().getSpheroid();g=g.Id().ci;var b=_.getFlattening();_=_.getAxis(),b*=2-b;var x=new u.Oc;m.en(x);var P=null,O=[[0,0],[0,0]];if(o.Tb()==2?(P=o.gh(),c?(O[0][0]=n.an(p,x),O[0][1]=m.Lp(),u.gj.projToGeog(P,1,O),m=O[0][0]*g):(O[0][0]=m.ik(),O[0][1]=p,u.gj.projToGeog(P,1,O),m=O[0][1]*g)):m=p*g,!c&&m!=0&&h!=y.GreatElliptic)throw u.i.ga("invalid argument");var L=new u.ha,j=[0],D=new u.h,k=new u.h,$=new u.h,G=[null,null],B=new u.h,K=new u.h,X=new u.h,et=new u.h;for(r=e.Ob(r);r!=-1;r=e.Sb(r)){var tt=e.Ya(r);e.D(tt,B);for(var lt=!1,ot=tt=e.V(tt);ot!=-1;ot=e.V(ot)){if(ot==tt){if(lt)break;lt=!0}if(e.D(ot,K),c&&(a<p-B.x&&K.x-p>a||a<p-K.x&&B.x-p>a)||!c&&(p!=0||a<-B.y&&K.y>a||a<-K.y&&B.y>a))do if(!(Math.abs(B.x-K.x)>=.5*x.S())){if(o.Tb()==2?(O[0][0]=n.an(B.x,x),O[0][1]=B.y,O[1][0]=n.an(K.x,x),O[1][1]=K.y,u.gj.projToGeogCenter(P,2,O,0),X.x=O[0][0]*g,X.y=O[0][1]*g,et.y=O[1][1]*g):(X.x=B.x*g,X.y=B.y*g,et.y=K.y*g),et.x=2*(K.x-B.x)*Math.PI/x.S()+X.x,c){if(k.x=m,k.y=n.Iz(_,b,X,et,m,h),isNaN(k.y))break;G[0]=k;var yt=1}else if(h==y.GreatElliptic){var vt=[0,0];if(yt=u.Nx.Jz(b,X,et,m,vt),yt==0)break;k.x=vt[0],k.y=m,G[0]=k,yt==2&&($.x=vt[1],$.y=m,G[1]=$)}else{if(k.x=n.Gz(_,b,X,et,h),isNaN(k.x))break;k.y=0,G[0]=k,yt=1}var Ut=-1;for(vt=0;vt<yt;vt++){u.kb.xd(_,b,X.x,X.y,et.x,et.y,L,null,null,h);var te=L.u;u.kb.xd(_,b,X.x,X.y,G[vt].x,G[vt].y,L,null,null,h);var Oe=L.u;if(o.Tb()==2?(O[0][0]=G[vt].x/g,O[0][1]=G[vt].y/g,u.gj.geogToProj(P,1,O),c?(D.y=O[0][1],D.x=p):(D.x=n.qs(O[0][0],B.x,K.x,x),D.y=p)):c?(D.x=p,D.y=G[vt].y/g):(D.x=n.qs(G[vt].x/g,B.x,K.x,x),D.y=p),j[0]=0<te?u.P.Tk(Oe/te,0,1):.5,j[0]==0||j[0]==1)break;Ut>j[0]||(Ut=e.Na(ot),e.Wl(Ut,j,1),e.Db(e.V(Ut),D.x,D.y),Ut=j[0])}}while(0);B.N(K)}}},n.an=function(e,r){var o=r.wa-r.pa;return r.Kt(e-Math.floor((e-r.pa)/o)*o)},n.qs=function(e,r,o,a){var h=new u.Oc;for(h.L(r,o),o=a.S(),e=Math.floor((e-r)/o)*o+e,h=h.tf();Math.abs(e-h)>Math.abs(e+o-h);)e+=o;return e},n.Un=function(e,r,o){return e=u.sr.Ep(e),r=u.sr.mx(e,u.sr.Ep(r)),o=u.sr.mx(e,u.sr.Ep(o)),o==0||0<r&&0<o&&o<=r||0>r&&0>o&&o>=r},n.Iz=function(e,r,o,a,h,c){if(c==y.GreatElliptic)return u.Nx.NS(r,o,a,h);if(Math.abs(o.x-a.x)>=Math.PI||!n.Un(o.x,a.x,h))return NaN;if(o.x>a.x)var p=a;else p=o,o=a;a=new u.ha;var m=new u.ha,g=new u.ha;u.kb.xd(e,r,p.x,p.y,o.x,o.y,m,a,null,c);var _=m.u,b=0,x=1,P=new u.h;for(P.N(p);_*(x-b)>1e-12*e;){var O=.5*(b+x);if(u.kb.qj(e,r,p.x,p.y,_*O,a.u,m,g,c),P.x=m.u,P.y=g.u,P.x==h)break;if(n.Un(p.x,P.x,h))x=O;else if(n.Un(o.x,P.x,h))b=O;else return NaN}return P.y},n.Gz=function(e,r,o,a,h){if(h==y.GreatElliptic)return e=[0,0],u.Nx.Jz(r,o,a,0,e),e[0];if(o.y>a.y)var c=a;else c=o,o=a;if(a=new u.Oc,a.L(c.y,o.y),!a.contains(0)||Math.abs(c.x-o.x)>=Math.PI)return NaN;if(c.x==o.x)return c.x;var p=new u.ha,m=new u.ha,g=new u.ha;u.kb.xd(e,r,c.x,c.y,o.x,o.y,m,p,null,h);var _=m.u,b=0,x=1,P=new u.h;for(P.N(c);_*(x-b)>1e-12*e;){var O=.5*(b+x);if(u.kb.qj(e,r,c.x,c.y,_*O,p.u,m,g,h),P.x=m.u,P.y=g.u,a.L(c.y,P.y),P.y==0)break;if(a.contains(0))x=O;else if(a.L(o.y,P.y),a.contains(0))b=O;else return NaN}return P.x},n.RI=function(e,r,o,a){if(!e.ef.Xc())return!1;var h=new u.ee(r.description);if(h.Gd(r,0,-1),a=u.Gx.local().W(h,e,a),h=r.I(),o.Pa(),h!=a.I())return!1;var c=new u.l;r.A(c);var p=new u.l;if(a.A(p),c=c.S(),p=p.S(),c!=0&&p!=0){if(p/=c,e=e.$f.ih().S()/e.ef.ih().S(),1e-10<Math.abs(p/e-1))return!1}else if(c!=0||p!=0)return!1;for(o.add(r,!1),r=new u.h,e=0;e<h;e++)a.D(e,r),o.Db(e,r);return!0},n.lN=function(e,r){return e%=360*r,e>=180*r&&(e-=360*r),e},n.OI=function(e,r,o,a){if(o==C.Clip){var h=r.ol();h.K()==197?(o=new u.l,h.A(o),h=u.ua.py(r,o),e=u.ti.clip(e,o,h,5e4*r.rm(),a)):u.fj.local().W(1,h,e,r,a)||(e=u.Zj.local().W(e,h,r,a),e==h&&(e=u.Xk.kg(e)))}else r.Xc()&&(a=new u.l,e.yc(a),r.Le().contains(a)||(n.Lt(e,r.Le(),r.Yd(0),!0),o==C.PannableFold&&(e=n.nj(e,r)),e=n.Hn(e,r,0,!0,1e5*r.rm(),null)));return e},n.SD=function(e,r,o){var a=r.Yr();if(a==null)return e;r=r.tc();var h=r.Le().S(),c=new u.l;e.yc(c);var p=new u.Oc;c.en(p),c=a.Ha(),a=null;for(var m=new u.Ed;c.ab();)for(;c.Ia();){var g=c.ia(),_=g.Vg(0,0),b=new u.Oc;for(b.L(_.pa,_.wa),_=0;b.wa>p.pa;)b.move(-h),--_;for(;b.pa<=p.wa;){if(b.isIntersecting(p)){a==null&&(a=new u.Ua);var x=u.zb.YO(g.bc(),g.xc());_!=0&&(m.ig(_*h,0),x.Pc(m)),a.pc(x,!0)}b.move(h),++_}}return a!=null?(r=u.ua.bO(r,a),r=u.ua.Gr(r),u.bu.gP(e,a,r,o)):e},n.$N=function(e,r,o,a,h){return e>=o&&r<=a?0:n.oE(.5*(r+e),o,a,h)},n.oE=function(e,r,o,a){return u.mc.round((.5*(o+r)-e)/a)*a},n.QQ=function(e,r,o,a,h,c,p,m){var g=n.fv(a,h),_=g.S(),b=_/360,x=n.kE*b,P=e.vb(0),O=r.Xc(),L=O?_/r.Le().S():0;r=e.Ja();for(var j=0,D=o.ea();j<D;++j){var k=O,$=new u.Ua(o.description);$.addPath(o,j,!0);var G=o.ec(j);p!=0&&(G=n.KD(G,$,g.H-m,g.H,p))&&(k=!1);var B=-1;G=$.I();var K=!1;k&&(B=e.Ca(j),K=e.ec(j));var X=$.vb(0),et=0,tt=X.read(0),lt=0,ot=3*a.Yd(0),yt=!1,vt=new u.h;vt.Sc();var Ut=new u.h;Ut.Sc();for(var te=!1,Oe=1;Oe<G;++Oe){var _e=u.h.construct(X.gg(2*Oe),X.gg(2*Oe+1)),Ft=_e.x,Kt=Ft+et,jt=Kt-tt;if(_e.x=Kt,Math.abs(jt)>x){if(k){var Se=B+Oe-1,ce=B;(!K||Oe+1<G)&&(ce+=Oe),Se=P.read(2*Se),ce=(P.read(2*ce)-Se)*L,Math.abs(jt-ce)>1*b&&(O=!1)}k||(et-=u.mc.En(_,Kt-tt),Kt=Ft+et,++lt,te=et!=0,_e.x=Kt)}else yt||u.ua.vG(vt,Ut,_e,ot)&&(yt=!0);te&&X.write(2*Oe,Kt),tt=Kt,vt.N(Ut),Ut.N(_e)}lt!=0&&$.Qc(1993),k=$.Oa(0),G=$.Oa(G-1),u.h.ub(k,G),$=n.rQ($,a,isNaN(h)?0:h,c),r.add($,!1)}return e=a.Yd(0),o=g.S()/180,n.Lt(r,g,.1*e,!1),u.ti.clip(r,g,e,o,c)},n.rQ=function(e,r,o,a){return n.Hn(e,r,o,!0,0,a)},n.JS=function(e,r,o,a){var h=e.K();if(h==1736)for(r=r!=null?r.Yd(0):0,h=0;h<a;h++)u.jd.Zd(e,o[h],r)!=1&&o[h].Sc();else if(h==197)for(h=0;h<a;h++)e.ZO(o[h])||o[h].Sc();else throw u.i.O()},n.bl=function(e,r,o,a){if(32>o)for(var h=new u.Ta,c=0;c<o;c++)h.Db(r[c]),e.bl(h,a).D(r[c]);else{var p=new u.ee;for(p.se(3),p.CD(r,o),h=p.vb(3),c=0;c<o;c++)h.write(c,c);for(c=e.bl(p,a),e=c.vb(0),h=c.vb(3),a=u.h.construct(NaN,NaN),p=0;p<o;p++)r[p]=a;for(o=c.I(),c=0;c<o;c++)a=h.read(c),e.uc(2*c,r[a])}},n.al=function(e,r,o,a){if(32>o)for(var h=new u.Ta,c=0;c<o;c++)h.Db(r[c]),e.al(h,a).D(r[c]);else{var p=new u.ee;for(p.se(3),p.CD(r,o),h=p.vb(3),c=0;c<o;c++)h.write(c,c);for(c=e.al(p,a),e=c.vb(0),h=c.vb(3),a=u.h.construct(NaN,NaN),p=0;p<o;p++)r[p]=a;for(o=c.I(),c=0;c<o;c++)a=h.read(c),e.uc(2*c,r[a])}},n.kE=210,n}()}(U||(U={})),function(u){(function(y){y[y.rightSide=1]="rightSide"})(u.PL||(u.PL={}));var C=function(){function y(n,e,r){this.Ds=new u.h,n===void 0?this.Ko=-1:(this.Ds.N(n),this.Ko=e,this.La=r,this.pw=0)}return y.prototype.RJ=function(n){this.pw=n?this.pw|1:this.pw&-2},y.prototype.B=function(){return 0>this.Ko},y.prototype.az=function(){if(this.B())throw u.i.ga("invalid call");return new u.Ta(this.Ds.x,this.Ds.y)},y.prototype.Va=function(){if(this.B())throw u.i.ga("invalid call");return this.Ko},y.prototype.cz=function(){if(this.B())throw u.i.ga("invalid call");return this.La},y.prototype.Nz=function(){return(this.pw&1)!=0},y.prototype.by=function(n,e,r,o){this.Ds.x=n,this.Ds.y=e,this.Ko=r,this.La=o},y}();u.bm=C}(U||(U={})),function(u){var C=function(){function n(){}return n.prototype.Wo=function(e,r){this.vh.resize(0),this.Ki.length=0,this.vk=-1,e.yc(this.Gk),this.Gk.X(r,r),this.Gk.isIntersecting(this.Gb.Da)?((this.xs=u.ba.zd(e.K()))?(this.OH=e.bc(),this.NH=e.xc(),this.ra=r):this.ra=NaN,this.vh.add(this.Gb.kf),this.Ki.push(this.Gb.Da),this.Ss=this.Gb.Wr(this.Gb.kf)):this.Ss=-1},n.prototype.Zi=function(e,r){this.vh.resize(0),this.Ki.length=0,this.vk=-1,this.Gk.L(e),this.Gk.X(r,r),this.ra=NaN,this.Gk.isIntersecting(this.Gb.Da)?(this.vh.add(this.Gb.kf),this.Ki.push(this.Gb.Da),this.Ss=this.Gb.Wr(this.Gb.kf),this.xs=!1):this.Ss=-1},n.prototype.next=function(){if(this.vh.size==0)return-1;this.vk=this.Ss;var e=null,r=null,o=null,a=null;this.xs&&(e=new u.h,r=new u.h,o=new u.l);for(var h=!1;!h;){for(;this.vk!=-1;){var c=this.Gb.Xy(this.Gb.hv(this.vk));if(c.isIntersecting(this.Gk))if(this.xs){if(e.N(this.OH),r.N(this.NH),o.L(c),o.X(this.ra,this.ra),0<o.uy(e,r)){h=!0;break}}else{h=!0;break}this.vk=this.Gb.pv(this.vk)}if(this.vk==-1){c=this.vh.Gc();var p=this.Ki[this.Ki.length-1];for(a==null&&(a=[],a[0]=new u.l,a[1]=new u.l,a[2]=new u.l,a[3]=new u.l),y.zJ(p,a),this.vh.Jf(),--this.Ki.length,p=0;4>p;p++){var m=this.Gb.Np(c,p);if(m!=-1&&0<this.Gb.RR(m)&&a[p].isIntersecting(this.Gk))if(this.xs){if(e.N(this.OH),r.N(this.NH),o.L(a[p]),o.X(this.ra,this.ra),0<o.uy(e,r)){var g=new u.l;g.L(a[p]),this.vh.add(m),this.Ki.push(g)}}else g=new u.l,g.L(a[p]),this.vh.add(m),this.Ki.push(g)}if(this.vh.size==0)return-1;this.vk=this.Gb.Wr(this.vh.get(this.vh.size-1))}}return this.Ss=this.Gb.pv(this.vk),this.vk},n.XO=function(e,r,o){var a=new n;return a.Gb=e,a.Gk=new u.l,a.vh=new u.ja(0),a.Ki=[],a.Wo(r,o),a},n.WO=function(e,r,o){var a=new n;return a.Gb=e,a.Gk=new u.l,a.vh=new u.ja(0),a.Ki=[],a.Zi(r,o),a},n.VO=function(e){var r=new n;return r.Gb=e,r.Gk=new u.l,r.vh=new u.ja(0),r.Ki=[],r},n}();u.CY=C;var y=function(){function n(e,r){this.jf=new u.ad(11),this.ai=new u.ad(5),this.ys=[],this.iw=new u.ja(0),this.Da=new u.l,this.Pk(e,r)}return n.prototype.reset=function(e,r){this.jf.oj(!1),this.ai.oj(!1),this.ys.length=0,this.iw.clear(!1),this.Pk(e,r)},n.prototype.xj=function(e,r){return this.Bv(e,r,0,this.Da,this.kf,!1,-1)},n.prototype.Ez=function(e,r,o){o=o==-1?this.kf:this.RF(o);var a=this.da(o),h=this.jR(o);return this.Bv(e,r,a,h,o,!1,-1)},n.prototype.ka=function(e){return this.eR(e)},n.prototype.BF=function(e){return this.Xy(this.hv(e))},n.prototype.da=function(e){return this.lv(e)},n.prototype.jR=function(e){var r=new u.l;r.L(this.Da);var o=this.lv(e);e=this.LF(e);for(var a=0;a<2*o;a+=2){var h=u.P.truncate(3&e>>a);h==0?(r.v=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):h==1?(r.C=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):(h==2?r.C=.5*(r.v+r.C):r.v=.5*(r.v+r.C),r.H=.5*(r.G+r.H))}return r},n.prototype.RR=function(e){return this.vz(e)},n.prototype.qR=function(e,r){return C.XO(this,e,r)},n.prototype.HF=function(e,r){return C.WO(this,e,r)},n.prototype.getIterator=function(){return C.VO(this)},n.prototype.Pk=function(e,r){if(0>r||32<2*r)throw u.i.O("invalid height");this.wT=r,this.Da.L(e),this.kf=this.jf.De(),this.jx(this.kf,0),this.dx(this.kf,0),this.IJ(this.kf,0),this.FJ(this.kf,0)},n.prototype.Bv=function(e,r,o,a,h,c,p){if(!a.contains(r))return o==0?-1:this.Bv(e,r,0,this.Da,this.kf,c,p);if(!c)for(var m=h;m!=-1;m=this.DR(m))this.jx(m,this.vz(m)+1);m=new u.l,m.L(a),a=h;var g=[];for(g[0]=new u.l,g[1]=new u.l,g[2]=new u.l,g[3]=new u.l;o<this.wT&&this.dO(a);o++){n.zJ(m,g);for(var _=!1,b=0;4>b;b++)if(g[b].contains(r)){_=!0;var x=this.Np(a,b);x==-1&&(x=this.mP(a,b)),this.jx(x,this.vz(x)+1),a=x,m.L(g[b]);break}if(!_)break}return this.nS(e,r,o,m,a,c,h,p)},n.prototype.nS=function(e,r,o,a,h,c,p,m){var g=this.IF(h);if(c){if(h==p)return m;this.NP(m),c=m}else c=this.oP(),this.IB(c,e),this.FW(this.hv(c),r);return this.hX(c,h),g!=-1?(this.hx(c,g),this.ex(g,c)):this.BJ(h,c),this.NB(h,c),this.dx(h,this.nv(h)+1),this.cO(h)&&this.HQ(o,a,h),c},n.prototype.NP=function(e){var r=this.RF(e),o=this.IF(r),a=this.JR(e),h=this.pv(e);this.Wr(r)==e?(h!=-1?this.hx(h,-1):this.NB(r,-1),this.BJ(r,h)):o==e?(this.ex(a,-1),this.NB(r,a)):(this.hx(h,a),this.ex(a,h)),this.hx(e,-1),this.ex(e,-1),this.dx(r,this.nv(r)-1)},n.zJ=function(e,r){var o=.5*(e.v+e.C),a=.5*(e.G+e.H);r[0].L(o,a,e.C,e.H),r[1].L(e.v,a,o,e.H),r[2].L(e.v,e.G,o,a),r[3].L(o,e.G,e.C,a)},n.prototype.cO=function(e){return this.nv(e)==8&&!this.bG(e)},n.prototype.HQ=function(e,r,o){var a=this.Wr(o);do{var h=this.hv(a),c=this.ai.U(a,0);h=this.Xy(h),this.Bv(c,h,e,r,o,!0,a),a=c=this.pv(a)}while(a!=-1)},n.prototype.dO=function(e){return 8<=this.nv(e)||this.bG(e)},n.prototype.bG=function(e){return this.Np(e,0)!=-1||this.Np(e,1)!=-1||this.Np(e,2)!=-1||this.Np(e,3)!=-1},n.prototype.mP=function(e,r){var o=this.jf.De();return this.JW(e,r,o),this.jx(o,0),this.dx(o,0),this.Rk(o,e),this.FJ(o,this.lv(e)+1),this.IJ(o,r<<2*this.lv(e)|this.LF(e)),o},n.prototype.oP=function(){var e=this.ai.De();if(0<this.iw.size){var r=this.iw.Gc();this.iw.Jf()}else r=this.ys.length,this.ys.push(new u.l);return this.GW(e,r),e},n.prototype.Np=function(e,r){return this.jf.U(e,r)},n.prototype.JW=function(e,r,o){this.jf.T(e,r,o)},n.prototype.Wr=function(e){return this.jf.U(e,4)},n.prototype.BJ=function(e,r){this.jf.T(e,4,r)},n.prototype.IF=function(e){return this.jf.U(e,5)},n.prototype.NB=function(e,r){this.jf.T(e,5,r)},n.prototype.LF=function(e){return this.jf.U(e,6)},n.prototype.IJ=function(e,r){this.jf.T(e,6,r)},n.prototype.nv=function(e){return this.jf.U(e,7)},n.prototype.vz=function(e){return this.jf.U(e,8)},n.prototype.dx=function(e,r){this.jf.T(e,7,r)},n.prototype.jx=function(e,r){this.jf.T(e,8,r)},n.prototype.DR=function(e){return this.jf.U(e,9)},n.prototype.Rk=function(e,r){this.jf.T(e,9,r)},n.prototype.lv=function(e){return this.jf.U(e,10)},n.prototype.FJ=function(e,r){this.jf.T(e,10,r)},n.prototype.eR=function(e){return this.ai.U(e,0)},n.prototype.IB=function(e,r){this.ai.T(e,0,r)},n.prototype.JR=function(e){return this.ai.U(e,1)},n.prototype.pv=function(e){return this.ai.U(e,2)},n.prototype.hx=function(e,r){this.ai.T(e,1,r)},n.prototype.ex=function(e,r){this.ai.T(e,2,r)},n.prototype.RF=function(e){return this.ai.U(e,3)},n.prototype.hX=function(e,r){this.ai.T(e,3,r)},n.prototype.hv=function(e){return this.ai.U(e,4)},n.prototype.GW=function(e,r){this.ai.T(e,4,r)},n.prototype.Xy=function(e){return this.ys[e]},n.prototype.FW=function(e,r){this.ys[e].L(r)},n}();u.fu=y}(U||(U={})),function(u){(function(n){n[n.Outside=0]="Outside",n[n.Inside=1]="Inside",n[n.Border=2]="Border"})(u.WK||(u.WK={}));var C=function(){function n(e,r){this.KT=r,this.Xh=e}return n.prototype.ax=function(e,r){this.dH!=r&&e.flush(),this.dH=r},n.prototype.bF=function(e,r){for(var o=0;o<r;)for(var a=e[o++],h=e[o++],c=e[o++]*this.KT;a<h;a++)this.Xh[c+(a>>4)]|=this.dH<<2*(a&15)},n}();u.DY=C;var y=function(){function n(e,r,o){this.Xh=null,this.NA=this.Kk=this.YH=this.WH=this.Gs=this.lH=this.Hf=this.Wm=0,this.Ti=this.Lk=this.xl=null,this.Az(e,r,o)}return n.create=function(e,r,o){if(!n.uE(e))throw u.i.O();return n.rP(e,r,o)},n.kW=function(e){switch(e){case 0:e=1024;break;case 1:e=16384;break;case 2:e=262144;break;default:throw u.i.ga("Internal Error")}return e},n.uE=function(e){return!(e.B()||e.K()!=1607&&e.K()!=1736)},n.prototype.mQ=function(e,r){r=r.Ha();for(var o=new u.h,a=new u.h;r.ab();)for(;r.Ia();){var h=r.ia();if(h.K()!=322)throw u.i.ga("Internal Error");e.Gh(h.bc(),o),e.Gh(h.xc(),a),this.Ti.fy(o.x,o.y,a.x,a.y)}this.Ti.dJ(u.Ox.Bx)},n.prototype.nQ=function(){throw u.i.ga("Internal Error")},n.prototype.My=function(e,r){for(var o=1;4>o;o++)e.fy(r[o-1].x,r[o-1].y,r[o].x,r[o].y);e.fy(r[3].x,r[3].y,r[0].x,r[0].y),this.Ti.dJ(u.Ox.Bx)},n.prototype.mK=function(e,r,o){for(var a=[null,null,null,null],h=0;h<a.length;h++)a[h]=new u.h;r=r.Ha(),o=this.Lk.$X(o)+1.5,h=new u.h;for(var c=new u.h,p=new u.h,m=new u.h,g=new u.h,_=new u.l,b=new u.h;r.ab();){var x=!1,P=!0;for(b.na(0,0);r.Ia();){var O=r.ia();if(m.x=O.ta,m.y=O.oa,g.x=O.qa,g.y=O.ma,_.Pa(),_.$b(m.x,m.y),_.Nk(g.x,g.y),this.xl.CG(_)){this.Lk.Gh(g,g),P?(this.Lk.Gh(m,m),b.N(m),P=!1):m.N(b),h.vc(g,m),O=h.length();var L=.5>O;O==0?h.na(1,0):(L||b.N(g),h.scale(o/O),c.na(-h.y,h.x),p.na(h.y,-h.x),m.sub(h),g.add(h),a[0].add(m,c),a[1].add(m,p),a[2].add(g,p),a[3].add(g,c),L?x=!0:this.My(e,a))}else x&&(this.My(e,a),x=!1),P=!0}x&&this.My(e,a)}},n.prototype.nC=function(e){return u.P.truncate(e*this.lH+this.WH)},n.prototype.oC=function(e){return u.P.truncate(e*this.Gs+this.YH)},n.rP=function(e,r,o){return new n(e,r,o)},n.prototype.Az=function(e,r,o){this.Hf=Math.max(u.P.truncate(2*Math.sqrt(o)+.5),64),this.Wm=u.P.truncate((2*this.Hf+31)/32),this.xl=new u.l,this.Kk=r,o=0;for(var a=this.Hf,h=this.Wm;8<=a;)o+=a*h,a=u.P.truncate(a/2),h=u.P.truncate((2*a+31)/32);this.Xh=u.P.mg(o,0),this.Ti=new u.Ox,o=new C(this.Xh,this.Wm,this),this.Ti.wX(this.Hf,this.Hf,o),e.A(this.xl),this.xl.X(r,r),a=new u.l,h=u.l.construct(1,1,this.Hf-2,this.Hf-2);var c=r*h.S();switch(r*=h.da(),a.L(this.xl.tf(),Math.max(c,this.xl.S()),Math.max(r,this.xl.da())),this.NA=this.Kk,this.Lk=new u.Ed,this.Lk.kS(a,h),new u.Ed,e.K()){case 550:o.ax(this.Ti,2),this.nQ();break;case 1607:o.ax(this.Ti,2),this.mK(this.Ti,e,this.NA);break;case 1736:o.ax(this.Ti,1),this.mQ(this.Lk,e),o.ax(this.Ti,2),this.mK(this.Ti,e,this.NA)}this.lH=this.Lk.eb,this.Gs=this.Lk.bb,this.WH=this.Lk.Lb,this.YH=this.Lk.Qb,this.SN()},n.prototype.SN=function(){this.Ti.flush();for(var e=0,r=this.Hf*this.Wm,o=this.Hf,a=u.P.truncate(this.Hf/2),h=this.Wm,c=u.P.truncate((2*a+31)/32);8<o;){for(o=0;o<a;o++)for(var p=2*o,m=2*o+1,g=0;g<a;g++){var _=2*g,b=2*g+1,x=_>>4;_=2*(_&15);var P=b>>4;b=2*(b&15);var O=this.Xh[e+h*p+x]>>_&3;O|=this.Xh[e+h*p+P]>>b&3,O|=this.Xh[e+h*m+x]>>_&3,O|=this.Xh[e+h*m+P]>>b&3,this.Xh[r+c*o+(g>>4)]|=O<<2*(g&15)}o=a,h=c,e=r,a=u.P.truncate(o/2),c=u.P.truncate((2*a+31)/32),r=e+h*o}},n.prototype.Uo=function(e,r){return!this.xl.contains(e,r)||(e=this.nC(e),r=this.oC(r),0>e||e>=this.Hf||0>r||r>=this.Hf)?0:(r=this.Xh[this.Wm*r+(e>>4)]>>2*(e&15)&3,r==0?0:r==1?1:2)},n.prototype.To=function(e){if(!e.Fa(this.xl))return 0;var r=this.nC(e.v),o=this.nC(e.C),a=this.oC(e.G);if(e=this.oC(e.H),0>r&&(r=0),0>a&&(a=0),o>=this.Hf&&(o=this.Hf-1),e>=this.Hf&&(e=this.Hf-1),r>o||a>e)return 0;for(var h=Math.max(o-r,1)*Math.max(e-a,1),c=0,p=this.Wm,m=this.Hf,g=0;;){if(32>h||16>m){for(h=a;h<=e;h++)for(var _=r;_<=o;_++)if(g=this.Xh[c+p*h+(_>>4)]>>2*(_&15)&3,1<g)return 2;if(g==0)return 0;if(g==1)return 1}c+=p*m,m=u.P.truncate(m/2),p=u.P.truncate((2*m+31)/32),r=u.P.truncate(r/2),a=u.P.truncate(a/2),o=u.P.truncate(o/2),e=u.P.truncate(e/2),h=Math.max(o-r,1)*Math.max(e-a,1)}},n.prototype.MR=function(){return this.Hf*this.Wm},n}();u.Mx=y}(U||(U={})),function(u){(function(n){n[n.contains=1]="contains",n[n.within=2]="within",n[n.equals=3]="equals",n[n.disjoint=4]="disjoint",n[n.touches=8]="touches",n[n.crosses=16]="crosses",n[n.overlaps=32]="overlaps",n[n.unknown=0]="unknown",n[n.intersects=1073741824]="intersects"})(u.QL||(u.QL={}));var C=function(){function n(){}return n.construct=function(e,r,o,a,h,c,p,m){var g=new n;return g.rw=e,g.Om=r,g.Mj=o,g.Ui=a,g.wH=h,g.OY=c,g.PY=p,g.QY=m,g},n}();u.Xt=function(){function n(){}return n.xD=function(e,r,o){if(n.ry(e)){var a=u.ua.mj(r,e,!1);r=!1,u.Wk.xE(e)&&(r=r||e.nu(a,o)),a=e.K(),a!=1736&&a!=1607||!u.Wk.vE(e)||o==0||(r=r||e.hj(o)),a!=1736&&a!=1607||!u.Wk.wE(e)||o==0||r||e.cM()}},n.ry=function(e){return u.Wk.xE(e)||u.Wk.vE(e)||u.Wk.wE(e)},n}();var y=function(){function n(){this.th=[]}return n.uB=function(e,r,o,a,h){var c=e.K(),p=r.K();if(c==197){if(p==197)return n.oW(e,r,o,a);if(p==33)return a==2?a=1:a==1&&(a=2),n.cJ(r,e,o,a)}else if(c==33){if(p==197)return n.cJ(e,r,o,a);if(p==33)return n.qW(e,r,o,a)}if(e.B()||r.B())return a==4;var m=new u.l;e.A(m);var g=new u.l;r.A(g);var _=new u.l;if(_.L(m),_.$b(g),o=u.ua.Xd(o,_,!1),n.fk(m,g,o))return a==4;switch(m=!1,u.Xk.zd(c)&&(c=new u.Ua(e.description),c.pc(e,!0),e=c,c=1607),u.Xk.zd(p)&&(p=new u.Ua(r.description),p.pc(r,!0),r=p,p=1607),c!=197&&p!=197?(e.Eb()<r.Eb()||c==33&&p==550)&&(a==2?a=1:a==1&&(a=2)):c!=1736&&p!=197&&(a==2?a=1:a==1&&(a=2)),c){case 1736:switch(p){case 1736:m=n.st(e,r,o,a,h);break;case 1607:m=n.bn(e,r,o,a,h);break;case 33:m=n.rt(e,r,o,a);break;case 550:m=n.qt(e,r,o,a,h);break;case 197:m=n.BI(e,r,o,a,h)}break;case 1607:switch(p){case 1736:m=n.bn(r,e,o,a,h);break;case 1607:m=n.bB(e,r,o,a,h);break;case 33:m=n.ut(e,r,o,a,h);break;case 550:m=n.tt(e,r,o,a,h);break;case 197:m=n.HI(e,r,o,a)}break;case 33:switch(p){case 1736:m=n.rt(r,e,o,a);break;case 1607:m=n.ut(r,e,o,a,h);break;case 550:m=n.mt(r,e,o,a)}break;case 550:switch(p){case 1736:m=n.qt(r,e,o,a,h);break;case 1607:m=n.tt(r,e,o,a,h);break;case 550:m=n.UA(e,r,o,a,h);break;case 33:m=n.mt(e,r,o,a);break;case 197:m=n.cI(e,r,o,a)}break;case 197:switch(p){case 1736:m=n.BI(r,e,o,a,h);break;case 1607:m=n.HI(r,e,o,a);break;case 550:m=n.cI(r,e,o,a)}}return m},n.oW=function(e,r,o,a){if(e.B()||r.B())return a==4;var h=new u.l,c=new u.l,p=new u.l;switch(e.A(h),r.A(c),p.L(h),p.$b(c),e=u.ua.Xd(o,p,!1),a){case 4:return n.fk(h,c,e);case 2:return n.eF(c,h,e);case 1:return n.eF(h,c,e);case 3:return n.gk(h,c,e);case 8:return n.YP(h,c,e);case 32:return n.XP(h,c,e);case 16:return n.WP(h,c,e)}return!1},n.cJ=function(e,r,o,a){if(e.B()||r.B())return a==4;e=e.D();var h=new u.l,c=new u.l;switch(r.A(h),c.L(e),c.$b(h),r=u.ua.Xd(o,c,!1),a){case 4:return n.Tw(e,h,r);case 2:return n.$A(e,h,r);case 1:return n.MU(e,h,r);case 3:return n.qI(e,h,r);case 8:return n.ZA(e,h,r)}return!1},n.qW=function(e,r,o,a){if(e.B()||r.B())return a==4;e=e.D(),r=r.D();var h=new u.l;switch(h.L(e),h.$b(r),o=u.ua.Xd(o,h,!1),a){case 4:return n.NU(e,r,o);case 2:return n.pI(r,e,o);case 1:return n.pI(e,r,o);case 3:return n.rI(e,r,o)}return!1},n.st=function(e,r,o,a,h){switch(a){case 4:return n.fV(e,r,o);case 2:return n.Uw(r,e,o,h);case 1:return n.Uw(e,r,o,h);case 3:return n.iV(e,r,o);case 8:return n.qV(e,r,o);case 32:return n.lV(e,r,o,h)}return!1},n.bn=function(e,r,o,a,h){switch(a){case 4:return n.gV(e,r,o);case 1:return n.aB(e,r,o,h);case 8:return n.rV(e,r,o,h);case 16:return n.bV(e,r,o)}return!1},n.rt=function(e,r,o,a){switch(a){case 4:return n.eV(e,r,o);case 1:return n.ZU(e,r,o);case 8:return n.pV(e,r,o)}return!1},n.qt=function(e,r,o,a){switch(a){case 4:return n.dV(e,r,o);case 1:return n.YU(e,r,o);case 8:return n.oV(e,r,o);case 16:return n.aV(e,r,o)}return!1},n.BI=function(e,r,o,a,h){if(n.cV(e,r,o))return a==4;if(a==4)return!1;switch(a){case 2:return n.sV(e,r,o);case 1:return n.XU(e,r,o);case 3:return n.hV(e,r,o);case 8:return n.nV(e,r,o,h);case 32:return n.kV(e,r,o,h);case 16:return n.$U(e,r,o,h)}return!1},n.bB=function(e,r,o,a){switch(a){case 4:return n.BV(e,r,o);case 2:return n.FI(r,e,o);case 1:return n.FI(e,r,o);case 3:return n.DV(e,r,o);case 8:return n.II(e,r,o);case 32:return n.HV(e,r,o);case 16:return n.GI(e,r,o)}return!1},n.ut=function(e,r,o,a){switch(a){case 4:return n.AV(e,r,o);case 1:return n.vV(e,r,o);case 8:return n.LV(e,r,o)}return!1},n.tt=function(e,r,o,a){switch(a){case 4:return n.zV(e,r,o);case 1:return n.uV(e,r,o);case 8:return n.KV(e,r,o);case 16:return n.xV(e,r,o)}return!1},n.HI=function(e,r,o,a){if(n.yV(e,r,o))return a==4;if(a==4)return!1;switch(a){case 2:return n.MV(e,r,o);case 1:return n.tV(e,r,o);case 3:return n.CV(e,r,o);case 8:return n.JV(e,r,o);case 32:return n.GV(e,r,o);case 16:return n.wV(e,r,o)}return!1},n.UA=function(e,r,o,a){switch(a){case 4:return n.bU(e,r,o);case 2:return n.$H(r,e,o);case 1:return n.$H(e,r,o);case 3:return n.dU(e,r,o);case 32:return n.jU(e,r,o)}return!1},n.mt=function(e,r,o,a){switch(a){case 4:return n.aI(e,r,o);case 2:return n.nU(e,r,o);case 1:return n.ZT(e,r,o);case 3:return n.Pw(e,r,o)}return!1},n.cI=function(e,r,o,a){switch(a){case 4:return n.aU(e,r,o);case 2:return n.mU(e,r,o);case 1:return n.YT(e,r,o);case 3:return n.cU(e,r,o);case 8:return n.lU(e,r,o);case 16:return n.$T(e,r,o)}return!1},n.iV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),!n.gk(a,h,o)||(a=n.rc(e,r,!1),a==4||a==1||a==2)?!1:n.ZH(e,r,o)?!0:(a=e.Rb(),h=r.Rb(),Math.abs(a-h)>4*Math.max(e.I(),r.I())*o?!1:n.Rz(e,r,o,!0))},n.fV=function(e,r,o){var a=n.rc(e,r,!0);return a==4?!0:a==1||a==2||a==1073741824?!1:n.zI(e,r,o)},n.qV=function(e,r,o){var a=n.rc(e,r,!1);return a==4||a==1||a==2?!1:n.DI(e,r,o,null)},n.lV=function(e,r,o,a){var h=n.rc(e,r,!1);return h==4||h==1||h==2?!1:n.AI(e,r,o,a)},n.Uw=function(e,r,o,a){var h=new u.l,c=new u.l;return e.A(h),r.A(c),n.Ac(h,c,o)?(h=n.rc(e,r,!1),h==4||h==2?!1:h==1?!0:n.wI(e,r,o,a)):!1},n.gV=function(e,r,o){var a=n.rc(e,r,!0);return a==4?!0:a==1||a==1073741824?!1:n.zI(e,r,o)},n.rV=function(e,r,o,a){var h=n.rc(e,r,!1);return h==4||h==1?!1:n.EI(e,r,o,a)},n.bV=function(e,r,o){var a=n.rc(e,r,!1);return a==4||a==1?!1:n.yI(e,r,o,null)},n.aB=function(e,r,o,a){var h=new u.l,c=new u.l;return e.A(h),r.A(c),n.Ac(h,c,o)?(h=n.rc(e,r,!1),h==4?!1:h==1?!0:n.xI(e,r,o,a)):!1},n.eV=function(e,r,o){return u.jd.FG(e,r,o)==0},n.pV=function(e,r,o){return r=r.D(),n.CI(e,r,o)},n.ZU=function(e,r,o){return r=r.D(),n.vI(e,r,o)},n.dV=function(e,r,o){var a=n.rc(e,r,!1);if(a==4)return!0;if(a==1)return!1;a=new u.l,e.A(a),a.X(o,o);for(var h=new u.h,c=0;c<r.I();c++)if(r.D(c,h),a.contains(h)){var p=u.jd.Zd(e,h,o);if(p==1||p==2)return!1}return!0},n.oV=function(e,r,o){var a=this.rc(e,r,!1);if(a==4||a==1)return!1;a=new u.l,e.A(a),a.X(o,o);for(var h=!1,c=e,p=!1,m=0;m<r.I();m++){var g=r.Oa(m);if(a.contains(g)){if(g=u.jd.Zd(c,g,o),g==2)h=!0;else if(g==1)return!1}p||(!u.Fg.Ol(e,r.I()-1)||e.Cb!=null&&e.Cb.Gb!=null?c=e:(c=new u.Ea,e.copyTo(c),c.hj(1)),p=!0)}return!!h},n.aV=function(e,r,o){var a=this.rc(e,r,!1);if(a==4||a==1)return!1;var h=new u.l;a=new u.l;var c=new u.l;e.A(h),r.A(c),a.L(h),a.X(o,o),c=h=!1;for(var p=e,m=!1,g=0;g<r.I();g++){var _=r.Oa(g);if(a.contains(_)?(_=u.jd.Zd(p,_,o),_==0?c=!0:_==1&&(h=!0)):c=!0,h&&c)return!0;m||(!u.Fg.Ol(e,r.I()-1)||e.Cb!=null&&e.Cb.Gb!=null?p=e:(p=new u.Ea,e.copyTo(p),p.hj(1)),m=!0)}return!1},n.YU=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),!this.Ac(a,h,o)||(h=this.rc(e,r,!1),h==4))return!1;if(h==1)return!0;h=!1;for(var c=e,p=!1,m=0;m<r.I();m++){var g=r.Oa(m);if(!a.contains(g))return!1;if(g=u.jd.Zd(c,g,o),g==1)h=!0;else if(g==0)return!1;p||(!u.Fg.Ol(e,r.I()-1)||e.Cb!=null&&e.Cb.Gb!=null?c=e:(c=new u.Ea,e.copyTo(c),c.hj(1)),p=!0)}return h},n.hV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.gk(a,h,o)?(a=new u.Ea,a.bd(r,!1),n.Rz(e,a,o,!0)):!1},n.cV=function(e,r,o){var a=n.rc(e,r,!1);if(a==4)return!0;if(a==1||a==2)return!1;var h=new u.l;if(a=new u.l,e.A(h),r.A(a),n.Ac(a,h,o)||(h=new u.h,a.fn(h),r=u.jd.Zd(e,h,o),r!=0)||(a.VI(h),r=u.jd.Zd(e,h,o),r!=0)||(a.gn(h),r=u.jd.Zd(e,h,o),r!=0)||(a.YI(h),r=u.jd.Zd(e,h,o),r!=0))return!1;r=e.vb(0),h=new u.l,h.L(a),h.X(o,o);for(var c=0,p=e.I();c<p;c++){var m=r.read(2*c),g=r.read(2*c+1);if(h.contains(m,g))return!1}return!n.NG(e,a,o)},n.nV=function(e,r,o,a){var h=n.rc(e,r,!1);if(h==4||h==1||h==2)return!1;h=new u.l;var c=new u.l;return e.A(h),r.A(c),n.Ac(c,h,o)?!1:c.S()<=o&&c.da()<=o?(r=r.Kp(),n.CI(e,r,o)):c.S()<=o||c.da()<=o?(h=new u.Ua,c=new u.Ta,r.If(0,c),h.nf(c),r.If(2,c),h.lineTo(c),n.EI(e,h,o,a)):(h=new u.Ea,h.bd(r,!1),n.DI(e,h,o,a))},n.kV=function(e,r,o,a){var h=n.rc(e,r,!1);if(h==4||h==1||h==2)return!1;h=new u.l;var c=new u.l;return e.A(h),r.A(c),n.Ac(c,h,o)||c.S()<=o||c.da()<=o?!1:(h=new u.Ea,h.bd(r,!1),n.AI(e,h,o,a))},n.sV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.Ac(h,a,o)},n.XU=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),!n.Ac(a,h,o)||(a=n.rc(e,r,!1),a==4||a==2)?!1:a==1?!0:h.S()<=o&&h.da()<=o?(r=r.Kp(),n.vI(e,r,o)):h.S()<=o||h.da()<=o?(h=new u.Ua,a=new u.Ta,r.If(0,a),h.nf(a),r.If(2,a),h.lineTo(a),n.xI(e,h,o,null)):(h=new u.Ea,h.bd(r,!1),n.wI(e,h,o,null))},n.$U=function(e,r,o,a){var h=new u.l,c=new u.l;return e.A(h),r.A(c),n.Ac(c,h,o)||c.da()>o&&c.S()>o||c.da()<=o&&c.S()<=o?!1:(h=new u.Ua,c=new u.Ta,r.If(0,c),h.nf(c),r.If(2,c),h.lineTo(c),n.yI(e,h,o,a))},n.DV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.gk(a,h,o)&&n.rc(e,r,!1)!=4?n.ZH(e,r,o)?!0:n.Rz(e,r,o,!1):!1},n.BV=function(e,r,o){return this.rc(e,r,!1)==4?!0:new u.am(e,r,o,!0).next()?!this.OG(e,r,o):!1},n.II=function(e,r,o){if(n.rc(e,r,!1)==4)return!1;var a=new u.ce(0);if(n.Sz(e,r,o,a)!=0)return!1;for(var h=new u.ee,c=0;c<a.size;c+=2){var p=a.read(c),m=a.read(c+1);h.Du(p,m)}return e=e.ng(),r=r.ng(),e.Gd(r,0,r.I()),n.Ow(e,h,o)},n.GI=function(e,r,o){if(n.rc(e,r,!1)==4)return!1;var a=new u.ce(0);if(n.Sz(e,r,o,a)!=0)return!1;for(var h=new u.ee,c=0;c<a.size;c+=2){var p=a.read(c),m=a.read(c+1);h.Du(p,m)}return e=e.ng(),r=r.ng(),e.Gd(r,0,r.I()),!n.Ow(e,h,o)},n.HV=function(e,r,o){return n.rc(e,r,!1)==4?!1:n.QG(e,r,o)},n.FI=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.Ac(a,h,o)&&n.rc(e,r,!1)!=4?n.Am(r,e,o,!1):!1},n.AV=function(e,r,o){return n.rc(e,r,!1)==4?!0:(r=r.D(),!n.Tz(e,r,o))},n.LV=function(e,r,o){return n.rc(e,r,!1)==4?!1:(r=r.D(),n.Uz(e,r,o))},n.vV=function(e,r,o){return n.rc(e,r,!1)==4?!1:(r=r.D(),n.MG(e,r,o))},n.zV=function(e,r,o){return n.rc(e,r,!1)==4?!0:!n.PG(e,r,o,!1)},n.KV=function(e,r,o){if(this.rc(e,r,!1)==4)return!1;var a=e.Ha(),h=new u.l,c=new u.l,p=new u.l;e.A(h),r.A(c),h.X(o,o),c.X(o,o),p.L(h),p.Fa(c),h=null;var m=e.Cb;if(m!=null){var g=m.Gb;h=m.Bo,g==null&&(g=m=u.ua.lj(e,p))}else g=m=u.ua.lj(e,p);var _=g.getIterator(),b=null;h!=null&&(b=h.getIterator());var x=new u.h,P=new u.h,O=!1,L=o*o;for(h=new u.rn(r.I()),m=0;m<r.I();m++)h.write(m,0);for(m=0;m<r.I();m++)if(r.D(m,x),p.contains(x)){if(c.L(x.x,x.y,x.x,x.y),b!=null&&(b.Zi(c,o),b.next()==-1))continue;_.Zi(c,o);for(var j=_.next();j!=-1;j=_.next())if(a.Wb(g.ka(j)),j=a.ia(),j.ic(j.ge(x,!1),P),u.h.zc(x,P)<=L){h.write(m,1),O=!0;break}}if(!O)return!1;for(e=e.ng(),a=new u.ee,c=new u.h,m=0;m<r.I();m++)h.read(m)!=0&&(r.D(m,c),a.Du(c.x,c.y));return this.Ow(e,a,o)},n.xV=function(e,r,o){if(this.rc(e,r,!1)==4)return!1;var a=e.Ha(),h=new u.l,c=new u.l,p=new u.l;e.A(h),r.A(c),h.X(o,o),c.X(o,o),p.L(h),p.Fa(c),h=null;var m=e.Cb;if(m!=null){var g=m.Gb;h=m.Bo,g==null&&(g=m=u.ua.lj(e,p))}else g=m=u.ua.lj(e,p);var _=g.getIterator(),b=null;h!=null&&(b=h.getIterator());var x=new u.h,P=new u.h,O=!1,L=!1,j=o*o;for(h=new u.rn(r.I()),m=0;m<r.I();m++)h.write(m,0);for(m=0;m<r.I();m++)if(r.D(m,x),p.contains(x)){if(c.L(x.x,x.y,x.x,x.y),b!=null&&(b.Zi(c,o),b.next()==-1)){L=!0;continue}_.Zi(c,o);for(var D=!1,k=_.next();k!=-1;k=_.next())if(a.Wb(g.ka(k)),k=a.ia(),k.ic(k.ge(x,!1),P),u.h.zc(x,P)<=j){h.write(m,1),D=O=!0;break}D||(L=!0)}else L=!0;if(!O||!L)return!1;for(e=e.ng(),a=new u.ee,c=new u.h,m=0;m<r.I();m++)h.read(m)!=0&&(r.D(m,c),a.Du(c.x,c.y));return!this.Ow(e,a,o)},n.uV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),!n.Ac(a,h,o)||n.rc(e,r,!1)==4||!n.PG(e,r,o,!0)?!1:(e=e.ng(),!n.bI(e,r,o))},n.CV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),h.da()>o&&h.S()>o?!1:n.gk(a,h,o)},n.yV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.Ac(h,a,o)?!1:!n.NG(e,h,o)},n.JV=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),h.da()<=o&&h.S()<=o)return h=r.Kp(),n.Uz(e,h,o);if(h.da()<=o||h.S()<=o)return h=new u.Ua,a=new u.Ta,r.If(0,a),h.nf(a),r.If(2,a),h.lineTo(a),n.II(e,h,o);e=e.Ha(),r=new u.l,a=new u.l,r.L(h),a.L(h),r.X(-o,-o),a.X(o,o),h=!1;for(var c=new u.l,p=new u.l;e.ab();)for(;e.Ia();){if(e.ia().A(c),p.L(r),p.Fa(c),!p.B()&&(p.da()>o||p.S()>o))return!1;p.L(a),p.Fa(c),p.B()||(h=!0)}return h},n.GV=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.Ac(a,h,o)||n.Ac(h,a,o)||n.Ac(h,a,o)||h.da()>o&&h.S()>o||h.da()<=o&&h.S()<=o?!1:(a=new u.Ua,h=new u.Ta,r.If(0,h),a.nf(h),r.If(2,h),a.lineTo(h),n.QG(e,a,o))},n.MV=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),!n.Ac(h,a,o)||h.da()<=o&&h.S()<=o)return!1;if(h.da()<=o||h.S()<=o)return n.Ac(h,a,o);e=e.Ha(),r=new u.l,r.L(h),r.X(-o,-o),h=!1,a=new u.l;for(var c=new u.l;e.ab();)for(;e.Ia();)e.ia().A(a),r.jm(a)?h=!0:(c.L(r),c.Fa(a),!c.B()&&(c.da()>o||c.S()>o)&&(h=!0));return h},n.tV=function(e,r,o){var a=new u.l,h=new u.l;return r.A(h),e.A(a),!n.Ac(a,h,o)||h.da()>o&&h.S()>o?!1:h.da()<=o&&h.S()<=o?(r=r.Kp(),n.MG(e,r,o)):(a=new u.Ua,h=new u.Ta,r.If(0,h),a.nf(h),r.If(2,h),a.lineTo(h),n.Am(a,e,o,!1))},n.wV=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),n.Ac(h,a,o)||h.da()<=o&&h.S()<=o)return!1;if(h.da()<=o||h.S()<=o)return a=new u.Ua,h=new u.Ta,r.If(0,h),a.nf(h),r.If(2,h),a.lineTo(h),n.GI(e,a,o);e=e.Ha(),r=new u.l,a=new u.l,a.L(h),r.L(h),a.X(-o,-o),r.X(o,o);for(var c=h=!1,p=new u.l,m=new u.l;e.ab();)for(;e.Ia();)if(e.ia().A(p),c||r.contains(p)||(c=!0),h||(m.L(a),m.Fa(p),!m.B()&&(m.da()>o||m.S()>o)&&(h=!0)),h&&c)return!0;return!1},n.dU=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.gk(a,h,o)?n.eU(e,r,o)?!0:n.TA(e,r,o,!1,!0,!1):!1},n.bU=function(e,r,o){return!n.bI(e,r,o)},n.jU=function(e,r,o){return n.TA(e,r,o,!1,!1,!0)},n.$H=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.Ac(a,h,o)?n.TA(r,e,o,!0,!1,!1):!1},n.Ow=function(e,r,o){o*=o;for(var a=new u.h,h=new u.h,c=0;c<r.I();c++){r.D(c,h);for(var p=!1,m=0;m<e.I();m++)if(e.D(m,a),u.h.zc(a,h)<=o){p=!0;break}if(!p)return!1}return!0},n.Pw=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),n.gk(a,h,o)},n.aI=function(e,r,o){return r=r.D(),n.lt(e,r,o)},n.nU=function(e,r,o){return n.Pw(e,r,o)},n.ZT=function(e,r,o){return!n.aI(e,r,o)},n.cU=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),h.da()>o||h.S()>o?!1:n.gk(a,h,o)},n.aU=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),n.Ac(h,a,o))return!1;for(r=new u.l,r.L(h),r.X(o,o),o=new u.h,h=0;h<e.I();h++)if(e.D(h,o),r.contains(o))return!1;return!0},n.lU=function(e,r,o){var a=new u.l,h=new u.l,c=new u.l;if(r.A(a),a.da()<=o&&a.S()<=o)return!1;if(a.da()<=o||a.S()<=o){r=new u.h;var p=!1;h.L(a),c.L(a),h.X(o,o),a.da()>o?c.X(0,-o):c.X(-o,0);for(var m=0;m<e.I();m++)if(e.D(m,r),h.contains(r)){if(a.da()>o){if(r.y>c.G&&r.y<c.H)return!1}else if(r.x>c.v&&r.x<c.C)return!1;p=!0}return p}for(h.L(a),c.L(a),h.X(o,o),c.X(-o,-o),r=new u.h,p=!1,m=0;m<e.I();m++)if(e.D(m,r),h.contains(r)){if(c.jm(r))return!1;p=!0}return p},n.mU=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),!n.Ac(h,a,o))return!1;if(h.da()<=o&&h.S()<=o)return n.gk(a,h,o);if(h.da()<=o||h.S()<=o){r=!1,a=new u.l;var c=new u.l;a.L(h),c.L(h),h.da()>o?a.X(0,-o):a.X(-o,0),c.X(o,o);for(var p=new u.h,m=0;m<e.I();m++){if(e.D(m,p),!c.contains(p))return!1;h.da()>o?p.y>a.G&&p.y<a.H&&(r=!0):p.x>a.v&&p.x<a.C&&(r=!0)}return r}for(r=!1,a=new u.l,c=new u.l,a.L(h),c.L(h),a.X(-o,-o),c.X(o,o),p=new u.h,m=0;m<e.I();m++){if(e.D(m,p),!c.contains(p))return!1;a.jm(p)&&(r=!0)}return r},n.YT=function(e,r,o){var a=new u.l,h=new u.l;return e.A(a),r.A(h),!n.Ac(a,h,o)||h.da()>o||h.S()>o?!1:(r=r.Kp(),!n.lt(e,r,o))},n.$T=function(e,r,o){var a=new u.l,h=new u.l;if(e.A(a),r.A(h),n.Ac(h,a,o)||h.da()<=o&&h.S()<=o)return!1;if(h.da()<=o||h.S()<=o){r=new u.l,a=new u.l,r.L(h),h.da()>o?r.X(0,-o):r.X(-o,0),a.L(h),a.X(o,o);for(var c=new u.h,p=!1,m=!1,g=0;g<e.I();g++)if(e.D(g,c),p||(h.da()>o?c.y>r.G&&c.y<r.H&&(p=!0):c.x>r.v&&c.x<r.C&&(p=!0)),m||a.contains(c)||(m=!0),p&&m)return!0;return!1}for(r=new u.l,a=new u.l,r.L(h),r.X(-o,-o),a.L(h),a.X(o,o),c=new u.h,m=p=!1,g=0;g<e.I();g++)if(e.D(g,c),!p&&r.jm(c)&&(p=!0),m||a.contains(c)||(m=!0),p&&m)return!0;return!1},n.rI=function(e,r,o){return u.h.zc(e,r)<=o*o},n.NU=function(e,r,o){return u.h.zc(e,r)>o*o},n.pI=function(e,r,o){return n.rI(e,r,o)},n.qI=function(e,r,o){var a=new u.l;return a.L(e),n.gk(a,r,o)},n.Tw=function(e,r,o){var a=new u.l;return a.L(r),a.X(o,o),!a.contains(e)},n.ZA=function(e,r,o){if(r.da()<=o&&r.S()<=o)return!1;var a=new u.l,h=new u.l;if(a.L(r),a.X(o,o),!a.contains(e))return!1;if(r.da()<=o||r.S()<=o){if(h.L(r),r.da()>o?h.X(0,-o):h.X(-o,0),r.da()>o){if(e.y>h.G&&e.y<h.H)return!1}else if(e.x>h.v&&e.x<h.C)return!1;return!0}return h.L(r),h.X(-o,-o),!h.jm(e)},n.$A=function(e,r,o){if(r.da()<=o&&r.S()<=o)return!0;if(r.da()<=o||r.S()<=o){var a=new u.l;a.L(r),r.da()>o?a.X(0,-o):a.X(-o,0);var h=!1;return r.da()>o?e.y>a.G&&e.y<a.H&&(h=!0):e.x>a.v&&e.x<a.C&&(h=!0),h}return a=new u.l,a.L(r),a.X(-o,-o),a.jm(e)},n.MU=function(e,r,o){return n.qI(e,r,o)},n.gk=function(e,r,o){return n.Ac(e,r,o)&&n.Ac(r,e,o)},n.fk=function(e,r,o){var a=new u.l;return a.L(r),a.X(o,o),!e.isIntersecting(a)},n.YP=function(e,r,o){if(e.da()<=o&&e.S()<=o){var a=e.tf();return n.ZA(a,r,o)}if(r.da()<=o&&r.S()<=o)return a=r.tf(),n.ZA(a,e,o);if(e.da()>o&&e.S()>o&&(r.da()<=o||r.S()<=o)?a=r:(a=e,e=r),a.da()<=o||a.S()<=o){if(e.da()<=o||e.S()<=o){r=new u.zb;var h=new u.zb,c=[0,0],p=[0,0],m=new u.h;return a.fn(m),r.Ec(m),a.gn(m),r.Rc(m),e.fn(m),h.Ec(m),e.gn(m),h.Rc(m),r.Fa(h,null,c,p,o),r.Fa(h,null,null,null,o)!=1?!1:c[0]==0||c[1]==1||p[0]==0||p[1]==1}return r=new u.l,h=new u.l,r.L(e),r.X(-o,-o),h.L(r),h.Fa(a),!(!h.B()&&(h.da()>o||h.S()>o))}return e.X(o,o),h=new u.l,h.L(a),h.Fa(e),!(h.B()||!h.B()&&h.da()>o&&h.S()>o)},n.XP=function(e,r,o){if(n.Ac(e,r,o)||n.Ac(r,e,o)||e.da()<=o&&e.S()<=o||r.da()<=o&&r.S()<=o)return!1;if(e.da()<=o||e.S()<=o){if(r.da()>o&&r.S()>o)return!1;var a=new u.zb,h=new u.zb,c=[0,0],p=[0,0],m=new u.h;return e.fn(m),a.Ec(m),e.gn(m),a.Rc(m),r.fn(m),h.Ec(m),r.gn(m),h.Rc(m),a.Fa(h,null,c,p,o),a.Fa(h,null,null,null,o)!=2?!1:(0<c[0]||1>c[1])&&(0<p[0]||1>p[1])}return r.da()<=o||r.S()<=o?!1:(a=new u.l,a.L(e),a.Fa(r),!(a.B()||a.da()<=o||a.S()<=o))},n.eF=function(e,r,o){if(!n.Ac(e,r,o))return!1;if(e.da()<=o&&e.S()<=o)return e=e.tf(),n.$A(e,r,o);if(r.da()<=o&&r.S()<=o)return r=r.tf(),n.$A(r,e,o);if(e.da()<=o||e.S()<=o)return n.Ac(e,r,o);if(r.da()<=o||r.S()<=o){var a=new u.l;return a.L(e),a.X(-o,-o),a.jm(r)?!0:(e=new u.l,e.L(a),e.Fa(r),!(e.B()||e.da()<=o&&e.S()<=o))}return n.Ac(e,r,o)},n.WP=function(e,r,o){if(n.Ac(e,r,o)||n.Ac(r,e,o)||e.da()<=o&&e.S()<=o||r.da()<=o&&r.S()<=o||r.da()>o&&r.S()>o&&e.da()>o&&e.S()>o)return!1;if(e.da()>o&&e.S()>o)var a=r;else a=e,e=r;if(e.da()>o&&e.S()>o){r=new u.l;var h=new u.l;return h.L(e),h.X(-o,-o),r.L(h),r.Fa(a),!(r.B()||r.da()<=o&&r.S()<=o)}r=new u.zb,h=new u.zb;var c=[0,0],p=[0,0],m=new u.h;return a.fn(m),r.Ec(m),a.gn(m),r.Rc(m),e.fn(m),h.Ec(m),e.gn(m),h.Rc(m),r.Fa(h,null,c,p,o),r.Fa(h,null,null,null,o)!=1?!1:0<c[0]&&1>c[1]&&0<p[0]&&1>p[1]},n.zI=function(e,r,o){var a=new u.l,h=new u.l,c=new u.am(e,r,o,!0);if(!c.next())return!0;if(this.OG(e,r,o))return!1;var p=e,m=null;r.K()==1736&&(m=r);var g=!1,_=!1;do{var b=c.pl(),x=c.jl();if(x=r.Oa(r.Ca(x)),a.L(c.oz()),a.X(o,o),a.contains(x)&&(x=u.jd.Zd(p,x,0),x!=0)||r.K()==1736&&(b=e.Oa(e.Ca(b)),h.L(c.Wy()),h.X(o,o),h.contains(b)&&(x=u.jd.Zd(m,b,0),x!=0)))return!1;g||(!u.Fg.Ol(e,r.ea()-1)||e.Cb!=null&&e.Cb.Gb!=null?p=e:(p=new u.Ea,e.copyTo(p),p.hj(1)),g=!0),r.K()!=1736||_||(_=r,!u.Fg.Ol(_,e.ea()-1)||r.Cb!=null&&r.Cb.Gb!=null?m=r:(m=new u.Ea,_.copyTo(m),m.hj(1)),_=!0)}while(c.next());return!0},n.Ac=function(e,r,o){var a=new u.l;return a.L(e),a.X(o,o),a.contains(r)},n.ns=function(e,r,o){var a=new u.l;return a.L(r),a.X(o,o),r=new u.h,e.fn(r),!a.contains(r)||(e.VI(r),!a.contains(r))||(e.YI(r),!a.contains(r))?!0:(e.gn(r),!a.contains(r))},n.ZH=function(e,r,o){if(e.ea()!=r.ea()||e.I()!=r.I())return!1;var a=new u.h,h=new u.h,c=!0;o*=o;for(var p=0;p<e.ea();p++){if(e.Wc(p)!=r.Wc(p)){c=!1;break}for(var m=e.Ca(p);m<r.Wc(p);m++)if(e.D(m,a),r.D(m,h),u.h.zc(a,h)>o){c=!1;break}if(!c)break}return!!c},n.eU=function(e,r,o){if(e.I()!=r.I())return!1;var a=new u.h,h=new u.h,c=!0;o*=o;for(var p=0;p<e.I();p++)if(e.D(p,a),r.D(p,h),u.h.zc(a,h)>o){c=!1;break}return!!c},n.TA=function(e,r,o,a,h,c){var p=!1;if(e.I()>r.I()){a&&(a=!1,p=!0);var m=r}else m=e,e=r;if(r=null,h||c||p){r=new u.rn(e.I());for(var g=0;g<e.I();g++)r.write(g,0)}g=new u.l;var _=new u.l,b=new u.l;m.A(g),e.A(_),g.X(o,o),_.X(o,o),b.L(g),b.Fa(_),_=new u.h;for(var x=new u.h,P=!0,O=u.ua.jE(e,b),L=O.getIterator(),j=o*o,D=0;D<m.I();D++)if(m.D(D,_),b.contains(_)){var k=!1;g.L(_.x,_.y,_.x,_.y),L.Zi(g,o);for(var $=L.next();$!=-1&&($=O.ka($),e.D($,x),!(u.h.zc(_,x)<=j&&((h||c||p)&&r.write($,1),k=!0,a)));$=L.next());if(!k&&(P=!1,h||a))return!1}else{if(h||a)return!1;P=!1}if(c&&P)return!1;if(a)return!0;for(g=0;g<e.I();g++)if(r.read(g)==1){if(c)return!0}else if(h||p)return!1;return!c},n.bI=function(e,r,o){if(e.I()>r.I())var a=r;else a=e,e=r;r=new u.l;var h=new u.l,c=new u.l;a.A(r),e.A(h),r.X(o,o),h.X(o,o),c.L(r),c.Fa(h),h=new u.h;for(var p=new u.h,m=o*o,g=u.ua.jE(e,c),_=g.getIterator(),b=0;b<a.I();b++)if(a.D(b,h),c.contains(h)){r.L(h.x,h.y,h.x,h.y),_.Zi(r,o);for(var x=_.next();x!=-1;x=_.next())if(e.D(g.ka(x),p),u.h.zc(h,p)<=m)return!0}return!1},n.Rz=function(e,r,o,a){return n.Am(e,r,o,a)&&n.Am(r,e,o,a)},n.Am=function(e,r,o,a){function h(lt,ot){return b.LE(lt,ot)}var c=!0,p=[0,0],m=[0,0],g=0,_=new u.ja(0),b=new n,x,P=new u.l,O=new u.l,L=new u.l;e.A(P),r.A(O),P.X(o,o),O.X(o,o),L.L(P),L.Fa(O),e=e.Ha(),O=r.Ha();var j=null,D=j=null,k=r.Cb;for(k!=null?(j=k.Gb,D=k.Bo,j==null&&(j=u.ua.lj(r,L))):j=u.ua.lj(r,L),r=j.getIterator(),k=null,D!=null&&(k=D.getIterator());e.ab();)for(;e.Ia();){var $=!1,G=e.ia();if(G.A(P),!P.isIntersecting(L))return!1;if(k!=null&&(k.Zi(P,o),k.next()==-1))return c=!1;for(D=G.Rb(),r.Wo(G,o),x=r.next();x!=-1;x=r.next()){O.Wb(j.ka(x)),x=O.ia();var B=G.Fa(x,null,p,m,o);if(B==2&&(!a||m[0]<=m[1])){B=p[0];var K=p[1],X=m[0],et=m[1];if(B*D<=o&&(1-K)*D<=o){$=!0,g=0,_.resize(0),b.th.length=0;var tt=e.xb();for(X=!0;X;){if(e.Ia()){if(G=e.ia(),D=G.Rb(),B=G.Fa(x,null,p,m,o),B==2&&(!a||m[0]<=m[1])&&(B=p[0],K=p[1],B*D<=o&&(1-K)*D<=o)){tt=e.xb();continue}if(O.Ia()&&(x=O.ia(),B=G.Fa(x,null,p,m,o),B==2&&(!a||m[0]<=m[1])&&(B=p[0],K=p[1],B*D<=o&&(1-K)*D<=o))){tt=e.xb();continue}}X=!1}tt!=e.xb()&&(e.Wb(tt),e.ia());break}else tt=e.xb(),x=C.construct(tt,e.gb,B,K,O.xb(),O.gb,X,et),b.th.push(x),_.add(_.size)}}if(!$){if(g==b.th.length)return!1;for(1<_.size-g&&_.Wd(g,_.size,h),$=0;g<b.th.length;g++)if(x=b.th[_.get(g)],!(x.Mj<$&&x.Ui<$)){if(D*(x.Mj-$)>o)return!1;if($=x.Ui,D*(1-$)<=o||$==1)break}if(D*(1-$)>o)return!1;g=0,_.resize(0),b.th.length=0}}return c},n.QG=function(e,r,o){if(1>n.Sz(e,r,o,null))return!1;var a=new u.l,h=new u.l;e.A(a),r.A(h);var c=n.ns(a,h,o);return a=n.ns(h,a,o),c&&a?!0:c&&!a?!n.Am(r,e,o,!1):a&&!c?!n.Am(e,r,o,!1):!n.Am(e,r,o,!1)&&!n.Am(r,e,o,!1)},n.Sz=function(e,r,o,a){function h(Ut,te){return P.LE(Ut,te)}if(e.sz()>r.sz())var c=r,p=e;else c=e,p=r;e=c.Ha(),r=p.Ha();var m=[0,0],g=[0,0],_=-1,b=0,x=new u.ja(0),P=new n,O=new u.l,L=new u.l,j=new u.l;c.A(O),p.A(L),O.X(o,o),L.X(o,o),j.L(O),j.Fa(L),c=null,a!=null&&(c=new u.h);var D=L=L=null,k=p.Cb;for(k!=null?(L=k.Gb,D=k.Bo,L==null&&(L=u.ua.lj(p,j))):L=u.ua.lj(p,j),p=L.getIterator(),k=null,D!=null&&(k=D.getIterator());e.ab();)for(D=0;e.Ia();){var $=e.ia();if($.A(O),O.isIntersecting(j)){if(k!=null&&(k.Zi(O,o),k.next()==-1))continue;var G=$.Rb();p.Wo($,o);for(var B=p.next();B!=-1;B=p.next()){var K=L.ka(B);r.Wb(K);var X=r.ia(),et=X.Rb(),tt=$.Fa(X,null,m,g,o);if(0<tt){B=m[0],_=g[0];var lt=tt==2?m[1]:NaN,ot=tt==2?g[1]:NaN;if(tt==2){if(G*(lt-B)>o)return _=1;var yt=G*(lt-B);if(r.Ia()){if(X=r.ia(),tt=$.Fa(X,null,m,null,o),tt==2){tt=m[0];var vt=m[1];if(tt=G*(vt-tt),yt+tt>o)return _=1}r.Wb(K),r.ia()}if(!r.xm()){if(r.ni(),X=r.ni(),tt=$.Fa(X,null,m,null,o),tt==2&&(tt=m[0],vt=m[1],tt=G*(vt-tt),yt+tt>o))return _=1;r.Wb(K),r.ia()}if(e.Ia()){if(K=e.xb(),$=e.ia(),tt=$.Fa(X,null,m,null,o),tt==2&&(tt=m[0],vt=m[1],tt=G*(vt-tt),yt+tt>o))return _=1;e.Wb(K),e.ia()}if(!e.xm()){if(K=e.xb(),e.ni(),$=e.ni(),tt=$.Fa(X,null,m,null,o),tt==2&&(tt=m[0],vt=m[1],tt=et*(vt-tt),yt+tt>o))return _=1;e.Wb(K),e.ia()}X=C.construct(e.xb(),e.gb,B,lt,r.xb(),r.gb,_,ot),P.th.push(X),x.add(x.size)}_=0,a!=null&&($.ic(B,c),a.add(c.x),a.add(c.y))}}if(b<P.th.length){for(x.Wd(b,x.size,h),$=0,B=P.th[x.get(b)].Om;b<P.th.length;b++)if(X=P.th[x.get(b)],!(X.Mj<$&&X.Ui<$))if(G*(X.Mj-$)>o)D=G*(X.Ui-X.Mj),$=X.Ui,B=X.Om;else{if(X.Om!=B?(D=G*(X.Ui-X.Mj),B=X.Om):D+=G*(X.Ui-X.Mj),D>o)return _=1;if($=X.Ui,$==1)break}G*(1-$)>o&&(D=0),b=0,x.resize(0),P.th.length=0}}}return _},n.OG=function(e,r,o){var a=e.Ha(),h=r.Ha();for(e=new u.am(e,r,o,!1);e.next();){r=e.pl();var c=e.jl();if(a.Wb(r),h.Wb(c),r=a.ia(),0<h.ia().Fa(r,null,null,null,o))return!0}return!1},n.PG=function(e,r,o,a){var h=e.Ha(),c=new u.l,p=new u.l,m=new u.l;e.A(c),r.A(p),c.X(o,o),c.contains(p),p.X(o,o),m.L(c),m.Fa(p),c=e.Cb,c!=null?(c=c.Gb,c==null&&(c=u.ua.lj(e,m))):c=u.ua.lj(e,m),e=c.getIterator();for(var g=new u.h,_=new u.h,b=o*o,x=0;x<r.I();x++)if(r.D(x,g),m.contains(g)){p.L(g.x,g.y,g.x,g.y),e.Zi(p,o);for(var P=!1,O=e.next();O!=-1;O=e.next())if(h.Wb(c.ka(O)),O=h.ia(),O.ic(O.ge(g,!1),_),u.h.zc(_,g)<=b){P=!0;break}if(a){if(!P)return!1}else if(P)return!0}return!!a},n.Tz=function(e,r,o){var a=new u.h,h=o*o,c=e.Ha();if(e=e.Cb,e!=null&&(e=e.Gb,e!=null)){var p=new u.l;for(p.L(r),o=e.HF(p,o),p=o.next();p!=-1;p=o.next())if(c.Wb(e.ka(p)),c.Ia()){p=c.ia();var m=p.ge(r,!1);if(p.ic(m,a),u.h.zc(r,a)<=h)return!0}return!1}for(e=new u.l;c.ab();)for(;c.Ia();)if(p=c.ia(),p.A(e),e.X(o,o),e.contains(r)&&(m=p.ge(r,!1),p.ic(m,a),u.h.zc(r,a)<=h))return!0;return!1},n.MG=function(e,r,o){return n.Tz(e,r,o)&&!n.Uz(e,r,o)},n.Uz=function(e,r,o){return e=e.ng(),!n.lt(e,r,o)},n.NG=function(e,r,o){if(e.vm()){var a=new u.zb(r.v,r.G,r.v,r.H),h=new u.zb(r.v,r.H,r.C,r.H),c=new u.zb(r.C,r.H,r.C,r.G);for(r=new u.zb(r.C,r.G,r.v,r.G),e=e.Ha();e.ab();)for(;e.Ia();){var p=e.ia();if(p.isIntersecting(a,o)||p.isIntersecting(h,o)||p.isIntersecting(c,o)||p.isIntersecting(r,o))return!0}}else{a=new u.l,a.L(r),a.X(o,o),o=e.vb(0),h=new u.h,c=new u.h,r=new u.h,p=new u.h;for(var m=0,g=e.ea();m<g;m++)for(var _=!0,b=e.Ca(m),x=e.Wc(m);b<x;b++)if(_)o.uc(2*b,c),_=!1;else{if(o.uc(2*b,h),r.N(c),p.N(h),a.uy(r,p)!=0)return!0;c.N(h)}}return!1},n.rc=function(e,r,o){var a=e.K(),h=r.K();if(u.ba.zj(a)){var c=e.Cb;if(c!=null&&(c=c.Hk,c!=null))if(h==33){var p=r.D();if(p=c.Uo(p.x,p.y),p==1)return 1;if(p==0)return 4}else{if(p=new u.l,r.A(p),p=c.To(p),p==1)return 1;if(p==0)return 4;if(o&&u.ba.zj(h)&&n.CE(r,c))return 1073741824}}if(u.ba.zj(h)&&(c=r.Cb,c!=null&&(c=c.Hk,c!=null)))if(a==33){if(e=e.D(),p=c.Uo(e.x,e.y),p==1)return 2;if(p==0)return 4}else{if(r=new u.l,e.A(r),p=c.To(r),p==1)return 2;if(p==0)return 4;if(o&&u.ba.zj(a)&&n.CE(e,c))return 1073741824}return 0},n.CE=function(e,r){for(var o=e.I(),a=new u.h,h=0;h<o;h++)if(e.D(h,a),r.Uo(a.x,a.y)==1)return!0;return!1},n.DI=function(e,r,o,a){for(var h=1<=e.qm(0)&&1<=r.qm(0),c=e.Ha(),p=r.Ha(),m=[0,0],g=[0,0],_=new u.am(e,r,o,!1),b=!1;_.next();){var x=_.pl(),P=_.jl();if(c.Wb(x),p.Wb(P),x=c.ia(),P=p.ia().Fa(x,null,g,m,o),P==2){if(b=m[0],P=m[1],x=x.Rb(),h&&(P-b)*x>o)return!1;b=!0}else if(P!=0){if(b=m[0],x=g[0],0<b&&1>b&&0<x&&1>x)return!1;b=!0}}return b?(c=new u.l,p=new u.l,h=new u.l,e.A(c),r.A(p),c.X(1e3*o,1e3*o),p.X(1e3*o,1e3*o),h.L(c),h.Fa(p),10<e.I()&&(e=u.Vd.clip(e,h,o,0),e.B())||10<r.I()&&(r=u.Vd.clip(r,h,o,0),r.B())?!1:u.cm.st(e,r,o,"F********",a)):!1},n.AI=function(e,r,o,a){var h=1<=e.qm(0)&&1<=r.qm(0),c=new u.l,p=new u.l,m=new u.l;e.A(c),r.A(p);for(var g=!1,_=n.ns(c,p,o),b=n.ns(p,c,o),x=e.Ha(),P=r.Ha(),O=[0,0],L=[0,0],j=new u.am(e,r,o,!1);j.next();){var D=j.pl(),k=j.jl();if(x.Wb(D),P.Wb(k),k=x.ia(),D=P.ia().Fa(k,null,L,O,o),D==2){D=O[0];var $=O[1];if(k=k.Rb(),h&&($-D)*k>o&&(g=!0,_&&b))return!0}else if(D!=0&&(D=O[0],k=L[0],0<D&&1>D&&0<k&&1>k))return!0}if(h=new u.l,x=new u.l,h.L(c),h.X(1e3*o,1e3*o),x.L(p),x.X(1e3*o,1e3*o),m.L(h),m.Fa(x),c="",c=g?c+"**":c+"T*",_){if(10<r.I()&&(r=u.Vd.clip(r,m,o,0),r.B()))return!1;c+="****"}else c+="T***";if(b){if(10<e.I()&&(e=u.Vd.clip(e,m,o,0),e.B()))return!1;c+="***"}else c+="T**";return u.cm.st(e,r,o,c.toString(),a)},n.wI=function(e,r,o,a){var h=[!1],c=n.uI(e,r,o,h);return h[0]?c:(h=new u.l,r.A(h),h.X(1e3*o,1e3*o),10<e.I()&&(e=u.Vd.clip(e,h,o,0),e.B())?!1:u.cm.Uw(e,r,o,a))},n.uI=function(e,r,o,a){a[0]=!1;for(var h=e.Ha(),c=r.Ha(),p=[0,0],m=[0,0],g=new u.am(e,r,o,!1),_=!1;g.next();){var b=g.pl(),x=g.jl();if(h.Wb(b,-1),c.Wb(x,-1),b=h.ia(),b=c.ia().Fa(b,null,m,p,o),b!=0&&(_=!0,b==1&&(b=p[0],x=m[0],0<b&&1>b&&0<x&&1>x)))return a[0]=!0,!1}if(!_){for(a[0]=!0,p=new u.l,e.A(p),p.X(o,o),g=e,_=!1,m=new u.l,a=0,h=r.ea();a<h;a++)if(0<r.Ka(a)){if(r.Tj(a,m),p.isIntersecting(m)){if(c=r.Oa(r.Ca(a)),c=u.Fg.ym(g,c,0),c==0)return!1}else return!1;_||(!u.Fg.Ol(e,r.ea()-1)||e.Cb!=null&&e.Cb.Gb!=null?g=e:(c=new u.Ea,e.copyTo(c),c.hj(1),g=c),_=!0)}if(e.ea()==1||r.K()==1607)return!0;for(p=new u.l,r.A(p),p.X(o,o),m=r,g=!1,o=new u.l,a=0,h=e.ea();a<h;a++)if(0<e.Ka(a)){if(e.Tj(a,o),p.isIntersecting(o)&&(c=e.Oa(e.Ca(a)),c=u.Fg.ym(m,c,0),c==1))return!1;g||(!u.Fg.Ol(r,e.ea()-1)||r.Cb!=null&&r.Cb.Gb!=null?m=r:(c=new u.Ea,r.copyTo(c),c.hj(1),m=c),g=!0)}return!0}return!1},n.EI=function(e,r,o,a){for(var h=e.Ha(),c=r.Ha(),p=[0,0],m=[0,0],g=new u.am(e,r,o,!1),_=!1;g.next();){var b=g.pl(),x=g.jl();if(h.Wb(b),c.Wb(x),b=h.ia(),b=c.ia().Fa(b,null,m,p,o),b==2)_=!0;else if(b!=0){if(_=p[0],b=m[0],0<_&&1>_&&0<b&&1>b)return!1;_=!0}}return _?(c=new u.l,p=new u.l,h=new u.l,e.A(c),r.A(p),c.X(1e3*o,1e3*o),p.X(1e3*o,1e3*o),h.L(c),h.Fa(p),10<e.I()&&(e=u.Vd.clip(e,h,o,0),e.B())||10<r.I()&&(r=u.Vd.clip(r,h,o,0),r.B())?!1:u.cm.bn(e,r,o,"F********",a)):!1},n.yI=function(e,r,o,a){for(var h=e.Ha(),c=r.Ha(),p=[0,0],m=[0,0],g=new u.am(e,r,o,!1),_=!1;g.next();){var b=g.pl(),x=g.jl();if(h.Wb(b),c.Wb(x),b=h.ia(),b=c.ia().Fa(b,null,m,p,o),b==2)_=!0;else if(b!=0){if(_=p[0],b=m[0],0<_&&1>_&&0<b&&1>b)return!0;_=!0}}return _?(c=new u.l,p=new u.l,m=new u.l,g=new u.l,h=new u.l,e.A(c),r.A(p),n.ns(p,c,o)?(m.L(c),m.X(1e3*o,1e3*o),g.L(p),g.X(1e3*o,1e3*o),h.L(m),h.Fa(g),10<e.I()&&(e=u.Vd.clip(e,h,o,0),e.B())||10<r.I()&&(r=u.Vd.clip(r,h,o,0),r.B())?!1:o=u.cm.bn(e,r,o,"T********",a)):o=u.cm.bn(e,r,o,"T*****T**",a)):!1},n.xI=function(e,r,o,a){var h=[!1],c=n.uI(e,r,o,h);return h[0]?c:(h=new u.l,r.A(h),h.X(1e3*o,1e3*o),10<e.I()&&(e=u.Vd.clip(e,h,o,0),e.B())?!1:u.cm.aB(e,r,o,a))},n.vI=function(e,r,o){return u.jd.Zd(e,r,o)==1},n.CI=function(e,r,o){return u.jd.Zd(e,r,o)==2},n.lt=function(e,r,o){var a=new u.h;o*=o;for(var h=0;h<e.I();h++)if(e.D(h,a),u.h.zc(a,r)<=o)return!1;return!0},n.prototype.LE=function(e,r){return e=this.th[e],r=this.th[r],e.Om<r.Om||e.Om==r.Om&&(e.rw<r.rw||e.rw==r.rw&&(e.Mj<r.Mj||e.Mj==r.Mj&&(e.Ui<r.Ui||e.Ui==r.Ui&&e.wH<r.wH)))?-1:1},n}();u.vd=y}(U||(U={})),function(u){var C;(function(n){n[n.InteriorInterior=0]="InteriorInterior",n[n.InteriorBoundary=1]="InteriorBoundary",n[n.InteriorExterior=2]="InteriorExterior",n[n.BoundaryInterior=3]="BoundaryInterior",n[n.BoundaryBoundary=4]="BoundaryBoundary",n[n.BoundaryExterior=5]="BoundaryExterior",n[n.ExteriorInterior=6]="ExteriorInterior",n[n.ExteriorBoundary=7]="ExteriorBoundary",n[n.ExteriorExterior=8]="ExteriorExterior"})(C||(C={}));var y;(function(n){n[n.AreaAreaPredicates=0]="AreaAreaPredicates",n[n.AreaLinePredicates=1]="AreaLinePredicates",n[n.LineLinePredicates=2]="LineLinePredicates",n[n.AreaPointPredicates=3]="AreaPointPredicates",n[n.LinePointPredicates=4]="LinePointPredicates",n[n.PointPointPredicates=5]="PointPointPredicates"})(y||(y={})),C=function(){function n(){this.me=0,this.j=new u.ku,this.J=[0,0,0,0,0,0,0,0,0],this.$a=[0,0,0,0,0,0,0,0,0],this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Um=this.xw=-1}return n.tB=function(e,r,o,a,h){if(a.length!=9)throw u.i.ga("relation string length has to be 9 characters");for(var c=0;9>c;c++){var p=a.charAt(c);if(p!="*"&&p!="T"&&p!="F"&&p!="0"&&p!="1"&&p!="2")throw u.i.ga("relation string")}if(c=this.HR(a,e.Eb(),r.Eb()),c!=0)return u.vd.uB(e,r,o,c,h);c=new u.l,e.A(c),p=new u.l,r.A(p);var m=new u.l;if(m.L(c),m.$b(p),o=u.ua.Xd(o,m,!1),e=this.RE(e,o),r=this.RE(r,o),e.B()||r.B())return this.pW(e,r,a);switch(c=r.K(),p=!1,e.K()){case 1736:switch(c){case 1736:p=this.st(e,r,o,a,h);break;case 1607:p=this.bn(e,r,o,a,h);break;case 33:p=this.rt(e,r,o,a);break;case 550:p=this.qt(e,r,o,a,h)}break;case 1607:switch(c){case 1736:p=this.bn(r,e,o,this.aq(a),h);break;case 1607:p=this.bB(e,r,o,a,h);break;case 33:p=this.ut(e,r,o,a,h);break;case 550:p=this.tt(e,r,o,a,h)}break;case 33:switch(c){case 1736:p=this.rt(r,e,o,this.aq(a));break;case 1607:p=this.ut(r,e,o,this.aq(a),h);break;case 33:p=this.VU(e,r,o,a);break;case 550:p=this.mt(r,e,o,this.aq(a))}break;case 550:switch(c){case 1736:p=this.qt(r,e,o,this.aq(a),h);break;case 1607:p=this.tt(r,e,o,this.aq(a),h);break;case 550:p=this.UA(e,r,o,a,h);break;case 33:p=this.mt(e,r,o,a)}break;default:p=!1}return p},n.st=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.sJ();var p=new u.l,m=new u.l;return e.A(p),r.A(m),a=!1,u.vd.fk(p,m,o)&&(c.Eu(e,r),a=!0),a||(p=u.vd.rc(e,r,!1),p==4?(c.Eu(e,r),a=!0):p==1?(c.hy(r),a=!0):p==2&&(c.UD(e),a=!0)),a||(a=new u.hd,e=a.Ib(e),r=a.Ib(r),c.Yo(a,o,h),c.Dp(e,r),c.j.Wg()),n.hg(c.J,c.Yc)},n.Uw=function(e,r,o,a){var h=new n;h.$i(),h.dj("T*****F**"),h.sJ();var c=new u.l,p=new u.l;e.A(c),r.A(p);var m=!1;return u.vd.fk(c,p,o)&&(h.Eu(e,r),m=!0),m||(c=u.vd.rc(e,r,!1),c==4?(h.Eu(e,r),m=!0):c==1?(h.hy(r),m=!0):c==2&&(h.UD(e),m=!0)),m?c=this.hg(h.J,h.Yc):(m=new u.hd,e=m.Ib(e),c=m.Ib(r),u.Vk.W(m,o,a,!1),o=m.Ke(c).ng(),m.Ip(0,!0,!0),u.tn.W(m,e,-1,!1,a),m.I(e)==0?!1:(u.tn.W(m,c,-1,!1,a),h.gr(m,a),r=m.I(c)==0,!r&&(h.Dp(e,c),h.j.Wg(),c=this.hg(h.J,h.Yc),!c)?c:(e=m.Ke(e),m=new u.hd,e=m.Ib(e),c=m.Ib(o),h.gr(m,a),h.me=0,h.$i(),h.dj(r?"T*****F**":"******F**"),h.DB(),h.Dp(e,c),h.j.Wg(),c=this.hg(h.J,h.Yc))))},n.bn=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.DB();var p=new u.l,m=new u.l;return e.A(p),r.A(m),a=!1,u.vd.fk(p,m,o)&&(c.Fu(e,r),a=!0),a||(p=u.vd.rc(e,r,!1),p==4?(c.Fu(e,r),a=!0):p==1&&(c.VD(r),a=!0)),a||(a=new u.hd,e=a.Ib(e),r=a.Ib(r),c.Yo(a,o,h),c.mh=c.j.Fp(),n.Lw(r,c.j,c.mh),c.Dp(e,r),c.j.Gp(c.mh),c.j.Wg()),n.hg(c.J,c.Yc)},n.aB=function(e,r,o,a){var h=new n;h.$i(),h.dj("T*****F**"),h.DB();var c=new u.l,p=new u.l;e.A(c),r.A(p);var m=!1;return u.vd.fk(c,p,o)&&(h.Fu(e,r),m=!0),m||(c=u.vd.rc(e,r,!1),c==4?(h.Fu(e,r),m=!0):c==1&&(h.VD(r),m=!0)),m?o=this.hg(h.J,h.Yc):(m=new u.hd,e=m.Ib(e),r=m.Ib(r),h.Yo(m,o,a),m.I(e)==0?!1:(h.Dp(e,r),h.j.Wg(),o=this.hg(h.J,h.Yc)))},n.qt=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.tJ();var p=new u.l,m=new u.l;return e.A(p),r.A(m),a=!1,u.vd.fk(p,m,o)&&(c.Gu(e),a=!0),a||(p=u.vd.rc(e,r,!1),p==4?(c.Gu(e),a=!0):p==1&&(c.uN(),a=!0)),a||(a=new u.hd,e=a.Ib(e),r=a.Ib(r),c.Yo(a,o,h),c.By(e,r),c.j.Wg()),n.hg(c.J,c.Yc)},n.bB=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.$W(),a=new u.l;var p=new u.l;e.A(a),r.A(p);var m=!1;return u.vd.fk(a,p,o)&&(c.KG(e,r),m=!0),m||u.vd.rc(e,r,!1)!=4||(c.KG(e,r),m=!0),m||(a=new u.hd,e=a.Ib(e),r=a.Ib(r),c.Yo(a,o,h),c.$h=c.j.Fp(),c.mh=c.j.Fp(),n.Lw(e,c.j,c.$h),n.Lw(r,c.j,c.mh),c.Dp(e,r),c.j.Gp(c.$h),c.j.Gp(c.mh),c.j.Wg()),n.hg(c.J,c.Yc)},n.tt=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.HJ(),a=new u.l;var p=new u.l;e.A(a),r.A(p);var m=!1;return u.vd.fk(a,p,o)&&(c.Qz(e),m=!0),m||u.vd.rc(e,r,!1)!=4||(c.Qz(e),m=!0),m||(a=new u.hd,e=a.Ib(e),r=a.Ib(r),c.Yo(a,o,h),c.$h=c.j.Fp(),n.Lw(e,c.j,c.$h),c.By(e,r),c.j.Gp(c.$h),c.j.Wg()),n.hg(c.J,c.Yc)},n.UA=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.MJ(),a=new u.l;var p=new u.l;e.A(a),r.A(p);var m=!1;return u.vd.fk(a,p,o)&&(c.tI(),m=!0),m||(a=new u.hd,e=a.Ib(e),r=a.Ib(r),c.Yo(a,o,h),c.By(e,r),c.j.Wg()),n.hg(c.J,c.Yc)},n.rt=function(e,r,o,a){var h=new n;h.$i(),h.dj(a),h.tJ();var c=new u.l;e.A(c),r=r.D();var p=!1;return u.vd.Tw(r,c,o)&&(h.Gu(e),p=!0),p||(o=u.jd.Zd(e,r,o),o==1?(h.J[0]=0,h.J[2]=2,h.J[3]=-1,h.J[5]=1,h.J[6]=-1):o==2?(h.J[6]=-1,e.He()!=0?(h.J[0]=-1,h.J[3]=0,h.J[2]=2,h.J[5]=1):(h.J[0]=0,h.J[3]=-1,h.J[5]=-1,o=new u.l,e.A(o),h.J[2]=o.da()==0&&o.S()==0?-1:1)):h.Gu(e)),this.hg(h.J,a)},n.ut=function(e,r,o,a,h){var c=new n;c.$i(),c.dj(a),c.HJ();var p=new u.l;e.A(p),a=r.D();var m=!1;if(u.vd.Tw(a,p,o)&&(c.Qz(e),m=!0),!m){p=null;var g=m=!1;(c.fa[0]||c.fa[6])&&(u.vd.Tz(e,a,o)?(c.fa[0]&&(p=u.si.im(e,h),g=!u.vd.lt(p,a,o),m=!0,c.J[0]=g?-1:0),c.J[6]=-1):(c.J[0]=-1,c.J[6]=0)),c.fa[3]&&(p!=null&&p.B()?c.J[3]=-1:(m||(p==null&&(p=u.si.im(e,h)),g=!u.vd.lt(p,a,o),m=!0),c.J[3]=g?0:-1)),c.fa[5]&&(p!=null&&p.B()?c.J[5]=-1:m&&!g?c.J[5]=0:(p==null&&(p=u.si.im(e,h)),h=u.vd.Pw(p,r,o),c.J[5]=h?-1:0)),c.fa[2]&&(e.Rb()!=0?c.J[2]=1:(h=new u.ee(e.description),h.Gd(e,0,e.I()),e=u.vd.Pw(h,r,o),c.J[2]=e?-1:0))}return this.hg(c.J,c.Yc)},n.mt=function(e,r,o,a){var h=new n;h.$i(),h.dj(a),h.MJ();var c=new u.l;e.A(c),r=r.D();var p=!1;if(u.vd.Tw(r,c,o)&&(h.tI(),p=!0),!p){c=!1,p=!0,o*=o;for(var m=0;m<e.I();m++){var g=e.Oa(m);if(u.h.zc(g,r)<=o?c=!0:p=!1,c&&!p)break}c?(h.J[0]=0,h.J[2]=p?-1:0,h.J[6]=-1):(h.J[0]=-1,h.J[2]=0,h.J[6]=0)}return n.hg(h.J,a)},n.VU=function(e,r,o,a){e=e.D(),r=r.D();for(var h=[],c=0;9>c;c++)h[c]=-1;return u.h.zc(e,r)<=o*o?h[0]=0:(h[2]=0,h[6]=0),h[8]=2,n.hg(h,a)},n.hg=function(e,r){for(var o=0;9>o;o++)switch(r.charAt(o)){case"T":if(e[o]==-1)return!1;break;case"F":if(e[o]!=-1)return!1;break;case"0":if(e[o]!=0)return!1;break;case"1":if(e[o]!=1)return!1;break;case"2":if(e[o]!=2)return!1}return!0},n.pW=function(e,r,o){var a=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(e.B()&&r.B()){for(var h=0;9>h;h++)a[h]=-1;return this.hg(a,o)}return h=!1,e.B()&&(e=r,h=!0),a[0]=-1,a[1]=-1,a[3]=-1,a[4]=-1,a[6]=-1,a[7]=-1,a[8]=2,r=e.K(),u.ba.Ic(r)?r==1736?e.He()!=0?(a[2]=2,a[5]=1):(a[5]=-1,r=new u.l,e.A(r),a[2]=r.da()==0&&r.S()==0?0:1):(r=e.Rb()!=0,a[2]=r?1:0,a[5]=u.si.cq(e)?0:-1):(a[2]=0,a[5]=-1),h&&this.qK(a),this.hg(a,o)},n.HR=function(e,r,o){return n.ZP(e)?3:n.PP(e)?4:n.ZX(e,r,o)?8:n.xP(e,r,o)?16:n.$O(e)?1:n.zU(e,r,o)?32:0},n.ZP=function(e){return e.charAt(0)=="T"&&e.charAt(1)=="*"&&e.charAt(2)=="F"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="F"&&e.charAt(6)=="F"&&e.charAt(7)=="F"&&e.charAt(8)=="*"},n.PP=function(e){return e.charAt(0)=="F"&&e.charAt(1)=="F"&&e.charAt(2)=="*"&&e.charAt(3)=="F"&&e.charAt(4)=="F"&&e.charAt(5)=="*"&&e.charAt(6)=="*"&&e.charAt(7)=="*"&&e.charAt(8)=="*"},n.ZX=function(e,r,o){return r==0&&o==0?!1:(r!=2||o!=2)&&(e.charAt(0)=="F"&&e.charAt(1)=="*"&&e.charAt(2)=="*"&&e.charAt(3)=="T"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="*"&&e.charAt(7)=="*"&&e.charAt(8)=="*"||r==1&&o==1&&e.charAt(0)=="F"&&e.charAt(1)=="T"&&e.charAt(2)=="*"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="*"&&e.charAt(7)=="*"&&e.charAt(8)=="*")?!0:o!=0&&e.charAt(0)=="F"&&e.charAt(1)=="*"&&e.charAt(2)=="*"&&e.charAt(3)=="*"&&e.charAt(4)=="T"&&e.charAt(5)=="*"&&e.charAt(6)=="*"&&e.charAt(7)=="*"&&e.charAt(8)=="*"},n.xP=function(e,r,o){return r>o?e.charAt(0)=="T"&&e.charAt(1)=="*"&&e.charAt(2)=="*"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="T"&&e.charAt(7)=="*"&&e.charAt(8)=="*":r==1&&o==1&&e.charAt(0)=="0"&&e.charAt(1)=="*"&&e.charAt(2)=="*"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="*"&&e.charAt(7)=="*"&&e.charAt(8)=="*"},n.$O=function(e){return e.charAt(0)=="T"&&e.charAt(1)=="*"&&e.charAt(2)=="*"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="F"&&e.charAt(7)=="F"&&e.charAt(8)=="*"},n.zU=function(e,r,o){if(r==o){if(r!=1)return e.charAt(0)=="T"&&e.charAt(1)=="*"&&e.charAt(2)=="T"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="T"&&e.charAt(7)=="*"&&e.charAt(8)=="*";if(e.charAt(0)=="1"&&e.charAt(1)=="*"&&e.charAt(2)=="T"&&e.charAt(3)=="*"&&e.charAt(4)=="*"&&e.charAt(5)=="*"&&e.charAt(6)=="T"&&e.charAt(7)=="*"&&e.charAt(8)=="*")return!0}return!1},n.Lw=function(e,r,o){e=r.Ma(e);for(var a=r.Oe;a!=-1;a=r.Tf(a))if(r.yd(a)&e){var h=r.Je(a);if(h==-1)r.pn(a,o,0);else{var c=h,p=0;do r.fh(c)&e&&p++,c=r.kc(r.ya(c));while(c!=h);r.pn(a,o,p)}}},n.aq=function(e){var r=""+e.charAt(0);return r+=e.charAt(3),r+=e.charAt(6),r+=e.charAt(1),r+=e.charAt(4),r+=e.charAt(7),r+=e.charAt(2),r+=e.charAt(5),r+=e.charAt(8)},n.prototype.$i=function(){for(var e=0;9>e;e++)this.J[e]=-2,this.$a[e]=-2},n.qK=function(e){var r=e[1],o=e[2],a=e[5];e[1]=e[3],e[2]=e[6],e[5]=e[7],e[3]=r,e[6]=o,e[7]=a},n.prototype.dj=function(e){for(this.Yc=e,e=0;9>e;e++)this.Yc.charAt(e)!="*"?(this.fa[e]=!0,this.me++):this.fa[e]=!1},n.prototype.PJ=function(){for(var e=0;9>e;e++)this.fa[e]&&this.J[e]==-2&&(this.J[e]=-1,this.fa[e]=!1)},n.prototype.qc=function(e){return this.J[e]==-2?!1:this.J[e]==-1?(this.fa[e]=!1,this.me--,!0):this.Yc.charAt(e)!="T"&&this.Yc.charAt(e)!="F"?this.J[e]<this.$a[e]?!1:(this.fa[e]=!1,this.me--,!0):(this.fa[e]=!1,this.me--,!0)},n.prototype.sJ=function(){this.xw=0,this.$a[0]=2,this.$a[1]=1,this.$a[2]=2,this.$a[3]=1,this.$a[4]=1,this.$a[5]=1,this.$a[6]=2,this.$a[7]=1,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.me--)},n.prototype.DB=function(){this.xw=1,this.Um=3,this.$a[0]=1,this.$a[1]=0,this.$a[2]=2,this.$a[3]=1,this.$a[4]=0,this.$a[5]=1,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.me--)},n.prototype.$W=function(){this.xw=2,this.Um=4,this.$a[0]=1,this.$a[1]=0,this.$a[2]=1,this.$a[3]=0,this.$a[4]=0,this.$a[5]=0,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.me--)},n.prototype.tJ=function(){this.Um=3,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=2,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.me--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.me--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.me--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.me--)},n.prototype.HJ=function(){this.Um=4,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=1,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=0,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.me--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.me--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.me--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.me--)},n.prototype.MJ=function(){this.Um=5,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=0,this.$a[3]=-1,this.$a[4]=-1,this.$a[5]=-1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.me--),this.fa[3]&&(this.J[3]=-1,this.fa[3]=!1,this.me--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.me--),this.fa[5]&&(this.J[5]=-1,this.fa[5]=!1,this.me--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.me--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.me--)},n.prototype.sN=function(e,r,o){var a=!0;return this.fa[0]&&(this.xS(e,r,o),a=a&&this.qc(0)),this.fa[1]&&(this.nG(e,r,1),a=a&&this.qc(1)),this.fa[2]&&(this.oG(e,r,o,2),a=a&&this.qc(2)),this.fa[3]&&(this.nG(e,o,3),a=a&&this.qc(3)),this.fa[4]&&(this.wN(e,r,o),a=a&&this.qc(4)),this.fa[5]&&(this.$D(e,o,5),a=a&&this.qc(5)),this.fa[6]&&(this.oG(e,o,r,6),a=a&&this.qc(6)),this.fa[7]&&(this.$D(e,r,7),a=a&&this.qc(7)),a},n.prototype.Eu=function(e,r){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Hr(e,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5)),this.Hr(r,this.fa[6]?6:-1,this.Yc.charAt(6),this.fa[7]?7:-1,this.Yc.charAt(7))},n.prototype.Hr=function(e,r,o,a,h){(r!=-1||a!=-1)&&(!(o!="T"&&o!="F"&&r!=-1||h!="T"&&h!="F"&&a!=-1)||e.He()!=0?(r!=-1&&(this.J[r]=2),a!=-1&&(this.J[a]=1)):(a!=-1&&(this.J[a]=-1),r!=-1&&(o=new u.l,e.A(o),this.J[r]=o.da()==0&&o.S()==0?0:1)))},n.prototype.hy=function(e){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Hr(e,this.fa[0]?0:-1,this.Yc.charAt(0),this.fa[1]?1:-1,this.Yc.charAt(1))},n.prototype.UD=function(e){this.hy(e),n.qK(this.J)},n.prototype.Fu=function(e,r){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.fa[6]){var o=this.Yc.charAt(6);o=o!="T"&&o!="F"?r.Rb()!=0:!0,this.J[6]=o?1:0}this.fa[7]&&(r=u.si.cq(r),this.J[7]=r?0:-1),this.Hr(e,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))},n.prototype.VD=function(e){if(this.fa[0]){var r=this.Yc.charAt(0);r=r!="T"&&r!="F"?e.Rb()!=0:!0,this.J[0]=r?1:0}this.fa[1]&&(e=u.si.cq(e),this.J[1]=e?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},n.prototype.Gu=function(e){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Hr(e,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))},n.prototype.uN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},n.prototype.KG=function(e,r){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.fa[2]){var o=this.Yc.charAt(2);o=o!="T"&&o!="F"?e.Rb()!=0:!0,this.J[2]=o?1:0}this.fa[5]&&(e=u.si.cq(e),this.J[5]=e?0:-1),this.fa[6]&&(o=this.Yc.charAt(6),o=o!="T"&&o!="F"?r.Rb()!=0:!0,this.J[6]=o?1:0),this.fa[7]&&(r=u.si.cq(r),this.J[7]=r?0:-1)},n.prototype.Qz=function(e){if(this.J[0]=-1,this.J[3]=-1,this.fa[2]){var r=this.Yc.charAt(2);r=r!="T"&&r!="F"?e.Rb()!=0:!0,this.J[2]=r?1:0}this.fa[5]&&(e=u.si.cq(e),this.J[5]=e?0:-1),this.J[6]=0},n.prototype.tI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},n.prototype.tN=function(e,r,o){var a=!0;return this.fa[0]&&(this.yS(e,r),a=a&&this.qc(0)),this.fa[1]&&(this.uS(e,r,o,this.mh),a=a&&this.qc(1)),this.fa[2]&&(this.vS(e,r),a=a&&this.qc(2)),this.fa[3]&&(this.AN(e,r,o,this.mh),a=a&&this.qc(3)),this.fa[4]&&(this.xN(e,r,o,this.mh),a=a&&this.qc(4)),this.fa[5]&&(this.yN(e,r,o),a=a&&this.qc(5)),this.fa[6]&&(this.gQ(e,r),a=a&&this.qc(6)),this.fa[7]&&(this.fQ(e,r,o,this.mh),a=a&&this.qc(7)),a},n.prototype.hT=function(e,r,o){var a=!0;return this.fa[0]&&(this.BS(e,r,o,this.$h,this.mh),a=a&&this.qc(0)),this.fa[1]&&(this.pG(e,r,o,this.$h,this.mh,1),a=a&&this.qc(1)),this.fa[2]&&(this.qG(e,r,o,2),a=a&&this.qc(2)),this.fa[3]&&(this.pG(e,o,r,this.mh,this.$h,3),a=a&&this.qc(3)),this.fa[4]&&(this.CN(e,r,o,this.$h,this.mh),a=a&&this.qc(4)),this.fa[5]&&(this.aE(e,o,this.$h,5),a=a&&this.qc(5)),this.fa[6]&&(this.qG(e,o,r,6),a=a&&this.qc(6)),this.fa[7]&&(this.aE(e,r,this.mh,7),a=a&&this.qc(7)),a},n.prototype.WD=function(e,r,o){var a=!0;return this.fa[0]&&(this.zS(e,r),a=a&&this.qc(0)),this.fa[2]&&(this.wS(e,r),a=a&&this.qc(2)),this.fa[3]&&(this.BN(e,r,o),a=a&&this.qc(3)),this.fa[5]&&(this.zN(e,r),a=a&&this.qc(5)),this.fa[6]&&(this.hQ(e,r),a=a&&this.qc(6)),a},n.prototype.LG=function(e,r,o){var a=!0;return this.fa[0]&&(this.CS(e,r,o,this.$h),a=a&&this.qc(0)),this.fa[2]&&(this.AS(e,o),a=a&&this.qc(2)),this.fa[3]&&(this.EN(e,r,o,this.$h),a=a&&this.qc(3)),this.fa[5]&&(this.DN(e,r,o,this.$h),a=a&&this.qc(5)),this.fa[6]&&(this.iQ(e,r,o),a=a&&this.qc(6)),a},n.prototype.UU=function(e,r,o){var a=!0;return this.fa[0]&&(this.DS(e,r,o),a=a&&this.qc(0)),this.fa[2]&&(this.rG(e,r,o,2),a=a&&this.qc(2)),this.fa[6]&&(this.rG(e,o,r,6),a=a&&this.qc(6)),a},n.prototype.xS=function(e,r,o){this.J[0]!=2&&(e=this.j.af(e),e&r&&e&o&&(this.J[0]=2))},n.prototype.nG=function(e,r,o){if(this.J[o]!=1){var a=this.j.af(this.j.ya(e));this.j.af(e)&r&&a&r&&(this.J[o]=1)}},n.prototype.oG=function(e,r,o,a){this.J[a]!=2&&(e=this.j.af(e),e&r&&!(e&o)&&(this.J[a]=2))},n.prototype.wN=function(e,r,o){if(this.J[4]!=1){var a=this.j.fh(e);a&r&&a&o?this.J[4]=1:this.J[4]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1&&(e=this.j.yd(this.j.vf(e)),e&r&&e&o&&(this.J[4]=0))}},n.prototype.$D=function(e,r,o){if(this.J[o]!=1){var a=this.j.af(this.j.ya(e));!(this.j.af(e)&r)&&!(a&r)&&(this.J[o]=1)}},n.prototype.yS=function(e,r){if(this.J[0]!=1){var o=this.j.af(this.j.ya(e));this.j.af(e)&r&&o&r&&(this.J[0]=1)}},n.prototype.uS=function(e,r,o,a){if(this.J[1]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1){var h=this.j.vf(e),c=this.j.yd(h);!(c&r)&&this.j.af(e)&r&&(e=this.j.og(h,a),c&o&&e%2!=0&&(this.J[1]=0))}},n.prototype.vS=function(e,r){this.J[2]!=2&&this.j.fh(e)&r&&(this.J[2]=2)},n.prototype.AN=function(e,r,o,a){if(this.J[3]!=1){var h=this.j.fh(e);h&r&&h&o?this.J[3]=1:this.J[3]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1&&(h=this.j.vf(e),e=this.j.yd(h),e&r&&(r=this.j.og(h,a),e&o&&r%2==0&&(this.J[3]=0)))}},n.prototype.xN=function(e,r,o,a){if(this.J[4]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1){var h=this.j.vf(e);e=this.j.yd(h),e&r&&(r=this.j.og(h,a),e&o&&r%2!=0&&(this.J[4]=0))}},n.prototype.yN=function(e,r,o){this.J[5]!=1&&(e=this.j.fh(e),e&r&&!(e&o)&&(this.J[5]=1))},n.prototype.gQ=function(e,r){if(this.J[6]!=1){var o=this.j.af(this.j.ya(e));!(this.j.af(e)&r)&&!(o&r)&&(this.J[6]=1)}},n.prototype.fQ=function(e,r,o,a){if(this.J[7]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1){var h=this.j.vf(e),c=this.j.yd(h);!(c&r)&&!(this.j.af(e)&r)&&(e=this.j.og(h,a),c&o&&e%2!=0&&(this.J[7]=0))}},n.prototype.BS=function(e,r,o,a,h){if(this.J[0]!=1){var c=this.j.fh(e);c&r&&c&o?this.J[0]=1:this.J[0]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1&&(e=this.j.vf(e),c=this.j.yd(e),c&r&&c&o&&(r=this.j.og(e,a),h=this.j.og(e,h),r%2==0&&h%2==0&&(this.J[0]=0)))}},n.prototype.pG=function(e,r,o,a,h,c){if(this.J[c]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1){e=this.j.vf(e);var p=this.j.yd(e);p&r&&p&o&&(r=this.j.og(e,a),h=this.j.og(e,h),r%2==0&&h%2!=0&&(this.J[c]=0))}},n.prototype.qG=function(e,r,o,a){this.J[a]!=1&&(e=this.j.fh(e),e&r&&!(e&o)&&(this.J[a]=1))},n.prototype.CN=function(e,r,o,a,h){if(this.J[4]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1){e=this.j.vf(e);var c=this.j.yd(e);c&r&&c&o&&(r=this.j.og(e,a),h=this.j.og(e,h),r%2!=0&&h%2!=0&&(this.J[4]=0))}},n.prototype.aE=function(e,r,o,a){this.J[a]!=0&&this.j.Bb(this.j.ue(this.j.ya(e)),this.Wi)!=1&&(e=this.j.vf(e),!(this.j.yd(e)&r)&&this.j.og(e,o)%2!=0&&(this.J[a]=0))},n.prototype.zS=function(e,r){this.J[0]!=0&&!(this.j.yd(e)&r)&&this.j.jk(this.j.Yy(e))&r&&(this.J[0]=0)},n.prototype.wS=function(e,r){this.J[2]!=2&&this.j.yd(e)&r&&(this.J[2]=2)},n.prototype.BN=function(e,r,o){this.J[3]!=0&&(e=this.j.yd(e),e&r&&e&o&&(this.J[3]=0))},n.prototype.zN=function(e,r){this.J[5]!=1&&this.j.yd(e)&r&&(this.J[5]=1)},n.prototype.hQ=function(e,r){this.J[6]!=0&&!(this.j.yd(e)&r)&&!(this.j.jk(this.j.Yy(e))&r)&&(this.J[6]=0)},n.prototype.CS=function(e,r,o,a){if(this.J[0]!=0){var h=this.j.yd(e);h&r&&h&o&&this.j.og(e,a)%2==0&&(this.J[0]=0)}},n.prototype.AS=function(e,r){this.J[2]!=1&&(this.j.Je(e)!=-1?this.J[2]=1:this.J[2]!=0&&!(this.j.yd(e)&r)&&(this.J[2]=0))},n.prototype.EN=function(e,r,o,a){if(this.J[3]!=0){var h=this.j.yd(e);h&r&&h&o&&this.j.og(e,a)%2!=0&&(this.J[3]=0)}},n.prototype.DN=function(e,r,o,a){if(this.J[5]!=0){var h=this.j.yd(e);h&r&&!(h&o)&&this.j.og(e,a)%2!=0&&(this.J[5]=0)}},n.prototype.iQ=function(e,r,o){this.J[6]!=0&&(e=this.j.yd(e),!(e&r)&&e&o&&(this.J[6]=0))},n.prototype.DS=function(e,r,o){this.J[0]!=0&&(e=this.j.yd(e),e&r&&e&o&&(this.J[0]=0))},n.prototype.rG=function(e,r,o,a){this.J[a]!=0&&(e=this.j.yd(e),e&r&&!(e&o)&&(this.J[a]=0))},n.prototype.Dp=function(e,r){var o=!1;e=this.j.Ma(e),r=this.j.Ma(r),this.Wi=this.j.bh();for(var a=this.j.Oe;a!=-1;a=this.j.Tf(a)){var h=this.j.Je(a);if(h==-1){if(this.Um!=-1)switch(this.Um){case 3:o=this.WD(a,e,r);break;case 4:o=this.LG(a,e,r);break;default:throw u.i.ga("internal error")}}else{var c=h;do{var p=c;if(this.j.Bb(p,this.Wi)!=1)do{switch(this.xw){case 0:o=this.sN(p,e,r);break;case 1:o=this.tN(p,e,r);break;case 2:o=this.hT(p,e,r);break;default:throw u.i.ga("internal error")}if(o)break;this.j.Kb(p,this.Wi,1),p=this.j.kc(p)}while(p!=c&&!o);if(o)break;c=this.j.kc(this.j.ya(p))}while(c!=h);if(o)break}}o||this.PJ(),this.j.Lg(this.Wi)},n.prototype.By=function(e,r){var o=!1;e=this.j.Ma(e),r=this.j.Ma(r);for(var a=this.j.Oe;a!=-1;a=this.j.Tf(a)){switch(this.Um){case 3:o=this.WD(a,e,r);break;case 4:o=this.LG(a,e,r);break;case 5:o=this.UU(a,e,r);break;default:throw u.i.Ra()}if(o)break}o||this.PJ()},n.prototype.gr=function(e,r){this.j.fr(e,r)},n.prototype.Yo=function(e,r,o){this.TP(e,r,o),this.gr(e,o)},n.prototype.TP=function(e,r,o){for(u.Vk.W(e,r,o,!1),e.Ip(0,!0,!0),r=e.md;r!=-1;r=e.ve(r))e.jc(r)==1736&&u.tn.W(e,r,-1,!1,o)},n.RE=function(e,r){var o=e.K();return u.ba.zd(o)?(r=new u.Ua(e.description),r.pc(e,!0),r):o==197?(o=new u.l,e.A(o),o.da()<=r&&o.S()<=r?(r=new u.Ta(e.description),e.tf(r),r):o.da()<=r||o.S()<=r?(r=new u.Ua(e.description),o=new u.Ta,e.If(0,o),r.nf(o),e.If(2,o),r.lineTo(o),r):(r=new u.Ea(e.description),r.bd(e,!1),r)):e},n}(),u.cm=C}(U||(U={})),function(u){var C=function(){function e(r){this.Gm=new u.ja(0),this.fw=new u.ja(0),this.xt=new u.h,this.yt=new u.h,this.g=r,this.Js=-1}return e.prototype.cc=function(r){return this.g.cc(this.uz(r))},e.prototype.Dv=function(r){var o=this.dz(r);if(r=this.CF(r),this.g.Na(o)==r){var a=o;o=r,r=a}return this.g.Hc(o,this.xt),this.g.Hc(r,this.yt),this.xt.y<this.yt.y},e.prototype.uz=function(r){var o=this.dz(r);return r=this.CF(r),this.g.V(o)==r?o:r},e.prototype.dz=function(r){return this.Gm.get(r)},e.prototype.CF=function(r){return this.fw.get(r)},e.prototype.mF=function(r){this.Gm.set(r,this.Js),this.Js=r},e.prototype.iI=function(r){if(this.Js!=-1){var o=this.Js;return this.Js=this.Gm.get(o),this.Gm.set(o,r),this.fw.set(o,this.g.V(r)),o}return this.Gm==null&&(this.Gm=new u.ja(0),this.fw=new u.ja(0)),o=this.Gm.size,this.Gm.add(r),this.fw.add(this.g.V(r)),o},e.prototype.mz=function(r){return this.g.cd(this.dz(r))},e}();u.uY=C;var y=function(){function e(r){this.Ce=r,this.je=new u.zb,this.Pm=new u.zb,this.xH=0,this.Co=null,this.tA=-1}return e.prototype.compare=function(r,o,a){a=r.ka(a);var h=this.Ce.hb;if(this.tA==o)var c=this.xH;else this.Co=h.cc(o),this.Co==null?(r=h.g,r.fd(h.uz(o),this.je),this.Co=this.je,c=this.je.Me(this.Ce.Ah,0)):c=this.Co.Me(this.Ce.Ah,0),this.xH=c,this.tA=o;if(r=h.cc(a),r==null){r=h.g,r.fd(h.uz(a),this.Pm),r=this.Pm;var p=this.Pm.Me(this.Ce.Ah,0)}else p=r.Me(this.Ce.Ah,0);return c==p&&(o=h.Dv(o),a=h.Dv(a),a=Math.min(o?this.Co.ma:this.Co.oa,a?r.ma:r.oa),o=.5*(a+this.Ce.Ah),o==this.Ce.Ah&&(o=a),c=this.Co.Me(o,0),p=r.Me(o,0)),c<p?-1:c>p?1:0},e.prototype.reset=function(){this.tA=-1},e}(),n=function(){function e(){this.Ym=this.Il=null,this.fb=new u.$j,this.fb.MP(),this.ae=new y(this),this.fb.Xo(this.ae)}return e.prototype.CQ=function(){var r=!1;if(this.hw&&(r=this.DQ()),this.g.ea(this.Y)==1){var o=this.g.Ob(this.Y);return r=this.g.qz(o),this.g.KB(o,!0),0>r?(r=this.g.Ya(o),this.g.kJ(r),this.g.Yg(o,this.g.Na(r)),!0):!1}for(this.Gl=this.g.Fy(),this.yo=this.g.Fy(),o=this.g.Ob(this.Y);o!=-1;o=this.g.Sb(o))this.g.ir(o,this.Gl,0),this.g.ir(o,this.yo,-1);o=new u.ja(0),this.Ah=NaN;var a=new u.h;this.ft=this.g.ea(this.Y),this.to=this.g.Hd(),this.Ts=this.g.Hd();for(var h=this.Il.sc(this.Il.ke);h!=-1;h=this.Il.lb(h)){var c=this.Il.getData(h);if(this.g.Hc(c,a),a.y!=this.Ah&&o.size!=0&&(r=this.vt(o)||r,this.ae.reset(),o.clear(!1)),o.add(c),this.Ah=a.y,this.ft==0)break}for(0<this.ft&&(r=this.vt(o)||r,o.clear(!1)),this.g.Ud(this.to),this.g.Ud(this.Ts),o=this.g.Ob(this.Y);o!=-1;)if(this.g.uj(o,this.Gl)==3){for(this.g.KB(o,!0),a=o,o=this.g.uj(o,this.yo);o!=-1;)h=this.g.uj(o,this.yo),this.g.UT(this.Y,this.g.Sb(a),o),a=o,o=h;o=this.g.Sb(a)}else this.g.KB(o,!1),o=this.g.Sb(o);return this.g.xB(this.Gl),this.g.xB(this.yo),r},e.prototype.vt=function(r){return this.VV(r)},e.prototype.VV=function(r){var o=!1;this.hb==null&&(this.hb=new C(this.g)),this.Ym==null?(this.Ym=new u.ja(0),this.Ym.Jb(16)):this.Ym.clear(!1),this.UV(r);for(var a=0,h=r.size;a<h;a++){var c=r.get(a);c!=-1&&this.jG(c,-1)}for(a=0;a<this.Ym.size&&0<this.ft;a++)if(r=this.Ym.get(a),c=this.hb.mz(this.fb.ka(r)),h=-1,this.g.uj(c,this.Gl)==0){c=this.fb.xe(r);for(var p=r,m;c!=-1;){var g=this.fb.ka(c),_=this.hb.mz(g),b=this.g.uj(_,this.Gl);if(b!=0){h=_;break}p=c,c=this.fb.xe(c)}c==-1?(m=!0,c=p):(g=this.fb.ka(c),m=this.hb.Dv(g),c=this.fb.lb(c),m=!m);do{if(g=this.fb.ka(c),_=this.hb.mz(g),b=this.g.uj(_,this.Gl),b==0&&(m!=this.hb.Dv(g)&&(o=this.g.Ya(_),this.g.kJ(o),this.g.Yg(_,this.g.Na(o)),o=!0),this.g.ir(_,this.Gl,m?3:2),m||(p=this.g.uj(h,this.yo),this.g.ir(h,this.yo,_),this.g.ir(_,this.yo,p)),this.ft--,this.ft==0))return o;h=_,p=c,c=this.fb.lb(c),m=!m}while(p!=r)}return o},e.prototype.UV=function(r){for(var o=0,a=r.size;o<a;o++){var h=r.get(o),c=this.g.Qa(h,this.to),p=this.g.Qa(h,this.Ts);if(c!=-1){var m=this.fb.ka(c);this.hb.mF(m),this.g.Sa(h,this.to,-1)}p!=-1&&(m=this.fb.ka(p),this.hb.mF(m),this.g.Sa(h,this.Ts,-1)),m=-1,c!=-1&&p!=-1?(this.fb.wd(c,-1),this.fb.wd(p,-1),r.set(o,-1)):m=c!=-1?c:p,m!=-1&&(this.jG(h,m)||this.fb.wd(m,-1),r.set(o,-1))}},e.prototype.jG=function(r,o){var a=new u.h,h=new u.h;this.g.Hc(r,a);var c=this.g.V(r);this.g.Hc(c,h);var p=!1;if(a.y<h.y){p=!0;var m=this.hb.iI(r);if(o==-1)var g=this.fb.addElement(m,-1);else g=o,this.fb.Uj(g,m);m=this.g.Qa(c,this.to),m==-1?this.g.Sa(c,this.to,g):this.g.Sa(c,this.Ts,g),c=this.g.cd(r),this.g.uj(c,this.Gl)==0&&this.Ym.add(g)}return c=this.g.Na(r),this.g.Hc(c,h),a.y<h.y&&(p=!0,m=this.hb.iI(c),o==-1?g=this.fb.addElement(m,-1):(g=o,this.fb.Uj(g,m)),m=this.g.Qa(c,this.to),m==-1?this.g.Sa(c,this.to,g):this.g.Sa(c,this.Ts,g),c=this.g.cd(r),this.g.uj(c,this.Gl)==0&&this.Ym.add(g)),p},e.W=function(r,o,a,h){var c=new e;return c.g=r,c.Y=o,c.Il=a,c.hw=h,c.CQ()},e.prototype.DQ=function(){var r=new u.ja(0),o=new u.ja(0),a=-1,h=-1,c=new u.h;c.Sc();for(var p=-1,m=-1,g=-1,_=new u.h,b=this.Il.sc(this.Il.ke);b!=-1;b=this.Il.lb(b)){var x=this.Il.getData(b);this.g.Hc(x,_);var P=this.g.cd(x);c.rb(_)&&m==P?(h==-1&&(a=this.g.Fy(),h=this.g.Hd()),g==-1&&(g=o.size,this.g.Sa(p,h,g),o.add(1),this.g.uj(P,a)==-1&&(this.g.ir(P,a,p),r.add(P))),this.g.Sa(x,h,g),o.XW(o.Gc()+1)):(g=-1,c.N(_)),p=x,m=P}if(r.size==0)return!1;for(c=new u.ja(0),p=new u.ja(0),m=0,g=r.size;m<g;m++){P=r.get(m);var O=this.g.uj(P,a);for(x=this.g.Qa(O,h),c.clear(!1),p.clear(!1),c.add(O),p.add(x),x=this.g.V(O);x!=O;x=this.g.V(x)){var L=x;if(_=this.g.Qa(L,h),_!=-1)if(p.size==0)p.add(_),c.add(L);else if(p.Gc()==_){b=c.Gc();var j=this.g.V(b);O=this.g.V(L),this.g.Cc(b,O),this.g.Dc(O,b),this.g.Cc(L,j),this.g.Dc(j,L),L=[!1],j=this.g.iG(this.Y,j,this.g.Ya(P),L),this.g.Sa(x,h,-1),L[0]&&this.g.Kf(P,O),x=this.g.Ka(P),O=this.g.Ka(j),x-=O,this.g.Xj(P,x),o.set(_,o.get(_)-1),o.get(_)==1&&(o.set(_,0),p.Jf(),c.Jf()),x=O=b}else c.add(x),p.add(_)}}return this.g.xB(a),this.g.Ud(h),!0},e}();u.RL=n}(U||(U={})),function(u){var C=function(){function y(){}return y.prototype.jg=function(){this.KA=this.tb=null},y.prototype.get=function(){return this.KA},y.prototype.set=function(n){if(this.KA=n,n!=null)throw n.K()==322&&(this.tb=n),u.i.Ra()},y.prototype.create=function(n){if(n==322)this.Qr();else throw u.i.ga("Not Implemented")},y.prototype.Qr=function(){this.tb==null&&(this.tb=new u.zb),this.KA=this.tb},y}();u.jg=C}(U||(U={})),function(u){u=u.SL||(u.SL={}),u[u.enumLineSeg=1]="enumLineSeg",u[u.enumBezierSeg=2]="enumBezierSeg",u[u.enumArcSeg=4]="enumArcSeg",u[u.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",u[u.enumSegmentMask=7]="enumSegmentMask",u[u.enumDensified=8]="enumDensified"}(U||(U={})),function(u){var C=function(){return function(n){this.bj=n,this.lC=this.mC=1,this.nB=this.mB=this.oB=0}}(),y=function(){function n(){this.Hq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Dk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Cf=new u.Ta,this.ra=this.Ew=0,this.oo=[],this.bt=[],this.Aw=[],this.Kq=[],this.HA=[]}return n.prototype.rB=function(e){if(e!=null){for(var r=0,o=e.length;r<o;r++)this.mW(e[r]);e.length=0}},n.prototype.mW=function(e){e.bj=null,this.Kq.push(e)},n.prototype.Qw=function(e){if(this.Kq.length===0)var r=new C(e);else r=this.Kq[this.Kq.length-1],r.bj=e,--this.Kq.length;return r},n.prototype.NR=function(e,r){return e==0?this.bt[r]:this.Aw[r]},n.prototype.WA=function(){this.Ew>=this.HA.length&&this.HA.push(new u.jg);var e=this.HA[this.Ew];return this.Ew++,e},n.prototype.clear=function(){this.rB(this.oo),this.rB(this.bt),this.rB(this.Aw),this.Ew=0},n.prototype.Qo=function(e){this.oo.push(this.Qw(e))},n.prototype.ql=function(e){return e==0?this.bt.length:this.Aw.length},n.prototype.Xp=function(e,r){return this.NR(e,r).bj},n.prototype.Fa=function(e,r){if(this.oo.length!=2)throw u.i.Ra();this.ra=e;var o=u.mc.ox(.01*e),a=!1,h=this.oo[0],c=this.oo[1];if(r||h.bj.Br(c.bj,e,!0)&5){if(h.bj.K()==322){var p=h.bj;if(c.bj.K()==322){r=c.bj;var m=u.zb.Yx(p,r,null,this.Hq,this.Dk,e);if(m==0)throw u.zb.Yx(p,r,null,this.Hq,this.Dk,e),u.i.Ra();e=Array(9),u.P.bv(e,null);for(var g=0;g<m;g++){var _=this.Hq[g],b=this.Dk[g],x=h.nB,P=1;_==0?(x=h.oB,P=h.mC):_==1&&(x=h.mB,P=h.lC);var O=c.nB,L=1;b==0?(O=c.oB,L=c.mC):b==1&&(O=c.mB,L=c.lC);var j=new u.h;x==O?(x=new u.h,p.ic(_,x),_=new u.h,r.ic(b,_),b=P+L,L/=b,u.mc.JG(x,_,L,j),u.h.zc(j,x)+u.h.zc(j,_)>o&&(a=!0)):x>O?(p.ic(_,j),_=new u.h,r.ic(b,_),u.h.zc(j,_)>o&&(a=!0)):(r.ic(b,j),x=new u.h,p.ic(_,x),u.h.zc(j,x)>o&&(a=!0)),e[g]=j}for(h=0,c=-1,g=0;g<=m;g++)L=g<m?this.Hq[g]:1,L!=h&&(o=this.WA(),p.dh(h,L,o),c!=-1&&o.get().Ec(e[c]),g!=m&&o.get().Rc(e[g]),h=L,this.bt.push(this.Qw(o.get()))),c=g;for(p=[0,0,0,0,0,0,0,0,0],g=0;g<m;g++)p[g]=g;for(1<m&&this.Dk[0]>this.Dk[1]&&(L=this.Dk[0],this.Dk[0]=this.Dk[1],this.Dk[1]=L,g=p[0],p[0]=p[1],p[1]=g),h=0,c=-1,g=0;g<=m;g++)L=g<m?this.Dk[g]:1,L!=h&&(o=this.WA(),r.dh(h,L,o),c!=-1&&(h=p[c],o.get().Ec(e[h])),g!=m&&(h=p[g],o.get().Rc(e[h])),h=L,this.Aw.push(this.Qw(o.get()))),c=g;return a}}throw u.i.Ra()}return!1},n.prototype.Fz=function(e,r,o){if(r.copyTo(this.Cf),this.oo.length!=1)throw u.i.Ra();this.ra=e;var a=this.oo[0];if(o||a.bj.tu(r.D(),e,!0))if(a.bj.K()==322){e=a.bj;var h=e.ge(r.D(),!1);this.Hq[0]=h;var c=a.nB;for(o=1,h==0?(c=a.oB,o=a.mC):h==1&&(c=a.mB,o=a.lC),a=new u.h,c==0?(c=new u.h,e.ic(h,c),r=r.D(),u.mc.JG(c,r,1/(o+1),a)):0<c?(a=new u.h,e.ic(h,a)):a=r.D(),o=0,h=-1,c=0;1>=c;c++){if(r=1>c?this.Hq[c]:1,r!=o){var p=this.WA();e.dh(o,r,p),h!=-1&&p.get().Ec(a),c!=1&&p.get().Rc(a),o=r,this.bt.push(this.Qw(p.get()))}h=c}this.Cf.Db(a)}else throw u.i.Ra()},n}();u.OC=y}(U||(U={})),function(u){var C=function(){function y(n){this.Fs=this.tk=this.tb=null,this.cg=0,this.Bm=!1,this.Af=-1,this.El=this.Kd=0,this.gb=-1,this.ib=n,this.cg=this.Vx(this.El),this.Bm=!1,this.tk=null,this.Fs=new u.h}return y.prototype.wW=function(n){if(this.ib!=n.ib)throw u.i.Hb();this.Af=n.Af,this.Kd=n.Kd,this.gb=n.gb,this.El=n.El,this.cg=n.cg,this.Bm=n.Bm,this.tk=null},y.prototype.ia=function(){if(this.Af!=this.Kd&&this.wD(),this.Bm)this.Kd=(this.Kd+1)%this.cg;else{if(this.Kd==this.cg)throw u.i.de();this.Kd++}return this.tk},y.prototype.ni=function(){if(this.Bm)this.Kd=(this.cg+this.Kd-1)%this.cg;else{if(this.Kd==0)throw u.i.de();this.Kd--}return this.Kd!=this.Af&&this.wD(),this.tk},y.prototype.xW=function(){this.Af=-1,this.Kd=0},y.prototype.yW=function(){this.Kd=this.cg,this.Af=-1},y.prototype.Wb=function(n,e){if(e===void 0&&(e=-1),0<=this.gb&&this.gb<this.ib.ea()){var r=this.DM();if(n>=r&&n<this.ib.Wc(this.gb)){this.Af=-1,this.Kd=n-r;return}}e=0<=e&&e<this.ib.ea()&&n>=this.ib.Ca(e)&&n<this.ib.Wc(e)?e:this.ib.nz(n),this.El=e+1,this.gb=e,this.Af=-1,this.Kd=n-this.ib.Ca(e),this.cg=this.Vx(e),this.ib.Ca(this.gb),this.ib.ec(this.gb)},y.prototype.ab=function(){return this.gb=this.El,this.gb>=this.ib.ea()?!1:(this.Af=-1,this.Kd=0,this.cg=this.Vx(this.gb),this.ib.Ca(this.gb),this.ib.ec(this.gb),this.El++,!0)},y.prototype.aj=function(){this.cg=this.Kd=this.Af=-1,this.El=0,this.gb=-1},y.prototype.Vx=function(n){if(this.ib.Bc())return 0;var e=1;return this.ib.ec(n)&&(e=0),this.ib.Ka(n)-e},y.prototype.Qn=function(){return this.Af==this.cg-1&&this.ib.ec(this.gb)},y.prototype.EB=function(){this.Bm=!0},y.prototype.xb=function(){return this.ib.nb.o[this.gb]+this.Af},y.prototype.DM=function(){return this.ib.Ca(this.gb)},y.prototype.kk=function(){return this.Qn()?this.ib.Ca(this.gb):this.xb()+1},y.prototype.xm=function(){return this.Af==0},y.prototype.Sn=function(){return this.Af==this.cg-1},y.prototype.Ia=function(){return this.Kd<this.cg},y.prototype.zz=function(){return 0<this.Kd},y.prototype.Qf=function(){var n=new y(this.ib);return n.Af=this.Af,n.Kd=this.Kd,n.cg=this.cg,n.gb=this.gb,n.El=this.El,n.ib=this.ib,n.Bm=this.Bm,n},y.prototype.wD=function(){if(0>this.Kd||this.Kd>=this.cg)throw u.i.de();this.Af=this.Kd;var n=this.xb();this.ib.oc();var e=this.ib.Se,r=1;switch(e!=null&&(r=e.read(n)&7),e=this.ib.description,r){case 1:this.tb==null&&(this.tb=new u.zb),this.tk=this.tb;break;case 2:throw u.i.ga("internal error");case 4:throw u.i.Ra();default:throw u.i.Ra()}this.tk.Pf(e),r=this.kk(),this.ib.Hc(n,this.Fs),this.tk.Ec(this.Fs),this.ib.Hc(r,this.Fs),this.tk.Rc(this.Fs);for(var o=1,a=e.Ba;o<a;o++)for(var h=e.ld(o),c=u.sa.Wa(h),p=0;p<c;p++){var m=this.ib.Vc(h,n,p);this.tk.TB(h,p,m),m=this.ib.Vc(h,r,p),this.tk.JB(h,p,m)}},y.prototype.VS=function(){return this.gb==this.ib.ea()-1},y.prototype.Rn=function(){var n=this.ib.QR();return n!=null?(n.read(this.Af)&7)!=1:!1},y}();u.TL=C}(U||(U={})),function(u){var C=function(){function y(n){n instanceof u.ba?(this.sH=n,this.za=-1,this.Gi=1):(this.qT=n.slice(0),this.za=-1,this.Gi=n.length)}return y.prototype.Ma=function(){return this.za},y.prototype.next=function(){return this.za<this.Gi-1?(this.za++,this.sH!=null?this.sH:this.qT[this.za]):null},y.prototype.re=function(){},y}();u.$c=C}(U||(U={})),function(u){var C=function(){return function(){this.next=null}}(),y=function(){function n(){this.Vq=this.Mw=this.Nw=0,this.fF=!1,this.bK=0,this.jn=this.Lf=this.Yl=this.Lh=null,this.Ql=0,this.qy=null,this.rl=this.ri=-1}return n.prototype.wX=function(e,r,o){this.ri=e,this.rl=r,this.Lh=this.Yl=null,this.Vq=0,this.qy=o,this.jn==null&&(this.jn=u.P.mg(384,0)),this.iK()},n.prototype.S=function(){return this.ri},n.prototype.da=function(){return this.rl},n.prototype.flush=function(){0<this.Ql&&(this.qy.bF(this.jn,this.Ql),this.Ql=0)},n.prototype.iK=function(){if(0<this.Vq){for(var e=0;e<this.rl;e++){for(var r=this.Yl[e];r!=null;){var o=r;r=r.next,o.next=null}this.Yl[e]=null}this.Lh=null}this.Nw=this.rl,this.Mw=-1,this.Vq=0},n.prototype.dJ=function(e){for(this.fF=e==n.Bx,e=this.Nw;e<=this.Mw;e++)this.nN(),this.gN(e),this.UP();this.iK()},n.prototype.fy=function(e,r,o,a){if(r!=a){var h=1;if(r>a&&(h=e,e=o,o=h,h=r,r=a,a=h,h=-1),!(0>a||r>=this.rl)){0>e&&0>o?o=e=-1:e>=this.ri&&o>=this.ri&&(o=e=this.ri);var c=(o-e)/(a-r);a>this.rl&&(a=this.rl,o=c*(a-r)+e),0>r&&(e=c*(0-r)+e,r=0);var p=Math.max(this.ri+1,8388607);-8388607>e?(r=(0-e)/c+r,e=0):e>p&&(r=(this.ri-e)/c+r,e=this.ri),-8388607>o?a=(0-e)/c+r:o>p&&(a=(this.ri-e)/c+r),r=u.P.truncate(r),a=u.P.truncate(a),r!=a&&(o=new C,o.x=u.P.truncate(4294967296*e),o.y=r,o.H=a,o.RP=u.P.truncate(4294967296*c),o.dir=h,this.Yl==null&&(this.Yl=u.P.mg(this.rl,null)),o.next=this.Yl[o.y],this.Yl[o.y]=o,o.y<this.Nw&&(this.Nw=o.y),o.H>this.Mw&&(this.Mw=o.H),this.Vq++)}}},n.prototype.nN=function(){if(this.Lh!=null){for(var e=!1,r=null,o=this.Lh;o!=null;)if(o.y++,o.y==o.H){var a=o;o=o.next,r!=null?r.next=o:this.Lh=o,a.next=null}else o.x+=o.RP,r!=null&&r.x>o.x&&(e=!0),r=o,o=o.next;e&&(this.Lh=this.aK(this.Lh))}},n.prototype.gN=function(e){if(!(e>=this.rl)){var r=this.Yl[e];if(r!=null){this.Yl[e]=null,r=this.aK(r),this.Vq-=this.bK,e=this.Lh;for(var o=!0,a=r,h=null;e!=null&&a!=null;)e.x>a.x?(o&&(this.Lh=a),o=a.next,a.next=e,h!=null&&(h.next=a),h=a,a=o):(o=e.next,e.next=a,h!=null&&(h.next=e),h=e,e=o),o=!1;this.Lh==null&&(this.Lh=r)}}},n.$J=function(e,r){return 0>e?0:e>r?r:e},n.prototype.UP=function(){if(this.Lh!=null){for(var e=0,r=this.Lh,o=u.P.truncate(u.P.SG(r.x)),a=r.next;a!=null;a=a.next)if(e=this.fF?e^1:e+a.dir,a.x>r.x){var h=u.P.truncate(u.P.SG(a.x));e!=0&&(r=n.$J(o,this.ri),o=n.$J(h,this.ri),o>r&&r<this.ri&&(this.jn[this.Ql++]=r,this.jn[this.Ql++]=o,this.jn[this.Ql++]=a.y,this.Ql==this.jn.length&&(this.qy.bF(this.jn,this.Ql),this.Ql=0))),r=a,o=h}}},n.prototype.aK=function(e){for(var r=0,o=e;o!=null;o=o.next)r++;if(this.bK=r,r==1)return e;this.Lf==null?this.Lf=u.P.mg(Math.max(r,16),null):this.Lf.length<r&&(this.Lf=u.P.mg(Math.max(r,2*this.Lf.length),null));var a=0;for(o=e;o!=null;o=o.next)this.Lf[a++]=o;for(r==2?this.Lf[0].x>this.Lf[1].x&&(e=this.Lf[0],this.Lf[0]=this.Lf[1],this.Lf[1]=e):n.vN(this.Lf,r,function(h,c){return h==c?0:h.x<c.x?-1:h.x>c.x?1:0}),e=this.Lf[0],this.Lf[0]=null,o=e,a=1;a<r;a++)o.next=this.Lf[a],o=this.Lf[a],this.Lf[a]=null;return o.next=null,e},n.vN=function(e,r,o){if(r==e.length)e.sort(o);else{var a=e.slice(0,0),h=e.slice(r);r=e.slice(0,r).sort(o),e.length=0,e.push.apply(e,a.concat(r).concat(h))}},n.Bx=0,n}();u.Ox=y}(U||(U={})),function(u){var C=function(){function y(){}return y.prototype.wi=function(n,e){var r=this.g.Qa(n,this.Rq);if(this.Fl==r&&(this.Fl=this.pe.lb(this.Fl)),this.jo==r&&(this.jo=this.pe.lb(this.jo)),this.pe.kd(this.MA,r),this.dk(n),e&&(e=this.g.cd(n),e!=-1&&this.g.Ya(e)==n)){var o=this.g.V(n);if(o!=n){if(r=this.g.cd(o),r==e){this.g.Kf(e,o);return}if(o=this.g.Na(n),o!=n&&(r=this.g.cd(o),r==e)){this.g.Kf(e,o);return}}this.g.Kf(e,-1),this.g.Yg(e,-1)}},y.prototype.kD=function(){for(var n=!1,e=0,r=new u.h;;){e++,this.Yh==null?(this.Yh=new u.ja(0),this.Bs=new u.ja(0),this.ye=new u.ja(0)):(this.Yh.clear(!1),this.Bs.clear(!1),this.ye.clear(!1));for(var o=this.jo,a=0,h=!0;o!=this.Fl;){var c=this.pe.getData(o),p=new u.h;this.g.Hc(c,p),h&&(this.g.Hc(c,r),h=!1),p=this.g.Na(c);var m=this.g.V(c);this.g.Qa(p,this.Ag)!=-559038737&&(this.Yh.add(p),this.g.Sa(p,this.Ag,-559038737),this.Bs.add(c),this.ye.add(a++)),this.g.Qa(m,this.Ag)!=-559038737&&(this.Yh.add(m),this.g.Sa(m,this.Ag,-559038737),this.Bs.add(c),this.ye.add(a++)),o=this.pe.lb(o)}if(2>this.Yh.size)break;var g=this;for(this.ye.Wd(0,this.ye.size,function(_,b){return g.kM(_,b)}),o=0,a=this.ye.size;o<a;o++)h=this.ye.get(o),h=this.Yh.get(h),this.g.Sa(h,this.Ag,o),p=new u.h,this.g.Hc(h,p);for(p=this.OM(r),o=0,a=this.ye.size;o<a;o++)h=this.ye.get(o),h!=-1&&(h=this.Yh.get(h),this.g.Sa(h,this.Ag,-1));if(p)n=!0;else break}return n},y.prototype.OM=function(n){for(var e=!1,r=!0;r;){r=!1;var o=0;this.ye.get(o)==-1&&(o=this.em(o));for(var a=this.em(o),h=0,c=this.ye.size;h<c&&o!=-1&&a!=-1&&o!=a;h++){var p=this.ye.get(o);a=this.ye.get(a),p=this.Yh.get(p),a=this.Yh.get(a);var m=this.g.V(p);this.g.Fv(m,n)||(m=this.g.Na(p));var g=this.g.V(a);this.g.Fv(g,n)||(g=this.g.Na(a));var _=this.ru(m,p),b=this.ru(g,a),x=_?this.g.Na(m):this.g.V(m),P=b?this.g.Na(g):this.g.V(g),O=!1;(this.up(m)||this.up(g)||this.up(p)||this.up(a)||this.up(x)||this.up(P))&&(O=!0),!O&&this.g.hq(p,a)&&(O=!0,this.oD(_,b,m,p,g,a)),!O&&this.g.hq(x,P)&&(O=!0,this.oD(!_,!b,m,x,g,P)),O&&(e=!0),r=r||O,o=this.em(o),a=this.em(o)}}if(!e)for(o=0,this.ye.get(o)==-1&&(o=this.em(o)),a=this.em(o),h=0,c=this.ye.size;h<c&&o!=-1&&a!=-1&&o!=a;h++)p=this.ye.get(o),a=this.ye.get(a),p=this.Yh.get(p),a=this.Yh.get(a),m=this.g.V(p),this.g.Fv(m,n)||(m=this.g.Na(p)),g=this.g.V(a),this.g.Fv(g,n)||(g=this.g.Na(a)),_=this.ru(m,p),b=this.ru(g,a),x=_?this.g.Na(m):this.g.V(m),P=b?this.g.Na(g):this.g.V(g),this.yM(_,b,p,m,x,a,g,P)&&(e=!0),o=this.em(o),a=this.em(o);return e},y.prototype.SM=function(){this.g.jc(this.Y)==1736&&this.g.Kn(this.Y)==1&&new u.Hg().HU(this.hw,this.g,this.Y,this.od);var n=!1,e=!0;this.Ag=this.Rq=-1;var r=this.g.I(this.Y),o=new u.ja(0);o.Jb(r);for(var a=this.g.Ob(this.Y);a!=-1;a=this.g.Sb(a))for(var h=this.g.Ya(a),c=0,p=this.g.Ka(a);c<p;c++)o.add(h),h=this.g.V(h);var m=this.g.ud.o,g=this.g.ud.Mf;this.g.wb.oc();var _=this.g.wb.Aa[0].o;for(o.Wd(0,r,function(x,P){var O=m[g*x],L=m[g*P],j=_[2*O];O=_[2*O+1];var D=_[2*L];return L=_[2*L+1],j=O<L?-1:O>L?1:j<D?-1:j>D?1:0,j==0&&(x=m[g*x+3],P=m[g*P+3],j=x<P?-1:x==P?0:1),j}),this.Rq=this.g.Hd(),this.pe=new u.lp,this.MA=this.pe.Rh(0),this.pe.hn(r),a=0;a<r;a++)h=o.get(a),c=this.pe.addElement(this.MA,h),this.g.Sa(h,this.Rq,c);for(this.Ag=this.g.Hd(),this.Fl=-1,this.YC()&&(n=!0);e;){e=!1,r=0,o=!1;do{o=!1,this.jo=-1,p=0,a=new u.h,c=new u.h;for(var b=this.pe.sc(this.MA);b!=-1;)h=this.pe.getData(b),this.jo!=-1?(this.g.Hc(h,c),a.rb(c)?p++:(a.N(c),this.Fl=b,0<p&&(h=this.kD())&&(o=!0,this.Fl!=-1&&(h=this.pe.getData(this.Fl),this.g.Hc(h,a))),this.jo=b=this.Fl,p=0)):(this.jo=b,this.g.Hc(this.pe.getData(b),a),p=0),b!=-1&&(b=this.pe.lb(b));if(this.Fl=-1,0<p&&(h=this.kD())&&(o=!0),10<r++)throw u.i.Ra();o&&this.BM(),this.YC()&&(o=!0),e=e||o&&!1,n=n||o}while(o)}return this.g.Ud(this.Rq),this.g.Ud(this.Ag),n=u.RL.W(this.g,this.Y,this.pe,this.hw)||n},y.prototype.ru=function(n,e){return this.g.V(e)!=n},y.prototype.yM=function(n,e,r,o,a,h,c,p){if(o==c)return this.dk(r),this.dk(h),!1;var m=this.g.Qa(r,this.Ag),g=this.g.Qa(a,this.Ag),_=this.g.Qa(h,this.Ag),b=this.g.Qa(p,this.Ag);r=[0,0,0,0,0,0,0,0];var x=[0,0,0,0];for(r[0]=0,x[0]=m,r[1]=0,x[1]=g,r[2]=1,x[2]=_,r[3]=1,x[3]=b,m=1;4>m;m++){for(g=x[m],_=r[m],b=m-1;0<=b&&x[b]>g;)x[b+1]=x[b],r[b+1]=r[b],b--;x[b+1]=g,r[b+1]=_}return x=0,r[0]!=0&&(x|=1),r[1]!=0&&(x|=2),r[2]!=0&&(x|=4),r[3]!=0&&(x|=8),x!=5&&x!=10?!1:(n==e?n?(this.g.Cc(p,o),this.g.Dc(o,p),this.g.Cc(a,c),this.g.Dc(c,a)):(this.g.Dc(p,o),this.g.Cc(o,p),this.g.Dc(a,c),this.g.Cc(c,a)):n?(this.g.Dc(o,h),this.g.Cc(h,o),this.g.Dc(c,a),this.g.Cc(a,c)):(this.g.Cc(o,h),this.g.Dc(h,o),this.g.Cc(c,a),this.g.Dc(a,c)),!0)},y.prototype.oD=function(n,e,r,o,a,h){this.IY?this.QM():this.PM(n,e,r,o,a,h)},y.prototype.QM=function(){throw u.i.ga("not implemented.")},y.prototype.PM=function(n,e,r,o,a,h){if(n!=e)n?(this.g.Cc(r,a),this.g.Dc(a,r),this.g.Cc(h,o),this.g.Dc(o,h),this.xn(a,r),this.wi(a,!0),this.g.oi(a,!0),this.dk(r),this.xn(h,o),this.wi(h,!0),this.g.oi(h,!1)):(this.g.Cc(a,r),this.g.Dc(r,a),this.g.Cc(o,h),this.g.Dc(h,o),this.xn(a,r),this.wi(a,!0),this.g.oi(a,!1),this.dk(r),this.xn(h,o),this.wi(h,!0),this.g.oi(h,!0)),this.dk(o);else{var c=n?r:o,p=e?a:h;for(n=n?o:r,e=e?h:a,a=!1,this.g.Cc(c,p),this.g.Cc(p,c),this.g.Dc(n,e),this.g.Dc(e,n),h=e;h!=p;)r=this.g.Na(h),o=this.g.V(h),this.g.Dc(h,o),this.g.Cc(h,r),a=a||h==c,h=o;a||(r=this.g.Na(p),o=this.g.V(p),this.g.Dc(p,o),this.g.Cc(p,r)),this.xn(p,c),this.wi(p,!0),this.g.oi(p,!1),this.dk(c),this.xn(e,n),this.wi(e,!0),this.g.oi(e,!1),this.dk(n)}},y.prototype.YC=function(){for(var n=!1,e=this.g.Ob(this.Y);e!=-1;){for(var r=this.g.Ya(e),o=0,a=this.g.Ka(e);o<a&&1<a;){var h=this.g.Na(r),c=this.g.V(r);this.g.hq(h,c)?(n=!0,this.wi(r,!1),this.g.qd(r,!0),this.wi(c,!1),this.g.qd(c,!0),r=h,o=0,a=this.g.Ka(e)):(r=c,o++)}if(2>this.g.Ka(e)){for(n=this.g.Ya(e),o=0,a=this.g.Ka(e);o<a;o++)this.wi(n,!1),n=this.g.V(n);e=this.g.ar(e),n=!0}else e=this.g.Sb(e)}return n},y.prototype.up=function(n){for(var e=!1;;){var r=this.g.V(n),o=this.g.Na(n);if(r==n)return this.wi(n,!0),this.g.oi(n,!1),!0;if(!this.g.hq(r,o)||(e=!0,this.dk(o),this.dk(r),this.wi(n,!0),this.g.oi(n,!1),this.xn(r,o),this.wi(r,!0),this.g.oi(r,!0),r==o))break;n=o}return e},y.prototype.BM=function(){for(var n=0,e=this.pe.sc(this.pe.ke);e!=-1;e=this.pe.lb(e)){var r=this.pe.getData(e);this.g.cj(r,-1)}for(var o=0,a=this.g.Ob(this.Y);a!=-1;)if(e=this.g.Ya(a),e==-1||this.g.cd(e)!=-1)r=a,a=this.g.Sb(a),this.g.br(r);else{this.g.cj(e,a);var h=1;for(r=this.g.V(e);r!=e;r=this.g.V(r))this.g.cj(r,a),h++;this.g.fp(a,!1),this.g.Xj(a,h),this.g.Yg(a,this.g.Na(e)),o+=h,n++,a=this.g.Sb(a)}for(e=this.pe.sc(this.pe.ke);e!=-1;e=this.pe.lb(e))r=this.pe.getData(e),this.g.cd(r)==-1&&(a=this.g.iG(this.Y,r,r,null),o+=this.g.Ka(a),n++);for(this.g.Tl(this.Y,n),this.g.Vj(this.Y,o),n=0,o=this.g.md;o!=-1;o=this.g.ve(o))n+=this.g.I(o);this.g.XB(n)},y.prototype.em=function(n){for(var e=0,r=this.ye.size-1;e<r;e++)if(n=(n+1)%this.ye.size,this.ye.get(n)!=-1)return n;return-1},y.prototype.xn=function(n,e){var r=this.g.Qa(e,this.Rq),o=this.g.Qa(e,this.Ag);this.g.gC(n,e),this.g.Sa(e,this.Rq,r),this.g.Sa(e,this.Ag,o)},y.prototype.dk=function(n){var e=this.g.Qa(n,this.Ag);e!=-1&&(this.ye.set(e,-1),this.g.Sa(n,this.Ag,-1))},y.W=function(n,e,r,o,a){var h=new y;return h.g=n,h.Y=e,h.sA=r,h.hw=o,h.od=a,h.SM()},y.prototype.kM=function(n,e){var r=this.Yh.get(n),o=new u.h;this.g.Hc(r,o),r=new u.h;var a=this.Yh.get(e);return this.g.Hc(a,r),o.rb(r)?0:(a=this.Bs.get(n),n=new u.h,this.g.Hc(a,n),a=this.Bs.get(e),e=new u.h,this.g.Hc(a,e),a=new u.h,a.vc(o,n),o=new u.h,o.vc(r,e),u.h.pu(a,o))},y}();u.tn=C}(U||(U={})),function(u){(function(y){y[y.Local=0]="Local",y[y.Geographic=1]="Geographic",y[y.Projected=2]="Projected",y[y.Image=3]="Image",y[y.Unknown=4]="Unknown"})(u.VL||(u.VL={})),function(y){y[y.Integer32=0]="Integer32",y[y.Integer64=1]="Integer64",y[y.FloatingPoint=2]="FloatingPoint"}(u.OL||(u.OL={}));var C=function(){function y(){this.hA=null,this.rp="",this.uu=null,this.fg=0,this.UH=this.Jo=-1,this.yh=null}return y.prototype.Fc=function(){return this.fg},y.prototype.QF=function(){return 1},y.prototype.QW=function(n){this.hA=n},y.prototype.Yd=function(){if(this.hA!==null)return this.hA;var n=.001;return this.fg!=0?n=u.yr.xQ(this.fg):this.yh!=null&&(n=u.SC.yQ(this.yh)),n},y.prototype.wz=function(){return this.yh},y.prototype.Id=function(){if(this.fg!=0)return u.Uc.ah(u.yr.Ny(this.fg));if(this.yh!=null)return u.SC.zQ(this.yh)},y.Tb=function(n){if(n.fg!=0){if(u.yr.US(n.fg)===!0)return 1;if(u.yr.WS(n.fg)===!0)return 2}return 4},y.prototype.cs=function(){var n=this.Fc();return this.Jo!=-1?this.Jo:(this.Jo=u.yr.AK(n),this.Jo!=-1?this.Jo:n)},y.create=function(n){if(0>=n)throw u.i.O("Invalid or unsupported wkid: "+n);var e=new y;return e.fg=n,e},y.lP=function(n){if(n==null||n.length==0)throw u.i.O("Cannot create SpatialReference from null or empty text.");var e=new y;return e.yh=n,e},y.prototype.Nb=function(n){return this==n?!0:!(n==null||this.constructor!=n.constructor||this.fg!=n.fg||this.fg==0&&this.yh!==n.yh)},y.prototype.toString=function(){return"[ tol: "+this.Mn()+"; wkid: "+this.Fc()+"; wkt: "+this.wz()+"]"},y.prototype.dc=function(){if(this.rp!=="")return this.rp;var n=this.toString();if(Array.prototype.reduce)return this.rp="S"+n.split("").reduce(function(o,a){return o=(o<<5)-o+a.charCodeAt(0),o&o},0);var e=0;if(n.length===0)return"";for(var r=0;r<n.length;r++)e=(e<<5)-e+n.charCodeAt(r),e&=e;return this.rp="S"+e},y.prototype.Mn=function(){return this.Yd(0)},y.prototype.hh=function(){return this.uu!==null?this.uu:this.uu=u.iu.tP(this)},y.UN=2147483645,y.VN=9007199254740990,y}();u.Gg=C}(U||(U={})),function(u){var C=function(y){function n(){var e=y!==null&&y.apply(this,arguments)||this;return e.Li=null,e.NT=null,e.Jq=new u.UL,e.Go=null,e.lw=null,e}return Bt(n,y),n.tP=function(e){var r=new n;if(r.fg=e.fg,r.Jo=e.Jo,r.UH=e.UH,r.yh=e.yh,r.yh!==""&&r.yh!==null){e=n.fM(r.yh);var o=n.dM(r.yh);r.Jq.Wx(e,o,u.ju.Integer64),r.ay(e),r.cy(o),r.fg=e.cs()}else e=n.eM(r.fg),r.ay(e),r.cy(null),r.Jq.Wx(e,null,u.ju.Integer64);return r},n.prototype.Yd=function(e){return this.Jq.Mn(e)},n.dM=function(e){if(0>=e.length)throw u.i.O();var r=null;try{r=u.IC.fromString(e)}catch{r=null}return r==null?null:n.XC(r,!0)},n.prototype.ay=function(e){this.Ld=e,this.Go=this.Ld.Id()},n.prototype.cy=function(e){this.FH=e,this.NT=this.FH!=null?this.FH.Go:null},n.prototype.Xc=function(){return this.Tb()==0||this.Tb()==3?!1:this.Ld.Xc()},n.prototype.DG=function(){return this.Tb()==0?!1:this.Tb()==3?this.Li.hk().Xc():this.Ld.Xc()},n.prototype.gh=function(){return this.Ld!=null?this.Ld.Re:null},n.prototype.rm=function(){return this.Ld.rm()},n.prototype.bf=function(){return this.Ld.bf()},n.prototype.jh=function(){return this.Ld!=null?this.Ld.uw:NaN},n.prototype.Wp=function(){return this.Ld.Wp()},n.prototype.Yr=function(){return this.Ld.Yr()},n.prototype.mk=function(){return this.Ld.mk()},n.prototype.fS=function(e){return u.JC.Ky(this.Ld,e.Ld)},n.prototype.ol=function(){return this.Ld.ol()},n.prototype.Xr=function(){return this.Ld.Xr()},n.prototype.Bi=function(){return this.Tb()==3?this.Li.hk().Bi():this.Ld.Bi()},n.prototype.ih=function(){if(!this.Xc())throw u.i.O("!isPannable()");var e=new u.l;return this.Ld.ih(e),e},n.prototype.Le=function(){if(!this.Xc())throw u.i.O("!isPannable()");return this.Ld.uo},n.prototype.CR=function(){if(!this.Xc())throw u.i.O("!isPannable()");var e=new u.l;return this.Ld.BR(e),e},n.prototype.rv=function(){if(!this.Xc())throw u.i.O("!isPannable()");return this.Ld.rv()},n.prototype.qv=function(){if(!this.Xc())throw u.i.O("!isPannable()");return this.Ld.qv()},n.prototype.Zr=function(){return this.Li!=null?this.Li.hk().Zr():this.Ld.Zr()},n.prototype.KQ=function(){return this.Ld.kv()},n.prototype.Sp=function(){return this.Go.getUnitFactor()},n.prototype.pz=function(e){return this.Jq.pz(e)},n.prototype.tc=function(){var e=this.Tb();if(e==1)return this;if(e==3)return this.Li.hk().tc();if(e==0||e===4)throw u.i.ga("invalid call");if(this.lw!==null)return this.lw;if(e=this.gh().getGeogcs(),e==null)throw u.i.Ra();return this.lw=n.XE(e,this.Jq.QF())},n.XE=function(e,r){if(e==null)throw u.i.O("null pointer.");var o=new n;return e=n.ou(e,!0),o.Jq.Wx(e,null,r),o.ay(e),o.cy(null),o.fg=e.cs(),o},n.prototype.Tb=function(){var e=this.gh();if(e!=null)switch(e.getType()){case u.Tc.PE_TYPE_GEOGCS:return 1;case u.Tc.PE_TYPE_PROJCS:return 2}return 4},n.prototype.kv=function(){return this.Ld.kv()},n.ou=function(e,r){var o=e.getCode();if(0>=o&&(o=u.qf.getCode(e),0<o)){if(e=u.qf.coordsys(o),e==null)throw u.i.O("Text to wkid mapping had failed: "+o);return n.ou(e,r)}if(r&&0<o&&(r=n.qx[o]))return r;r=u.Ab.zv(e,o,!1);var a=n.gK[r];return a||(e=0>=o?e:u.qf.coordsys(o),e=new u.JC(e),n.gK[r]=e,0<o&&(n.qx[o]=e),e)},n.eM=function(e){if(0>=e)throw u.i.O("Invalid or unsupported wkid: "+e);var r=n.qx[e];if(r!=null)return r;if(r=u.qf.coordsys(e),r==null)throw u.i.O("Invalid or unsupported wkid: "+e);return r=n.ou(r,!1),r.cs()!=e&&(n.qx[e]=r),r},n.fM=function(e){if(e==null||e===void 0||e.length==0)throw u.i.O("Cannot create SpatialReference from null or empty text.");var r=null;try{r=u.qf.fromString(u.Tc.PE_TYPE_COORDSYS,e)}catch(o){throw u.i.O("Cannot create SpatialReference from text. "+o.message)}if(r===null)throw u.i.O("Cannot create SpatialReference from text. ");return n.ou(r,!0)},n.XC=function(e,r){var o=e.getCode();if(0>=o&&(o=u.qf.getCode(e),0<o)){if(o=u.qf.vertcs(o),o===null)throw u.i.O();return n.XC(o,r)}if(r&&0<o&&(r=n.fK[o])||(e=u.Ab.zv(e,o,!1),r=n.hK[e]))return r;var a;if(0>=o||(a=u.qf.vertcs(o)),a===null)throw u.i.O();return a=new u.KL(a),n.hK[e]=a,0<o&&(n.fK[o]=a),a},n.nI=function(e,r){if(r===null||r.B())return null;var o=new u.l;if(r!==null&&e.Tb()!=1){var a=e.tc(),h=a.gh();e=u.xr.Pr(e,a,null,null),r=u.Gx.local().W(r,e,null),r.A(o)}else h=e.gh(),r.A(o);return r=h.getPrimem().getLongitude(),h=h.getUnit().getUnitFactor(),new u.GC(o.v,o.G,o.C,o.H,r,h)},n.gD=function(e){var r={name:"",steps:[],_pt:null,_entry:null},o=0;for(e=e.getEntries();o<e.length;o++){var a=e[o],h={HY:!1,VY:"",UY:-1,geogtran:null};a.getDirection()===0?h.isInverse=!1:h.isInverse=!0;var c=a.getGeogtran().getCode();-1<c?h.wkid=c:h.wkt=a.getGeogtran().toString(),r.steps.push(h)}return r},n.SR=function(e,r,o,a){return o===void 0&&(o=null),o=n.nI(a,o),e=u.np.getGTlist(e.gh(),r.gh(),2,u.np.PE_GTLIST_OPTS_COMMON,o,1),r=null,e&&0<e.length&&(r=this.gD(e[0]),u.Lx.destroy(e)),o!==null&&o.destroy(),r},n.TR=function(e,r,o,a){var h;if(o===void 0&&(o=null),a===void 0&&(a=null),h===void 0&&(h=30),o=n.nI(a,o),e=u.np.getGTlist(e.gh(),r.gh(),2,u.np.PE_GTLIST_OPTS_COMMON,o,h),r=[],e&&0<e.length){for(h=0;h<e.length;h++)r.push(this.gD(e[h]));u.Lx.destroy(e)}return o!==null&&o.destroy(),r},n.qx={},n.gK={},n.fK={},n.hK={},n}(u.Gg);u.iu=C}(U||(U={})),function(u){var C;(function(n){n[n.Integer32=0]="Integer32",n[n.Integer64=1]="Integer64",n[n.FloatingPoint=2]="FloatingPoint"})(C=u.ju||(u.ju={}));var y=function(){function n(){this.sp()}return n.prototype.assign=function(e){this.Hm=e.Hm,this.Im=e.Im,this.Rj=e.Rj,this.nA=e.nA,this.Ho=e.Ho,this.mA=e.mA,this.Kk=e.Kk,this.Oq=e.Oq,this.Nq=e.Nq,this.Tm=e.Tm},n.prototype.QF=function(){return this.Tm},n.prototype.sp=function(){this.Im=this.Hm=0,this.Rj=1,this.nA=0,this.Ho=1,this.mA=0,this.Nq=this.Oq=this.Kk=2220446049250313e-29,this.Tm=C.FloatingPoint},n.prototype.Wx=function(e,r,o){if(this.sp(),this.Tm=o,o!=C.FloatingPoint){var a=new u.l;e.cR(a),this.Hm=a.v,this.Im=a.G}else this.Im=this.Hm=-17976931348623157e292;a=e.Re.getType(),a==u.Tc.PE_TYPE_GEOGCS?(a=(o==C.Integer64?1e-9:1/18e5)*e.bf(),this.Rj=1/a):a==u.Tc.PE_TYPE_PROJCS&&(a=(o==C.Integer64?1e-4:.001)*e.rm(),this.Rj=1/a),r!=null?(a=(o==C.Integer32?.001:1e-4)*r.DH,this.Ho=1/a):this.Ho=1e4,this.TM(),this.Kk=e.uw,this.Oq=r!=null?.001*r.DH:.001,this.Nq=2220446049250313e-29},n.prototype.TM=function(){if(this.Tm!=C.FloatingPoint){var e=this.Tm==C.Integer64?u.Gg.VN:u.Gg.UN,r=e/this.Rj,o=this.Hm+r,a=u.P.truncate((o-this.Hm)*this.Rj);a>e&&(this.Rj=e/(o-this.Hm)),r=this.Im+r,a=u.P.truncate((r-this.Im)*this.Rj),a>e&&(this.Rj=e/(r-this.Im))}},n.prototype.WB=function(e){switch(e){case 0:this.Kk=void 0;case 1:this.Oq=void 0;case 2:this.Nq=void 0}},n.prototype.Mn=function(e){switch(e){case 0:return this.Kk;case 1:return this.Oq;case 2:return this.Nq}return 0},n.prototype.pz=function(e){if(this.Tm==C.FloatingPoint)return 0;switch(e){case 0:return 1/this.Rj;case 1:return 1/this.Ho;case 2:return 1/this.Ho;default:return 0}},n.prototype.toString=function(){var e="SRPD [m_toleranceXY: "+this.Kk.toString();return e=e+";m_falseX: "+this.Hm.toString(),e=e+";m_falseY: "+this.Im.toString(),e=e+";m_unitsXY: "+this.Rj.toString(),e=e+";m_falseZ: "+this.nA.toString(),e=e+";m_unitsZ: "+this.Ho.toString(),e=e+";m_falseM: "+this.mA.toString(),e=e+";m_toleranceZ: "+this.Oq.toString(),e=e+";m_toleranceM: "+this.Nq.toString(),e=e+";m_precision: "+this.Tm.toString(),e+"] "},n}();u.UL=y}(U||(U={})),function(u){function C(a,h){return 89.99999<h?h=89.99999:-89.99999>h&&(h=-89.99999),h*=.017453292519943,[111319.49079327169*a,31890685e-1*Math.log((1+Math.sin(h))/(1-Math.sin(h)))]}function y(a,h,c){return a=a/6378137*57.29577951308232,c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*h/6378137)))]:[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*h/6378137)))]}function n(a,h,c){var p=a.Qf();if(a.K()===33)h=h(p.Ng(),p.kh()),p.Db(h[0],h[1]);else if(a.K()===197){var m=h(a.gs(),a.js(),c);h=h(a.fs(),a.hs(),c),p.L(m[0],m[1],h[0],h[1])}else for(m=new u.h,a=0;a<p.I();a++){p.D(a,m);var g=h(m.x,m.y,c);m.na(g[0],g[1]),p.Db(a,m)}return p}function e(a){return n(a,y,!0)}function r(a){return n(a,C,!0)}var o=Math.PI/180;u.PK=function(){function a(){}return a.xu=function(h){var c=Math.sqrt(.006694379990197414),p=Math.sin(h.y*o);return u.h.construct(6378137*h.x*o,3.1677196636462314e6*(p/(1-.006694379990197414*p*p)-1/(2*c)*Math.log((1-c*p)/(1+c*p))))},a.Ux=function(h,c,p,m){var g=.0033528106647474805,_=Math.sin(p);p=Math.cos(p);var b=(1-g)*Math.tan(h);h=1/Math.sqrt(1+b*b);var x=b*h,P=Math.atan2(b,p);b=h*_;var O=b*b,L=1-O,j=27233160610754688e-5*L/4040829998466145e-2,D=1+j/16384*(4096+j*(-768+j*(320-175*j))),k=j/1024*(256+j*(-128+j*(74-47*j)));j=m/(635675231424518e-8*D);for(var $=2*Math.PI,G,B,K,X;1e-12<Math.abs(j-$);)K=Math.cos(2*P+j),G=Math.sin(j),B=Math.cos(j),X=k*G*(K+k/4*(B*(-1+2*K*K)-k/6*K*(-3+4*G*G)*(-3+4*K*K))),$=j,j=m/(635675231424518e-8*D)+X;return m=x*G-h*B*p,L=g/16*L*(4+g*(4-3*L)),u.h.construct((c+(Math.atan2(G*_,h*B-x*G*p)-(1-L)*g*b*(j+L*G*(K+L*B*(-1+2*K*K)))))/o,Math.atan2(x*B+h*G*p,(1-g)*Math.sqrt(O+m*m))/o)},a.HM=function(h,c,p,m){var g=.0033528106647474805,_=m-c,b=Math.atan((1-g)*Math.tan(h)),x=Math.atan((1-g)*Math.tan(p)),P=Math.sin(b);b=Math.cos(b);var O=Math.sin(x);x=Math.cos(x);var L=_,j=1e3;do{var D=Math.sin(L),k=Math.cos(L),$=Math.sqrt(x*D*x*D+(b*O-P*x*k)*(b*O-P*x*k));if($===0)return 0;k=P*O+b*x*k;var G=Math.atan2($,k),B=b*x*D/$,K=1-B*B;D=k-2*P*O/K,isNaN(D)&&(D=0);var X=g/16*K*(4+g*(4-3*K)),et=L;L=_+(1-X)*g*B*(G+X*$*(D+X*k*(-1+2*D*D)))}while(1e-12<Math.abs(L-et)&&0<--j);return j===0?(P=m-c,{azimuth:Math.atan2(Math.sin(P)*Math.cos(p),Math.cos(h)*Math.sin(p)-Math.sin(h)*Math.cos(p)*Math.cos(P)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(h)*Math.sin(p)+Math.cos(h)*Math.cos(p)*Math.cos(m-c))}):(h=27233160610754688e-5*K/4040829998466145e-2,c=h/1024*(256+h*(-128+h*(74-47*h))),{azimuth:Math.atan2(x*Math.sin(L),b*O-P*x*Math.cos(L)),TQ:635675231424518e-8*(1+h/16384*(4096+h*(-768+h*(320-175*h))))*(G-c*$*(D+c/4*(k*(-1+2*D*D)-c/6*D*(-3+4*$*$)*(-3+4*D*D)))),TY:Math.atan2(b*Math.sin(L),b*O*Math.cos(L)-P*x)})},a.eQ=function(h){var c=h.hasAttribute(1),p=h.hasAttribute(2),m=[],g=h.ea(),_=null,b=null;c&&(_=h.vb(1)),p&&(b=h.vb(2));for(var x=new u.h,P=0;P<g;P++){for(var O=h.Ca(P),L=h.Ka(P),j=0,D=0,k=NaN,$=NaN,G=NaN,B=NaN,K=h.ec(P),X=[],et=O;et<O+L;et++){h.D(et,x),B=G=NaN;var tt=[x.x,x.y];c&&(G=_.get(et),tt.push(G)),p&&(g=b.get(et),tt.push(B)),et==O&&K&&(j=x.x,D=x.y,k=G,$=B),X.push(tt)}!K||j==x.x&&D==x.y&&(!c||isNaN(k)&&isNaN(G)||k==G)&&(!p||isNaN($)&&isNaN(B)||$==B)||X.push(X[0].slice(0)),m.push(X)}return m},a.Ry=function(h,c){h=a.eQ(h),637.100877141506>c&&(c=637.100877141506);for(var p=[],m,g=0;g<h.length;g++){var _=h[g];p.push(m=[]),m.push([_[0][0],_[0][1]]);var b,x,P=_[0][0]*o,O=_[0][1]*o;for(b=0;b<_.length-1;b++){var L=_[b+1][0]*o,j=_[b+1][1]*o;if(P!==L||O!==j){j=a.HM(O,P,j,L),L=j.azimuth,j=j.TQ;var D=j/c;if(1<D){for(x=1;x<=D-1;x++){var k=a.Ux(O,P,L,x*c);m.push([k.x,k.y])}x=a.Ux(O,P,L,(j+Math.floor(D-1)*c)/2),m.push([x.x,x.y])}O=a.Ux(O,P,L,j),m.push([O.x,O.y]),P=O.x*o,O=O.y*o}}}return{lJ:p}},a.SQ=function(h){for(var c=[],p=0;p<h.length;p++){var m=h[p];m=a.Ry(m,1e4),c.push(m)}h=[];for(var g=0;g<c.length;g++){m=c[g];var _=0;for(p=0;p<m.lJ.length;p++){var b=m.lJ[p],x=a.xu(u.h.construct(b[0][0],b[0][1])),P=a.xu(u.h.construct(b[b.length-1][0],b[b.length-1][1])),O=P.x*x.y-x.x*P.y,L;for(L=0;L<b.length-1;L++)x=a.xu(u.h.construct(b[L+1][0],b[L+1][1])),P=a.xu(u.h.construct(b[L][0],b[L][1])),O+=P.x*x.y-x.x*P.y;_+=O}_/=1,h.push(_/-2)}return h},a}(),u.cb=function(){function a(){}return a.sB=function(h,c,p,m,g,_,b){a.bD[h.dc()]=c,isNaN(p)==0&&(a.hD[h.dc()]=p),isNaN(m)==0&&(a.uD[h.dc()]=m),isNaN(g)==0&&(a.WC[h.dc()]=g),a.iD[h.dc()]=_,b!==null&&(a.jD[h.dc()]=b)},a.Yw=function(h,c,p){a.nD[h.dc()+"-"+c.dc()]=p},a.tc=function(h){if(h=a.bD[h.dc()],h==null)throw u.i.Fe();return h},a.bf=function(h){if(h=a.hD[h.dc()],h==null)throw u.i.Fe();return h},a.xv=function(h){if(h=a.uD[h.dc()],h==null)throw u.i.Fe();return h},a.gv=function(h){if(h=a.WC[h.dc()],h==null)throw u.i.Fe();return h},a.ih=function(h){if(h=a.jD[h.dc()],h==null)throw u.i.Fe();return u.l.construct(h[0],h[1],h[2],h[3])},a.Xc=function(h){if(h=a.iD[h.dc()],h==null)throw u.i.Fe();return h},a.Bh=function(h,c,p){if(c.Nb(p))return h;var m=a.nD[c.dc()+"-"+p.dc()];if(m!==void 0)return m(h,c,p);throw u.i.Fe()},a.wt=function(){throw u.i.Fe()},a.XQ=function(){throw u.i.Fe()},a.ZV=function(){throw u.i.Fe()},a.ol=function(){throw u.i.Fe()},a.nW=function(){var h=u.Gg.create(102100),c=u.Gg.create(3857),p=u.Gg.create(4326);u.cb.sB(h,p,NaN,NaN,NaN,!1,null),u.cb.sB(p,p,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),u.cb.sB(c,p,NaN,NaN,NaN,!1,null),u.cb.Yw(h,p,e),u.cb.Yw(p,h,r),u.cb.Yw(c,p,e),u.cb.Yw(p,c,r)},a.bD=[],a.hD=[],a.uD=[],a.WC=[],a.iD=[],a.jD=[],a.nD=[],a}()}(U||(U={})),U.cb.nW(),function(u){var C=function(){function y(n){this.o=new Int32Array(0),this.ko=-1,this.Jg=this.size=this.Dl=0,this.Mf=n}return y.prototype.kd=function(n){n<this.Dl?(this.o[n*this.Mf]=this.ko,this.ko=n):this.Dl--,this.size--},y.prototype.U=function(n,e){return this.o[n*this.Mf+e]},y.prototype.T=function(n,e,r){this.o[n*this.Mf+e]=r},y.prototype.De=function(){var n=this.ko;if(n==-1){if(this.Dl==this.Jg){if(n=this.Jg!=0?u.P.truncate(3*(this.Jg+1)/2):1,2147483647<n&&(n=2147483647),n==this.Jg)throw u.i.de();this.yz(n)}n=this.Dl,this.Dl++}else this.ko=this.o[n*this.Mf];this.size++;for(var e=n*this.Mf;e<n*this.Mf+this.Mf;e++)this.o[e]=-1;return n},y.prototype.Nl=function(n){var e=this.ko;if(e==-1){if(this.Dl==this.Jg){if(e=this.Jg!=0?u.P.truncate(3*(this.Jg+1)/2):1,2147483647<e&&(e=2147483647),e==this.Jg)throw u.i.de();this.yz(e)}e=this.Dl,this.Dl++}else this.ko=this.o[e*this.Mf];this.size++;for(var r=e*this.Mf,o=0;o<n.length;o++)this.o[r+o]=n[o];return e},y.prototype.oj=function(n){this.ko=-1,this.size=this.Dl=0,n&&(this.o=null,this.Jg=0)},y.prototype.Ee=function(n){n>this.Jg&&this.yz(n)},y.prototype.sx=function(n,e){n*=this.Mf,e*=this.Mf;for(var r=0;r<this.Mf;r++){var o=this.o[e+r];this.o[e+r]=this.o[n+r],this.o[n+r]=o}},y.prototype.bC=function(n,e,r){var o=this.o[this.Mf*e+r];this.o[this.Mf*e+r]=this.o[this.Mf*n+r],this.o[this.Mf*n+r]=o},y.GG=function(n){return 0<=n},y.prototype.yz=function(n){this.o==null&&(this.o=new Int32Array(0));var e=new Int32Array(this.Mf*n);e.set(this.o,0),this.o=e,this.Jg=n},y}();u.ad=C}(U||(U={})),function(u){var C;(function(e){e[e.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",e[e.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",e[e.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",e[e.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(C||(C={}));var y=function(){function e(r){this.Ce=r,this.Ah=NaN,this.$G=new u.jg,this.aH=new u.jg,this.os=new u.Oc,this.ps=new u.Oc}return e.prototype.compare=function(r,o,a){if(r=r.ka(a),this.Ce.kB(o,this.$G),this.Ce.kB(r,this.aH),o=this.$G.get(),r=this.aH.get(),this.os.L(o.ta,o.qa),this.ps.L(r.ta,r.qa),this.os.wa<this.ps.pa)return-1;if(this.os.pa>this.ps.wa)return 1;a=o.oa==o.ma;var h=r.oa==r.ma;if(a||h){if(a&&h)return 0;if(o.oa==r.oa&&o.ta==r.ta)return a?1:-1;if(o.ma==r.ma&&o.qa==r.qa)return a?-1:1}return a=o.Me(this.Ah,this.os.pa),h=r.Me(this.Ah,this.ps.pa),a==h&&(a=Math.min(o.ma,r.ma),h=.5*(a+this.Ah),h==this.Ah&&(h=a),a=o.Me(h,this.os.pa),h=r.Me(h,this.ps.pa)),a<h?-1:a>h?1:0},e.prototype.WJ=function(r){this.Ah=r},e}(),n=function(){function e(r){this.ib=r,this.RH=new u.jg,this.Cf=new u.h,this.rA=new u.Oc}return e.prototype.fX=function(r){this.Cf.N(r)},e.prototype.compare=function(r,o){return this.ib.kB(r.ka(o),this.RH),r=this.RH.get(),this.rA.L(r.ta,r.qa),this.Cf.x<this.rA.pa?-1:this.Cf.x>this.rA.wa?1:(r=r.Me(this.Cf.y,this.Cf.x),this.Cf.x<r?-1:this.Cf.x>r?1:0)},e}();C=function(){function e(){this.cH=this.Fi=this.Ii=this.fA=this.$n=this.ze=this.Lc=this.lh=this.he=null,this.Io=this.yg=-1,this.bH=!0,this.kA=!1,this.gA=NaN,this.Pi=new u.Nd,this.XN=2147483647,this.WN=u.P.truncate(-2147483648),this.eg=this.be=this.Jl=this.Eq=this.Em=this.Dq=this.Qs=this.Oe=-1,this.xa=0}return e.prototype.ty=function(r){this.gA=r},e.prototype.$m=function(){this.he==null&&(this.he=new u.ad(8));var r=this.he.De();return this.he.T(r,1,0),r},e.prototype.qU=function(){this.Lc==null&&(this.Lc=new u.ad(8));var r=this.Lc.De();this.Lc.T(r,2,0),this.Lc.T(r,3,0);var o=this.Lc.De();return this.Lc.T(o,2,0),this.Lc.T(o,3,0),this.EJ(r,o),this.EJ(o,r),r},e.prototype.hI=function(){this.ze==null&&(this.ze=new u.ad(8));var r=this.ze.De();return this.ze.T(r,2,0),r},e.prototype.OW=function(r,o){this.he.T(r,7,o)},e.prototype.on=function(r,o){this.he.T(r,2,o)},e.prototype.NW=function(r,o){this.he.T(r,1,o)},e.prototype.gX=function(r,o){this.he.T(r,3,o)},e.prototype.dX=function(r,o){this.he.T(r,4,o)},e.prototype.er=function(r,o){this.he.T(r,5,o)},e.prototype.$Q=function(r){return this.he.U(r,5)},e.prototype.MW=function(r,o){this.he.T(r,6,o)},e.prototype.YM=function(r,o){this.MW(o,r)},e.prototype.DJ=function(r,o){this.Lc.T(r,1,o)},e.prototype.EJ=function(r,o){this.Lc.T(r,4,o)},e.prototype.Vl=function(r,o){this.Lc.T(r,5,o)},e.prototype.Ul=function(r,o){this.Lc.T(r,6,o)},e.prototype.VW=function(r,o){this.Lc.T(r,2,o)},e.prototype.cx=function(r,o){this.Lc.T(r,3,o)},e.prototype.GF=function(r){return this.Lc.U(r,3)},e.prototype.Ht=function(r,o){this.Lc.T(r,7,o)},e.prototype.zK=function(r,o){if(this.om(r)!=-1)for(o=o?-1:r,r=this.om(r);r!=-1;r=this.ls(r))this.g.Sa(this.vj(r),this.Eq,o)},e.prototype.xx=function(r,o){r!=-1&&(this.zK(r,o),this.zK(this.ya(r),o))},e.prototype.Et=function(r,o){this.ze.T(r,1,o)},e.prototype.Xg=function(r,o){this.ze.T(r,2,o)},e.prototype.ln=function(r,o){this.ze.T(r,3,o),this.IW(r,this.ZQ(o)),this.HW(o,r)},e.prototype.HW=function(r,o){this.ze.T(r,4,o)},e.prototype.IW=function(r,o){this.ze.T(r,5,o)},e.prototype.yJ=function(r,o){this.ze.T(r,6,o)},e.prototype.wJ=function(r,o){this.ze.T(r,7,o)},e.prototype.vJ=function(r,o){this.$n.write(r,o)},e.prototype.xJ=function(r,o){this.fA.write(r,o)},e.prototype.gY=function(r){var o=0,a=0,h=this.vF(r),c=new u.h,p=new u.h,m=new u.h;this.$r(h,c),p.N(c);var g=h;do this.nm(g,m),a+=u.h.ub(p,m),this.$e(this.ya(g))!=r&&(o+=(m.x-c.x-(p.x-c.x))*(m.y-c.y+(p.y-c.y))*.5),p.N(m),g=this.kc(g);while(g!=h);this.$n.write(r,o),this.fA.write(r,a)},e.prototype.KU=function(r,o){var a=new y(this),h=new u.$j;h.Ee(u.P.truncate(this.xa/2)),h.Xo(a);for(var c=new u.ja(0),p=this.bh(),m=null,g=0,_=new u.h,b=this.Oe;b!=-1;b=this.Tf(b)){if(g++,!(g&255)&&o!=null&&!o.progress(-1,-1))throw u.i.RC();var x=this.Je(b);if(x!=-1){if(c.Dh(0),!this.cY(h,p,c,x)){this.D(b,_),a.WJ(_.y);var P=x;do{var O=this.Bb(P,p);O!=-1&&(h.wd(O,-1),this.Kb(P,p,-2)),P=this.kc(this.ya(P))}while(x!=P);P=x;do O=this.Bb(P,p),O==-1&&(O=h.addElement(P,-1),c.add(O)),P=this.kc(this.ya(P));while(x!=P)}for(x=c.size-1;0<=x;x--)O=c.get(x),P=h.ka(O),this.Kb(this.ya(P),p,O),this.JU(h,O,r)}else this.Yy(b)==-1&&(m==null&&(m=new n(this)),this.D(b,_),m.fX(_),P=h.DW(m),x=this.Jl,P!=-1&&(O=h.ka(P),this.$e(O)==this.$e(this.ya(O))&&(O=this.JF(h,P)),O!=-1&&(x=this.$e(O))),this.YM(x,b))}this.Lg(p)},e.prototype.JU=function(r,o,a){var h=r.ka(o),c=this.$e(h);if(this.In(c)==-1){var p=this.JF(r,o),m=this.ya(h),g=this.$e(m);this.Mp(c),this.Mp(g);var _=this.In(c),b=this.In(g);if(p==-1&&_==-1&&(g==c?(this.ln(g,this.Jl),_=b=this.Jl):(b==-1&&(this.ln(g,this.Jl),b=this.Jl),this.ln(c,g),_=g)),p!=-1){var x=this.$e(p);b==-1&&(0>=this.Mp(x)?(b=this.In(x),this.ln(g,b)):(this.ln(g,x),b=x),g==c&&(_=b))}_==-1&&this.dY(c,g),a==0?this.eW(r,o,h,p,c,g):a==5?this.fW(r,o,h,m,c,g):a==4&&this.dW(h,p,c,g)}},e.prototype.eW=function(r,o,a,h,c,p){var m=this.jk(c);if(h!=-1){var g=this.jk(p),_=this.jk(this.$e(h));h=m&g&_,_^=_&this.fh(a),_|=h,_!=0&&(this.Xg(p,g|_),this.Xg(c,_|m),m=m||_)}for(o=r.lb(o);o!=-1&&(h=r.ka(o),a=this.$e(this.ya(h)),c=this.jk(a),p=this.fh(h),g=this.$e(h),_=this.jk(g),h=c&_&m,m^=m&p,m|=h,m!=0);o=r.lb(o))this.Xg(a,c|m),this.Xg(g,_|m)},e.prototype.fW=function(r,o,a,h,c,p){if(c!=p){a=this.Bb(a,this.eg),a+=this.Bb(h,this.eg),h=0;var m=new u.ja(0),g=new u.ja(0);g.add(0);for(var _=r.sc(-1);_!=o;_=r.lb(_)){var b=r.ka(_),x=this.ya(b),P=this.$e(b),O=this.$e(x);if(P!=O){if(b=this.Bb(b,this.eg),b+=this.Bb(x,this.eg),h+=b,x=!1,m.size!=0&&m.Gc()==O&&(g.Jf(),m.Jf(),x=!0),this.In(O)==-1)throw u.i.Ra();x&&this.In(O)==P||(g.add(h),m.add(P))}}h+=a,m.size!=0&&m.Gc()==p&&(g.Jf(),m.Jf()),h!=0?g.Gc()==0&&(r=this.g.md,r=this.Ma(r),this.Xg(c,r)):g.Gc()!=0&&(r=this.g.md,r=this.Ma(r),this.Xg(c,r))}},e.prototype.dW=function(r,o,a,h){var c=this.Ma(this.g.md);if(o==-1)this.Xg(h,this.Io),r=this.Bb(r,this.yg),r&1?this.Xg(a,c):this.Xg(a,this.Io);else{var p=this.jk(h);p==0?(p=this.jk(this.$e(o)),this.Xg(h,p),r=this.Bb(r,this.yg),r&1?this.Xg(a,p==c?this.Io:c):this.Xg(a,p)):(r=this.Bb(r,this.yg),r&1?this.Xg(a,p==c?this.Io:c):this.Xg(a,p))}},e.prototype.cY=function(r,o,a,h){var c=h,p=-1,m=-1,g=0;do{if(g==2)return!1;var _=this.Bb(c,o);if(_!=-1){if(p!=-1)return!1;p=_}else{if(m!=-1)return!1;m=c}g++,c=this.kc(this.ya(c))}while(h!=c);return m==-1||p==-1?!1:(this.Kb(r.ka(p),o,-2),r.Uj(p,m),a.add(p),!0)},e.prototype.dY=function(r,o){var a=this.Mp(r);if(a!=0){var h=this.Mp(o);0<a&&0>h?this.ln(r,o):0>a&&0<h?this.ln(r,o):(o=this.In(o),o!=-1&&this.ln(r,o))}},e.prototype.qP=function(r,o){this.Eq=this.g.Hd();for(var a=0,h=o.size;a<h;a++){var c=o.get(a),p=this.g.Qa(c,this.Em),m=this.g.Sf(this.g.cd(c)),g=this.g.jc(m);if(u.ba.Ic(g)){var _=this.g.V(c);if(_!=-1){var b=this.g.Qa(_,this.Em);if(p!=b){var x=this.qU(),P=this.ya(x),O=this.lh.De();this.lh.T(O,0,c),this.lh.T(O,1,-1),this.Ht(x,O),this.DJ(x,p),O=this.Je(p),O==-1?(this.on(p,x),this.Vl(x,P),this.Ul(P,x)):(p=this.ue(O),this.Vl(O,P),this.Ul(P,O),this.Ul(p,x),this.Vl(x,p)),this.DJ(P,b),p=this.Je(b),p==-1?(this.on(b,P),this.Ul(x,P),this.Vl(P,x)):(b=this.ue(p),this.Vl(p,x),this.Ul(x,p),this.Ul(b,P),this.Vl(P,b)),m=this.Ma(m),r==0?(this.Kb(P,this.be,0),this.Kb(x,this.be,g==1736?m:0)):r==5?(b=new u.h,this.g.D(c,b),c=new u.h,this.g.D(_,c),p=_=0,0>b.compare(c)?_=1:p=-1,this.Kb(P,this.be,0),this.Kb(x,this.be,0),this.Kb(x,this.eg,_),this.Kb(P,this.eg,p)):r==7?(this.Kb(P,this.be,this.Io),this.Kb(x,this.be,g==1736?m:0)):r==4&&(this.Kb(P,this.be,0),this.Kb(x,this.be,0),this.Kb(x,this.yg,1),this.Kb(P,this.yg,1)),g=g==1736?this.WN:0,this.cx(x,m|g),this.cx(P,m|g)}}}}},e.prototype.QT=function(r,o){var a=this.om(o);if(a!=-1){var h=this.om(r);this.lh.T(a,1,h),this.Ht(r,a),this.Ht(o,-1)}r=this.ya(r),o=this.ya(o),a=this.om(o),a!=-1&&(h=this.om(r),this.lh.T(a,1,h),this.Ht(r,a),this.Ht(o,-1))},e.prototype.EX=function(r){function o($,G){return h.CO($,G)}var a=new u.ja(0);a.Jb(10);for(var h=this,c=this.Oe;c!=-1;c=this.Tf(c)){a.clear(!1);var p=this.Je(c);if(p!=-1){var m=p;do a.add(m),m=this.kc(this.ya(m));while(m!=p);if(1<a.size){if(m=!0,2<a.size)a.Wd(0,a.size,o),a.add(a.get(0));else if(0<this.BO(a.get(0),a.get(1))){var g=a.get(0);a.set(0,a.get(1)),a.set(1,g)}else m=!1;for(var _=g=a.get(0),b=this.vf(_),x=this.ya(_),P=-1,O=1,L=a.size;O<L;O++){var j=a.get(O),D=this.ya(j),k=this.lk(D);if(k==b&&j!=_){if(r==0)P=this.GF(_)|this.GF(j),this.cx(_,P),this.cx(x,P),this.Kb(_,this.be,this.Bb(_,this.be)|this.Bb(j,this.be)),this.Kb(x,this.be,this.Bb(x,this.be)|this.Bb(D,this.be));else if(this.eg!=-1)P=this.Bb(_,this.eg)+this.Bb(j,this.eg),D=this.Bb(x,this.eg)+this.Bb(D,this.eg),this.Kb(_,this.eg,P),this.Kb(x,this.eg,D);else{if(r==7){this.Pi=new u.Nd(5,c,-1);return}this.yg!=-1&&(P=this.Bb(_,this.yg)+this.Bb(j,this.yg),D=this.Bb(x,this.yg)+this.Bb(D,this.yg),this.Kb(_,this.yg,P),this.Kb(x,this.yg,D))}this.QT(_,j),this.Gy(j),P=_,a.set(O,-1),j==g&&(a.set(0,-1),g=-1)}else this.xx(P,!1),P=-1,_=j,b=k,x=D}if(this.xx(P,!1),P=-1,m){for(g=-1,O=0,L=a.size;O<L;O++)if(j=a.get(O),j!=-1){if(g==-1)_=g=j,b=this.vf(_),x=this.ya(_);else if(j!=_&&(D=this.ya(j),k=this.lk(D),this.Ul(x,j),this.Vl(j,x),_=j,b=k,x=D,r==7&&(this.Bb(j,this.be)|this.Bb(this.ue(j),this.be))==(this.Io|1))){this.Pi=new u.Nd(5,c,-1);return}}this.on(c,g)}else{for(g=-1,O=0,L=a.size;O<L;O++)if(j=a.get(O),j!=-1){g=j;break}p!=g&&this.on(c,g)}}}}},e.prototype.RN=function(){for(var r=-1,o=this.bh(),a=this.Oe;a!=-1;a=this.Tf(a)){var h=this.Je(a);if(h!=-1){var c=h;do{if(this.Bb(c,o)!=1){var p=this.hI();this.Et(p,c),this.wJ(p,r),r!=-1&&this.yJ(r,p),r=p;var m=0,g=c;do m|=this.Bb(g,this.be),this.VW(g,p),this.Kb(g,o,1),g=this.kc(g);while(g!=c);this.Xg(p,m)}c=this.kc(this.ya(c))}while(c!=h)}}p=this.hI(),this.Et(p,-1),this.wJ(p,r),r!=-1&&this.yJ(r,p),this.Jl=p,this.$n=u.ce.rf(this.ze.size,NaN),this.fA=u.ce.rf(this.ze.size,NaN),this.vJ(this.Jl,1/0),this.xJ(this.Jl,1/0),this.Lg(o)},e.prototype.mR=function(r,o,a){if(o=o!=-1?o:this.Je(r),o==-1)return-1;for(r=o;;){if(this.Bb(o,a)!=1)return o;if(o=this.kc(this.ya(o)),o==r)return-1}},e.prototype.tW=function(){for(var r=this.bh(),o=this.Oe;o!=-1;o=this.Tf(o))for(var a=-1;;){var h=this.mR(o,a,r);if(h==-1)break;a=this.kc(this.ya(h));for(var c=h;;){var p=this.kc(c),m=this.ue(c),g=this.ya(c);if(m==g){if(this.DP(c),(a==c||a==g)&&(a=-1),c==h||m==h){if(h=p,c==h||m==h)break;c=p;continue}}else this.Kb(c,r,1);if(c=p,c==h)break}}this.Lg(r)},e.prototype.HB=function(r,o,a,h,c){this.Wg(),this.bH=c,this.g=r,this.Dq=this.g.WE(),r=new u.ja(0),r.Jb(a!=null?this.g.I(a.get(0)):this.g.gd);var p=0,m=1,g=a!=null?a.get(0):this.g.md;for(c=1;g!=-1;){this.g.CJ(g,this.Dq,m),m<<=1;for(var _=this.g.Ob(g);_!=-1;_=this.g.Sb(_))for(var b=this.g.Ya(_),x=0,P=this.g.Ka(_);x<P;x++)r.add(b),b=this.g.V(b);u.ba.Tn(this.g.jc(g))||(p+=this.g.ea(g)),a!=null?(g=c<a.size?a.get(c):-1,c++):g=this.g.ve(g)}for(this.Io=m,this.xa=r.size,this.g.nx(r,this.xa),this.lh==null&&(this.lh=new u.ad(2),this.he=new u.ad(8),this.Lc=new u.ad(8),this.ze=new u.ad(8)),this.lh.Ee(this.xa),u.op.Bp(h),this.he.Ee(this.xa+10),this.Lc.Ee(2*this.xa+32),this.ze.Ee(Math.max(32,p)),this.Em=this.g.Hd(),a=new u.h,c=0,p=new u.h,a.Sc(),m=0;m<=this.xa;m++)if(m<this.xa?(b=r.get(m),this.g.D(b,p)):p.Sc(),!a.rb(p)){if(c<m){for(b=this.$m(),P=x=-1;c<m;c++)P=r.get(c),this.g.Sa(P,this.Em,b),g=this.lh.De(),this.lh.T(g,0,P),this.lh.T(g,1,x),x=g,_=this.g.cd(P),g=this.g.Sf(_),g=this.Ma(g),this.NW(b,this.yd(b)|g);this.OW(b,x),this.er(b,this.g.Va(P)),this.Qs!=-1&&this.dX(this.Qs,b),this.gX(b,this.Qs),this.Qs=b,this.Oe==-1&&(this.Oe=b)}c=m,a.N(p)}u.op.Bp(h),this.be=this.bh(),o==5&&(this.eg=this.bh()),o==4&&(this.yg=this.bh()),this.qP(o,r),this.Pi.Lj==0&&(this.EX(o),this.Pi.Lj==0&&(isNaN(this.gA)||this.sO()?(this.RN(),this.Pi.Lj==0&&(this.Lg(this.be),this.be=-1,this.bH&&this.KU(o,h))):this.kA=!0))},e.prototype.Gy=function(r){var o=this.kc(r),a=this.ue(r),h=this.ya(r),c=this.kc(h),p=this.ue(h);o!=h&&(this.Ul(p,o),this.Vl(o,p)),a!=h&&(this.Ul(a,c),this.Vl(c,a)),a=this.lk(r),this.Je(a)==r&&(c!=r?this.on(a,c):this.on(a,-1)),c=this.lk(h),this.Je(c)==h&&(o!=h?this.on(c,o):this.on(c,-1)),this.Lc.kd(r),this.Lc.kd(h)},e.prototype.JF=function(r,o){for(;;)if(o=r.xe(o),o!=-1){var a=r.ka(o);if(this.$e(a)!=this.$e(this.ya(a)))return a}else return-1},e.prototype.fr=function(r,o){var a;a===void 0&&(a=!0),this.HB(r,0,null,o,a)},e.prototype.qJ=function(r,o,a){var h=new u.ja(0);h.add(o),this.HB(r,4,h,a,r.jc(o)==1736)},e.prototype.rJ=function(r,o,a){var h=new u.ja(0);h.add(o),this.HB(r,5,h,a,!0)},e.prototype.Wg=function(){this.g!=null&&(this.Dq!=-1&&(this.g.sW(this.Dq),this.Dq=-1),this.Em!=-1&&(this.g.Ud(this.Em),this.Em=-1),this.Eq!=-1&&(this.g.Ud(this.Eq),this.Eq=-1),this.be!=-1&&(this.Lg(this.be),this.be=-1),this.eg!=-1&&(this.Lg(this.eg),this.eg=-1),this.yg!=-1&&(this.Lg(this.yg),this.yg=-1),this.g=null,this.he.oj(!0),this.lh.oj(!0),this.Qs=this.Oe=-1,this.Lc!=null&&this.Lc.oj(!0),this.Ii!=null&&(this.Ii.length=0),this.Fi!=null&&(this.Fi.length=0),this.cH!=null&&(this.cH.length=0),this.ze!=null&&this.ze.oj(!0),this.Jl=-1,this.$n=null)},e.prototype.Je=function(r){return this.he.U(r,2)},e.prototype.D=function(r,o){this.g.ZF(this.$Q(r),o)},e.prototype.yd=function(r){return this.he.U(r,1)},e.prototype.Tf=function(r){return this.he.U(r,4)},e.prototype.Yy=function(r){return this.he.U(r,6)},e.prototype.mm=function(r){return this.he.U(r,7)},e.prototype.ls=function(r){return this.lh.U(r,1)},e.prototype.vj=function(r){return this.lh.U(r,0)},e.prototype.og=function(r,o){return o=this.Fi[o],o.size<=r?-1:o.read(r)},e.prototype.pn=function(r,o,a){o=this.Fi[o],o.size<=r&&o.resize(this.he.size,-1),o.write(r,a)},e.prototype.Fp=function(){this.Fi==null&&(this.Fi=[]);for(var r=u.ja.rf(this.he.Jg,-1),o=0,a=this.Fi.length;o<a;o++)if(this.Fi[o]==null)return this.Fi[o]=r,o;return this.Fi.push(r),this.Fi.length-1},e.prototype.Gp=function(r){this.Fi[r]=null},e.prototype.lk=function(r){return this.Lc.U(r,1)},e.prototype.vf=function(r){return this.lk(this.ya(r))},e.prototype.ya=function(r){return this.Lc.U(r,4)},e.prototype.ue=function(r){return this.Lc.U(r,5)},e.prototype.kc=function(r){return this.Lc.U(r,6)},e.prototype.$e=function(r){return this.Lc.U(r,2)},e.prototype.af=function(r){return this.jk(this.Lc.U(r,2))},e.prototype.om=function(r){return this.Lc.U(r,7)},e.prototype.$r=function(r,o){this.D(this.lk(r),o)},e.prototype.nm=function(r,o){this.D(this.vf(r),o)},e.prototype.fh=function(r){return this.Lc.U(r,3)&this.XN},e.prototype.Bb=function(r,o){return o=this.Ii[o],o.size<=r?-1:o.read(r)},e.prototype.Kb=function(r,o,a){o=this.Ii[o],o.size<=r&&o.resize(this.Lc.size,-1),o.write(r,a)},e.prototype.bh=function(){this.Ii==null&&(this.Ii=[]);for(var r=u.ja.rf(this.Lc.Jg,-1),o=0,a=this.Ii.length;o<a;o++)if(this.Ii[o]==null)return this.Ii[o]=r,o;return this.Ii.push(r),this.Ii.length-1},e.prototype.Lg=function(r){this.Ii[r]=null},e.prototype.DP=function(r){var o=this.$e(r),a=this.ya(r),h=this.kc(r);h==a&&(h=this.kc(h),h==r&&(h=-1));var c=this.vF(o);c!==r&&c!=a||this.Et(o,h),a=this.$n.read(o),isNaN(a)||(this.vJ(o,NaN),this.xJ(o,NaN)),this.xx(r,!0),this.Gy(r)},e.prototype.EP=function(r){for(var o=0,a=r.size;o<a;o++){var h=r.get(o),c=this.$e(this.ya(h));this.Et(this.$e(h),-1),this.Et(c,-1),this.xx(h,!0),this.Gy(h)}},e.prototype.vF=function(r){return this.ze.U(r,1)},e.prototype.jk=function(r){return this.ze.U(r,2)},e.prototype.In=function(r){return this.ze.U(r,3)},e.prototype.ZQ=function(r){return this.ze.U(r,4)},e.prototype.Mp=function(r){var o=this.$n.read(r);return isNaN(o)&&(this.gY(r),o=this.$n.read(r)),o},e.prototype.Ma=function(r){return this.g.FF(r,this.Dq)},e.prototype.Ie=function(r){return this.g.Qa(r,this.Em)},e.prototype.oR=function(r){return this.g.Qa(r,this.Eq)},e.prototype.nR=function(r,o){var a=this.Je(r);if(a==-1)return-1;var h=a,c=-1,p=-1;do{if(this.vf(h)==o)return h;if(c==-1){if(c=this.Je(o),c==-1)break;p=c}if(this.vf(p)==r)return h=this.ya(p);h=this.kc(this.ya(h)),p=this.kc(this.ya(p))}while(h!=a&&p!=c);return-1},e.prototype.kB=function(r,o){o.Qr(),o=o.get();var a=new u.h;this.$r(r,a),o.Ec(a),this.nm(r,a),o.Rc(a)},e.prototype.CO=function(r,o){if(r==o)return 0;var a=new u.h;this.nm(r,a);var h=new u.h;return this.nm(o,h),a.rb(h)?0:(o=new u.h,this.$r(r,o),r=new u.h,r.vc(a,o),a=new u.h,a.vc(h,o),u.h.pu(r,a))},e.prototype.BO=function(r,o){if(r==o)return 0;var a=new u.h;this.nm(r,a);var h=new u.h;return this.nm(o,h),a.rb(h)?0:(o=new u.h,this.$r(r,o),r=new u.h,r.vc(a,o),a=new u.h,a.vc(h,o),0<=a.y&&0<r.y?u.h.pu(r,a):0)},e.prototype.sO=function(){for(var r=u.mc.ox(this.gA),o=new u.h,a=new u.h,h=new u.h,c=new u.h,p=new u.h,m=this.Oe;m!=-1;m=this.Tf(m)){var g=this.Je(m);if(g!=-1){var _=g;this.$r(_,o),this.nm(_,a),p.vc(a,o);var b=p.Uk();do{var x=_;if(_=this.kc(this.ya(_)),_!=x){this.nm(_,h),c.vc(h,o),x=c.Uk();var P=c.yi(p);if(P*P/(x*b)*Math.min(x,b)<=r)return!1;p.N(c),b=x,a.N(h)}}while(_!=g)}}return!0},e}(),u.ku=C}(U||(U={})),function(u){var C=function(){function y(){this.j=null,this.jH=new u.h,this.kH=new u.h,this.Ij=null,this.Ov=!1,this.vl=-1}return y.prototype.cf=function(n){return n<this.Ij.length?this.Ij[n]:!1},y.prototype.fl=function(n,e,r,o){var a=u.ba.uf(this.j.g.jc(r));if(u.ba.uf(this.j.g.jc(e))==2&&a==1)this.AP(n,e,r,o);else throw u.i.Ra()},y.prototype.fr=function(n,e){this.j==null&&(this.j=new u.ku),this.j.fr(n,e)},y.prototype.Gt=function(n,e,r){for(u.Vk.W(n,e,r,!0),e=n.md;e!=-1;e=n.ve(e))n.jc(e)==1736&&u.tn.W(n,e,-1,this.Ov,r);this.fr(n,r)},y.prototype.HE=function(n,e,r,o,a){var h=this.j.g;if(h.jc(n)==1736)for(n=h.Ob(n);n!=-1;n=h.Sb(n)){var c=h.Ya(n);this.j.Ie(c),this.j.Ie(h.V(c));var p=this.j.oR(c);if(p!=-1){var m=this.j.Bb(p,r);if(m!=1&&m!=2)if(this.cf(this.j.af(p))){this.j.Kb(p,r,1),m=h.wf(e,-1);var g=p,_=this.j.Ie(c),b=1;do{var x=this.um(c,a);h.kj(m,x),o!=-1&&this.j.pn(_,o,1),this.j.Kb(g,r,1),g=this.j.kc(g);do{x=b==1?h.V(c):h.Na(c);var P=x!=-1?this.j.Ie(x):-1}while(P==_);var O=this.j.lk(g);if(O!=P){do x=b==1?h.Na(c):h.V(c),P=x!=-1?this.j.Ie(x):-1;while(P==_);O!=P?(P=O,x=this.j.vj(this.j.mm(P))):b=-b}_=P,c=x}while(g!=p);h.mn(m,!0)}else this.j.Kb(p,r,2)}}},y.prototype.$E=function(){for(var n=this.j.bh(),e=new u.ja(0),r=this.j.Oe;r!=-1;r=this.j.Tf(r)){var o=this.j.Je(r),a=o;if(o!=-1)do{if(this.j.Bb(a,n)!=1){var h=this.j.ya(a);this.j.Kb(h,n,1),this.j.Kb(a,n,1),this.cf(this.j.af(a))&&this.cf(this.j.af(h))&&e.add(a)}a=this.j.kc(this.j.ya(a))}while(a!=o)}this.j.Lg(n),this.j.EP(e)},y.prototype.um=function(n,e){return e==-1?n:this.WR(n,e)},y.prototype.WR=function(n,e){var r=this.j.g,o=this.j.mm(this.j.Ie(n));do{var a=this.j.vj(o),h=r.Sf(r.cd(a));if(h==e)return a;o=this.j.ls(o)}while(o!=-1);return n},y.prototype.Qt=function(n,e,r){this.$E();var o=this.j.g,a=o.Kg(1736),h=this.j.bh();return this.pK(n,e,a,r,h,-1),this.j.Lg(h),u.tn.W(o,a,1,this.Ov,null),a},y.prototype.pK=function(n,e,r,o,a,h){for(this.HE(n,r,a,h,o),e!=-1&&this.HE(e,r,a,h,o),n=this.j.g,e=this.j.Oe;e!=-1;e=this.j.Tf(e)){var c=this.j.Je(e);if(c!=-1){var p=c;do{var m=this.j.Bb(p,a);if(m!=1&&m!=2)if(this.cf(this.j.af(p))){m=n.wf(r,-1);var g=p;do{var _=this.j.om(g);_!=-1?_=this.j.vj(_):(_=this.j.vj(this.j.om(this.j.ya(g))),_=this.j.g.V(_)),_=this.um(_,o),n.kj(m,_),this.j.Kb(g,a,1),h!=-1&&(_=this.j.Ie(_),this.j.pn(_,h,1)),g=this.j.kc(g)}while(g!=p);n.mn(m,!0)}else this.j.Kb(p,a,2);p=this.j.kc(this.j.ya(p))}while(p!=c)}}},y.prototype.XX=function(n,e,r){var o=this.j.g,a=o.Kg(1736),h=o.Kg(1607),c=o.Kg(550);this.$E();var p=-1,m=this.j.bh(),g=this.j.Fp();for(this.pK(n,e,a,r,m,g),n=this.j.Oe;n!=-1;n=this.j.Tf(n))if(e=this.j.Je(n),e!=-1){var _=e;do{var b=this.j.Bb(_,m),x=this.j.Bb(this.j.ya(_),m);if(b|=x,b==2)if(b=this.j.fh(_),this.cf(b)){var P=o.wf(h,-1),O=_;b=this.$w(n,o),b=this.um(b,r),o.kj(P,b),this.j.pn(n,g,1);do{if(b=this.j.vf(O),x=this.$w(b,o),x=this.um(x,r),o.kj(P,x),this.j.Kb(O,m,1),this.j.Kb(this.j.ya(O),m,1),this.j.pn(b,g,1),O=this.j.kc(O),b=this.j.Bb(O,m),x=this.j.Bb(this.j.ya(O),m),b|=x,b!=2)break;if(b=this.j.fh(O),!this.cf(b)){this.j.Kb(O,m,1),this.j.Kb(this.j.ya(O),m,1);break}}while(O!=_)}else this.j.Kb(_,m,1),this.j.Kb(this.j.ya(_),m,1);_=this.j.kc(this.j.ya(_))}while(_!=e)}for(n=this.j.Oe;n!=-1;n=this.j.Tf(n))b=this.j.og(n,g),b!=1&&(b=this.j.yd(n),this.cf(b)&&(p==-1&&(p=o.wf(c,-1)),e=this.j.mm(n),e!=-1&&(e=this.j.vj(e),b=this.um(e,r),o.kj(p,b))));return this.j.Gp(g),this.j.Lg(m),u.tn.W(o,a,1,this.Ov,null),r=[],r[0]=c,r[1]=h,r[2]=a,r},y.prototype.$w=function(n,e){var r=-1;for(n=this.j.mm(n);n!=-1;n=this.j.ls(n)){var o=this.j.vj(n);r==-1&&(r=o);var a=this.j.Ma(e.Sf(e.cd(o)));if(this.cf(a)){r=o;break}}return r},y.prototype.gB=function(n,e){for(var r=this.ll(e),o=this.j.lk(e),a=this.j.vf(e),h=0,c=0,p=this.j.mm(o);p!=-1;p=this.j.ls(p)){var m=this.j.vj(p),g=n.cd(m),_=this.j.Ma(n.Sf(g));g=n.Ya(g),(_=(_&r)!=0)&&g==m&&(this.vl=e);var b=n.V(m);b!=-1&&this.j.Ie(b)==a?(h++,_&&(this.vl===-1&&g==b&&(m=this.j.kc(e),this.cf(this.ll(m))&&(this.vl=m)),c++)):(m=n.Na(m),m!=-1&&this.j.Ie(m)==a&&(h--,_&&(this.vl===-1&&g===m&&(m=this.j.kc(e),this.cf(this.ll(m))&&(this.vl=m)),c--)))}return this.j.D(o,this.jH),this.j.D(a,this.kH),n=u.h.ub(this.jH,this.kH),(c!=0?c:h)*n},y.prototype.ll=function(n){return this.j.fh(n)|this.j.af(n)|this.j.af(this.j.ya(n))},y.prototype.sK=function(n){for(var e=this.j.ya(this.j.ue(n)),r=-1;e!=n;){if(this.cf(this.ll(e))){if(r!=-1)return-1;r=e}e=this.j.ya(this.j.ue(e))}return r!=-1?this.j.ya(r):-1},y.prototype.tK=function(n){for(var e=this.j.ya(this.j.kc(n)),r=-1;e!=n;){if(this.cf(this.ll(e))){if(r!=-1)return-1;r=e}e=this.j.ya(this.j.kc(e))}return r!=-1?this.j.ya(r):-1},y.prototype.hJ=function(n,e,r,o,a){var h=this.j.g,c=n,p=this.j.ya(c);this.j.Kb(c,r,1),this.j.Kb(p,r,1),this.vl=-1;for(var m=this.gB(h,c),g=c,_=-1,b=!1,x=1;;){var P=this.j.ue(c);if(P==p)break;if(p=this.j.kc(p),this.j.ya(P)!=p)if(c=this.sK(c),c==-1){b=!0;break}else p=this.j.ya(c);else c=P;if(c==n){_=n;break}if(P=this.ll(c),!this.cf(P))break;this.j.Kb(c,r,1),this.j.Kb(p,r,1),g=c,m+=this.gB(h,c),x++}if(_==-1)for(c=n,p=this.j.ya(c),_=c;n=this.j.kc(c),n!=p;){if(p=this.j.ue(p),this.j.ya(n)!=p)if(c=this.tK(c),c==-1){b=!0;break}else p=this.j.ya(c);else c=n;if(P=this.ll(c),!this.cf(P))break;this.j.Kb(c,r,1),this.j.Kb(p,r,1),_=c,m+=this.gB(h,c),x++}else if(this.vl!=-1&&(g=this.vl,_=this.j.ue(this.vl),this.j.ya(_)!=this.j.kc(this.j.ya(g))&&(_=this.sK(g),_==-1)))throw u.i.Ra();for(0<=m||(c=_,_=this.j.ya(g),g=this.j.ya(c)),r=h.wf(e,-1),c=g,g=this.j.lk(g),b=this.j.vf(_)==g&&b,m=this.$w(g,h),m=this.um(m,a),h.kj(r,m),o!=-1&&this.j.pn(g,o,1),g=0,x=b?u.P.truncate((x+1)/2):-1;n=this.j.vf(c),m=this.$w(n,h),m=this.um(m,a),h.kj(r,m),g++,o!=-1&&this.j.pn(n,o,1),b&&g==x&&(r=h.wf(e,-1),h.kj(r,m)),c!=_;)if(n=this.j.kc(c),this.j.ue(this.j.ya(c))!=this.j.ya(n)){if(c=this.tK(c),c==-1)throw u.i.Ra()}else c=n},y.prototype.Rt=function(n){for(var e=this.j.g.Kg(1607),r=this.j.bh(),o=this.j.Oe;o!=-1;o=this.j.Tf(o)){var a=this.j.Je(o),h=a;do this.j.Bb(h,r)!=1&&this.cf(this.ll(h))&&this.hJ(h,e,r,-1,n),h=this.j.kc(this.j.ya(h));while(h!=a)}return this.j.Lg(r),e},y.prototype.YX=function(n){for(var e=this.j.g,r=e.Kg(1607),o=e.Kg(550),a=this.j.bh(),h=this.j.Fp(),c=-1,p=this.j.Oe;p!=-1;p=this.j.Tf(p)){var m=this.j.Je(p),g=m;do{var _=this.j.Bb(g,a);_!=1&&(_=this.ll(g),this.cf(_)&&this.hJ(g,r,a,h,n)),g=this.j.kc(this.j.ya(g))}while(g!=m)}for(p=this.j.Oe;p!=-1;p=this.j.Tf(p))_=this.j.og(p,h),_!=1&&(_=this.j.yd(p),this.cf(_)&&(c==-1&&(c=e.wf(o,-1)),m=this.j.mm(p),m!=-1&&(m=this.j.vj(m),m=this.um(m,n),e.kj(c,m))));return this.j.Lg(a),this.j.Gp(h),n=[],n[0]=o,n[1]=r,n},y.prototype.pr=function(){for(var n=this.j.g,e=n.Kg(550),r=n.wf(e,-1),o=this.j.Oe;o!=-1;o=this.j.Tf(o))if(this.cf(this.j.yd(o))){for(var a=-1,h=this.j.mm(o);h!=-1;h=this.j.ls(h)){var c=this.j.vj(h);a==-1&&(a=c);var p=this.j.Ma(n.Sf(n.cd(c)));if(this.cf(p)){a=c;break}}n.kj(r,a)}return e},y.prototype.eq=function(n){this.Ij=[];for(var e=0;e<n;e++)this.Ij[e]=!1},y.WV=function(n,e,r){var o=n.Ja(),a=Array(1e3);u.P.bv(a,null);var h=u.P.mg(1e3,0),c=n.I(),p=!0,m=e.Eb()==2;if(e.Eb()!=1&&e.Eb()!=2)throw u.i.Ra();for(var g=0;g<c;){var _=u.P.truncate(n.gW(a,g)-g);m?u.jd.nK(e,a,_,r,h):u.jd.oK(e,a,_,r,h);for(var b=0,x=0;x<_;x++)h[x]==0&&(p&&(p=!1,o.Gd(n,0,g)),b!=x&&o.Gd(n,g+b,g+x),b=x+1);p||b==_||o.Gd(n,g+b,g+_),g+=_}return p?n:o},y.uG=function(n,e,r){return n instanceof u.ee?y.WV(n,e,r):e instanceof u.Ta?n.B()||e.B()?n.Ja():u.Vk.uU(r,n,e)?u.Vk.xO(n,e):n.Ja():y.XV(n,e,r)},y.Cv=function(n,e,r,o){var a=new u.l;n.A(a);var h=new u.l;e.A(h);var c=new u.l;if(c.L(a),c.$b(h),r=u.ua.Xd(r,c,!0),c=new u.l,c.L(h),h=u.ua.Gr(r),c.X(h,h),!a.isIntersecting(c)){if(n.Eb()<=e.Eb())return y.mi(y.Ue(n.Ja()),n,"&");if(n.Eb()>e.Eb())return y.mi(y.Ue(e.Ja()),n,"&")}return h=new y,a=new u.hd,c=a.Ib(y.Ue(n)),e=a.Ib(y.Ue(e)),h.Gt(a,r,o),o=h.Cv(c,e),n=y.mi(a.Ke(o),n,"&"),u.ba.Ic(n.K())&&(n.Eh(2,r),n.K()==1736&&n.hm()),n},y.XV=function(n,e,r){if(n.B()||e.B())return n.Ja();var o=[null],a=[0],h=e.Eb()==2;if(e.Eb()!=1&&e.Eb()!=2)throw u.i.Ra();return o[0]=n.D(),h?u.jd.nK(e,o,1,r,a):u.jd.oK(e,o,1,r,a),a[0]==0?n.Ja():n},y.prototype.GU=function(n,e,r,o,a){if(n.B())return n;var h=new u.hd;return n=h.Ib(n),this.Ok(h,n,e,r,o,a)},y.prototype.IU=function(n,e,r,o,a,h){if(a&&n.jc(e)!=550){var c=new u.MC;c.PX(n,r),c.Pg?(u.Vk.W(n,r,h,!0),a=!1):this.j.ty(r)}else u.Vk.W(n,r,h,!0),a=!1;if(o&&n.jc(e)!=550?this.j.rJ(n,e,h):this.j.qJ(n,e,h),this.j.kA)return this.j.Wg(),this.j=null,this.Ok(n,e,r,o,!1,h);if(this.j.ty(NaN),h=this.j.Ma(e),this.eq(h+1),this.Ij[h]=!0,n.jc(e)==1736||o&&n.jc(e)!=550)return n.$o(e,0),e=this.Qt(e,-1,-1),n=n.Ke(e),n.$o(0),a?n.Eh(1,0):(n.Eh(2,r),n.hm()),n;if(n.jc(e)==1607)return e=this.Rt(-1),n=n.Ke(e),a||n.Eh(2,r),n;if(n.jc(e)==550)return e=this.pr(),n=n.Ke(e),a||n.Eh(2,r),n;throw u.i.Ra()},y.prototype.Ok=function(n,e,r,o,a,h){this.j=new u.ku;try{return this.IU(n,e,r,o,a,h)}finally{this.j.Wg()}},y.Ok=function(n,e,r,o,a){return new y().GU(n,e,r,o,a)},y.prototype.HU=function(n,e,r,o){this.Ov=n,this.j=new u.ku,n=e.Kn(r);var a=e.jc(r);if(n!=1||a==550?this.j.qJ(e,r,o):this.j.rJ(e,r,o),!this.j.kA)if(this.j.ty(NaN),o=this.j.Ma(r),this.eq(o+1),this.Ij[o]=!0,e.jc(r)==1736||n==1&&e.jc(r)!=550)e.$o(r,0),o=this.Qt(r,-1,-1),e.cC(o,r),e.wB(o);else if(e.jc(r)==1607)o=this.Rt(-1),e.cC(o,r),e.wB(o);else if(e.jc(r)==550)o=this.pr(),e.cC(o,r),e.wB(o);else throw u.i.ga("internal error")},y.prototype.km=function(n,e){var r=u.ba.uf(this.j.g.jc(n)),o=u.ba.uf(this.j.g.jc(e));if(r>o)return n;var a=this.j.Ma(n),h=this.j.Ma(e);if(this.eq((a|h)+1),this.Ij[this.j.Ma(n)]=!0,r==2&&o==2)return this.Qt(n,e,-1);if(r==1&&o==2||r==1&&o==1)return this.Rt(-1);if(r==0)return this.pr();throw u.i.Ra()},y.prototype.Cv=function(n,e){var r=u.ba.uf(this.j.g.jc(n)),o=u.ba.uf(this.j.g.jc(e)),a=this.j.Ma(n),h=this.j.Ma(e);if(this.eq((a|h)+1),this.Ij[this.j.Ma(n)|this.j.Ma(e)]=!0,a=-1,1<this.j.g.it.Ba&&(a=n),r==2&&o==2)return this.Qt(n,e,a);if(r==1&&0<o||o==1&&0<r)return this.Rt(a);if(r==0||o==0)return this.pr();throw u.i.Ra()},y.prototype.Kz=function(n,e){var r=u.ba.uf(this.j.g.jc(n)),o=u.ba.uf(this.j.g.jc(e)),a=this.j.Ma(n),h=this.j.Ma(e);if(this.eq((a|h)+1),this.Ij[this.j.Ma(n)|this.j.Ma(e)]=!0,a=-1,1<this.j.g.it.Ba&&(a=n),r==2&&o==2)return this.XX(n,e,a);if(r==1&&0<o||o==1&&0<r)return this.YX(a);if(r==0||o==0)return n=[],n[0]=this.pr(),n;throw u.i.Ra()},y.prototype.gp=function(n,e){var r=u.ba.uf(this.j.g.jc(n)),o=u.ba.uf(this.j.g.jc(e)),a=this.j.Ma(n),h=this.j.Ma(e);if(this.eq((a|h)+1),this.Ij[this.j.Ma(n)]=!0,this.Ij[this.j.Ma(e)]=!0,r==2&&o==2)return this.Qt(n,e,-1);if(r==1&&o==1)return this.Rt(-1);if(r==0&&o==0)return this.pr();throw u.i.Ra()},y.Ue=function(n){var e=n.K();return e==197?(e=new u.Ea(n.description),n.B()||e.bd(n,!1),e):e==33?(e=new u.ee(n.description),n.B()||e.add(n),e):e==322?(e=new u.Ua(n.description),n.B()||e.pc(n,!0),e):n},y.mi=function(n,e,r){var o=n.K();return o==197?(e=new u.Ea(n.description),n.B()||e.bd(n,!1),e):o!=33||r!="|"&&r!="^"?o==322?(e=new u.Ua(n.description),n.B()||e.pc(n,!0),e):o==33&&r=="-"&&e.K()==33||o==550&&r=="&"&&e.K()==33?(e=new u.Ta(n.description),n.B()||n.we(0,e),e):n:(e=new u.ee(n.description),n.B()||e.add(n),e)},y.km=function(n,e,r,o){if(n.B()||e.B()||n.Eb()>e.Eb())return y.mi(y.Ue(n),n,"-");var a=new u.l;n.A(a);var h=new u.l;if(e.A(h),!a.isIntersecting(h))return y.mi(y.Ue(n),n,"-");var c=new u.l;return c.L(a),c.$b(h),r=u.ua.Xd(r,c,!0),h=new y,a=new u.hd,c=a.Ib(y.Ue(n)),e=a.Ib(y.Ue(e)),h.Gt(a,r,o),o=h.km(c,e),o=a.Ke(o),n=y.mi(o,n,"-"),u.ba.Ic(n.K())&&(n.Eh(2,r),n.K()==1736&&n.hm()),n},y.QP=function(n,e,r){if(2>n.length)throw u.i.O("not enough geometries to dissolve");for(var o=0,a=0,h=n.length;a<h;a++)o=Math.max(n[a].Eb(),o);var c=new u.l;c.Pa();var p=new u.hd,m=-1,g=0,_=-1;for(a=0,h=n.length;a<h;a++)if(n[a].Eb()==o)if(n[a].B())_==-1&&(_=a);else{_=a,m==-1?m=p.Ib(y.Ue(n[a])):p.pN(m,y.Ue(n[a]));var b=new u.l;n[a].yc(b),c.$b(b),g++}return 2>g?y.Ue(n[_]):(n=o==2,e=u.ua.Xd(o==0?e:null,c,!0),new y().Ok(p,m,e,n,!0,r))},y.Kz=function(n,e,r,o){var a=[null,null,null],h=new u.l;n.A(h);var c=new u.l;e.A(c);var p=new u.l;if(p.L(h),p.$b(c),r=u.ua.Xd(r,p,!0),p=new u.l,p.L(c),c=u.ua.Gr(r),p.X(c,c),!h.isIntersecting(p)){if(n.Eb()<=e.Eb())return n=y.mi(y.Ue(n.Ja()),n,"&"),a[n.Eb()]=n,a;if(n.Eb()>e.Eb())return n=y.mi(y.Ue(e.Ja()),n,"&"),a[n.Eb()]=n,a}for(c=new y,h=new u.hd,p=h.Ib(y.Ue(n)),e=h.Ib(y.Ue(e)),c.Gt(h,r,o),o=c.Kz(p,e),e=0;e<o.length;e++)c=y.mi(h.Ke(o[e]),n,"&"),u.ba.Ic(c.K())&&(c.Eh(2,r),c.K()==1736&&c.hm()),a[c.Eb()]=c;return a},y.gp=function(n,e,r,o){if(n.Eb()>e.Eb())return y.mi(y.Ue(n),n,"^");if(n.Eb()<e.Eb()||n.B())return y.mi(y.Ue(e),n,"^");if(e.B())return y.mi(y.Ue(n),n,"^");var a=new u.l;n.A(a);var h=new u.l;e.A(h);var c=new u.l;return c.L(a),c.$b(h),r=u.ua.Xd(r,c,!0),h=new y,a=new u.hd,c=a.Ib(y.Ue(n)),e=a.Ib(y.Ue(e)),h.Gt(a,r,o),o=h.gp(c,e),n=y.mi(a.Ke(o),n,"^"),u.ba.Ic(n.K())&&(n.Eh(2,r),n.K()==1736&&n.hm()),n},y.prototype.GQ=function(n,e){var r=this.j.g;n=r.wf(n,-1);for(var o=e.size,a=0;a<o;a++){var h=e.get(a);r.kj(n,h)}r.mn(n,!0)},y.prototype.WW=function(n,e){for(var r=this.j.g,o=r.md;o!=-1;o=r.ve(o))if(o==e)for(var a=r.Ob(o);a!=-1;a=r.Sb(a)){var h=r.Ya(a);if(h!=-1)for(var c=r.V(h);c!=-1;){h=this.j.Ie(h);var p=this.j.Ie(c);h=this.j.nR(h,p),h!=-1&&(p=this.j.ya(h),this.j.Kb(h,n,1),this.j.Kb(p,n,2)),h=c,c=r.V(h)}}},y.prototype.YV=function(n,e,r,o){r=this.j.Ma(r),o=this.j.Ma(o);var a=new u.ja(0);a.Jb(256);for(var h=this.j.g,c=this.j.bh(),p=this.j.Oe;p!=-1;p=this.j.Tf(p)){var m=this.j.Je(p);if(m!=-1){var g=m;do{if(this.j.Bb(g,c)!=1){var _=g,b=g,x=!1,P=0;do{if(this.j.Kb(_,c,1),!x){var O=this.j.fh(_);O&o&&this.j.af(_)&r&&(b=_,x=!0)}x&&(a.add(this.j.vj(this.j.mm(this.j.lk(_)))),n!=-1&&(O=this.j.fh(_),O&o&&(O=this.j.Bb(_,n),P|=O))),_=this.j.kc(_)}while(_!=b);x&&0<this.j.Mp(this.j.$e(b))&&(_=h.Kg(1736),this.GQ(_,a),e!=-1&&h.CJ(_,e,P)),a.clear(!1)}g=this.j.kc(this.j.ya(g))}while(g!=m)}}this.j.Lg(c)},y.prototype.AP=function(n,e,r,o){this.j.tW();var a=-1;n!=-1&&(a=this.j.bh(),this.WW(a,r)),this.YV(a,n,e,r),a!=-1&&(this.j.Lg(a),a=-1);var h=this.j.g;for(n=0,a=h.md;a!=-1;a=h.ve(a))a!=e&&a!=r&&(o.add(a),n++);o.Wd(0,n,function(c,p){return c=h.qz(h.Ob(c)),p=h.qz(h.Ob(p)),c<p?-1:c==p?0:1})},y.prototype.Wg=function(){this.j!=null&&(this.j.Wg(),this.j=null)},y}();u.Hg=C}(U||(U={})),function(u){var C=function(){function y(n){n!==void 0?this.Jt(n):this.MB()}return y.prototype.lx=function(){this.Qb=this.Lb=this.qb=this.jb=this.bb=this.eb=0},y.prototype.Nb=function(n){return this==n?!0:n instanceof y?this.eb==n.eb&&this.jb==n.jb&&this.Lb==n.Lb&&this.qb==n.qb&&this.bb==n.bb&&this.Qb==n.Qb:!1},y.prototype.dc=function(){return u.P.wj(),u.P.wj(),u.P.wj(),u.P.wj(),u.P.wj(),u.P.wj()},y.prototype.Gh=function(n,e){var r=this.qb*n.x+this.bb*n.y+this.Qb;e.x=this.eb*n.x+this.jb*n.y+this.Lb,e.y=r},y.prototype.aY=function(n,e,r){for(var o=0;o<e;o++){var a=n[o].x,h=n[o].y,c=this.eb*a+this.jb*h+this.Lb;a=this.qb*a+this.bb*h+this.Qb,r[o]!=null?r[o].na(c,a):r[o]=u.h.construct(c,a)}},y.prototype.multiply=function(n){y.multiply(this,n,this)},y.multiply=function(n,e,r){var o=n.eb*e.eb+n.qb*e.jb,a=n.jb*e.eb+n.bb*e.jb,h=n.Lb*e.eb+n.Qb*e.jb+e.Lb,c=n.eb*e.qb+n.qb*e.bb,p=n.jb*e.qb+n.bb*e.bb;n=n.Lb*e.qb+n.Qb*e.bb+e.Qb,r.eb=o,r.jb=a,r.Lb=h,r.qb=c,r.bb=p,r.Qb=n},y.prototype.Qf=function(){var n=new y;return n.eb=this.eb,n.jb=this.jb,n.Lb=this.Lb,n.qb=this.qb,n.bb=this.bb,n.Qb=this.Qb,n},y.prototype.hC=function(n){if(!n.B()){for(var e=[],r=0;4>r;r++)e[r]=new u.h;n.iB(e),this.bY(e,e),n.bx(e,4)}},y.prototype.bY=function(n,e){for(var r=0;r<n.length;r++){var o=new u.h,a=n[r];o.x=this.eb*a.x+this.jb*a.y+this.Lb,o.y=this.qb*a.x+this.bb*a.y+this.Qb,e[r]=o}},y.prototype.kS=function(n,e){n.B()||e.B()||n.S()==0||n.da()==0?this.lx():(this.jb=this.qb=0,this.eb=e.S()/n.S(),this.bb=e.da()/n.da(),this.Lb=e.v-n.v*this.eb,this.Qb=e.G-n.G*this.bb)},y.prototype.$X=function(n){var e=new u.h,r=new u.h;e.na(this.eb,this.qb),r.na(this.jb,this.bb),e.sub(e);var o=.5*e.Uk();return e.na(this.eb,this.qb),r.na(this.jb,this.bb),e.add(r),e=.5*e.Uk(),n*(o>e?Math.sqrt(o):Math.sqrt(e))},y.prototype.MB=function(){this.eb=1,this.qb=this.Lb=this.jb=0,this.bb=1,this.Qb=0},y.prototype.isIdentity=function(n){if(n!==void 0){var e=u.h.construct(0,1);return this.Gh(e,e),e.sub(u.h.construct(0,1)),e.Uk()>n*n||(e.na(0,0),this.Gh(e,e),e.Uk()>n*n)?!1:(e.na(1,0),this.Gh(e,e),e.sub(u.h.construct(1,0)),e.Uk()<=n*n)}return this.eb==1&&this.bb==1&&this.jb==0&&this.Lb==0&&this.qb==0&&this.Qb==0},y.prototype.Di=function(n){return Math.abs(this.eb*this.bb-this.qb*this.jb)<=2*n*(Math.abs(this.eb*this.bb)+Math.abs(this.qb*this.jb))},y.prototype.ig=function(n,e){this.eb=1,this.jb=0,this.Lb=n,this.qb=0,this.bb=1,this.Qb=e},y.prototype.Jt=function(n,e){e!==void 0?(this.eb=n,this.qb=this.Lb=this.jb=0,this.bb=e,this.Qb=0):this.Jt(n,n)},y.prototype.VB=function(){this.eb=0,this.jb=1,this.Lb=0,this.qb=1,this.Qb=this.bb=0},y.prototype.kX=function(n){this.lX(Math.cos(n),Math.sin(n))},y.prototype.lX=function(n,e){this.eb=n,this.jb=-e,this.Lb=0,this.qb=e,this.bb=n,this.Qb=0},y.prototype.shift=function(n,e){this.Lb+=n,this.Qb+=e},y.prototype.scale=function(n,e){this.eb*=n,this.jb*=n,this.Lb*=n,this.qb*=e,this.bb*=e,this.Qb*=e},y.prototype.flipX=function(n,e){this.eb=-this.eb,this.jb=-this.jb,this.Lb=n+e-this.Lb},y.prototype.flipY=function(n,e){this.qb=-this.qb,this.bb=-this.bb,this.Qb=n+e-this.Qb},y.prototype.rotate=function(n){var e=new y;e.kX(n),this.multiply(e)},y.prototype.inverse=function(n){if(n!==void 0){var e=this.eb*this.bb-this.jb*this.qb;e==0?n.lx():(e=1/e,n.Lb=(this.jb*this.Qb-this.Lb*this.bb)*e,n.Qb=(this.Lb*this.qb-this.eb*this.Qb)*e,n.eb=this.bb*e,n.jb=-this.jb*e,n.qb=-this.qb*e,n.bb=this.eb*e)}else this.inverse(this)},y}();u.Ed=C}(U||(U={})),function(u){var C=function(){function y(){}return y.prototype.lx=function(){this.Cg=this.Qb=this.Lb=this.Ze=this.We=this.Ve=this.Ye=this.bb=this.jb=this.pf=this.qb=this.eb=0},y.prototype.Jt=function(n,e){this.eb=n,this.jb=this.pf=this.qb=0,this.bb=e,this.We=this.Ve=this.Ye=0,this.Ze=void 0,this.Cg=this.Qb=this.Lb=0},y.prototype.translate=function(n,e,r){this.Lb+=n,this.Qb+=e,this.Cg+=r},y.prototype.hC=function(n){if(!n.B()){for(var e=new u.Od[8],r=0;8>r;r++)e[r]=new u.Od;n.iB(e),this.transform(e,8,e),n.bx(e)}},y.prototype.transform=function(n,e,r){for(var o=0;o<e;o++){var a=new u.Od,h=n[o];a.x=this.eb*h.x+this.jb*h.y+this.Ve*h.z+this.Lb,a.y=this.qb*h.x+this.bb*h.y+this.We*h.z+this.Qb,a.z=this.pf*h.x+this.Ye*h.y+this.Ze*h.z+this.Cg,r[o]=a}},y.prototype.hp=function(n){var e=new u.Od;return e.x=this.eb*n.x+this.jb*n.y+this.Ve*n.z+this.Lb,e.y=this.qb*n.x+this.bb*n.y+this.We*n.z+this.Qb,e.z=this.pf*n.x+this.Ye*n.y+this.Ze*n.z+this.Cg,e},y.prototype.Bg=function(n){y.multiply(this,n,this)},y.multiply=function(n,e,r){var o=n.eb*e.eb+n.qb*e.jb+n.pf*e.Ve,a=n.eb*e.qb+n.qb*e.bb+n.pf*e.We,h=n.eb*e.pf+n.qb*e.Ye+n.pf*e.Ze,c=n.jb*e.eb+n.bb*e.jb+n.Ye*e.Ve,p=n.jb*e.qb+n.bb*e.bb+n.Ye*e.We,m=n.jb*e.pf+n.bb*e.Ye+n.Ye*e.Ze,g=n.Ve*e.eb+n.We*e.jb+n.Ze*e.Ve,_=n.Ve*e.qb+n.We*e.bb+n.Ze*e.We,b=n.Ve*e.pf+n.We*e.Ye+n.Ze*e.Ze,x=n.Lb*e.eb+n.Qb*e.jb+n.Cg*e.Ve+e.Lb,P=n.Lb*e.qb+n.Qb*e.bb+n.Cg*e.We+e.Qb;n=n.Lb*e.pf+n.Qb*e.Ye+n.Cg*e.Ze+e.Cg,r.eb=o,r.qb=a,r.pf=h,r.jb=c,r.bb=p,r.Ye=m,r.Ve=g,r.We=_,r.Ze=b,r.Lb=x,r.Qb=P,r.Cg=n},y.inverse=function(n,e){var r=n.eb*(n.bb*n.Ze-n.Ye*n.We)-n.qb*(n.jb*n.Ze-n.Ye*n.Ve)+n.pf*(n.jb*n.We-n.bb*n.Ve);if(r!=0){var o=1/r;r=(n.bb*n.Ze-n.Ye*n.We)*o;var a=-(n.jb*n.Ze-n.Ye*n.Ve)*o,h=(n.jb*n.We-n.bb*n.Ve)*o,c=-(n.qb*n.Ze-n.We*n.pf)*o,p=(n.eb*n.Ze-n.pf*n.Ve)*o,m=-(n.eb*n.We-n.qb*n.Ve)*o,g=(n.qb*n.Ye-n.pf*n.bb)*o,_=-(n.eb*n.Ye-n.pf*n.jb)*o;o*=n.eb*n.bb-n.qb*n.jb;var b=-(n.Lb*r+n.Qb*a+n.Cg*h),x=-(n.Lb*c+n.Qb*p+n.Cg*m);n=-(n.Lb*g+n.Qb*_+n.Cg*o),e.eb=r,e.qb=c,e.pf=g,e.jb=a,e.bb=p,e.Ye=_,e.Ve=h,e.We=m,e.Ze=o,e.Lb=b,e.Qb=x,e.Cg=n}else throw u.i.ga("math singularity")},y.prototype.Qf=function(){var n=new y;return n.eb=this.eb,n.qb=this.qb,n.pf=this.pf,n.jb=this.jb,n.bb=this.bb,n.Ye=this.Ye,n.Ve=this.Ve,n.We=this.We,n.Ze=this.Ze,n.Lb=this.Lb,n.Qb=this.Qb,n.Cg=this.Cg,n},y}();u.FY=C}(U||(U={})),function(u){var C=function(n){function e(r){if(r!==void 0)r=n.call(this,r.dc(),r)||this;else{r=n.call(this)||this,r.dg=[],r.dg[0]=0,r.Ba=1,r.wh=[];for(var o=0;10>o;o++)r.wh[o]=-1;r.wh[r.dg[0]]=0}return r.lq=!0,r}return Bt(e,n),e.prototype.se=function(r){this.hasAttribute(r)||(this.wh[r]=0,this.eD())},e.prototype.removeAttribute=function(r){if(r==0)throw u.i.O("Position attribue cannot be removed");this.hasAttribute(r)&&(this.wh[r]=-1,this.eD())},e.prototype.reset=function(){this.dg[0]=0,this.Ba=1;for(var r=0;r<this.wh.length;r++)this.wh[r]=-1;this.wh[this.dg[0]]=0,this.lq=!0},e.prototype.zF=function(){return y.fz().add(this)},e.pg=function(){return y.fz().VR()},e.prototype.oM=function(){var r=this.dc();return new u.sa(r,this)},e.prototype.eD=function(){for(var r=this.Ba=0,o=0;10>r;r++)0<=this.wh[r]&&(this.dg[o]=r,this.wh[r]=o,o++,this.Ba++);this.lq=!0},e.prototype.dc=function(){return this.lq&&(this.yl=this.Cn(),this.lq=!1),this.yl},e.prototype.Nb=function(r){if(r==null)return!1;if(r==this)return!0;if(!(r instanceof e)||r.Ba!=this.Ba)return!1;for(var o=0;o<this.Ba;o++)if(this.dg[o]!=r.dg[o])return!1;return this.lq==r.lq},e.prototype.BG=function(r){if(r.Ba!=this.Ba)return!1;for(var o=0;o<this.Ba;o++)if(this.dg[o]!=r.dg[o])return!1;return!0},e.Kw=function(r,o){for(var a=[],h=0;h<r.Ba;h++)a[h]=-1;h=0;for(var c=r.Ba;h<c;h++)a[h]=o.Rf(r.ld(h));return a},e.wR=function(r,o){return r=new e(r),r.se(o),r.zF()},e.xR=function(r,o){for(var a=null,h=0;10>h;h++)!r.hasAttribute(h)&&o.hasAttribute(h)&&(a==null&&(a=new e(r)),a.se(h));return a!=null?a.zF():r},e}(u.sa);u.fe=C;var y=function(){function n(){this.map=[];var e=new C;this.add(e),e=new C,e.se(1),this.add(e)}return n.fz=function(){return n.XK},n.prototype.VR=function(){return n.gt},n.prototype.add=function(e){var r=e.dc();if(n.gt!=null&&n.gt.dc()==r&&e.BG(n.gt))return n.gt;if(n.Fw!=null&&n.Fw.dc()==r&&e.BG(n.Fw))return n.Fw;var o=null;return this.map[r]!==void 0&&(o=this.map[r]),o==null&&(o=e.oM(),o.Ba==1?n.gt=o:o.Ba==2&&o.ld(1)==1?n.Fw=o:this.map[r]=o),o},n.XK=new n,n}()}(U||(U={}));var a3={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},l3={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},ro=new(function(){function u(){this.MM=50,this.pp=new Map,this.ij=[]}return u.prototype.clear=function(){this.ij.length=0,this.pp.clear()},u.prototype.delete=function(C){return this.pp.delete(C)?(this.ij.splice(this.ij.indexOf(C),1),!0):!1},u.prototype.get=function(C){var y=this.pp.get(C);if(y!==void 0)return this.ij[0]!==C&&(this.ij.splice(this.ij.indexOf(C),1),this.ij.unshift(C)),y},u.prototype.has=function(C){return this.pp.has(C)},u.prototype.set=function(C,y){return this.get(C)!==void 0&&this.delete(C),this.ij.unshift(C),this.pp.set(C,y),this.jM(),this},u.prototype.jM=function(){for(;this.ij.length&&this.ij.length>this.MM;){var C=this.ij.pop();this.pp.delete(C)}},u}()),ut=(Ve={},Ve.convertJSONToGeometry=function(u){return U.ac.aP(u)},Ve.hasM=function(u){return u.hasAttribute(U.Kh.M)},Ve.hasZ=function(u){return u.hasAttribute(U.Kh.Z)},Ve.getPointX=function(u){return u.Ng()},Ve.getPointY=function(u){return u.kh()},Ve.getPointZ=function(u){return u.XR()},Ve.getPointM=function(u){return u.uR()},Ve.getXMin=function(u){return u.gs()},Ve.getYMin=function(u){return u.js()},Ve.getXMax=function(u){return u.fs()},Ve.getYMax=function(u){return u.hs()},Ve.getZExtent=function(u){return u.Vg(U.Kh.Z,0)},Ve.getMExtent=function(u){return u.Vg(U.Kh.M,0)},Ve.exportPaths=function(u){var C=[],y=u.ea(),n=null,e=null,r=u.hasAttribute(U.Kh.Z),o=u.hasAttribute(U.Kh.M);r&&(n=u.vb(U.Kh.Z)),o&&(e=u.vb(U.Kh.M));for(var a=new U.h,h=0;h<y;h++){for(var c=u.Ca(h),p=u.Ka(h),m=0,g=0,_=NaN,b=NaN,x=NaN,P=NaN,O=u.ec(h),L=[],j=c;j<c+p;j++){u.D(j,a),P=x=NaN;var D=[a.x,a.y];r&&(x=n.get(j),D.push(x)),o&&(P=e.get(j),D.push(P)),j==c&&O&&(m=a.x,g=a.y,_=x,b=P),L.push(D)}!O||m==a.x&&g==a.y&&(!r||isNaN(_)&&isNaN(x)||_==x)&&(!o||isNaN(b)&&isNaN(P)||b==P)||L.push(L[0].slice(0)),C.push(L)}return C},Ve.exportPathsFlat=function(){},Ve.exportPoints=function(u){var C=u.hasAttribute(U.Kh.Z),y=u.hasAttribute(U.Kh.M),n=null,e=null;C&&(n=u.vb(U.Kh.Z)),y&&(e=u.vb(U.Kh.M));for(var r=new U.h,o=u.I(),a=[],h=0;h<o;h++){u.D(h,r);var c=[r.x,r.y];C&&c.push(n.get(h)),y&&c.push(e.get(h)),a.push(c)}return a},Ve.exportPointsFlat=function(){},Ve),Ea=new Map;return function(){function u(){}return u.buffer=eo,u.clip=R,u.contains=V,u.convexHull=_t,u.crosses=W,u.cut=F,u.densify=Z8,u.difference=Nt,u.disjoint=nt,u.distance=H,u.equals=Y,u.extendedSpatialReferenceInfo=N,u.generalize=q8,u.geodesicArea=eS,u.geodesicBuffer=rr,u.geodesicDensify=X8,u.geodesicLength=iS,u.intersect=zt,u.intersects=it,u.isSimple=wt,u.nearestCoordinate=Bs,u.nearestVertex=K8,u.nearestVertices=Y8,u.offset=fi,u.overlaps=at,u.planarArea=Q8,u.planarLength=tS,u.relate=gt,u.simplify=At,u.symmetricDifference=Mt,u.touches=Q,u.union=Tt,u.within=st,u.rotate=U.Dx.rotate,u.flipHorizontal=U.Dx.EQ,u.flipVertical=U.Dx.FQ,u.intersectLinesToPoints=hS,u.ExtendedParams=U.tC,u.clearDefaultSpatialReferenceTolerance=lS,u.changeDefaultSpatialReferenceTolerance=aS,u._enableProjection=rS,u._project=oS,u._getTransformation=sS,u._getTransformationBySuitability=nS,u}()}{var l=s();l!==void 0&&(i.exports=l)}})(az);const Dt=$f,lz=oz({__proto__:null,default:Dt},[$f]),hz=Object.freeze(Object.defineProperty({__proto__:null,G:Dt,g:lz},Symbol.toStringTag,{value:"Module"})),Vt={convertToGEGeometry:uz,exportPoint:cz,exportPolygon:fz,exportPolyline:pz,exportMultipoint:dz,exportExtent:yz};function uz(i,t){if(t==null)return null;let s="cache"in t?t.cache._geVersion:void 0;return s==null&&(s=i.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=s)),s}function cz(i,t,s){const l=i.hasZ(t),f=i.hasM(t),d=new Pt({x:i.getPointX(t),y:i.getPointY(t),spatialReference:s});return l&&(d.z=i.getPointZ(t)),f&&(d.m=i.getPointM(t)),d.cache._geVersion=t,d}function fz(i,t,s){const l=new Nl({rings:i.exportPaths(t),hasZ:i.hasZ(t),hasM:i.hasM(t),spatialReference:s});return l.cache._geVersion=t,l}function pz(i,t,s){const l=new Sa({paths:i.exportPaths(t),hasZ:i.hasZ(t),hasM:i.hasM(t),spatialReference:s});return l.cache._geVersion=t,l}function dz(i,t,s){const l=new Vu({hasZ:i.hasZ(t),hasM:i.hasM(t),points:i.exportPoints(t),spatialReference:s});return l.cache._geVersion=t,l}function yz(i,t,s){const l=i.hasZ(t),f=i.hasM(t),d=new pe({xmin:i.getXMin(t),ymin:i.getYMin(t),xmax:i.getXMax(t),ymax:i.getYMax(t),spatialReference:s});if(l){const v=i.getZExtent(t);d.zmin=v.vmin,d.zmax=v.vmax}if(f){const v=i.getMExtent(t);d.mmin=v.vmin,d.mmax=v.vmax}return d.cache._geVersion=t,d}const mz=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:Vt},Symbol.toStringTag,{value:"Module"}));function Jt(i){return Array.isArray(i)?i[0].spatialReference:i&&i.spatialReference}function vz(i){return Dt.extendedSpatialReferenceInfo(i)}function wz(i,t){return Dt.clip(Vt,Jt(i),i,t)}function gz(i,t){return Dt.cut(Vt,Jt(i),i,t)}function _z(i,t){return Dt.contains(Vt,Jt(i),i,t)}function Sz(i,t){return Dt.crosses(Vt,Jt(i),i,t)}function bz(i,t,s){return Dt.distance(Vt,Jt(i),i,t,s)}function Tz(i,t){return Dt.equals(Vt,Jt(i),i,t)}function Ez(i,t){return Dt.intersects(Vt,Jt(i),i,t)}function xz(i,t){return Dt.touches(Vt,Jt(i),i,t)}function Mz(i,t){return Dt.within(Vt,Jt(i),i,t)}function Az(i,t){return Dt.disjoint(Vt,Jt(i),i,t)}function Pz(i,t){return Dt.overlaps(Vt,Jt(i),i,t)}function Iz(i,t,s){return Dt.relate(Vt,Jt(i),i,t,s)}function Cz(i){return Dt.isSimple(Vt,Jt(i),i)}function Oz(i){return Dt.simplify(Vt,Jt(i),i)}function Nz(i,t=!1){return Dt.convexHull(Vt,Jt(i),i,t)}function Lz(i,t){return Dt.difference(Vt,Jt(i),i,t)}function Rz(i,t){return Dt.symmetricDifference(Vt,Jt(i),i,t)}function Dz(i,t){return Dt.intersect(Vt,Jt(i),i,t)}function jz(i,t=null){return Dt.union(Vt,Jt(i),i,t)}function kz(i,t,s,l,f,d){return Dt.offset(Vt,Jt(i),i,t,s,l,f,d)}function Fz(i,t,s,l=!1){return Dt.buffer(Vt,Jt(i),i,t,s,l)}function zz(i,t,s,l,f,d){return Dt.geodesicBuffer(Vt,Jt(i),i,t,s,l,f,d)}function Uz(i,t,s=!0){return Dt.nearestCoordinate(Vt,Jt(i),i,t,s)}function $z(i,t){return Dt.nearestVertex(Vt,Jt(i),i,t)}function Gz(i,t,s,l){return Dt.nearestVertices(Vt,Jt(i),i,t,s,l)}function n3(i){var t;return"xmin"in i?"center"in i?i.center:null:"x"in i?i:"extent"in i?((t=i.extent)==null?void 0:t.center)??null:null}function Vz(i,t,s){if(i==null)throw new xl;const l=i.spatialReference;if(s=s??n3(i),s==null)throw new xl;const f=i.constructor.fromJSON(Dt.rotate(i,t,s));return f.spatialReference=l,f}function Bz(i,t){if(i==null)throw new xl;const s=i.spatialReference;if(t=t??n3(i),t==null)throw new xl;const l=i.constructor.fromJSON(Dt.flipHorizontal(i,t));return l.spatialReference=s,l}function Hz(i,t){if(i==null)throw new xl;const s=i.spatialReference;if(t=t??n3(i),t==null)throw new xl;const l=i.constructor.fromJSON(Dt.flipVertical(i,t));return l.spatialReference=s,l}function Wz(i,t,s,l){return Dt.generalize(Vt,Jt(i),i,t,s,l)}function Jz(i,t,s){return Dt.densify(Vt,Jt(i),i,t,s)}function Kz(i,t,s,l=0){return Dt.geodesicDensify(Vt,Jt(i),i,t,s,l)}function Yz(i,t){return Dt.planarArea(Vt,Jt(i),i,t)}function qz(i,t){return Dt.planarLength(Vt,Jt(i),i,t)}function Zz(i,t,s){return Dt.geodesicArea(Vt,Jt(i),i,t,s)}function B8(i,t,s){return Dt.geodesicLength(Vt,Jt(i),i,t,s)}function Xz(i,t){return Dt.intersectLinesToPoints(Vt,Jt(i),i,t)}function Qz(i,t){Dt.changeDefaultSpatialReferenceTolerance(i,t)}function tU(i){Dt.clearDefaultSpatialReferenceTolerance(i)}class xl extends Error{constructor(){super("Illegal Argument Exception")}}const gK=Object.freeze(Object.defineProperty({__proto__:null,buffer:Fz,changeDefaultSpatialReferenceTolerance:Qz,clearDefaultSpatialReferenceTolerance:tU,clip:wz,contains:_z,convexHull:Nz,crosses:Sz,cut:gz,densify:Jz,difference:Lz,disjoint:Az,distance:bz,equals:Tz,extendedSpatialReferenceInfo:vz,flipHorizontal:Bz,flipVertical:Hz,generalize:Wz,geodesicArea:Zz,geodesicBuffer:zz,geodesicDensify:Kz,geodesicLength:B8,intersect:Dz,intersectLinesToPoints:Xz,intersects:Ez,isSimple:Cz,nearestCoordinate:Uz,nearestVertex:$z,nearestVertices:Gz,offset:kz,overlaps:Pz,planarArea:Yz,planarLength:qz,relate:Iz,rotate:Vz,simplify:Oz,symmetricDifference:Rz,touches:xz,union:jz,within:Mz},Symbol.toStringTag,{value:"Module"})),eU=(i,t)=>B8({paths:[[[i.coords.latitude,i.coords.longitude],[t.coords.latitude,t.coords.longitude]]],spatialReference:{wkid:4326}},"meters"),iU=(i,t)=>i/t,rU=i=>{const t=i.reduce((l,f)=>l+f)/i.length,s=i.pop();return!i.some(l=>Math.abs(s-l)<=t)},sU=({currentPosition:i,lastPosition:t,speeds:s})=>{if(!t)return!1;s.length>=5&&s.shift();const d=iU(Math.ceil(eU(i,t)),i.timestamp-t.timestamp);return isNaN(d)||(s.push(d),s.length<2)?!1:rU(s)},nU=15e3,oU="esri.widgets.Track.TrackViewModel";let ir=class extends nz{constructor(t){super(t),this._watchId=void 0,this._trackStartingTimeoutId=void 0,this._settingPosition=null,this._lastFilterPosition=null,this._speeds=[],this.defaultPositionFilterFunction=({currentPosition:s,lastPosition:l})=>!sU({currentPosition:s,lastPosition:l,speeds:this._speeds}),this.positionFilterFunction=this.defaultPositionFilterFunction}destroy(){this._stopTracking()}get state(){return this._geolocationUsable?this.view&&!this.view.ready?"disabled":this._settingPosition||this._trackStartingTimeoutId!==void 0?"waiting":this.tracking?"tracking":"ready":"feature-unsupported"}get tracking(){return this._watchId!==void 0}start(){this.state==="disabled"||this.state==="feature-unsupported"||this._startTracking()}stop(){this.state==="disabled"||this.state==="feature-unsupported"||this._stopTracking()}_stopWatchingPosition(){this._watchId!==void 0&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=void 0)}_stopTracking(){this._clearWaitingTimer(),this._stopWatchingPosition(),this._clear(),this._speeds=[],this._lastFilterPosition=null}_startTracking(){this._stopTracking();const t=async s=>{const{_lastFilterPosition:l}=this,{timestamp:f,coords:d}=s,v={latitude:d.latitude,longitude:d.longitude},w={timestamp:f,coords:v};try{if(typeof this.positionFilterFunction=="function"&&!this.positionFilterFunction.call(null,{currentPosition:w,lastPosition:l}))return;this._lastFilterPosition=w,await this._setPosition(s),this._clearWaitingTimer();const{view:T,graphic:M}=this;if(T&&T.graphics.remove(M),M){const I=M.clone();this.graphic=I,T&&T.graphics.push(I)}this.emit("track",{position:s})}catch(T){throw this._emitError(T),this._clearWaitingTimer(),T}};this._watchId=navigator.geolocation.watchPosition(s=>{this._settingPosition=t(s)},this._handleWatchPositionError.bind(this),this.geolocationOptions??void 0),this._trackStartingTimeoutId=setTimeout(()=>{this._trackStartingTimeoutId=void 0},nU)}_handleWatchPositionError(t){this._emitError(t),this._stopTracking()}_clearWaitingTimer(){clearTimeout(this._trackStartingTimeoutId),this._trackStartingTimeoutId=void 0,this._settingPosition=null}_emitError(t){this.emit("track-error",{error:t})}};E([A()],ir.prototype,"_watchId",void 0);E([A()],ir.prototype,"_trackStartingTimeoutId",void 0);E([A()],ir.prototype,"_settingPosition",void 0);E([A({readOnly:!0})],ir.prototype,"defaultPositionFilterFunction",void 0);E([A()],ir.prototype,"positionFilterFunction",void 0);E([A({readOnly:!0})],ir.prototype,"state",null);E([A({readOnly:!0})],ir.prototype,"tracking",null);E([A()],ir.prototype,"start",null);E([A()],ir.prototype,"stop",null);ir=E([q(oU)],ir);const H8=ir,Dr={base:"esri-track esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-icon",loading:"esri-icon-loading-indicator",rotating:"esri-rotating",startTrackingIcon:"esri-icon-tracking",stopTrackingIcon:"esri-icon-pause",widgetIcon:"esri-icon-tracking",disabled:"esri-disabled",hidden:"esri-hidden"},W8="esri.widgets.Track",Gg=ct.getLogger(W8);let si=class extends $l{constructor(t,s){super(t,s),this.iconClass=Dr.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new H8}get geolocationOptions(){return this.viewModel.geolocationOptions}set geolocationOptions(t){this.viewModel.geolocationOptions=t}get goToLocationEnabled(){return this.viewModel.goToLocationEnabled}set goToLocationEnabled(t){this.viewModel.goToLocationEnabled=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get rotationDisabled(){return this.viewModel.rotationDisabled}set rotationDisabled(t){this.viewModel.rotationDisabled=t}get scale(){return this.viewModel.scale}set scale(t){this.viewModel.scale=t}get tracking(){return this.viewModel.tracking}get useHeadingEnabled(){return R3(Gg,"useHeadingEnabled",{replacement:"rotationDisabled",version:"4.27",warnOnce:!0}),!this.viewModel.rotationDisabled}set useHeadingEnabled(t){R3(Gg,"useHeadingEnabled",{replacement:"rotationDisabled",version:"4.27",warnOnce:!0}),this.viewModel.rotationDisabled=!t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}start(){this.viewModel.start()}stop(){this.viewModel.stop()}render(){const t=this.get("viewModel.state"),s={[Dr.disabled]:t==="disabled",[Dr.hidden]:t==="feature-unsupported"},l=t==="tracking",f={[Dr.startTrackingIcon]:!l&&t!=="waiting",[Dr.stopTrackingIcon]:l,[Dr.rotating]:t==="waiting",[Dr.loading]:t==="waiting"},{messages:d}=this,v=(l?d==null?void 0:d.stopTracking:d==null?void 0:d.startTracking)??"";return He("div",{bind:this,class:this.classes(Dr.base,s),hidden:t==="feature-unsupported",onclick:this._toggleTracking,onkeydown:this._toggleTracking,role:"button",tabIndex:0,"aria-label":v,title:v},He("span",{"aria-hidden":"true",class:this.classes(Dr.icon,f)}),He("span",{class:Dr.text},v))}_toggleTracking(){const t=this.viewModel;if(!(!t||t.state==="feature-unsupported"||t.state==="disabled")){if(t.state==="tracking"||t.state==="waiting"){this.viewModel.stop();return}this.viewModel.start()}}};E([A()],si.prototype,"geolocationOptions",null);E([A()],si.prototype,"goToLocationEnabled",null);E([A()],si.prototype,"goToOverride",null);E([A()],si.prototype,"graphic",null);E([A()],si.prototype,"iconClass",void 0);E([A()],si.prototype,"icon",void 0);E([A()],si.prototype,"label",null);E([A(),nc("esri/widgets/Track/t9n/Track")],si.prototype,"messages",void 0);E([A()],si.prototype,"rotationDisabled",null);E([A()],si.prototype,"scale",null);E([A({readOnly:!0})],si.prototype,"tracking",null);E([A()],si.prototype,"useHeadingEnabled",null);E([A()],si.prototype,"view",null);E([A({type:H8}),zF(["track","track-error"])],si.prototype,"viewModel",void 0);E([sc()],si.prototype,"_toggleTracking",null);si=E([q(W8)],si);const aU=si;console.log("Version",$u);const J8=document.getElementById("geolocationDiv"),lU=new T4({basemap:"topo-vector"}),x1=new kF({container:"viewDiv",map:lU,zoom:4,center:[15,65]}),Ml=new aU({view:x1,geolocationOptions:{maximumAge:0,timeout:15e3,enableHighAccuracy:!0}});Ml.viewModel.positionFilterFunction=!0;x1.ui.add(Ml,"top-left");x1.ui.add(J8,"top-right");Ml.on("track",i=>{var t,s,l,f,d,v;console.log("Track:",i),J8.innerText=`
  Latitude: ${(t=i.position.coords.latitude)==null?void 0:t.toFixed(4)}
  Longitude: ${(s=i.position.coords.longitude)==null?void 0:s.toFixed(4)}
  Altitude: ${(l=i.position.coords.altitude)==null?void 0:l.toFixed(1)}
  Heading: ${(f=i.position.coords.heading)==null?void 0:f.toFixed(0)}
  Speed: ${(d=i.position.coords.speed)==null?void 0:d.toFixed(2)}
  Accuracy: ${(v=i.position.coords.accuracy)==null?void 0:v.toFixed(0)}m
  Position Filter: ${Ml.viewModel.positionFilterFunction}
  Version: ${$u}`});Ml.on("track-error",i=>{console.error("Geolocation error:",i)});x1.when(()=>{Ml.start()});export{QI as $,Ct as A,ei as B,Fe as C,Hr as D,mt as E,E2 as F,o$ as G,$s as H,ga as I,kt as J,Pt as K,ct as L,LU as M,LG as N,Wr as O,U5 as P,Cl as Q,kG as R,i1 as S,$7 as T,BH as U,Dl as V,NG as W,Zg as X,NU as Y,I9 as Z,pt as _,XS as a,HM as a$,a5 as a0,Vu as a1,Sa as a2,CM as a3,Yh as a4,u2 as a5,Kh as a6,Dx as a7,EV as a8,E4 as a9,yA as aA,En as aB,NA as aC,gr as aD,AH as aE,Dj as aF,YS as aG,q0 as aH,X0 as aI,H0 as aJ,EA as aK,Xn as aL,J2 as aM,b3 as aN,C9 as aO,qn as aP,kn as aQ,yo as aR,zA as aS,S3 as aT,tw as aU,Q2 as aV,UA as aW,I8 as aX,w6 as aY,gu as aZ,xh as a_,AA as aa,OA as ab,xV as ac,CA as ad,E as ae,A as af,_i as ag,vu as ah,q as ai,Et as aj,Zt as ak,nc as al,$l as am,wu as an,JJ as ao,He as ap,tW as aq,QH as ar,iO as as,eO as at,Lm as au,jA as av,N4 as aw,ae as ax,vU as ay,bb as az,Ol as b,$r as b$,R3 as b0,eW as b1,Sm as b2,zF as b3,sc as b4,Mu as b5,SD as b6,mJ as b7,vJ as b8,oi as b9,W2 as bA,br as bB,$O as bC,bt as bD,y2 as bE,ne as bF,se as bG,YG as bH,VF as bI,$F as bJ,ym as bK,Ue as bL,pG as bM,ni as bN,mi as bO,Ss as bP,R5 as bQ,ux as bR,dG as bS,Ki as bT,Te as bU,F7 as bV,Wt as bW,hD as bX,Tn as bY,W$ as bZ,Qx as b_,Si as ba,WA as bb,r5 as bc,No as bd,ZS as be,pe as bf,yf as bg,uo as bh,oD as bi,Nu as bj,rJ as bk,aD as bl,VW as bm,BR as bn,Ej as bo,tC as bp,nD as bq,eM as br,sa as bs,fe as bt,CE as bu,c5 as bv,GF as bw,Fh as bx,W5 as by,H2 as bz,bJ as c,VG as c$,S1 as c0,nB as c1,O7 as c2,MR as c3,N7 as c4,DR as c5,BW as c6,WR as c7,xf as c8,HW as c9,dV as cA,mV as cB,Bh as cC,s1 as cD,ht as cE,Ee as cF,ii as cG,R1 as cH,aJ as cI,Zn as cJ,U7 as cK,S2 as cL,r9 as cM,s9 as cN,wU as cO,Oi as cP,dM as cQ,zr as cR,EG as cS,AG as cT,G2 as cU,i4 as cV,mM as cW,Xp as cX,NM as cY,TM as cZ,xG as c_,Vh as ca,mU as cb,Nl as cc,S4 as cd,_M as ce,FG as cf,Af as cg,zG as ch,CG as ci,GG as cj,PM as ck,IM as cl,_4 as cm,v4 as cn,MG as co,g4 as cp,w4 as cq,Gf as cr,C0 as cs,PH as ct,_l as cu,rA as cv,cV as cw,wV as cx,pV as cy,yV as cz,uU as d,Rt as d$,IG as d0,rD as d1,ER as d2,zW as d3,ZW as d4,ys as d5,Ef as d6,Bm as d7,OG as d8,Jo as d9,FW as dA,bs as dB,gV as dC,lV as dD,wv as dE,PB as dF,dK as dG,BF as dH,dc as dI,of as dJ,_a as dK,zh as dL,IH as dM,mI as dN,H5 as dO,z$ as dP,Wx as dQ,F$ as dR,Jx as dS,bE as dT,f$ as dU,we as dV,Sh as dW,ze as dX,xb as dY,gG as dZ,Ds as d_,Gr as da,RG as db,oV as dc,w9 as dd,Bu as de,Ro as df,gM as dg,$a as dh,Eh as di,ti as dj,Kc as dk,Rv as dl,Ll as dm,h1 as dn,_H as dp,bH as dq,R$ as dr,kW as ds,As as dt,ji as du,Ju as dv,Sr as dw,yl as dx,pU as dy,dU as dz,dp as e,p$ as e$,Zu as e0,hi as e1,GL as e2,Sn as e3,s$ as e4,yn as e5,mH as e6,u1 as e7,pm as e8,um as e9,gH as eA,q5 as eB,KG as eC,Mi as eD,Co as eE,lj as eF,Uo as eG,zu as eH,Z5 as eI,SH as eJ,ki as eK,TH as eL,dr as eM,l1 as eN,CS as eO,OU as eP,Xt as eQ,yU as eR,oT as eS,cT as eT,_9 as eU,Op as eV,dT as eW,z4 as eX,o7 as eY,ue as eZ,j$ as e_,fm as ea,cm as eb,dm as ec,hm as ed,wH as ee,Yu as ef,$t as eg,L$ as eh,xs as ei,AW as ej,yH as ek,YU as el,B$ as em,Xi as en,$e as eo,xn as ep,e5 as eq,Pl as er,e1 as es,hV as et,PW as eu,Vm as ev,w7 as ew,uV as ex,mm as ey,H9 as ez,sJ as f,v$ as f$,d$ as f0,Rm as f1,OW as f2,NW as f3,CW as f4,vH as f5,GU as f6,$U as f7,C2 as f8,t$ as f9,gv as fA,BG as fB,SB as fC,IB as fD,VH as fE,aG as fF,QW as fG,eJ as fH,aa as fI,Al as fJ,_S as fK,cU as fL,xU as fM,EU as fN,SU as fO,DU as fP,a$ as fQ,pR as fR,n$ as fS,n9 as fT,tl as fU,Ja as fV,e$ as fW,AT as fX,t1 as fY,ku as fZ,Hi as f_,z5 as fa,UT as fb,ub as fc,oW as fd,rp as fe,ul as ff,IW as fg,B0 as fh,fV as fi,aV as fj,Hu as fk,G3 as fl,SI as fm,fU as fn,c$ as fo,vV as fp,ra as fq,zn as fr,Sy as fs,me as ft,_y as fu,Ty as fv,uf as fw,PI as fx,jU as fy,im as fz,iJ as g,bV as g$,IU as g0,fu as g1,ay as g2,nE as g3,Dt as g4,oE as g5,AB as g6,fP as g7,l7 as g8,Ip as g9,kH as gA,CH as gB,oG as gC,JH as gD,OH as gE,qu as gF,zH as gG,hG as gH,FH as gI,U$ as gJ,XW as gK,_$ as gL,h$ as gM,D2 as gN,k2 as gO,nJ as gP,oJ as gQ,LH as gR,hE as gS,S5 as gT,b5 as gU,uE as gV,Gu as gW,qU as gX,Vf as gY,jG as gZ,Es as g_,Qg as ga,UG as gb,HG as gc,A5 as gd,_5 as ge,_V as gf,y4 as gg,PG as gh,ax as gi,dx as gj,r1 as gk,b$ as gl,sj as gm,bU as gn,tM as go,J$ as gp,rG as gq,mG as gr,uG as gs,sG as gt,q$ as gu,iG as gv,Y$ as gw,fG as gx,SS as gy,K5 as gz,lD as h,tJ as h$,TV as h0,SV as h1,vG as h2,bh as h3,ZP as h4,qS as h5,uj as h6,TU as h7,lG as h8,gn as h9,dv as hA,$P as hB,AI as hC,Uh as hD,JM as hE,WM as hF,cM as hG,rv as hH,y$ as hI,Rb as hJ,HH as hK,V9 as hL,Wf as hM,lu as hN,Ni as hO,EP as hP,xP as hQ,DB as hR,CU as hS,rm as hT,bB as hU,_B as hV,d2 as hW,n_ as hX,DG as hY,$G as hZ,cv as h_,ov as ha,tG as hb,nG as hc,Q$ as hd,eG as he,g0 as hf,GW as hg,G$ as hh,hU as hi,HT as hj,N2 as hk,yS as hl,yi as hm,$8 as hn,WF as ho,Vs as hp,t4 as hq,cn as hr,TT as hs,$4 as ht,Y7 as hu,l5 as hv,a2 as hw,l2 as hx,nm as hy,Uu as hz,Gs as i,w$ as i$,$W as i0,UW as i1,K2 as i2,i$ as i3,Vr as i4,y5 as i5,i9 as i6,wr as i7,XU as i8,j3 as i9,LJ as iA,RJ as iB,DJ as iC,AJ as iD,$J as iE,FJ as iF,WJ as iG,CJ as iH,VJ as iI,GJ as iJ,kJ as iK,NJ as iL,HJ as iM,TB as iN,CB as iO,OB as iP,l$ as iQ,xJ as iR,$2 as iS,gU as iT,D$ as iU,kx as iV,nV as iW,WH as iX,I2 as iY,DH as iZ,V$ as i_,t6 as ia,H$ as ib,yG as ic,X$ as id,$$ as ie,Z$ as ig,LW as ih,QU as ii,T3 as ij,z as ik,u$ as il,IJ as im,OJ as io,PJ as ip,X7 as iq,BJ as ir,tk as is,zJ as it,eF as iu,MJ as iv,jJ as iw,UJ as ix,tF as iy,Xk as iz,rg as j,hJ as j0,uJ as j1,lJ as j2,cG as j3,e9 as j4,LE as j5,EB as j6,xB as j7,$H as j8,UH as j9,NH as ja,Tf as jb,MB as jc,AU as jd,PU as je,MU as jf,GT as jg,jH as jh,RH as ji,r$ as jj,wG as jk,KE as jl,gK as jm,CR as k,J5 as l,rt as m,mS as n,p2 as o,sB as p,_U as q,vi as r,K$ as s,Le as t,Qa as u,Yf as v,Me as w,SJ as x,be as y,Lh as z};
