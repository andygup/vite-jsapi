import{dt as o,eZ as f,r as i}from"./index-ffb342b4.js";function d(e,r){return e===null?r:new o({url:e.field("url")})}async function y(e,r,n){var a;if(!((a=f)==null?void 0:a.findCredential(e.restUrl)))return null;if(e.loadStatus==="loaded"&&r===""&&e.user&&e.user.sourceJSON&&n===!1)return e.user.sourceJSON;if(r===""){const s=await i(e.restUrl+"/community/self",{responseType:"json",query:{f:"json",...n===!1?{}:{returnUserLicenseTypeExtensions:!0}}});if(s.data){const t=s.data;if(t&&t.username)return t}return null}const u=await i(e.restUrl+"/community/users/"+r,{responseType:"json",query:{f:"json"}});if(u.data){const s=u.data;return s.error?null:s}return null}export{d as g,y as l};
