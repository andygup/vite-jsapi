import{bW as c,E as l,dt as s,hn as u,ho as f}from"./index-ffb342b4.js";async function m(e=null,i){var n,t;if(c.geometryServiceUrl)return c.geometryServiceUrl;if(!e)throw new l("internal:geometry-service-url-not-configured");let r;"portal"in e?r=e.portal||s.getDefault():r=e,await r.load({signal:i});const o=(t=(n=r.helperServices)==null?void 0:n.geometry)==null?void 0:t.url;if(!o)throw new l("internal:geometry-service-url-not-configured");return o}async function p(e,i,r=null,o){const n=await m(r,o),t=new u;t.geometries=[e],t.outSpatialReference=i;const a=await f(n,t,{signal:o});if(a&&Array.isArray(a)&&a.length===1)return a[0];throw new l("internal:geometry-service-projection-failed")}export{m as getGeometryServiceURL,p as projectGeometry};
