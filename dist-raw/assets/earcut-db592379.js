var V={},m={get exports(){return V},set exports(E){V=E}};(function(E){(function(w){{var F=w();F!==void 0&&(E.exports=F)}})(function(){function w(e,r,n){n=n||2;var u=r&&r.length,t=u?r[0]*n:e.length,x=F(e,0,t,n,!0),f=[];if(!x||x.next===x.prev)return f;var i,o,y,c,p,h,v;if(u&&(x=U(e,r,x,n)),e.length>80*n){i=y=e[0],o=c=e[1];for(var l=n;l<t;l+=n)p=e[l],h=e[l+1],p<i&&(i=p),h<o&&(o=h),p>y&&(y=p),h>c&&(c=h);v=Math.max(y-i,c-o),v=v!==0?1/v:0}return M(x,f,n,i,o,v),f}function F(e,r,n,u,t){var x,f;if(t===R(e,r,n,u)>0)for(x=r;x<n;x+=u)f=D(x,e[x],e[x+1],f);else for(x=n-u;x>=r;x-=u)f=D(x,e[x],e[x+1],f);if(f&&H(f,f.next)){var i=f.next;k(f),f=i}return f}function Z(e,r){if(!e)return e;r||(r=e);var n=e,u;do if(u=!1,!n.steiner&&(H(n,n.next)||s(n.prev,n,n.next)===0)){var t=n.prev;if(k(n),n=r=t,n===n.next)break;u=!0}else n=n.next;while(u||n!==r);return r}function M(e,r,n,u,t,x,f){if(e){!f&&x&&S(e,u,t,x);for(var i=e,o,y;e.prev!==e.next;){if(o=e.prev,y=e.next,x?J(e,u,t,x):G(e)){r.push(o.i/n),r.push(e.i/n),r.push(y.i/n),k(e),e=y.next,i=y.next;continue}if(e=y,e===i){f?f===1?(e=K(Z(e),r,n),M(e,r,n,u,t,x,2)):f===2&&Q(e,r,n,u,t,x):M(Z(e),r,n,u,t,x,1);break}}}}function G(e){var r=e.prev,n=e,u=e.next;if(s(r,n,u)>=0)return!1;for(var t=e.next.next;t!==e.prev;){if(g(r.x,r.y,n.x,n.y,u.x,u.y,t.x,t.y)&&s(t.prev,t,t.next)>=0)return!1;t=t.next}return!0}function J(e,r,n,u){var t=e.prev,x=e,f=e.next;if(s(t,x,f)>=0)return!1;for(var i=t.x<x.x?t.x<f.x?t.x:f.x:x.x<f.x?x.x:f.x,o=t.y<x.y?t.y<f.y?t.y:f.y:x.y<f.y?x.y:f.y,y=t.x>x.x?t.x>f.x?t.x:f.x:x.x>f.x?x.x:f.x,c=t.y>x.y?t.y>f.y?t.y:f.y:x.y>f.y?x.y:f.y,p=B(i,o,r,n,u),h=B(y,c,r,n,u),v=e.prevZ,l=e.nextZ;v&&v.z>=p&&l&&l.z<=h;){if(v!==e.prev&&v!==e.next&&g(t.x,t.y,x.x,x.y,f.x,f.y,v.x,v.y)&&s(v.prev,v,v.next)>=0||(v=v.prevZ,l!==e.prev&&l!==e.next&&g(t.x,t.y,x.x,x.y,f.x,f.y,l.x,l.y)&&s(l.prev,l,l.next)>=0))return!1;l=l.nextZ}for(;v&&v.z>=p;){if(v!==e.prev&&v!==e.next&&g(t.x,t.y,x.x,x.y,f.x,f.y,v.x,v.y)&&s(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;l&&l.z<=h;){if(l!==e.prev&&l!==e.next&&g(t.x,t.y,x.x,x.y,f.x,f.y,l.x,l.y)&&s(l.prev,l,l.next)>=0)return!1;l=l.nextZ}return!0}function K(e,r,n){var u=e;do{var t=u.prev,x=u.next.next;!H(t,x)&&C(t,u,u.next,x)&&L(t,x)&&L(x,t)&&(r.push(t.i/n),r.push(u.i/n),r.push(x.i/n),k(u),k(u.next),u=e=x),u=u.next}while(u!==e);return Z(u)}function Q(e,r,n,u,t,x){var f=e;do{for(var i=f.next.next;i!==f.prev;){if(f.i!==i.i&&j(f,i)){var o=O(f,i);f=Z(f,f.next),o=Z(o,o.next),M(f,r,n,u,t,x),M(o,r,n,u,t,x);return}i=i.next}f=f.next}while(f!==e)}function U(e,r,n,u){var t=[],x,f,i,o,y;for(x=0,f=r.length;x<f;x++)i=r[x]*u,o=x<f-1?r[x+1]*u:e.length,y=F(e,i,o,u,!1),y===y.next&&(y.steiner=!0),t.push(I(y));for(t.sort(W),x=0;x<t.length;x++)n=_(t[x],n),n=Z(n,n.next);return n}function W(e,r){return e.x-r.x}function A(e){if(e.next.prev===e)return e;let r=e;do{const n=r.next;if(n.prev===r||n===r||n===e)break;r=n}while(!0);return r}function _(e,r){var n=$(e,r);if(!n)return r;var u=O(n,e),t=Z(n,n.next);let x=A(u);return Z(x,x.next),t=A(t),A(r===n?t:r)}function $(e,r){var n=r,u=e.x,t=e.y,x=-1/0,f;do{if(t<=n.y&&t>=n.next.y&&n.next.y!==n.y){var i=n.x+(t-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(i<=u&&i>x){if(x=i,i===u){if(t===n.y)return n;if(t===n.next.y)return n.next}f=n.x<n.next.x?n:n.next}}n=n.next}while(n!==r);if(!f)return null;if(u===x)return f;var o=f,y=f.x,c=f.y,p=1/0,h;n=f;do u>=n.x&&n.x>=y&&u!==n.x&&g(t<c?u:x,t,y,c,t<c?x:u,t,n.x,n.y)&&(h=Math.abs(t-n.y)/(u-n.x),L(n,e)&&(h<p||h===p&&(n.x>f.x||n.x===f.x&&X(f,n)))&&(f=n,p=h)),n=n.next;while(n!==o);return f}function X(e,r){return s(e.prev,e,r.prev)<0&&s(r.next,e,e.next)<0}function S(e,r,n,u){var t=e;do t.z===null&&(t.z=B(t.x,t.y,r,n,u)),t.prevZ=t.prev,t.nextZ=t.next,t=t.next;while(t!==e);t.prevZ.nextZ=null,t.prevZ=null,Y(t)}function Y(e){var r,n,u,t,x,f,i,o,y=1;do{for(n=e,e=null,x=null,f=0;n;){for(f++,u=n,i=0,r=0;r<y&&(i++,u=u.nextZ,!!u);r++);for(o=y;i>0||o>0&&u;)i!==0&&(o===0||!u||n.z<=u.z)?(t=n,n=n.nextZ,i--):(t=u,u=u.nextZ,o--),x?x.nextZ=t:e=t,t.prevZ=x,x=t;n=u}x.nextZ=null,y*=2}while(f>1);return e}function B(e,r,n,u,t){return e=32767*(e-n)*t,r=32767*(r-u)*t,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1}function I(e){var r=e,n=e;do(r.x<n.x||r.x===n.x&&r.y<n.y)&&(n=r),r=r.next;while(r!==e);return n}function g(e,r,n,u,t,x,f,i){return(t-f)*(r-i)-(e-f)*(x-i)>=0&&(e-f)*(u-i)-(n-f)*(r-i)>=0&&(n-f)*(x-i)-(t-f)*(u-i)>=0}function j(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!N(e,r)&&(L(e,r)&&L(r,e)&&q(e,r)&&(s(e.prev,e,r.prev)||s(e,r.prev,r))||H(e,r)&&s(e.prev,e,e.next)>0&&s(r.prev,r,r.next)>0)}function s(e,r,n){return(r.y-e.y)*(n.x-r.x)-(r.x-e.x)*(n.y-r.y)}function H(e,r){return e.x===r.x&&e.y===r.y}function C(e,r,n,u){var t=T(s(e,r,n)),x=T(s(e,r,u)),f=T(s(n,u,e)),i=T(s(n,u,r));return!!(t!==x&&f!==i||t===0&&z(e,n,r)||x===0&&z(e,u,r)||f===0&&z(n,e,u)||i===0&&z(n,r,u))}function z(e,r,n){return r.x<=Math.max(e.x,n.x)&&r.x>=Math.min(e.x,n.x)&&r.y<=Math.max(e.y,n.y)&&r.y>=Math.min(e.y,n.y)}function T(e){return e>0?1:e<0?-1:0}function N(e,r){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==r.i&&n.next.i!==r.i&&C(n,n.next,e,r))return!0;n=n.next}while(n!==e);return!1}function L(e,r){return s(e.prev,e,e.next)<0?s(e,r,e.next)>=0&&s(e,e.prev,r)>=0:s(e,r,e.prev)<0||s(e,e.next,r)<0}function q(e,r){var n=e,u=!1,t=(e.x+r.x)/2,x=(e.y+r.y)/2;do n.y>x!=n.next.y>x&&n.next.y!==n.y&&t<(n.next.x-n.x)*(x-n.y)/(n.next.y-n.y)+n.x&&(u=!u),n=n.next;while(n!==e);return u}function O(e,r){var n=new P(e.i,e.x,e.y),u=new P(r.i,r.x,r.y),t=e.next,x=r.prev;return e.next=r,r.prev=e,n.next=t,t.prev=n,u.next=n,n.prev=u,x.next=u,u.prev=x,u}function D(e,r,n,u){var t=new P(e,r,n);return u?(t.next=u.next,t.prev=u,u.next.prev=t,u.next=t):(t.prev=t,t.next=t),t}function k(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function P(e,r,n){this.i=e,this.x=r,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}w.deviation=function(e,r,n,u){var t=r&&r.length,x=t?r[0]*n:e.length,f=Math.abs(R(e,0,x,n));if(t)for(var i=0,o=r.length;i<o;i++){var y=r[i]*n,c=i<o-1?r[i+1]*n:e.length;f-=Math.abs(R(e,y,c,n))}var p=0;for(i=0;i<u.length;i+=3){var h=u[i]*n,v=u[i+1]*n,l=u[i+2]*n;p+=Math.abs((e[h]-e[l])*(e[v+1]-e[h+1])-(e[h]-e[v])*(e[l+1]-e[h+1]))}return f===0&&p===0?0:Math.abs((p-f)/f)};function R(e,r,n,u){for(var t=0,x=r,f=n-u;x<n;x+=u)t+=(e[f]-e[x])*(e[x+1]+e[f+1]),f=x;return t}return w.flatten=function(e){for(var r=e[0][0].length,n={vertices:[],holes:[],dimensions:r},u=0,t=0;t<e.length;t++){for(var x=0;x<e[t].length;x++)for(var f=0;f<r;f++)n.vertices.push(e[t][x][f]);t>0&&(u+=e[t-1].length,n.holes.push(u))}return n},w})})(m);export{V as e};
